var oA=Object.defineProperty,sA=Object.defineProperties,aA=Object.getOwnPropertyDescriptors,dw=Object.getOwnPropertySymbols,lA=Object.prototype.hasOwnProperty,cA=Object.prototype.propertyIsEnumerable,hw=(Te,z,w)=>z in Te?oA(Te,z,{enumerable:!0,configurable:!0,writable:!0,value:w}):Te[z]=w,Ft=(Te,z)=>{for(var w in z||(z={}))lA.call(z,w)&&hw(Te,w,z[w]);if(dw)for(var w of dw(z))cA.call(z,w)&&hw(Te,w,z[w]);return Te},sl=(Te,z)=>sA(Te,aA(z));(self.webpackChunkelk_web_client=self.webpackChunkelk_web_client||[]).push([[736],{5631:(Te,z)=>{function w(W){if(W)return function(W){for(var E in w.prototype)W[E]=w.prototype[E];return W}(W)}z.Q=w,w.prototype.on=w.prototype.addEventListener=function(W,E){return this._callbacks=this._callbacks||{},(this._callbacks["$"+W]=this._callbacks["$"+W]||[]).push(E),this},w.prototype.once=function(W,E){function B(){this.off(W,B),E.apply(this,arguments)}return B.fn=E,this.on(W,B),this},w.prototype.off=w.prototype.removeListener=w.prototype.removeAllListeners=w.prototype.removeEventListener=function(W,E){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var B=this._callbacks["$"+W];if(!B)return this;if(1==arguments.length)return delete this._callbacks["$"+W],this;for(var r,F=0;F<B.length;F++)if((r=B[F])===E||r.fn===E){B.splice(F,1);break}return 0===B.length&&delete this._callbacks["$"+W],this},w.prototype.emitReserved=w.prototype.emit=function(W){this._callbacks=this._callbacks||{};for(var E=new Array(arguments.length-1),B=this._callbacks["$"+W],r=1;r<arguments.length;r++)E[r-1]=arguments[r];if(B){r=0;for(var F=(B=B.slice(0)).length;r<F;++r)B[r].apply(this,E)}return this},w.prototype.listeners=function(W){return this._callbacks=this._callbacks||{},this._callbacks["$"+W]||[]},w.prototype.hasListeners=function(W){return!!this.listeners(W).length}},293:(Te,z)=>{"use strict";function H(a){return null==a||""===a?null:a}function W(a,t){return void 0===t&&(t=!1),null!=a&&(""!==a||t)}function E(a){return!W(a)}function B(a){return null==a||0===a.length}function r(a){return null!=a&&"function"==typeof a.toString?a.toString():null}function F(a){if(void 0!==a){if(null===a||""===a)return null;if("number"==typeof a)return isNaN(a)?void 0:a;var t=parseInt(a,10);return isNaN(t)?void 0:t}}function R(a){if(void 0!==a)return null!==a&&""!==a&&("boolean"==typeof a?a:/true/i.test(a))}function C(a){if(a instanceof Set||a instanceof Map){var t=[];return a.forEach(function(e){return t.push(e)}),t}return Object.values(a)}var S=Object.freeze({makeNull:H,exists:W,missing:E,missingOrEmpty:B,toStringOrNull:r,attrToNumber:F,attrToBoolean:R,attrToString:function(a){if(null!=a&&""!==a)return a},referenceCompare:function(a,t){return null==a&&null==t||!(null==a&&null!=t||null!=a&&null==t)&&a===t},jsonEquals:function(a,t){return(a?JSON.stringify(a):null)===(t?JSON.stringify(t):null)},defaultComparator:function(a,t,e){void 0===e&&(e=!1);var i=null==a,n=null==t;if(a&&a.toNumber&&(a=a.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&n)return 0;if(i)return-1;if(n)return 1;function s(d,h){return d>h?1:d<h?-1:0}if("string"!=typeof a||!e)return s(a,t);try{return a.localeCompare(t)}catch(d){return s(a,t)}},values:C}),g=function(){function a(){this.existingKeys={}}return a.prototype.addExistingKeys=function(t){for(var e=0;e<t.length;e++)this.existingKeys[t[e]]=!0},a.prototype.getUniqueKey=function(t,e){t=r(t);for(var i=0;;){var n=void 0;if(t?(n=t,0!==i&&(n+="_"+i)):e?(n=e,0!==i&&(n+="_"+i)):n=""+i,!this.existingKeys[n])return this.existingKeys[n]=!0,n;i++}},a}();function v(a,t){null!=a&&(Array.isArray(a)?a.forEach(function(e,i){return t(""+i,e)}):Object.keys(a).forEach(function(e){return t(e,a[e])}))}function A(a){for(var t={},e=Object.keys(a),i=0;i<e.length;i++){var n=e[i];t[n]=a[n]}return t}function M(a,t){if(a){var e=a,i={};return Object.keys(e).forEach(function(n){if(!(t&&t.indexOf(n)>=0)){var s=e[n],d=_e(s)&&s.constructor===Object;i[n]=d?M(s):s}}),i}}function T(a,t){return a[t]}function N(a,t,e){a[t]=e}function I(a,t,e,i){var n=T(a,e);void 0!==n&&N(t,e,i?i(n):n)}function k(a){var t={};return a.filter(function(e){return null!=e}).forEach(function(e){Object.keys(e).forEach(function(i){return t[i]=null})}),Object.keys(t)}function $(a){if(!a)return[];var t=Object;if("function"==typeof t.values)return t.values(a);var e=[];for(var i in a)a.hasOwnProperty(i)&&a.propertyIsEnumerable(i)&&e.push(a[i]);return e}function P(a,t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),W(t)&&v(t,function(n,s){var d=a[n];d!==s&&(i&&null==d&&null!=s&&"object"==typeof s&&s.constructor===Object&&(a[n]=d={}),_e(s)&&_e(d)&&!Array.isArray(d)?P(d,s,e,i):(e||void 0!==s)&&(a[n]=s))})}function ee(a,t,e){if(t&&a){if(!e)return a[t];for(var i=t.split("."),n=a,s=0;s<i.length;s++){if(null==n)return;n=n[i[s]]}return n}}function ce(a,t){Object.keys(a).forEach(function(n){"object"==typeof a[n]&&(a[n]=void 0)});var e=Object.getPrototypeOf(a),i={};Object.keys(e).forEach(function(n){"function"==typeof e[n]&&(i[n]={value:function(){console.warn("AG Grid: "+t+" function "+n+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(a,i)}function _e(a){return"object"==typeof a&&null!==a}var xe=Object.freeze({iterateObject:v,cloneObject:A,deepCloneObject:function(a){return JSON.parse(JSON.stringify(a))},deepCloneDefinition:M,getProperty:T,setProperty:N,copyPropertiesIfPresent:function(a,t){for(var e=[],i=2;i<arguments.length;i++)e[i-2]=arguments[i];e.forEach(function(n){return I(a,t,n)})},copyPropertyIfPresent:I,getAllKeysInObjects:k,getAllValuesInObject:$,mergeDeep:P,missingOrEmptyObject:function(a){return E(a)||0===Object.keys(a).length},get:function(a,t,e){if(null==a)return e;for(var i=t.split("."),n=a;i.length>1;)if(null==(n=n[i.shift()]))return e;var s=n[i[0]];return null!=s?s:e},set:function(a,t,e){if(null!=a){for(var i=t.split("."),n=a;i.length>1;)if(null==(n=n[i.shift()]))return;n[i[0]]=e}},deepFreeze:function ie(a){return Object.freeze(a),C(a).forEach(function(t){(_e(t)||"function"==typeof t)&&ie(t)}),a},getValueUsingField:ee,removeAllReferences:ce,isNonNullObject:_e}),we=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Se=/([^\s,]+)/g,le={};function ye(a,t){le[t]||(a(),le[t]=!0)}function Ce(a){if(a.name)return a.name;var t=/function\s+([^\(]+)/.exec(a.toString());return t&&2===t.length?t[1].trim():null}function se(a){return!!(a&&a.constructor&&a.call&&a.apply)}function de(a){he(a,400)}var fe=[],Re=!1;function te(a){fe.push(a),!Re&&(Re=!0,window.setTimeout(function(){var t=fe.slice();fe.length=0,Re=!1,t.forEach(function(e){return e()})},0))}function he(a,t){void 0===t&&(t=0),a.length>0&&window.setTimeout(function(){return a.forEach(function(e){return e()})},t)}function Fe(a,t,e){var i;return void 0===e&&(e=!1),function(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var d=this,h=e&&!i;window.clearTimeout(i),i=window.setTimeout(function(){i=null,e||a.apply(d,n)},t),h&&a.apply(d,n)}}function Ie(a,t,e,i){void 0===e&&(e=100);var n=(new Date).getTime(),s=null,d=!1,h=function(){var O=(new Date).getTime()-n>e;(a()||O)&&(t(),d=!0,null!=s&&(window.clearInterval(s),s=null),O&&i&&console.warn(i))};h(),d||(s=window.setInterval(h,10))}function Ne(a){a&&a()}var De=Object.freeze({doOnce:ye,getFunctionName:Ce,getFunctionParameters:function(a){var t=a.toString().replace(we,"");return t.slice(t.indexOf("(")+1,t.indexOf(")")).match(Se)||[]},isFunction:se,executeInAWhile:de,executeNextVMTurn:te,executeAfter:he,debounce:Fe,waitUntil:Ie,compose:function(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];return function(e){return a.reduce(function(i,n){return n(i)},e)}},callIfPresent:Ne}),ke=function(){function a(t,e){if(this.beanWrappers={},this.destroyed=!1,t&&t.beanClasses){this.contextParams=t,this.logger=e,this.logger.log(">> creating ag-Application Context"),this.createBeans();var i=this.getBeanInstances();this.wireBeans(i),this.logger.log(">> ag-Application Context ready - component is alive")}}return a.prototype.getBeanInstances=function(){return C(this.beanWrappers).map(function(t){return t.beanInstance})},a.prototype.createBean=function(t,e){if(!t)throw Error("Can't wire to bean since it is null");return this.wireBeans([t],e),t},a.prototype.wireBeans=function(t,e){this.autoWireBeans(t),this.methodWireBeans(t),this.callLifeCycleMethods(t,"preConstructMethods"),W(e)&&t.forEach(e),this.callLifeCycleMethods(t,"postConstructMethods")},a.prototype.createBeans=function(){var t=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),v(this.beanWrappers,function(i,n){var s;n.bean.__agBeanMetaData&&n.bean.__agBeanMetaData.autowireMethods&&n.bean.__agBeanMetaData.autowireMethods.agConstructor&&(s=n.bean.__agBeanMetaData.autowireMethods.agConstructor);var d=t.getBeansForParameters(s,n.bean.name),h=function(a,t){var e=[null].concat(t);return new(a.bind.apply(a,e))}(n.bean,d);n.beanInstance=h});var e=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+e)},a.prototype.createBeanWrapper=function(t){var e=t.__agBeanMetaData;if(!e){var i;return i=t.prototype.constructor?Ce(t.prototype.constructor):""+t,void console.error("Context item "+i+" is not a bean")}this.beanWrappers[e.beanName]={bean:t,beanInstance:null,beanName:e.beanName}},a.prototype.autoWireBeans=function(t){var e=this;t.forEach(function(i){e.forEachMetaDataInHierarchy(i,function(n,s){var d=n.agClassAttributes;!d||d.forEach(function(h){var O=e.lookupBeanInstance(s,h.beanName,h.optional);i[h.attributeName]=O})})})},a.prototype.methodWireBeans=function(t){var e=this;t.forEach(function(i){e.forEachMetaDataInHierarchy(i,function(n,s){v(n.autowireMethods,function(d,h){if("agConstructor"!==d){var O=e.getBeansForParameters(h,s);i[d].apply(i,O)}})})})},a.prototype.forEachMetaDataInHierarchy=function(t,e){for(var i=Object.getPrototypeOf(t);null!=i;){var n=i.constructor;n.hasOwnProperty("__agBeanMetaData")&&e(n.__agBeanMetaData,this.getBeanName(n)),i=Object.getPrototypeOf(i)}},a.prototype.getBeanName=function(t){if(t.__agBeanMetaData&&t.__agBeanMetaData.beanName)return t.__agBeanMetaData.beanName;var e=t.toString();return e.substring(9,e.indexOf("("))},a.prototype.getBeansForParameters=function(t,e){var i=this,n=[];return t&&v(t,function(s,d){var h=i.lookupBeanInstance(e,d);n[Number(s)]=h}),n},a.prototype.lookupBeanInstance=function(t,e,i){if(void 0===i&&(i=!1),"context"===e)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(e))return this.contextParams.providedBeanInstances[e];var n=this.beanWrappers[e];return n?n.beanInstance:(i||console.error("AG Grid: unable to find bean reference "+e+" while initialising "+t),null)},a.prototype.callLifeCycleMethods=function(t,e){var i=this;t.forEach(function(n){return i.callLifeCycleMethodsOnBean(n,e)})},a.prototype.callLifeCycleMethodsOnBean=function(t,e,i){var n={};this.forEachMetaDataInHierarchy(t,function(d){var h=d[e];h&&h.forEach(function(O){O!=i&&(n[O]=!0)})}),Object.keys(n).forEach(function(d){return t[d]()})},a.prototype.getBean=function(t){return this.lookupBeanInstance("getBean",t,!0)},a.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var t=this.getBeanInstances();this.destroyBeans(t),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},a.prototype.destroyBean=function(t){!t||this.destroyBeans([t])},a.prototype.destroyBeans=function(t){var e=this;return t?(t.forEach(function(i){e.callLifeCycleMethodsOnBean(i,"preDestroyMethods","destroy"),"function"==typeof i.destroy&&i.destroy()}),[]):[]},a}();function rt(a,t,e){var i=ne(a.constructor);i.preConstructMethods||(i.preConstructMethods=[]),i.preConstructMethods.push(t)}function be(a,t,e){var i=ne(a.constructor);i.postConstructMethods||(i.postConstructMethods=[]),i.postConstructMethods.push(t)}function Xe(a,t,e){var i=ne(a.constructor);i.preDestroyMethods||(i.preDestroyMethods=[]),i.preDestroyMethods.push(t)}function je(a){return function(t){ne(t).beanName=a}}function Q(a){return function(t,e,i){Lt(t,a,!1,0,e,null)}}function it(a){return function(t,e,i){Lt(t,a,!0,0,e,null)}}function Lt(a,t,e,i,n,s){if(null!==t)if("number"!=typeof s){var d=ne(a.constructor);d.agClassAttributes||(d.agClassAttributes=[]),d.agClassAttributes.push({attributeName:n,beanName:t,optional:e})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function Et(a){return function(t,e,i){var s,n="function"==typeof t?t:t.constructor;if("number"==typeof i){var d=void 0;e?(s=ne(n),d=e):(s=ne(n),d="agConstructor"),s.autowireMethods||(s.autowireMethods={}),s.autowireMethods[d]||(s.autowireMethods[d]={}),s.autowireMethods[d][i]=a}}}function ne(a){return a.hasOwnProperty("__agBeanMetaData")||(a.__agBeanMetaData={}),a.__agBeanMetaData}var a,ve=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Ee=function(a,t){return function(e,i){t(e,i,a)}},Le=function(){function a(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return a.prototype.setBeans=function(t,e,i,n){if(void 0===n&&(n=null),this.frameworkOverrides=i,n){var s=e.useAsyncEvents();this.addGlobalListener(n,s)}},a.prototype.getListeners=function(t,e,i){var n=e?this.allAsyncListeners:this.allSyncListeners,s=n.get(t);return!s&&i&&(s=new Set,n.set(t,s)),s},a.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},a.prototype.addEventListener=function(t,e,i){void 0===i&&(i=!1),this.getListeners(t,i,!0).add(e)},a.prototype.removeEventListener=function(t,e,i){void 0===i&&(i=!1);var n=this.getListeners(t,i,!1);n&&(n.delete(e),0===n.size)&&(i?this.allAsyncListeners:this.allSyncListeners).delete(t)},a.prototype.addGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).add(t)},a.prototype.removeGlobalListener=function(t,e){void 0===e&&(e=!1),(e?this.globalAsyncListeners:this.globalSyncListeners).delete(t)},a.prototype.dispatchEvent=function(t){this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0},a.prototype.dispatchEventOnce=function(t){this.firedEvents[t.type]||this.dispatchEvent(t)},a.prototype.dispatchToListeners=function(t,e){var i=this,n=t.type,d=this.getListeners(n,e,!1);d&&d.forEach(function(L){e?i.dispatchAsync(function(){return L(t)}):L(t)}),(e?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(O){e?i.dispatchAsync(function(){return i.frameworkOverrides.dispatchEvent(n,function(){return O(n,t)},!0)}):i.frameworkOverrides.dispatchEvent(n,function(){return O(n,t)},!0)})},a.prototype.dispatchAsync=function(t){this.asyncFunctionsQueue.push(t),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},a.prototype.flushAsyncQueue=function(){this.scheduled=!1;var t=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],t.forEach(function(e){return e()})},ve([Ee(0,Et("loggerFactory")),Ee(1,Et("gridOptionsWrapper")),Ee(2,Et("frameworkOverrides")),Ee(3,Et("globalEventListener"))],a.prototype,"setBeans",null),ve([je("eventService")],a)}(),ae=function(){function a(){}return a.ROW_BUFFER_SIZE=10,a.LAYOUT_INTERVAL=500,a.BATCH_WAIT_MILLIS=50,a.EXPORT_TYPE_DRAG_COPY="dragCopy",a.EXPORT_TYPE_CLIPBOARD="clipboard",a.EXPORT_TYPE_EXCEL="excel",a.EXPORT_TYPE_CSV="csv",a.ROW_MODEL_TYPE_INFINITE="infinite",a.ROW_MODEL_TYPE_VIEWPORT="viewport",a.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",a.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",a.ALWAYS="always",a.ONLY_WHEN_GROUPING="onlyWhenGrouping",a.PINNED_TOP="top",a.PINNED_BOTTOM="bottom",a.DOM_LAYOUT_NORMAL="normal",a.DOM_LAYOUT_PRINT="print",a.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",a.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",a.SOURCE_PASTE="paste",a.PINNED_RIGHT="right",a.PINNED_LEFT="left",a.SORT_ASC="asc",a.SORT_DESC="desc",a.INPUT_SELECTOR="input, select, button, textarea",a.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",a.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",a}();(a=z.GXE||(z.GXE={})).CommunityCoreModule="@ag-grid-community/core",a.CommunityAllModules="@ag-grid-community/all",a.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",a.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",a.CsvExportModule="@ag-grid-community/csv-export",a.EnterpriseCoreModule="@ag-grid-enterprise/core",a.EnterpriseAllModules="@ag-grid-enterprise/all",a.RowGroupingModule="@ag-grid-enterprise/row-grouping",a.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",a.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",a.MenuModule="@ag-grid-enterprise/menu",a.SetFilterModule="@ag-grid-enterprise/set-filter",a.MultiFilterModule="@ag-grid-enterprise/multi-filter",a.StatusBarModule="@ag-grid-enterprise/status-bar",a.SideBarModule="@ag-grid-enterprise/side-bar",a.RangeSelectionModule="@ag-grid-enterprise/range-selection",a.MasterDetailModule="@ag-grid-enterprise/master-detail",a.RichSelectModule="@ag-grid-enterprise/rich-select",a.GridChartsModule="@ag-grid-enterprise/charts",a.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",a.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",a.ExcelExportModule="@ag-grid-enterprise/excel-export",a.ClipboardModule="@ag-grid-enterprise/clipboard",a.SparklinesModule="@ag-grid-enterprise/sparklines",a.AngularModule="@ag-grid-community/angular",a.ReactModule="@ag-grid-community/react",a.VueModule="@ag-grid-community/vue",a.PolymerModule="@ag-grid-community/polymer";var ze=function(){function a(){}return a.register=function(t,e){void 0===e&&(e=!0),a.modulesMap[t.moduleName]=t,void 0===a.moduleBased?a.moduleBased=e:a.moduleBased!==e&&ye(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},a.registerModules=function(t,e){void 0===e&&(e=!0),t&&t.forEach(function(i){return a.register(i,e)})},a.assertRegistered=function(t,e){return!!this.isRegistered(t)||(n=a.moduleBased?"AG Grid: unable to use "+e+" as module "+t+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/":"AG Grid: unable to use "+e+" as package 'ag-grid-enterprise' is not present. Please see: https://www.ag-grid.com/javascript-grid/packages/",ye(function(){console.warn(n)},e+t),!1);var n},a.isRegistered=function(t){return!!a.modulesMap[t]},a.getRegisteredModules=function(){return C(a.modulesMap)},a.isPackageBased=function(){return!a.moduleBased},a.modulesMap={},a}(),at=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},vt=0,lt=function(){function a(t,e,i,n){this.instanceId=vt++,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new Le,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=e,this.colId=i,this.primary=n,this.setState(t)}return a.prototype.getInstanceId=function(){return this.instanceId},a.prototype.setState=function(t){void 0!==t.sort?(t.sort===ae.SORT_ASC||t.sort===ae.SORT_DESC)&&(this.sort=t.sort):(t.initialSort===ae.SORT_ASC||t.initialSort===ae.SORT_DESC)&&(this.sort=t.initialSort);var e=F(t.sortIndex),i=F(t.initialSortIndex);void 0!==e?null!==e&&(this.sortIndex=e):null!==i&&(this.sortIndex=i);var n=R(t.hide),s=R(t.initialHide);this.visible=void 0!==n?!n:!s,this.setPinned(void 0!==t.pinned?t.pinned:t.initialPinned);var d=F(t.flex),h=F(t.initialFlex);void 0!==d?this.flex=d:void 0!==h&&(this.flex=h)},a.prototype.setColDef=function(t,e){this.colDef=t,this.userProvidedColDef=e,this.initMinAndMaxWidths(),this.initDotNotation()},a.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},a.prototype.setParent=function(t){this.parent=t},a.prototype.getParent=function(){return this.parent},a.prototype.setOriginalParent=function(t){this.originalParent=t},a.prototype.getOriginalParent=function(){return this.originalParent},a.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},a.prototype.initDotNotation=function(){var t=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=W(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=W(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t},a.prototype.initMinAndMaxWidths=function(){var t=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(t),this.maxWidth=this.columnUtils.calculateColMaxWidth(t)},a.prototype.resetActualWidth=function(t){void 0===t&&(t="api");var e=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(e,t,!0)},a.prototype.isEmptyGroup=function(){return!1},a.prototype.isRowGroupDisplayed=function(t){return!(E(this.colDef)||E(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==t)},a.prototype.isPrimary=function(){return this.primary},a.prototype.isFilterAllowed=function(){return this.primary&&(!!this.colDef.filter||!!this.colDef.filterFramework)},a.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},a.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},a.prototype.validate=function(){var t=this.colDef;function e(d,h,O){ye(function(){O?console.warn(d,O):ye(function(){return console.warn(d)},h)},h)}this.gridOptionsWrapper.isRowModelDefault()&&!ze.isRegistered(z.GXE.RowGroupingModule)&&["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach(function(d){W(t[d])&&(ze.isPackageBased()?e("AG Grid: "+d+" is only valid in ag-grid-enterprise, your column definition should not have "+d,"ColumnRowGroupingMissing"+d):e("AG Grid: "+d+" is only valid with AG Grid Enterprise Module "+z.GXE.RowGroupingModule+" - your column definition should not have "+d,"ColumnRowGroupingMissing"+d))}),ze.isRegistered(z.GXE.RichSelectModule)||"agRichSelect"===this.colDef.cellEditor&&(ze.isPackageBased()?e("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):e("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+z.GXE.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach(function(d){W(t[d])&&e("AG Grid: "+d+" is not possible when doing tree data, your column definition should not have "+d,"TreeDataCannotRowGroup")}),W(this.colDef.width)&&"number"!=typeof this.colDef.width&&e("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),t.pinnedRowCellRenderer&&e("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),t.pinnedRowCellRendererParams&&e("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),t.pinnedRowCellRendererFramework&&e("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),t.pinnedRowValueGetter&&e("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},a.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},a.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},a.prototype.createColumnFunctionCallbackParams=function(t){return{node:t,data:t.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},a.prototype.isSuppressNavigable=function(t){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var e=this.createColumnFunctionCallbackParams(t);return(0,this.colDef.suppressNavigable)(e)}return!1},a.prototype.isCellEditable=function(t){return!(t.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(t,this.colDef.editable)},a.prototype.isSuppressFillHandle=function(){return!!R(this.colDef.suppressFillHandle)},a.prototype.isAutoHeight=function(){return!!R(this.colDef.autoHeight)},a.prototype.isRowDrag=function(t){return this.isColumnFunc(t,this.colDef.rowDrag)},a.prototype.isDndSource=function(t){return this.isColumnFunc(t,this.colDef.dndSource)},a.prototype.isCellCheckboxSelection=function(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)},a.prototype.isSuppressPaste=function(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)},a.prototype.isResizable=function(){return!!R(this.colDef.resizable)},a.prototype.isColumnFunc=function(t,e){return"boolean"==typeof e?e:"function"==typeof e&&e(this.createColumnFunctionCallbackParams(t))},a.prototype.setMoving=function(t,e){void 0===e&&(e="api"),this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_MOVING_CHANGED,e))},a.prototype.createColumnEvent=function(t,e){return{api:this.gridApi,columnApi:this.columnApi,type:t,column:this,columns:[this],source:e}},a.prototype.isMoving=function(){return this.moving},a.prototype.getSort=function(){return this.sort},a.prototype.setSort=function(t,e){void 0===e&&(e="api"),this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_SORT_CHANGED,e)))},a.prototype.setMenuVisible=function(t,e){void 0===e&&(e="api"),this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_MENU_VISIBLE_CHANGED,e)))},a.prototype.isMenuVisible=function(){return this.menuVisible},a.prototype.isSortAscending=function(){return this.sort===ae.SORT_ASC},a.prototype.isSortDescending=function(){return this.sort===ae.SORT_DESC},a.prototype.isSortNone=function(){return E(this.sort)},a.prototype.isSorting=function(){return W(this.sort)},a.prototype.getSortIndex=function(){return this.sortIndex},a.prototype.setSortIndex=function(t){this.sortIndex=t},a.prototype.setAggFunc=function(t){this.aggFunc=t},a.prototype.getAggFunc=function(){return this.aggFunc},a.prototype.getLeft=function(){return this.left},a.prototype.getOldLeft=function(){return this.oldLeft},a.prototype.getRight=function(){return this.left+this.actualWidth},a.prototype.setLeft=function(t,e){void 0===e&&(e="api"),this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_LEFT_CHANGED,e)))},a.prototype.isFilterActive=function(){return this.filterActive},a.prototype.setFilterActive=function(t,e,i){void 0===e&&(e="api"),this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_FILTER_ACTIVE_CHANGED,e)));var n=this.createColumnEvent(a.EVENT_FILTER_CHANGED,e);i&&P(n,i),this.eventService.dispatchEvent(n)},a.prototype.setPinned=function(t){this.pinned=!0===t||t===ae.PINNED_LEFT?ae.PINNED_LEFT:t===ae.PINNED_RIGHT?ae.PINNED_RIGHT:null},a.prototype.setFirstRightPinned=function(t,e){void 0===e&&(e="api"),this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_FIRST_RIGHT_PINNED_CHANGED,e)))},a.prototype.setLastLeftPinned=function(t,e){void 0===e&&(e="api"),this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_LAST_LEFT_PINNED_CHANGED,e)))},a.prototype.isFirstRightPinned=function(){return this.firstRightPinned},a.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},a.prototype.isPinned=function(){return this.pinned===ae.PINNED_LEFT||this.pinned===ae.PINNED_RIGHT},a.prototype.isPinnedLeft=function(){return this.pinned===ae.PINNED_LEFT},a.prototype.isPinnedRight=function(){return this.pinned===ae.PINNED_RIGHT},a.prototype.getPinned=function(){return this.pinned},a.prototype.setVisible=function(t,e){void 0===e&&(e="api");var i=!0===t;this.visible!==i&&(this.visible=i,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_VISIBLE_CHANGED,e)))},a.prototype.isVisible=function(){return this.visible},a.prototype.getColDef=function(){return this.colDef},a.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},a.prototype.getColId=function(){return this.colId},a.prototype.getId=function(){return this.getColId()},a.prototype.getUniqueId=function(){return this.getId()},a.prototype.getDefinition=function(){return this.colDef},a.prototype.getActualWidth=function(){return this.actualWidth},a.prototype.createBaseColDefParams=function(t){return{node:t,data:t.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},a.prototype.getColSpan=function(t){if(E(this.colDef.colSpan))return 1;var e=this.createBaseColDefParams(t),i=this.colDef.colSpan(e);return Math.max(i,1)},a.prototype.getRowSpan=function(t){if(E(this.colDef.rowSpan))return 1;var e=this.createBaseColDefParams(t),i=this.colDef.rowSpan(e);return Math.max(i,1)},a.prototype.setActualWidth=function(t,e,i){void 0===e&&(e="api"),void 0===i&&(i=!1),null!=this.minWidth&&(t=Math.max(t,this.minWidth)),null!=this.maxWidth&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&"flex"!==e&&"gridInitializing"!==e&&(this.flex=null),i||this.fireColumnWidthChangedEvent(e))},a.prototype.fireColumnWidthChangedEvent=function(t){this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_WIDTH_CHANGED,t))},a.prototype.isGreaterThanMax=function(t){return null!=this.maxWidth&&t>this.maxWidth},a.prototype.getMinWidth=function(){return this.minWidth},a.prototype.getMaxWidth=function(){return this.maxWidth},a.prototype.getFlex=function(){return this.flex||0},a.prototype.setFlex=function(t){this.flex!==t&&(this.flex=t)},a.prototype.setMinimum=function(t){void 0===t&&(t="api"),W(this.minWidth)&&this.setActualWidth(this.minWidth,t)},a.prototype.setRowGroupActive=function(t,e){void 0===e&&(e="api"),this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_ROW_GROUP_CHANGED,e)))},a.prototype.isRowGroupActive=function(){return this.rowGroupActive},a.prototype.setPivotActive=function(t,e){void 0===e&&(e="api"),this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_PIVOT_CHANGED,e)))},a.prototype.isPivotActive=function(){return this.pivotActive},a.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},a.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},a.prototype.setValueActive=function(t,e){void 0===e&&(e="api"),this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent(a.EVENT_VALUE_CHANGED,e)))},a.prototype.isValueActive=function(){return this.aggregationActive},a.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},a.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},a.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},a.prototype.getMenuTabs=function(t){var e=this.getColDef().menuTabs;return null==e&&(e=t),e},a.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},a.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},a.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},a.EVENT_MOVING_CHANGED="movingChanged",a.EVENT_LEFT_CHANGED="leftChanged",a.EVENT_WIDTH_CHANGED="widthChanged",a.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",a.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",a.EVENT_VISIBLE_CHANGED="visibleChanged",a.EVENT_FILTER_CHANGED="filterChanged",a.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",a.EVENT_SORT_CHANGED="sortChanged",a.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",a.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",a.EVENT_PIVOT_CHANGED="columnPivotChanged",a.EVENT_VALUE_CHANGED="columnValueChanged",at([Q("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),at([Q("columnUtils")],a.prototype,"columnUtils",void 0),at([Q("columnApi")],a.prototype,"columnApi",void 0),at([Q("gridApi")],a.prototype,"gridApi",void 0),at([Q("context")],a.prototype,"context",void 0),at([be],a.prototype,"initialise",null),a}();function ai(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];for(var e=0;e<a.length;e++){var i=a[e];if(W(i))return i}return null}function Qe(a){if(a&&a.length)return a[a.length-1]}function Ht(a,t,e){return null==a&&null==t||null!=a&&null!=t&&a.length===t.length&&a.every(function(i,n){return e?e(i,t[n]):t[n]===i})}function Ms(a){return a.sort(function(t,e){return t-e})}function zt(a,t){var e=a.indexOf(t);e>=0&&a.splice(e,1)}function Qt(a,t){t.forEach(function(e){return zt(a,e)})}function Si(a,t,e){a.splice(e,0,t)}function hn(a,t,e){Qt(a,t),t.slice().reverse().forEach(function(i){return Si(a,i,e)})}function ii(a,t){return a.indexOf(t)>-1}function Bi(a,t){null==t||null==a||t.forEach(function(e){return a.push(e)})}var Ro=Object.freeze({firstExistingValue:ai,existsAndNotEmpty:function(a){return null!=a&&a.length>0},last:Qe,areEqual:Ht,compareArrays:function(a,t){return Ht(a,t)},shallowCompare:function(a,t){return Ht(a,t)},sortNumerically:Ms,removeRepeatsFromArray:function(a,t){if(a)for(var e=a.length-2;e>=0;e--)a[e]===t&&a[e+1]===t&&a.splice(e+1,1)},removeFromArray:zt,removeAllFromArray:Qt,insertIntoArray:Si,insertArrayIntoArray:function(a,t,e){if(null!=a&&null!=t)for(var i=t.length-1;i>=0;i--)Si(a,t[i],e)},moveInArray:hn,includes:ii,flatten:function(a){return[].concat.apply([],a)},pushAll:Bi,toStrings:function(a){return a.map(r)},forEachReverse:function(a,t){if(null!=a)for(var e=a.length-1;e>=0;e--)t(a[e],e)}}),Jt=function(){function a(t,e,i,n){this.displayedChildren=[],this.localEventService=new Le,this.groupId=e,this.instanceId=i,this.providedColumnGroup=t,this.pinned=n}return a.createUniqueId=function(t,e){return t+"_"+e},a.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},a.prototype.getParent=function(){return this.parent},a.prototype.setParent=function(t){this.parent=t},a.prototype.getUniqueId=function(){return a.createUniqueId(this.groupId,this.instanceId)},a.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},a.prototype.isMoving=function(){var t=this.getProvidedColumnGroup().getLeafColumns();return!(!t||0===t.length)&&t.every(function(e){return e.isMoving()})},a.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(n){n instanceof a&&n.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var e=Qe(this.displayedChildren).getLeft();this.setLeft(e)}else{var i=this.displayedChildren[0].getLeft();this.setLeft(i)}else this.setLeft(null)},a.prototype.getLeft=function(){return this.left},a.prototype.getOldLeft=function(){return this.oldLeft},a.prototype.setLeft=function(t){this.oldLeft=t,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(a.EVENT_LEFT_CHANGED)))},a.prototype.getPinned=function(){return this.pinned},a.prototype.createAgEvent=function(t){return{type:t}},a.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},a.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},a.prototype.getGroupId=function(){return this.groupId},a.prototype.getInstanceId=function(){return this.instanceId},a.prototype.isChildInThisGroupDeepSearch=function(t){var e=!1;return this.children.forEach(function(i){t===i&&(e=!0),i instanceof a&&i.isChildInThisGroupDeepSearch(t)&&(e=!0)}),e},a.prototype.getActualWidth=function(){var t=0;return this.displayedChildren&&this.displayedChildren.forEach(function(e){t+=e.getActualWidth()}),t},a.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var t=!1;return this.displayedChildren.forEach(function(e){e.isResizable()&&(t=!0)}),t},a.prototype.getMinWidth=function(){var t=0;return this.displayedChildren.forEach(function(e){t+=e.getMinWidth()||0}),t},a.prototype.addChild=function(t){this.children||(this.children=[]),this.children.push(t)},a.prototype.getDisplayedChildren=function(){return this.displayedChildren},a.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},a.prototype.getDisplayedLeafColumns=function(){var t=[];return this.addDisplayedLeafColumns(t),t},a.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},a.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},a.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},a.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},a.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},a.prototype.setExpanded=function(t){this.providedColumnGroup.setExpanded(t)},a.prototype.addDisplayedLeafColumns=function(t){this.displayedChildren.forEach(function(e){e instanceof lt?t.push(e):e instanceof a&&e.addDisplayedLeafColumns(t)})},a.prototype.addLeafColumns=function(t){this.children.forEach(function(e){e instanceof lt?t.push(e):e instanceof a&&e.addLeafColumns(t)})},a.prototype.getChildren=function(){return this.children},a.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},a.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},a.prototype.getOriginalColumnGroup=function(){return console.warn("AG Grid: columnGroup.getOriginalColumnGroup() is deprecated due to a method rename, use columnGroup.getProvidedColumnGroup() instead"),this.getProvidedColumnGroup()},a.prototype.getPaddingLevel=function(){var t=this.getParent();return this.isPadding()&&t&&t.isPadding()?1+t.getPaddingLevel():0},a.prototype.calculateDisplayedColumns=function(){var t=this;this.displayedChildren=[];for(var e=this;null!=e&&e.isPadding();)e=e.getParent();if(!e||!e.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(a.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(n){if(!(n instanceof a)||n.displayedChildren&&n.displayedChildren.length)switch(n.getColumnGroupShow()){case a.HEADER_GROUP_SHOW_OPEN:e.providedColumnGroup.isExpanded()&&t.displayedChildren.push(n);break;case a.HEADER_GROUP_SHOW_CLOSED:e.providedColumnGroup.isExpanded()||t.displayedChildren.push(n);break;default:t.displayedChildren.push(n)}}),this.localEventService.dispatchEvent(this.createAgEvent(a.EVENT_DISPLAYED_CHILDREN_CHANGED))},a.HEADER_GROUP_SHOW_OPEN="open",a.HEADER_GROUP_SHOW_CLOSED="closed",a.EVENT_LEFT_CHANGED="leftChanged",a.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);n>3&&s&&Object.defineProperty(t,e,s)}([Q("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),a}(),Nt=function(){function a(t,e,i,n){this.localEventService=new Le,this.expandable=!1,this.colGroupDef=t,this.groupId=e,this.expanded=!!t&&!!t.openByDefault,this.padding=i,this.level=n}return a.prototype.setOriginalParent=function(t){this.originalParent=t},a.prototype.getOriginalParent=function(){return this.originalParent},a.prototype.getLevel=function(){return this.level},a.prototype.isVisible=function(){return!!this.children&&this.children.some(function(t){return t.isVisible()})},a.prototype.isPadding=function(){return this.padding},a.prototype.setExpanded=function(t){this.expanded=void 0!==t&&t,this.localEventService.dispatchEvent({type:a.EVENT_EXPANDED_CHANGED})},a.prototype.isExpandable=function(){return this.expandable},a.prototype.isExpanded=function(){return this.expanded},a.prototype.getGroupId=function(){return this.groupId},a.prototype.getId=function(){return this.getGroupId()},a.prototype.setChildren=function(t){this.children=t},a.prototype.getChildren=function(){return this.children},a.prototype.getColGroupDef=function(){return this.colGroupDef},a.prototype.getLeafColumns=function(){var t=[];return this.addLeafColumns(t),t},a.prototype.addLeafColumns=function(t){!this.children||this.children.forEach(function(e){e instanceof lt?t.push(e):e instanceof a&&e.addLeafColumns(t)})},a.prototype.getColumnGroupShow=function(){var t=this.colGroupDef;if(t)return t.columnGroupShow},a.prototype.setupExpandable=function(){var t=this;this.setExpandable(),this.getLeafColumns().forEach(function(e){return e.addEventListener(lt.EVENT_VISIBLE_CHANGED,t.onColumnVisibilityChanged.bind(t))})},a.prototype.setExpandable=function(){if(!this.isPadding()){for(var t=!1,e=!1,i=!1,n=this.findChildrenRemovingPadding(),s=0,d=n.length;s<d;s++){var h=n[s];if(h.isVisible()){var O=h.getColumnGroupShow();O===Jt.HEADER_GROUP_SHOW_OPEN?(t=!0,i=!0):O===Jt.HEADER_GROUP_SHOW_CLOSED?(e=!0,i=!0):(t=!0,e=!0)}}var L=t&&e&&i;this.expandable!==L&&(this.expandable=L,this.localEventService.dispatchEvent({type:a.EVENT_EXPANDABLE_CHANGED}))}},a.prototype.findChildrenRemovingPadding=function(){var t=[],e=function(i){i.forEach(function(n){n instanceof a&&n.isPadding()?e(n.children):t.push(n)})};return e(this.children),t},a.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},a.prototype.addEventListener=function(t,e){this.localEventService.addEventListener(t,e)},a.prototype.removeEventListener=function(t,e){this.localEventService.removeEventListener(t,e)},a.EVENT_EXPANDED_CHANGED="expandedChanged",a.EVENT_EXPANDABLE_CHANGED="expandableChanged",a}(),vy={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},yu="__ag_Grid_Stop_Propagation",ll=["touchstart","touchend","touchmove","touchcancel"],cl={};function Kn(a){a[yu]=!0}function Ai(a){return!0===a[yu]}var Pr=function(){var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(e){if("boolean"==typeof cl[e])return cl[e];var i=document.createElement(a[e]||"div");return cl[e="on"+e]=e in i}}();function ul(a,t,e){for(var i=t.target;i;){var n=a.getDomData(i,e);if(n)return n;i=i.parentElement}return null}function Yn(a,t){return!(!t||!a)&&dl(t).indexOf(a)>=0}function Qn(a){for(var t=[],e=a.target;e;)t.push(e),e=e.parentElement;return t}function dl(a){var t=a;return t.path?t.path:t.composedPath?t.composedPath():t.__agGridEventPath?t.__agGridEventPath:Qn(a)}function Ls(a,t,e,i){var n=ii(ll,e);a&&a.addEventListener&&a.addEventListener(t,e,i,n?{passive:!0}:void 0)}var _u=Object.freeze({stopPropagationForAgGrid:Kn,isStopPropagationForAgGrid:Ai,isEventSupported:Pr,getCtrlForEvent:ul,addChangeListener:function(a,t){a.addEventListener("changed",t),a.addEventListener("paste",t),a.addEventListener("input",t)},isElementInEventPath:Yn,createEventPath:Qn,addAgGridEventPath:function(a){a.__agGridEventPath=dl(a)},getEventPath:dl,addSafePassiveEventListener:Ls}),Jn=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Ze=function(){function a(){var t=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!t.destroyed}}return a.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},a.prototype.getContext=function(){return this.context},a.prototype.destroy=function(){this.destroyFunctions.forEach(function(t){return t()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:a.EVENT_DESTROYED})},a.prototype.addEventListener=function(t,e){this.localEventService||(this.localEventService=new Le),this.localEventService.addEventListener(t,e)},a.prototype.removeEventListener=function(t,e){this.localEventService&&this.localEventService.removeEventListener(t,e)},a.prototype.dispatchEventAsync=function(t){var e=this;window.setTimeout(function(){return e.dispatchEvent(t)},0)},a.prototype.dispatchEvent=function(t){this.localEventService&&this.localEventService.dispatchEvent(t)},a.prototype.addManagedListener=function(t,e,i){var n=this;if(!this.destroyed){t instanceof HTMLElement?Ls(this.getFrameworkOverrides(),t,e,i):t.addEventListener(e,i);var s=function(){return t.removeEventListener(e,i),n.destroyFunctions=n.destroyFunctions.filter(function(d){return d!==s}),null};return this.destroyFunctions.push(s),s}},a.prototype.addDestroyFunc=function(t){this.isAlive()?this.destroyFunctions.push(t):t()},a.prototype.createManagedBean=function(t,e){var i=this.createBean(t,e);return this.addDestroyFunc(this.destroyBean.bind(this,t,e)),i},a.prototype.createBean=function(t,e,i){return(e||this.getContext()).createBean(t,i)},a.prototype.destroyBean=function(t,e){return(e||this.getContext()).destroyBean(t)},a.prototype.destroyBeans=function(t,e){var i=this;return t&&t.forEach(function(n){return i.destroyBean(n,e)}),[]},a.EVENT_DESTROYED="destroyed",Jn([Q("frameworkOverrides")],a.prototype,"frameworkOverrides",void 0),Jn([Q("context")],a.prototype,"context",void 0),Jn([Q("eventService")],a.prototype,"eventService",void 0),Jn([Q("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),Jn([Xe],a.prototype,"destroy",null),a}(),hl=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Oo=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Ot=function(a,t){return function(e,i){t(e,i,a)}},Ns=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return hl(t,a),t.prototype.setBeans=function(e){this.logger=e.create("ColumnFactory")},t.prototype.createColumnTree=function(e,i,n){var s=new g,d=this.extractExistingTreeData(n),h=d.existingCols,O=d.existingGroups;s.addExistingKeys(d.existingColKeys);var j=this.recursivelyCreateColumns(e,0,i,h,s,O),q=this.findMaxDept(j,0);this.logger.log("Number of levels for grouped columns is "+q);var J=this.balanceColumnTree(j,0,q,s);return this.columnUtils.depthFirstOriginalTreeSearch(null,J,function(me,Ae){me instanceof Nt&&me.setupExpandable(),me.setOriginalParent(Ae)}),{columnTree:J,treeDept:q}},t.prototype.extractExistingTreeData=function(e){var i=[],n=[],s=[];return e&&this.columnUtils.depthFirstOriginalTreeSearch(null,e,function(d){if(d instanceof Nt)n.push(d);else{var O=d;s.push(O.getId()),i.push(O)}}),{existingCols:i,existingGroups:n,existingColKeys:s}},t.prototype.createForAutoGroups=function(e,i){var n=this,s=[];return e.forEach(function(d){var h=n.createAutoGroupTreeItem(i,d);s.push(h)}),s},t.prototype.createAutoGroupTreeItem=function(e,i){for(var s=i,d=this.findDepth(e)-1;d>=0;d--){var h=new Nt(null,"FAKE_PATH_"+i.getId()+"}_"+d,!0,d);this.context.createBean(h),h.setChildren([s]),s.setOriginalParent(h),s=h}return s},t.prototype.findDepth=function(e){for(var i=0,n=e;n&&n[0]&&n[0]instanceof Nt;)i++,n=n[0].getChildren();return i},t.prototype.balanceColumnTree=function(e,i,n,s){for(var d=[],h=0;h<e.length;h++){var O=e[h];if(O instanceof Nt){var L=O,j=this.balanceColumnTree(L.getChildren(),i+1,n,s);L.setChildren(j),d.push(L)}else{for(var q=void 0,J=void 0,re=n-1;re>=i;re--){var me=s.getUniqueKey(null,null),Ae=this.createMergedColGroupDef(null),Pe=new Nt(Ae,me,!0,i);this.context.createBean(Pe),J&&J.setChildren([Pe]),J=Pe,q||(q=J)}if(q&&J){if(d.push(q),e.some(function(Ve){return Ve instanceof Nt})){J.setChildren([O]);continue}J.setChildren(e);break}d.push(O)}}return d},t.prototype.findMaxDept=function(e,i){for(var n=i,s=0;s<e.length;s++){var d=e[s];if(d instanceof Nt){var O=this.findMaxDept(d.getChildren(),i+1);n<O&&(n=O)}}return n},t.prototype.recursivelyCreateColumns=function(e,i,n,s,d,h){var O=this,L=[];return e&&e.forEach(function(j){var q;q=O.isColumnGroup(j)?O.createColumnGroup(n,j,i,s,d,h):O.createColumn(n,j,s,d),L.push(q)}),L},t.prototype.createColumnGroup=function(e,i,n,s,d,h){var O=this.createMergedColGroupDef(i),L=d.getUniqueKey(O.groupId||null,null),j=new Nt(O,L,!1,n);this.context.createBean(j);var q=this.findExistingGroup(i,h);q&&q.isExpanded()&&j.setExpanded(!0);var J=this.recursivelyCreateColumns(O.children,n+1,e,s,d,h);return j.setChildren(J),j},t.prototype.createMergedColGroupDef=function(e){var i={};return Object.assign(i,this.gridOptionsWrapper.getDefaultColGroupDef()),Object.assign(i,e),this.checkForDeprecatedItems(i),i},t.prototype.createColumn=function(e,i,n,s){var d=this.mergeColDefs(i);this.checkForDeprecatedItems(d);var h=this.findExistingColumn(i,n);if(h)h.setColDef(d,i),this.applyColumnState(h,d);else{var O=s.getUniqueKey(d.colId,d.field);h=new lt(d,i,O,e),this.context.createBean(h)}return h},t.prototype.applyColumnState=function(e,i){var n=F(i.flex);if(void 0!==n&&e.setFlex(n),e.getFlex()<=0){var d=F(i.width);if(null!=d)e.setActualWidth(d);else{var h=e.getActualWidth();e.setActualWidth(h)}}void 0!==i.sort&&e.setSort(i.sort==ae.SORT_ASC||i.sort==ae.SORT_DESC?i.sort:void 0);var O=F(i.sortIndex);void 0!==O&&e.setSortIndex(O);var L=R(i.hide);void 0!==L&&e.setVisible(!L),void 0!==i.pinned&&e.setPinned(i.pinned)},t.prototype.findExistingColumn=function(e,i){var n=(i||[]).find(function(s){var d=s.getUserProvidedColDef();if(!d)return!1;var O=null!=e.field;return null!=e.colId?s.getId()===e.colId:O?d.field===e.field:d===e});return i&&n&&zt(i,n),n||null},t.prototype.findExistingGroup=function(e,i){var n=i.find(function(s){return!(!s.getColGroupDef()||null==e.groupId||s.getId()!==e.groupId)});return n&&zt(i,n),n||null},t.prototype.mergeColDefs=function(e){var i={},n=this.gridOptionsWrapper.getDefaultColDef();P(i,n,!1,!0);var s=e.type;return s||(s=n&&n.type),s&&this.assignColumnTypes(s,i),P(i,e,!1,!0),i},t.prototype.assignColumnTypes=function(e,i){var n=[];if(e instanceof Array)e.some(function(O){return"string"!=typeof O})?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):n=e;else{if("string"!=typeof e)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");n=e.split(",")}var d=Object.assign({},vy);v(this.gridOptionsWrapper.getColumnTypes()||{},function(O,L){O in d?console.warn("AG Grid: the column type '"+O+"' is a default column type and cannot be overridden."):d[O]=L}),n.forEach(function(O){var L=d[O.trim()];L?P(i,L,!1,!0):console.warn("AG Grid: colDef.type '"+O+"' does not correspond to defined gridOptions.columnTypes")})},t.prototype.checkForDeprecatedItems=function(e){if(e){var i=e;void 0!==i.group&&console.warn("AG Grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==i.headerGroup&&console.warn("AG Grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==i.headerGroupShow&&console.warn("AG Grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==i.suppressRowGroup&&console.warn("AG Grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==i.suppressAggregation&&console.warn("AG Grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(i.suppressRowGroup||i.suppressAggregation)&&console.warn("AG Grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),i.displayName&&(console.warn("AG Grid: Found displayName "+i.displayName+", please use headerName instead, displayName is deprecated."),i.headerName=i.displayName)}},t.prototype.isColumnGroup=function(e){return void 0!==e.children},Oo([Q("columnUtils")],t.prototype,"columnUtils",void 0),Oo([Ot(0,Et("loggerFactory"))],t.prototype,"setBeans",null),Oo([je("columnFactory")],t)}(Ze),ue=function(){function a(){}return a.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",a.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",a.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",a.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",a.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",a.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",a.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",a.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",a.EVENT_COLUMN_MOVED="columnMoved",a.EVENT_COLUMN_VISIBLE="columnVisible",a.EVENT_COLUMN_PINNED="columnPinned",a.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",a.EVENT_COLUMN_RESIZED="columnResized",a.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",a.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",a.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",a.EVENT_ROW_GROUP_OPENED="rowGroupOpened",a.EVENT_ROW_DATA_CHANGED="rowDataChanged",a.EVENT_ROW_DATA_UPDATED="rowDataUpdated",a.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",a.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",a.EVENT_CHART_CREATED="chartCreated",a.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",a.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",a.EVENT_CHART_DESTROYED="chartDestroyed",a.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",a.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",a.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",a.EVENT_MODEL_UPDATED="modelUpdated",a.EVENT_PASTE_START="pasteStart",a.EVENT_PASTE_END="pasteEnd",a.EVENT_FILL_START="fillStart",a.EVENT_FILL_END="fillEnd",a.EVENT_CELL_CLICKED="cellClicked",a.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",a.EVENT_CELL_MOUSE_DOWN="cellMouseDown",a.EVENT_CELL_CONTEXT_MENU="cellContextMenu",a.EVENT_CELL_VALUE_CHANGED="cellValueChanged",a.EVENT_CELL_EDIT_REQUEST="cellEditRequest",a.EVENT_ROW_VALUE_CHANGED="rowValueChanged",a.EVENT_CELL_FOCUSED="cellFocused",a.EVENT_ROW_SELECTED="rowSelected",a.EVENT_SELECTION_CHANGED="selectionChanged",a.EVENT_CELL_KEY_DOWN="cellKeyDown",a.EVENT_CELL_KEY_PRESS="cellKeyPress",a.EVENT_CELL_MOUSE_OVER="cellMouseOver",a.EVENT_CELL_MOUSE_OUT="cellMouseOut",a.EVENT_FILTER_CHANGED="filterChanged",a.EVENT_FILTER_MODIFIED="filterModified",a.EVENT_FILTER_OPENED="filterOpened",a.EVENT_SORT_CHANGED="sortChanged",a.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",a.EVENT_ROW_CLICKED="rowClicked",a.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",a.EVENT_GRID_READY="gridReady",a.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",a.EVENT_VIEWPORT_CHANGED="viewportChanged",a.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",a.EVENT_FIRST_DATA_RENDERED="firstDataRendered",a.EVENT_DRAG_STARTED="dragStarted",a.EVENT_DRAG_STOPPED="dragStopped",a.EVENT_CHECKBOX_CHANGED="checkboxChanged",a.EVENT_ROW_EDITING_STARTED="rowEditingStarted",a.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",a.EVENT_CELL_EDITING_STARTED="cellEditingStarted",a.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",a.EVENT_BODY_SCROLL="bodyScroll",a.EVENT_BODY_SCROLL_END="bodyScrollEnd",a.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",a.EVENT_PAGINATION_CHANGED="paginationChanged",a.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",a.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",a.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",a.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",a.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",a.EVENT_FLASH_CELLS="flashCells",a.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",a.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",a.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",a.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",a.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",a.EVENT_ROW_DRAG_ENTER="rowDragEnter",a.EVENT_ROW_DRAG_MOVE="rowDragMove",a.EVENT_ROW_DRAG_LEAVE="rowDragLeave",a.EVENT_ROW_DRAG_END="rowDragEnd",a.EVENT_POPUP_TO_FRONT="popupToFront",a.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",a.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",a.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",a.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",a.EVENT_KEYBOARD_FOCUS="keyboardFocus",a.EVENT_MOUSE_FOCUS="mouseFocus",a.EVENT_STORE_UPDATED="storeUpdated",a}(),pl=function(){function a(){this.existingIds={}}return a.prototype.getInstanceIdForKey=function(t){var i,e=this.existingIds[t];return this.existingIds[t]=i="number"!=typeof e?0:e+1,i},a}(),To=/[&<>"']/g,Mr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function kp(a){return null==a?null:a.replace(/([A-Z])/g,function(t){return"-"+t[0].toLowerCase()})}function Gp(a){return null==a?null:a.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})}function wu(a){return a[0].toUpperCase()+a.substr(1).toLowerCase()}function pn(a){return null==a?null:a.toString().toString().replace(To,function(t){return Mr[t]})}function fl(a){return a&&null!=a?a.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map(function(i){return i.substring(0,1).toUpperCase()+(i.length>1?i.substring(1,i.length):"")}).join(" "):null}var bu=Object.freeze({utf8_encode:function(a){var t=String.fromCharCode;function n(q,J){return t(q>>J&63|128)}function s(q){if(q>=0&&q<=31&&10!==q)return"_x"+q.toString(16).toUpperCase().padStart(4,"0")+"_";if(0==(4294967168&q))return t(q);var me="";return 0==(4294965248&q)?me=t(q>>6&31|192):0==(4294901760&q)?(function(q){if(q>=55296&&q<=57343)throw Error("Lone surrogate U+"+q.toString(16).toUpperCase()+" is not a scalar value")}(q),me=t(q>>12&15|224),me+=n(q,6)):0==(4292870144&q)&&(me=t(q>>18&7|240),me+=n(q,12),me+=n(q,6)),me+t(63&q|128)}for(var d=function(q){var J=[];if(!q)return[];for(var Ae,Pe,re=q.length,me=0;me<re;)(Ae=q.charCodeAt(me++))>=55296&&Ae<=56319&&me<re?56320==(64512&(Pe=q.charCodeAt(me++)))?J.push(((1023&Ae)<<10)+(1023&Pe)+65536):(J.push(Ae),me--):J.push(Ae);return J}(a),h=d.length,O=-1,j="";++O<h;)j+=s(d[O]);return j},camelCaseToHyphen:kp,hyphenToCamelCase:Gp,capitalise:wu,escapeString:pn,camelCaseToHumanText:fl});function xn(a){var t=new Map;return a.forEach(function(e){return t.set(e[0],e[1])}),t}var Hp=Object.freeze({convertToMap:xn,mapById:function(a,t){var e=new Map;return a.forEach(function(i){return e.set(t(i),i)}),e},keys:function(a){var t=[];return a.forEach(function(e,i){return t.push(i)}),t}}),Vp=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Zt=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Wp=function(a,t){return function(e,i){t(e,i,a)}},$p=function(a){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&a[t],i=0;if(e)return e.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&i>=a.length&&(a=void 0),{value:a&&a[i++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Su=function(a,t){var e="function"==typeof Symbol&&a[Symbol.iterator];if(!e)return a;var n,d,i=e.call(a),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(h){d={error:h}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},Au=function(){for(var a=[],t=0;t<arguments.length;t++)a=a.concat(Su(arguments[t]));return a},gl=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.primaryHeaderRowCount=0,e.secondaryHeaderRowCount=0,e.secondaryColumnsPresent=!1,e.gridHeaderRowCount=0,e.displayedColumnsLeft=[],e.displayedColumnsRight=[],e.displayedColumnsCenter=[],e.displayedColumns=[],e.displayedColumnsAndGroupsMap={},e.viewportColumns=[],e.viewportColumnsCenter=[],e.autoHeightActiveAtLeastOnce=!1,e.rowGroupColumns=[],e.valueColumns=[],e.pivotColumns=[],e.ready=!1,e.autoGroupsNeedBuilding=!1,e.forceRecreateAutoGroups=!1,e.pivotMode=!1,e.bodyWidth=0,e.leftWidth=0,e.rightWidth=0,e.bodyWidthDirty=!0,e.colDefVersion=0,e.flexColsCalculatedAtLestOnce=!1,e}return Vp(t,a),t.prototype.init=function(){var e=this;this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var i=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(i)&&(this.pivotMode=i),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",function(){return e.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,"defaultColDef",function(){return e.onDefaultColDefChanged()})},t.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},t.prototype.onDefaultColDefChanged=function(){this.colDefVersion++,this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0)},t.prototype.getColDefVersion=function(){return this.colDefVersion},t.prototype.setColumnDefs=function(e,i){void 0===i&&(i="api");var n=!!this.columnDefs;this.colDefVersion++,this.columnDefs=e,this.createColumnsFromColumnDefs(n,i)},t.prototype.createColumnsFromColumnDefs=function(e,i){var n=this;void 0===i&&(i="api");var s=e?this.compareColumnStatesAndRaiseEvents(i):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var d=this.primaryColumns,O=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.primaryColumnTree=O.columnTree,this.primaryHeaderRowCount=O.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(q){return n.primaryColumnsMap[q.getId()]=q}),this.extractRowGroupColumns(i,d),this.extractPivotColumns(i,d),this.extractValueColumns(i,d),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary)&&(this.updateGridColumns(),e&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(i),this.checkViewportColumns()),this.dispatchEverythingChanged(i),s&&s(),this.dispatchNewColumnsLoaded()},t.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:ue.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.dispatchEverythingChanged=function(e){void 0===e&&(e="api"),this.eventService.dispatchEvent({type:ue.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:e})},t.prototype.orderGridColumnsLikePrimary=function(){var e=this,i=this.primaryColumns;!i||this.gridColumns.sort(function(n,s){var d=i.indexOf(n),h=i.indexOf(s),O=d>=0,L=h>=0;return O&&L?d-h:O?1:L?-1:e.gridColumns.indexOf(n)-e.gridColumns.indexOf(s)})},t.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},t.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},t.prototype.getDisplayedColumnsStartingAt=function(e){for(var i=e,n=[];null!=i;)n.push(i),i=this.getDisplayedColAfter(i);return n},t.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter){var e=this.viewportColumns.map(function(s){return s.getId()}).join("#");this.extractViewport(),e!==this.viewportColumns.map(function(s){return s.getId()}).join("#")&&this.eventService.dispatchEvent({type:ue.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},t.prototype.setViewportPosition=function(e,i){(e!==this.scrollWidth||i!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=i,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},t.prototype.isPivotMode=function(){return this.pivotMode},t.prototype.isPivotSettingAllowed=function(e){return!e||!this.gridOptionsWrapper.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},t.prototype.setPivotMode=function(e,i){void 0===i&&(i="api"),e!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=e,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(i),this.eventService.dispatchEvent({type:ue.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.getSecondaryPivotColumn=function(e,i){if(!this.secondaryColumnsPresent||!this.secondaryColumns)return null;var n=this.getPrimaryColumn(i),s=null;return this.secondaryColumns.forEach(function(d){var h=d.getColDef().pivotKeys,O=d.getColDef().pivotValueColumn;Ht(h,e)&&O===n&&(s=d)}),s},t.prototype.setBeans=function(e){this.logger=e.create("columnModel")},t.prototype.setFirstRightAndLastLeftPinned=function(e){var i,n;this.gridOptionsWrapper.isEnableRtl()?(i=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,n=this.displayedColumnsRight?Qe(this.displayedColumnsRight):null):(i=this.displayedColumnsLeft?Qe(this.displayedColumnsLeft):null,n=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(s){s.setLastLeftPinned(s===i,e),s.setFirstRightPinned(s===n,e)})},t.prototype.autoSizeColumns=function(e){var i=this,n=e.columns,s=e.skipHeader,d=e.skipHeaderGroups,h=e.stopAtGroup,O=e.source,L=void 0===O?"api":O;this.animationFrameService.flushAllFrames();for(var j=[],q=-1,J=null!=s?s:this.gridOptionsWrapper.isSkipHeaderOnAutoSize(),re=null!=d?d:J;0!==q;)q=0,this.actionOnGridColumns(n,function(me){if(j.indexOf(me)>=0)return!1;var Ae=i.autoWidthCalculator.getPreferredWidthForColumn(me,J);if(Ae>0){var Pe=i.normaliseColumnWidth(me,Ae);me.setActualWidth(Pe,L),j.push(me),q++}return!0},L);re||this.autoSizeColumnGroupsByColumns(n,h),this.fireColumnResizedEvent(j,!0,"autosizeColumns")},t.prototype.fireColumnResizedEvent=function(e,i,n,s){void 0===s&&(s=null),e&&e.length&&this.eventService.dispatchEvent({type:ue.EVENT_COLUMN_RESIZED,columns:e,column:1===e.length?e[0]:null,flexColumns:s,finished:i,api:this.gridApi,columnApi:this.columnApi,source:n})},t.prototype.autoSizeColumn=function(e,i,n){void 0===n&&(n="api"),e&&this.autoSizeColumns({columns:[e],skipHeader:i,skipHeaderGroups:!0,source:n})},t.prototype.autoSizeColumnGroupsByColumns=function(e,i){var n,s,d,h,j,O=new Set;this.getGridColumns(e).forEach(function(Ve){for(var $e=Ve.getParent();$e&&$e!=i;)$e.isPadding()||O.add($e),$e=$e.getParent()});try{for(var J=$p(O),re=J.next();!re.done;re=J.next()){var me=re.value;try{for(var Ae=(d=void 0,$p(this.ctrlsService.getHeaderRowContainerCtrls())),Pe=Ae.next();!Pe.done&&!(j=Pe.value.getHeaderCtrlForColumn(me));Pe=Ae.next());}catch(Ve){d={error:Ve}}finally{try{Pe&&!Pe.done&&(h=Ae.return)&&h.call(Ae)}finally{if(d)throw d.error}}j&&j.resizeLeafColumnsToFit()}}catch(Ve){n={error:Ve}}finally{try{re&&!re.done&&(s=J.return)&&s.call(J)}finally{if(n)throw n.error}}return[]},t.prototype.autoSizeAllColumns=function(e,i){void 0===i&&(i="api");var n=this.getAllDisplayedColumns();this.autoSizeColumns({columns:n,skipHeader:e,source:i})},t.prototype.getColumnsFromTree=function(e){var i=[],n=function(s){for(var d=0;d<s.length;d++){var h=s[d];h instanceof lt?i.push(h):h instanceof Nt&&n(h.getChildren())}};return n(e),i},t.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},t.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},t.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},t.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},t.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},t.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},t.prototype.isColumnDisplayed=function(e){return this.getAllDisplayedColumns().indexOf(e)>=0},t.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},t.prototype.getViewportColumns=function(){return this.viewportColumns},t.prototype.getDisplayedLeftColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft},t.prototype.getDisplayedRightColumnsForRow=function(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight},t.prototype.getDisplayedColumnsForRow=function(e,i,n,s){for(var L,d=[],h=null,O=function(q){var Ve,J=i[q],re=i.length-q,me=Math.min(J.getColSpan(e),re),Ae=[J];if(me>1){for(var Pe=me-1,We=1;We<=Pe;We++)Ae.push(i[q+We]);q+=Pe}n?(Ve=!1,Ae.forEach(function(Ke){n(Ke)&&(Ve=!0)})):Ve=!0,Ve&&(0===d.length&&h&&s&&s(J)&&d.push(h),d.push(J)),h=J,L=q},j=0;j<i.length;j++)O(j),j=L;return d},t.prototype.getViewportCenterColumnsForRow=function(e){var i=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var s=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,s,function(d){var h=d.getLeft();return W(h)&&h>i.viewportLeft})},t.prototype.getAriaColumnIndex=function(e){return this.getAllGridColumns().indexOf(e)+1},t.prototype.isColumnInViewport=function(e){if(e.isAutoHeight())return!0;var i=e.getLeft()||0,n=i+e.getActualWidth(),s=this.viewportLeft-200,d=this.viewportRight+200;return!(i<s&&n<s||i>d&&n>d)},t.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},t.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},t.prototype.updatePrimaryColumnList=function(e,i,n,s,d,h){var O=this;if(void 0===h&&(h="api"),e&&!B(e)){var L=!1;e.forEach(function(q){var J=O.getPrimaryColumn(q);if(J){if(n){if(i.indexOf(J)>=0)return;i.push(J)}else{if(i.indexOf(J)<0)return;zt(i,J)}s(J),L=!0}}),L&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(h),this.eventService.dispatchEvent({type:d,columns:i,column:1===i.length?i[0]:null,api:this.gridApi,columnApi:this.columnApi,source:h}))}},t.prototype.setRowGroupColumns=function(e,i){void 0===i&&(i="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,ue.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),i)},t.prototype.setRowGroupActive=function(e,i,n){e!==i.isRowGroupActive()&&(i.setRowGroupActive(e,n),!e&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&i.setVisible(!0,n))},t.prototype.addRowGroupColumn=function(e,i){void 0===i&&(i="api"),e&&this.addRowGroupColumns([e],i)},t.prototype.addRowGroupColumns=function(e,i){void 0===i&&(i="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),ue.EVENT_COLUMN_ROW_GROUP_CHANGED,i)},t.prototype.removeRowGroupColumns=function(e,i){void 0===i&&(i="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),ue.EVENT_COLUMN_ROW_GROUP_CHANGED,i)},t.prototype.removeRowGroupColumn=function(e,i){void 0===i&&(i="api"),e&&this.removeRowGroupColumns([e],i)},t.prototype.addPivotColumns=function(e,i){void 0===i&&(i="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!0,function(n){return n.setPivotActive(!0,i)},ue.EVENT_COLUMN_PIVOT_CHANGED,i)},t.prototype.setPivotColumns=function(e,i){void 0===i&&(i="api"),this.setPrimaryColumnList(e,this.pivotColumns,ue.EVENT_COLUMN_PIVOT_CHANGED,function(n,s){s.setPivotActive(n,i)},i)},t.prototype.addPivotColumn=function(e,i){void 0===i&&(i="api"),this.addPivotColumns([e],i)},t.prototype.removePivotColumns=function(e,i){void 0===i&&(i="api"),this.updatePrimaryColumnList(e,this.pivotColumns,!1,function(n){return n.setPivotActive(!1,i)},ue.EVENT_COLUMN_PIVOT_CHANGED,i)},t.prototype.removePivotColumn=function(e,i){void 0===i&&(i="api"),this.removePivotColumns([e],i)},t.prototype.setPrimaryColumnList=function(e,i,n,s,d){var h=this;i.length=0,W(e)&&e.forEach(function(O){var L=h.getPrimaryColumn(O);L&&i.push(L)}),(this.primaryColumns||[]).forEach(function(O){var L=i.indexOf(O)>=0;s(L,O)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(d),this.fireColumnEvent(n,i,d)},t.prototype.setValueColumns=function(e,i){void 0===i&&(i="api"),this.setPrimaryColumnList(e,this.valueColumns,ue.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),i)},t.prototype.setValueActive=function(e,i,n){if(e!==i.isValueActive()&&(i.setValueActive(e,n),e&&!i.getAggFunc())){var s=this.aggFuncService.getDefaultAggFunc(i);i.setAggFunc(s)}},t.prototype.addValueColumns=function(e,i){void 0===i&&(i="api"),this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),ue.EVENT_COLUMN_VALUE_CHANGED,i)},t.prototype.addValueColumn=function(e,i){void 0===i&&(i="api"),e&&this.addValueColumns([e],i)},t.prototype.removeValueColumn=function(e,i){void 0===i&&(i="api"),this.removeValueColumns([e],i)},t.prototype.removeValueColumns=function(e,i){void 0===i&&(i="api"),this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),ue.EVENT_COLUMN_VALUE_CHANGED,i)},t.prototype.normaliseColumnWidth=function(e,i){var n=e.getMinWidth();W(n)&&i<n&&(i=n);var s=e.getMaxWidth();return W(s)&&e.isGreaterThanMax(i)&&(i=s),i},t.prototype.getPrimaryOrGridColumn=function(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)},t.prototype.setColumnWidths=function(e,i,n,s){var d=this;void 0===s&&(s="api");var h=[];e.forEach(function(O){var L=d.getPrimaryOrGridColumn(O.key);if(L&&(h.push({width:O.newWidth,ratios:[1],columns:[L]}),"shift"===d.gridOptionsWrapper.getColResizeDefault()&&(i=!i),i)){var q=d.getDisplayedColAfter(L);if(!q)return;var J=L.getActualWidth()-O.newWidth,re=q.getActualWidth()+J;h.push({width:re,ratios:[1],columns:[q]})}}),0!==h.length&&this.resizeColumnSets({resizeSets:h,finished:n,source:s})},t.prototype.checkMinAndMaxWidthsForSet=function(e){var n=e.width,s=0,d=0,h=!0;return e.columns.forEach(function(j){var q=j.getMinWidth();s+=q||0;var J=j.getMaxWidth();W(J)&&J>0?d+=J:h=!1}),n>=s&&(!h||n<=d)},t.prototype.resizeColumnSets=function(e){var i=this,n=e.resizeSets,s=e.finished,d=e.source;if(!n||n.every(function(me){return i.checkMinAndMaxWidthsForSet(me)})){var L=[],j=[];n.forEach(function(me){var Ae=me.width,Pe=me.columns,We=me.ratios,Ve={},$e={};Pe.forEach(function(ut){return j.push(ut)});for(var Ke=!0,ot=0,mt=function(){if(++ot>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";Ke=!1;var ut=[],St=0,wt=Ae;Pe.forEach(function(Yt,Zi){$e[Yt.getId()]?wt-=Ve[Yt.getId()]:(ut.push(Yt),St+=We[Zi])});var si=1/St;ut.forEach(function(Yt,Zi){var dn;Zi===ut.length-1?dn=wt:(dn=Math.round(We[Zi]*Ae*si),wt-=dn);var ou=Yt.getMinWidth(),tl=Yt.getMaxWidth();W(ou)&&dn<ou?(dn=ou,$e[Yt.getId()]=!0,Ke=!0):W(tl)&&tl>0&&dn>tl&&(dn=tl,$e[Yt.getId()]=!0,Ke=!0),Ve[Yt.getId()]=dn})};Ke&&"break"!==mt(););Pe.forEach(function(ut){var St=Ve[ut.getId()];ut.getActualWidth()!==St&&(ut.setActualWidth(St,d),L.push(ut))})});var q=L.length>0,J=this.refreshFlexedColumns({resizingCols:j,skipSetLeft:!0});q&&(this.setLeftValues(d),this.updateBodyWidths(),this.checkViewportColumns());var re=j.concat(J);(q||s)&&this.fireColumnResizedEvent(re,s,d,J)}else s&&this.fireColumnResizedEvent(n&&n.length>0?n[0].columns:null,s,d)},t.prototype.setColumnAggFunc=function(e,i,n){if(void 0===n&&(n="api"),e){var s=this.getPrimaryColumn(e);!s||(s.setAggFunc(i),this.fireColumnEvent(ue.EVENT_COLUMN_VALUE_CHANGED,[s],n))}},t.prototype.fireColumnEvent=function(e,i,n){this.eventService.dispatchEvent({type:e,columns:i,column:i&&1==i.length?i[0]:null,api:this.gridApi,columnApi:this.columnApi,source:n})},t.prototype.moveRowGroupColumn=function(e,i,n){void 0===n&&(n="api");var s=this.rowGroupColumns[e];this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(i,0,s),this.eventService.dispatchEvent({type:ue.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:n})},t.prototype.moveColumns=function(e,i,n){if(void 0===n&&(n="api"),this.columnAnimationService.start(),i>this.gridColumns.length-e.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+i),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var s=this.getGridColumns(e);!this.doesMovePassRules(s,i)||(hn(this.gridColumns,s,i),this.updateDisplayedColumns(n),this.eventService.dispatchEvent({type:ue.EVENT_COLUMN_MOVED,columns:s,column:1===s.length?s[0]:null,toIndex:i,api:this.gridApi,columnApi:this.columnApi,source:n}),this.columnAnimationService.finish())},t.prototype.doesMovePassRules=function(e,i){var n=this.gridColumns.slice();return hn(n,e,i),!(!this.doesMovePassMarryChildren(n)||!this.doesMovePassLockedPositions(n))},t.prototype.sortColumnsLikeGridColumns=function(e){var i=this;!e||e.length<=1||e.filter(function(s){return i.gridColumns.indexOf(s)<0}).length>0||e.sort(function(s,d){return i.gridColumns.indexOf(s)-i.gridColumns.indexOf(d)})},t.prototype.doesMovePassLockedPositions=function(e){var i=!1,n=!0;return e.forEach(function(s){s.getColDef().lockPosition?i&&(n=!1):i=!0}),n},t.prototype.doesMovePassMarryChildren=function(e){var i=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){if(n instanceof Nt){var s=n,d=s.getColGroupDef();if(d&&d.marryChildren){var O=[];s.getLeafColumns().forEach(function(re){var me=e.indexOf(re);O.push(me)}),Math.max.apply(Math,O)-Math.min.apply(Math,O)>s.getLeafColumns().length-1&&(i=!1)}}}),i},t.prototype.moveColumn=function(e,i,n){void 0===n&&(n="api"),this.moveColumns([e],i,n)},t.prototype.moveColumnByIndex=function(e,i,n){void 0===n&&(n="api"),this.moveColumn(this.gridColumns[e],i,n)},t.prototype.getColumnDefs=function(){var e=this;if(this.primaryColumns){var i=this.primaryColumns.slice();return this.gridColsArePrimary?i.sort(function(n,s){return e.gridColumns.indexOf(n)-e.gridColumns.indexOf(s)}):this.lastPrimaryOrder&&i.sort(function(n,s){return e.lastPrimaryOrder.indexOf(n)-e.lastPrimaryOrder.indexOf(s)}),this.columnDefFactory.buildColumnDefs(i,this.rowGroupColumns,this.pivotColumns)}},t.prototype.getBodyContainerWidth=function(){return this.bodyWidth},t.prototype.getContainerWidth=function(e){switch(e){case ae.PINNED_LEFT:return this.leftWidth;case ae.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},t.prototype.updateBodyWidths=function(){var e=this.getWidthOfColsInList(this.displayedColumnsCenter),i=this.getWidthOfColsInList(this.displayedColumnsLeft),n=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==i||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=i,this.rightWidth=n,this.eventService.dispatchEvent({type:ue.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},t.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},t.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},t.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},t.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},t.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},t.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},t.prototype.getDisplayedColumns=function(e){switch(e){case ae.PINNED_LEFT:return this.getDisplayedLeftColumns();case ae.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},t.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},t.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},t.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},t.prototype.getAllGridColumns=function(){return this.gridColumns},t.prototype.isEmpty=function(){return B(this.gridColumns)},t.prototype.isRowGroupEmpty=function(){return B(this.rowGroupColumns)},t.prototype.setColumnVisible=function(e,i,n){void 0===n&&(n="api"),this.setColumnsVisible([e],i,n)},t.prototype.setColumnsVisible=function(e,i,n){var s=this;void 0===i&&(i=!1),void 0===n&&(n="api"),this.columnAnimationService.start(),this.actionOnGridColumns(e,function(d){return d.isVisible()!==i&&(d.setVisible(i,n),!0)},n,function(){return{type:ue.EVENT_COLUMN_VISIBLE,visible:i,column:null,columns:null,api:s.gridApi,columnApi:s.columnApi,source:n}}),this.columnAnimationService.finish()},t.prototype.setColumnPinned=function(e,i,n){void 0===n&&(n="api"),e&&this.setColumnsPinned([e],i,n)},t.prototype.setColumnsPinned=function(e,i,n){var d,s=this;void 0===n&&(n="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),d=!0===i||i===ae.PINNED_LEFT?ae.PINNED_LEFT:i===ae.PINNED_RIGHT?ae.PINNED_RIGHT:null,this.actionOnGridColumns(e,function(h){return h.getPinned()!==d&&(h.setPinned(d),!0)},n,function(){return{type:ue.EVENT_COLUMN_PINNED,pinned:d,column:null,columns:null,api:s.gridApi,columnApi:s.columnApi,source:n}}),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},t.prototype.actionOnGridColumns=function(e,i,n,s){var d=this;if(!B(e)){var h=[];if(e.forEach(function(L){var j=d.getGridColumn(L);j&&!1!==i(j)&&h.push(j)}),h.length&&(this.updateDisplayedColumns(n),W(s)&&s)){var O=s();O.columns=h,O.column=1===h.length?h[0]:null,this.eventService.dispatchEvent(O)}}},t.prototype.getDisplayedColBefore=function(e){var i=this.getAllDisplayedColumns(),n=i.indexOf(e);return n>0?i[n-1]:null},t.prototype.getDisplayedColAfter=function(e){var i=this.getAllDisplayedColumns(),n=i.indexOf(e);return n<i.length-1?i[n+1]:null},t.prototype.getDisplayedGroupAfter=function(e){return this.getDisplayedGroupAtDirection(e,"After")},t.prototype.getDisplayedGroupBefore=function(e){return this.getDisplayedGroupAtDirection(e,"Before")},t.prototype.getDisplayedGroupAtDirection=function(e,i){for(var n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),s=e.getDisplayedLeafColumns(),d="After"===i?Qe(s):s[0],h="getDisplayedCol"+i;;){var O=this[h](d);if(!O)return null;var L=this.getColumnGroupAtLevel(O,n);if(L!==e)return L}},t.prototype.getColumnGroupAtLevel=function(e,i){for(var n=e.getParent();!(n.getProvidedColumnGroup().getLevel()+n.getPaddingLevel()<=i);)n=n.getParent();return n},t.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},t.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},t.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var e=this.primaryColumns?this.primaryColumns.slice(0):[];return this.groupAutoColumns&&W(this.groupAutoColumns)&&this.groupAutoColumns.forEach(function(i){return e.push(i)}),this.secondaryColumnsPresent&&this.secondaryColumns&&this.secondaryColumns.forEach(function(i){return e.push(i)}),e},t.prototype.createStateItemFromColumn=function(e){var i=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,n=e.isPivotActive()?this.pivotColumns.indexOf(e):null,s=e.isValueActive()?e.getAggFunc():null,d=null!=e.getSort()?e.getSort():null,h=null!=e.getSortIndex()?e.getSortIndex():null,O=null!=e.getFlex()&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:d,sortIndex:h,aggFunc:s,rowGroup:e.isRowGroupActive(),rowGroupIndex:i,pivot:e.isPivotActive(),pivotIndex:n,flex:O}},t.prototype.getColumnState=function(){if(E(this.primaryColumns)||!this.isAlive())return[];var i=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.pivotMode||this.orderColumnStateList(i),i},t.prototype.getPrimaryAndAutoGroupCols=function(){return this.groupAutoColumns?Au(this.primaryColumns||[],this.groupAutoColumns):this.primaryColumns},t.prototype.orderColumnStateList=function(e){var i=xn(this.gridColumns.map(function(n,s){return[n.getColId(),s]}));e.sort(function(n,s){return(i.has(n.colId)?i.get(n.colId):-1)-(i.has(s.colId)?i.get(s.colId):-1)})},t.prototype.resetColumnState=function(e){void 0===e&&(e="api");var i=this.getColumnsFromTree(this.primaryColumnTree),n=[],s=1e3,d=1e3,h=[];this.groupAutoColumns&&(h=h.concat(this.groupAutoColumns)),i&&(h=h.concat(i)),h.forEach(function(O){var L=function(ft,ut){return null!=ft?ft:null!=ut?ut:null},j=O.getColDef(),q=L(j.sort,j.initialSort),J=L(j.sortIndex,j.initialSortIndex),re=L(j.hide,j.initialHide),me=L(j.pinned,j.initialPinned),Ae=L(j.width,j.initialWidth),Pe=L(j.flex,j.initialFlex),We=L(j.rowGroupIndex,j.initialRowGroupIndex),Ve=L(j.rowGroup,j.initialRowGroup);null==We&&(null==Ve||0==Ve)&&(We=null,Ve=null);var $e=L(j.pivotIndex,j.initialPivotIndex),Ke=L(j.pivot,j.initialPivot);null==$e&&(null==Ke||0==Ke)&&($e=null,Ke=null);var ot=L(j.aggFunc,j.initialAggFunc),mt={colId:O.getColId(),sort:q,sortIndex:J,hide:re,pinned:me,width:Ae,flex:Pe,rowGroup:Ve,rowGroupIndex:We,pivot:Ke,pivotIndex:$e,aggFunc:ot};E(We)&&Ve&&(mt.rowGroupIndex=s++),E($e)&&Ke&&(mt.pivotIndex=d++),n.push(mt)}),this.applyColumnState({state:n,applyOrder:!0},e)},t.prototype.applyColumnState=function(e,i){var n=this;if(void 0===i&&(i="api"),B(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;this.columnAnimationService.start();var s=this.compareColumnStatesAndRaiseEvents(i);this.autoGroupsNeedBuilding=!0;var d=this.primaryColumns.slice(),h=!0,O={},L={},j=[],q=this.rowGroupColumns.slice(),J=this.pivotColumns.slice();e.state&&e.state.forEach(function(Pe){var Ve=Pe.colId||"";if(Ve.startsWith(ae.GROUP_AUTO_COLUMN_ID))j.push(Pe);else{var Ke=n.getPrimaryColumn(Ve);Ke?(n.syncColumnWithStateItem(Ke,Pe,e.defaultState,O,L,!1,i),zt(d,Ke)):h=!1}});var re=function(Pe){return n.syncColumnWithStateItem(Pe,null,e.defaultState,O,L,!1,i)};d.forEach(re);var me=function(Pe,We,Ve,$e){var Ke=Pe[Ve.getId()],ot=Pe[$e.getId()],mt=null!=Ke,ft=null!=ot;if(mt&&ft)return Ke-ot;if(mt)return-1;if(ft)return 1;var ut=We.indexOf(Ve),St=We.indexOf($e),wt=ut>=0;return wt&&St>=0?ut-St:wt?-1:1};this.rowGroupColumns.sort(me.bind(this,O,q)),this.pivotColumns.sort(me.bind(this,L,J)),this.updateGridColumns();var Ae=this.groupAutoColumns?this.groupAutoColumns.slice():[];return j.forEach(function(Pe){var We=n.getAutoColumn(Pe.colId);zt(Ae,We),n.syncColumnWithStateItem(We,Pe,e.defaultState,null,null,!0,i)}),Ae.forEach(re),this.applyOrderAfterApplyState(e),this.updateDisplayedColumns(i),this.dispatchEverythingChanged(i),s(),this.columnAnimationService.finish(),h},t.prototype.applyOrderAfterApplyState=function(e){if(this.gridColsArePrimary&&e.applyOrder&&e.state){var i=[],n={},s={};this.gridColumns.forEach(function(h){return s[h.getId()]=h}),e.state.forEach(function(h){if(h.colId&&!n[h.colId]){var O=s[h.colId];O&&(i.push(O),n[h.colId]=!0)}});var d=0;if(this.gridColumns.forEach(function(h){var O=h.getColId();null!=n[O]||(O.startsWith(ae.GROUP_AUTO_COLUMN_ID)?Si(i,h,d++):i.push(h))}),i=this.putFixedColumnsFirst(i),!this.doesMovePassMarryChildren(i))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=i}},t.prototype.compareColumnStatesAndRaiseEvents=function(e){var i=this,n={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},s=this.getColumnState(),d={};return s.forEach(function(h){d[h.colId]=h}),function(){if(!i.gridOptionsWrapper.isSuppressColumnStateEvents()){var h=i.getPrimaryAndAutoGroupCols(),O=function(We,Ve,$e,Ke){Ht(Ve.map(Ke),$e.map(Ke))||i.eventService.dispatchEvent({type:We,columns:$e,column:1===$e.length?$e[0]:null,api:i.gridApi,columnApi:i.columnApi,source:e})},L=function(We){var Ve=[];return(h||[]).forEach(function($e){var Ke=d[$e.getColId()];Ke&&We(Ke,$e)&&Ve.push($e)}),Ve},j=function(We){return We.getColId()};O(ue.EVENT_COLUMN_ROW_GROUP_CHANGED,n.rowGroupColumns,i.rowGroupColumns,j),O(ue.EVENT_COLUMN_PIVOT_CHANGED,n.pivotColumns,i.pivotColumns,j),L(function(We,Ve){var $e=null!=We.aggFunc,Ke=$e!=Ve.isValueActive(),ot=$e&&We.aggFunc!=Ve.getAggFunc();return Ke||ot}).length>0&&i.fireColumnEvent(ue.EVENT_COLUMN_VALUE_CHANGED,i.valueColumns,e),i.fireColumnResizedEvent(L(function(We,Ve){return We.width!=Ve.getActualWidth()}),!0,e),i.raiseColumnPinnedEvent(L(function(We,Ve){return We.pinned!=Ve.getPinned()}),e),i.raiseColumnVisibleEvent(L(function(We,Ve){return We.hide==Ve.isVisible()}),e),L(function(We,Ve){return We.sort!=Ve.getSort()||We.sortIndex!=Ve.getSortIndex()}).length>0&&i.sortController.dispatchSortChangedEvents(),i.raiseColumnMovedEvent(s,e)}}},t.prototype.raiseColumnPinnedEvent=function(e,i){if(e.length){var n=1===e.length?e[0]:null,s=this.getCommonValue(e,function(h){return h.getPinned()});this.eventService.dispatchEvent({type:ue.EVENT_COLUMN_PINNED,pinned:null!=s?s:null,columns:e,column:n,api:this.gridApi,columnApi:this.columnApi,source:i})}},t.prototype.getCommonValue=function(e,i){if(e&&0!=e.length){for(var n=i(e[0]),s=1;s<e.length;s++)if(n!==i(e[s]))return;return n}},t.prototype.raiseColumnVisibleEvent=function(e,i){if(e.length){var n=1===e.length?e[0]:null,s=this.getCommonValue(e,function(h){return h.isVisible()});this.eventService.dispatchEvent({type:ue.EVENT_COLUMN_VISIBLE,visible:s,columns:e,column:n,api:this.gridApi,columnApi:this.columnApi,source:i})}},t.prototype.raiseColumnMovedEvent=function(e,i){var n=this,s=this.getColumnState(),d={};s.forEach(function(J){return d[J.colId]=J});var h={};e.forEach(function(J){d[J.colId]&&(h[J.colId]=!0)});var O=e.filter(function(J){return h[J.colId]}),L=s.filter(function(J){return h[J.colId]}),j=[];L.forEach(function(J,re){var me=O&&O[re];if(me&&me.colId!==J.colId){var Ae=n.getGridColumn(me.colId);Ae&&j.push(Ae)}}),j.length&&this.eventService.dispatchEvent({type:ue.EVENT_COLUMN_MOVED,columns:j,column:null,api:this.gridApi,columnApi:this.columnApi,source:i})},t.prototype.syncColumnWithStateItem=function(e,i,n,s,d,h,O){if(e){var L=function(St,wt){var si={value1:void 0,value2:void 0},Yt=!1;return i&&(void 0!==i[St]&&(si.value1=i[St],Yt=!0),W(wt)&&void 0!==i[wt]&&(si.value2=i[wt],Yt=!0)),!Yt&&n&&(void 0!==n[St]&&(si.value1=n[St]),W(wt)&&void 0!==n[wt]&&(si.value2=n[wt])),si},j=L("hide").value1;void 0!==j&&e.setVisible(!j,O);var q=L("pinned").value1;void 0!==q&&e.setPinned(q);var J=this.columnUtils.calculateColMinWidth(e.getColDef()),re=L("flex").value1;if(void 0!==re&&e.setFlex(re),e.getFlex()<=0){var Ae=L("width").value1;null!=Ae&&null!=J&&Ae>=J&&e.setActualWidth(Ae,O)}var Pe=L("sort").value1;void 0!==Pe&&e.setSort(Pe===ae.SORT_DESC||Pe===ae.SORT_ASC?Pe:void 0);var We=L("sortIndex").value1;if(void 0!==We&&e.setSortIndex(We),!h){var Ve=L("aggFunc").value1;void 0!==Ve&&("string"==typeof Ve?(e.setAggFunc(Ve),e.isValueActive()||(e.setValueActive(!0,O),this.valueColumns.push(e))):(W(Ve)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,O),zt(this.valueColumns,e))));var $e=L("rowGroup","rowGroupIndex"),Ke=$e.value1,ot=$e.value2;(void 0!==Ke||void 0!==ot)&&("number"==typeof ot||Ke?(e.isRowGroupActive()||(e.setRowGroupActive(!0,O),this.rowGroupColumns.push(e)),s&&"number"==typeof ot&&(s[e.getId()]=ot)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,O),zt(this.rowGroupColumns,e)));var mt=L("pivot","pivotIndex"),ft=mt.value1,ut=mt.value2;(void 0!==ft||void 0!==ut)&&("number"==typeof ut||ft?(e.isPivotActive()||(e.setPivotActive(!0,O),this.pivotColumns.push(e)),d&&"number"==typeof ut&&(d[e.getId()]=ut)):e.isPivotActive()&&(e.setPivotActive(!1,O),zt(this.pivotColumns,e)))}}},t.prototype.getGridColumns=function(e){return this.getColumns(e,this.getGridColumn.bind(this))},t.prototype.getColumns=function(e,i){var n=[];return e&&e.forEach(function(s){var d=i(s);d&&n.push(d)}),n},t.prototype.getColumnWithValidation=function(e){if(null==e)return null;var i=this.getGridColumn(e);return i||console.warn("AG Grid: could not find column "+e),i},t.prototype.getPrimaryColumn=function(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null},t.prototype.getGridColumn=function(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)},t.prototype.getColumn=function(e,i,n){if(!e)return null;if("string"==typeof e&&n[e])return n[e];for(var s=0;s<i.length;s++)if(this.columnsMatch(i[s],e))return i[s];return this.getAutoColumn(e)},t.prototype.getAutoColumn=function(e){var i=this;return this.groupAutoColumns&&W(this.groupAutoColumns)&&!E(this.groupAutoColumns)&&this.groupAutoColumns.find(function(n){return i.columnsMatch(n,e)})||null},t.prototype.columnsMatch=function(e,i){var n=e===i,s=e.getColDef()===i,d=e.getColId()==i;return n||s||d},t.prototype.getDisplayNameForColumn=function(e,i,n){if(void 0===n&&(n=!1),!e)return null;var s=this.getHeaderName(e.getColDef(),e,null,null,i);return n?this.wrapHeaderNameWithAggFunc(e,s):s},t.prototype.getDisplayNameForProvidedColumnGroup=function(e,i,n){var s=i?i.getColGroupDef():null;return s?this.getHeaderName(s,null,e,i,n):null},t.prototype.getDisplayNameForColumnGroup=function(e,i){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),i)},t.prototype.getHeaderName=function(e,i,n,s,d){var h=e.headerValueGetter;if(h){var O={colDef:e,column:i,columnGroup:n,providedColumnGroup:s,location:d,api:this.gridOptionsWrapper.getApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof h?h(O):"string"==typeof h?this.expressionService.evaluate(h,O):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=e.headerName?e.headerName:e.field?fl(e.field):""},t.prototype.wrapHeaderNameWithAggFunc=function(e,i){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return i;var h,n=e.getColDef().pivotValueColumn,d=null;if(W(n))d=n?n.getAggFunc():null,h=!0;else{var O=e.isValueActive(),L=this.pivotMode||!this.isRowGroupEmpty();O&&L?(d=e.getAggFunc(),h=!0):h=!1}if(h){var j="string"==typeof d?d:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(j,j)+"("+i+")"}return i},t.prototype.getColumnGroup=function(e,i){if(!e)return null;if(e instanceof Jt)return e;var n=this.getAllDisplayedTrees(),s="number"==typeof i,d=null;return this.columnUtils.depthFirstAllColumnTreeSearch(n,function(h){if(h instanceof Jt){var O=h;(s?e===O.getGroupId()&&i===O.getInstanceId():e===O.getGroupId())&&(d=O)}}),d},t.prototype.isReady=function(){return this.ready},t.prototype.extractValueColumns=function(e,i){this.valueColumns=this.extractColumns(i,this.valueColumns,function(n,s){return n.setValueActive(s,e)},function(){},function(){},function(n){var s=n.aggFunc;return null===s||""===s?null:void 0!==s?!!s:void 0},function(n){return null!=n.initialAggFunc&&""!=n.initialAggFunc}),this.valueColumns.forEach(function(n){var s=n.getColDef();null!=s.aggFunc&&""!=s.aggFunc?n.setAggFunc(s.aggFunc):n.getAggFunc()||n.setAggFunc(s.initialAggFunc)})},t.prototype.extractRowGroupColumns=function(e,i){this.rowGroupColumns=this.extractColumns(i,this.rowGroupColumns,function(n,s){return n.setRowGroupActive(s,e)},function(n){return n.rowGroupIndex},function(n){return n.initialRowGroupIndex},function(n){return n.rowGroup},function(n){return n.initialRowGroup})},t.prototype.extractColumns=function(e,i,n,s,d,h,O){void 0===e&&(e=[]),void 0===i&&(i=[]);var L=[],j=[];(this.primaryColumns||[]).forEach(function(re){var me=e.indexOf(re)<0,Ae=re.getColDef(),Pe=R(h(Ae)),We=R(O(Ae)),Ve=F(s(Ae)),$e=F(d(Ae));(void 0!==Pe?Pe:void 0!==Ve?null!==Ve&&Ve>=0:me?void 0!==We?We:void 0!==$e&&null!=$e&&$e>=0:i.indexOf(re)>=0)&&((me?null!=Ve||null!=$e:null!=Ve)?L.push(re):j.push(re))});var q=function(re){var me=s(re.getColDef()),Ae=d(re.getColDef());return null!=me?me:Ae};L.sort(function(re,me){var Ae=q(re),Pe=q(me);return Ae===Pe?0:Ae<Pe?-1:1});var J=[].concat(L);return i.forEach(function(re){j.indexOf(re)>=0&&J.push(re)}),j.forEach(function(re){J.indexOf(re)<0&&J.push(re)}),i.forEach(function(re){J.indexOf(re)<0&&n(re,!1)}),J.forEach(function(re){i.indexOf(re)<0&&n(re,!0)}),J},t.prototype.extractPivotColumns=function(e,i){this.pivotColumns=this.extractColumns(i,this.pivotColumns,function(n,s){return n.setPivotActive(s,e)},function(n){return n.pivotIndex},function(n){return n.initialPivotIndex},function(n){return n.pivot},function(n){return n.initialPivot})},t.prototype.resetColumnGroupState=function(e){void 0===e&&(e="api");var i=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(n){if(n instanceof Nt){var s=n.getColGroupDef(),d={groupId:n.getGroupId(),open:s?s.openByDefault:void 0};i.push(d)}}),this.setColumnGroupState(i,e)},t.prototype.getColumnGroupState=function(){var e=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(i){if(i instanceof Nt){var n=i;e.push({groupId:n.getGroupId(),open:n.isExpanded()})}}),e},t.prototype.setColumnGroupState=function(e,i){var n=this;void 0===i&&(i="api"),this.columnAnimationService.start();var s=[];e.forEach(function(d){var O=d.open,L=n.getProvidedColumnGroup(d.groupId);!L||L.isExpanded()!==O&&(n.logger.log("columnGroupOpened("+L.getGroupId()+","+O+")"),L.setExpanded(O),s.push(L))}),this.updateGroupsAndDisplayedColumns(i),this.setFirstRightAndLastLeftPinned(i),s.forEach(function(d){n.eventService.dispatchEvent({type:ue.EVENT_COLUMN_GROUP_OPENED,columnGroup:d,api:n.gridApi,columnApi:n.columnApi})}),this.columnAnimationService.finish()},t.prototype.setColumnGroupOpened=function(e,i,n){var s;void 0===n&&(n="api"),s=e instanceof Nt?e.getId():e||"",this.setColumnGroupState([{groupId:s,open:i}],n)},t.prototype.getProvidedColumnGroup=function(e){"string"!=typeof e&&console.error("AG Grid: group key must be a string");var i=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(n){if(n instanceof Nt){var s=n;s.getId()===e&&(i=s)}}),i},t.prototype.calculateColumnsForDisplay=function(){var e=this;return this.gridColumns.filter(this.pivotMode&&!this.secondaryColumnsPresent?function(n){var s=e.groupAutoColumns&&ii(e.groupAutoColumns,n),d=e.valueColumns&&ii(e.valueColumns,n);return s||d}:function(n){return e.groupAutoColumns&&ii(e.groupAutoColumns,n)||n.isVisible()})},t.prototype.checkColSpanActiveInCols=function(e){var i=!1;return e.forEach(function(n){W(n.getColDef().colSpan)&&(i=!0)}),i},t.prototype.calculateColumnsForGroupDisplay=function(){var e=this;this.groupDisplayColumns=[];var i=function(n){var s=n.getColDef();s&&W(s.showRowGroup)&&e.groupDisplayColumns.push(n)};this.gridColumns.forEach(i),this.groupAutoColumns&&this.groupAutoColumns.forEach(i)},t.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},t.prototype.updateDisplayedColumns=function(e){var i=this.calculateColumnsForDisplay();this.buildDisplayedTrees(i),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)},t.prototype.isSecondaryColumnsPresent=function(){return this.secondaryColumnsPresent},t.prototype.setSecondaryColumns=function(e,i){void 0===i&&(i="api");var n=e&&e.length>0;if(n||this.secondaryColumnsPresent){if(n){this.processSecondaryColumnDefinitions(e);var s=this.columnFactory.createColumnTree(e,!1);this.secondaryBalancedTree=s.columnTree,this.secondaryHeaderRowCount=s.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsPresent=!0}else this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsPresent=!1;this.updateGridColumns(),this.updateDisplayedColumns(i)}},t.prototype.processSecondaryColumnDefinitions=function(e){var i=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),n=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(i||n){var s=function(d){d.forEach(function(h){if(W(h.children)){var L=h;n&&n(L),s(L.children)}else i&&i(h)})};e&&s(e)}},t.prototype.updateGridColumns=function(){var e=this;this.gridColsArePrimary&&(this.lastPrimaryOrder=this.gridColumns),this.secondaryColumns&&this.secondaryBalancedTree?(this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1):this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLikeLastPrimary()),this.addAutoGroupToGridColumns(),this.gridColumns=this.putFixedColumnsFirst(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(n){return e.gridColumnsMap[n.getId()]=n}),this.setAutoHeightActive(),this.eventService.dispatchEvent({type:ue.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(s){return s.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var e=this.rowModel.getType();e!==ae.ROW_MODEL_TYPE_CLIENT_SIDE&&e!==ae.ROW_MODEL_TYPE_SERVER_SIDE&&ye(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")}},t.prototype.orderGridColsLikeLastPrimary=function(){if(!E(this.lastPrimaryOrder)){var e=xn(this.lastPrimaryOrder.map(function(L,j){return[L,j]})),i=!0;if(this.gridColumns.forEach(function(L){e.has(L)&&(i=!1)}),!i){var n=xn(this.gridColumns.map(function(L){return[L,!0]})),s=this.lastPrimaryOrder.filter(function(L){return n.has(L)}),d=xn(s.map(function(L){return[L,!0]})),h=this.gridColumns.filter(function(L){return!d.has(L)}),O=s.slice();h.forEach(function(L){var j=L.getOriginalParent();if(j){for(var q=[];!q.length&&j;)j.getLeafColumns().forEach(function(Ae){var Pe=O.indexOf(Ae)>=0,We=q.indexOf(Ae)<0;Pe&&We&&q.push(Ae)}),j=j.getOriginalParent();if(q.length){var re=q.map(function(Ae){return O.indexOf(Ae)}),me=Math.max.apply(Math,Au(re));Si(O,L,me+1)}else O.push(L)}else O.push(L)}),this.gridColumns=O}}},t.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},t.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},t.prototype.putFixedColumnsFirst=function(e){var i=e.filter(function(s){return s.getColDef().lockPosition}),n=e.filter(function(s){return!s.getColDef().lockPosition});return i.concat(n)},t.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!E(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=e.concat(this.gridBalancedTree)}},t.prototype.clearDisplayedAndViewportColumns=function(){this.displayedTreeLeft=[],this.displayedTreeRight=[],this.displayedTreeCentre=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[]},t.prototype.updateGroupsAndDisplayedColumns=function(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:ue.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.deriveDisplayedColumns=function(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(function(i){return i.isAutoHeight()})},t.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},t.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},t.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},t.prototype.setLeftValues=function(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()},t.prototype.setLeftValuesOfColumns=function(e){var i=this;if(this.primaryColumns){var n=this.primaryColumns.slice(0),s=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(d){if(s){var h=i.getWidthOfColsInList(d);d.forEach(function(L){h-=L.getActualWidth(),L.setLeft(h,e)})}else{var O=0;d.forEach(function(L){L.setLeft(O,e),O+=L.getActualWidth()})}Qt(n,d)}),n.forEach(function(d){d.setLeft(null,e)})}},t.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(e){e.forEach(function(i){i instanceof Jt&&i.checkLeft()})})},t.prototype.derivedDisplayedColumnsFromDisplayedTree=function(e,i){i.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(e,function(n){n instanceof lt&&i.push(n)})},t.prototype.extractViewportColumns=function(){this.viewportColumnsCenter=this.suppressColumnVirtualisation?this.displayedColumnsCenter:this.filterOutColumnsWithinViewport(),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},t.prototype.getVirtualHeaderGroupRow=function(e,i){var n;switch(e){case ae.PINNED_LEFT:n=this.viewportRowLeft[i];break;case ae.PINNED_RIGHT:n=this.viewportRowRight[i];break;default:n=this.viewportRowCenter[i]}return E(n)&&(n=[]),n},t.prototype.extractViewportRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var e={};this.viewportColumns.forEach(function(n){return e[n.getId()]=!0});var i=function(n,s,d){for(var h=!1,O=0;O<n.length;O++){var L=n[O],j=!1;if(L instanceof lt)j=!0===e[L.getId()];else{var J=L.getDisplayedChildren();J&&(j=i(J,s,d+1))}j&&(h=!0,s[d]||(s[d]=[]),s[d].push(L))}return h};i(this.displayedTreeLeft,this.viewportRowLeft,0),i(this.displayedTreeRight,this.viewportRowRight,0),i(this.displayedTreeCentre,this.viewportRowCenter,0)},t.prototype.extractViewport=function(){this.extractViewportColumns(),this.extractViewportRows()},t.prototype.filterOutColumnsWithinViewport=function(){return this.displayedColumnsCenter.filter(this.isColumnInViewport.bind(this))},t.prototype.refreshFlexedColumns=function(e){var i=this;void 0===e&&(e={});var n=e.source?e.source:"flex";if(null!=e.viewportWidth&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];var s=-1;e.resizingCols&&e.resizingCols.forEach(function(Ke){var ot=i.displayedColumnsCenter.indexOf(Ke);s<ot&&(s=ot)});var d=function(Ke){var ot=i.displayedColumnsCenter.indexOf(Ke)>s;return Ke.getFlex()&&ot},h=this.displayedColumnsCenter.filter(function(Ke){return!d(Ke)}),O=this.displayedColumnsCenter.filter(function(Ke){return d(Ke)}),L=[];if(!O.length)return[];var q,j=[];e:for(;;){var J=O.reduce(function(Ke,ot){return Ke+ot.getFlex()},0);q=this.flexViewportWidth-this.getWidthOfColsInList(h);for(var re=0;re<O.length;re++){var me=O[re],Ae=q*me.getFlex()/J,Pe=0,We=me.getMinWidth(),Ve=me.getMaxWidth();if(W(We)&&Ae<We?Pe=We:W(Ve)&&Ae>Ve&&(Pe=Ve),Pe){me.setActualWidth(Pe,n),zt(O,me),L.push(me),h.push(me);continue e}j[re]=Math.round(Ae)}break}var $e=q;return O.forEach(function(Ke,ot){Ke.setActualWidth(Math.min(j[ot],$e),n),L.push(Ke),$e-=j[ot]}),e.skipSetLeft||this.setLeftValues(n),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.fireColumnResizedEvent(L,!0,n,O),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),O},t.prototype.sizeColumnsToFit=function(e,i,n){void 0===i&&(i="sizeColumnsToFit");var s=this.getAllDisplayedColumns();if(!(e<=0)&&s.length){var d=[],h=[];s.forEach(function($e){!0===$e.getColDef().suppressSizeToFit?h.push($e):d.push($e)});var O=d.slice(0),L=!1,j=function($e){zt(d,$e),h.push($e)};for(d.forEach(function($e){return $e.resetActualWidth(i)});!L;){L=!0;var q=e-this.getWidthOfColsInList(h);if(q<=0)d.forEach(function($e){$e.setMinimum(i)});else for(var J=q/this.getWidthOfColsInList(d),re=q,me=d.length-1;me>=0;me--){var Ae=d[me],Pe=Ae.getMinWidth(),We=Ae.getMaxWidth(),Ve=Math.round(Ae.getActualWidth()*J);W(Pe)&&Ve<Pe?(Ve=Pe,j(Ae),L=!1):W(We)&&Ae.isGreaterThanMax(Ve)?(Ve=We,j(Ae),L=!1):0===me&&(Ve=re),Ae.setActualWidth(Ve,i,!0),re-=Ve}}O.forEach(function($e){$e.fireColumnWidthChangedEvent(i)}),this.setLeftValues(i),this.updateBodyWidths(),!n&&this.fireColumnResizedEvent(O,!0,i)}},t.prototype.buildDisplayedTrees=function(e){var i=[],n=[],s=[];e.forEach(function(h){switch(h.getPinned()){case"left":i.push(h);break;case"right":n.push(h);break;default:s.push(h)}});var d=new pl;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(i,this.gridBalancedTree,d,ae.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(n,this.gridBalancedTree,d,ae.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(s,this.gridBalancedTree,d,null,this.displayedTreeCentre),this.updateDisplayedMap()},t.prototype.updateDisplayedMap=function(){var e=this;this.displayedColumnsAndGroupsMap={};var i=function(n){e.displayedColumnsAndGroupsMap[n.getUniqueId()]=n};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,i),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,i),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,i)},t.prototype.isDisplayed=function(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e},t.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var e=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(e,function(i){i instanceof Jt&&i.calculateDisplayedColumns()})},t.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},t.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var e=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),i=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||i||e)this.groupAutoColumns=null;else{var d=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);(!this.autoColsEqual(d,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=d)}}},t.prototype.autoColsEqual=function(e,i){return Ht(e,i,function(n,s){return n.getColId()===s.getColId()})},t.prototype.getWidthOfColsInList=function(e){return e.reduce(function(i,n){return i+n.getActualWidth()},0)},t.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},t.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some(function(i){return i.getColDef().floatingFilter})},t.prototype.getFirstDisplayedColumn=function(){var e=this.gridOptionsWrapper.isEnableRtl(),i=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&i.reverse();for(var n=0;n<i.length;n++){var s=this[i[n]]();if(s.length)return e?Qe(s):s[0]}return null},Zt([Q("expressionService")],t.prototype,"expressionService",void 0),Zt([Q("columnFactory")],t.prototype,"columnFactory",void 0),Zt([Q("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),Zt([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),Zt([Q("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),Zt([Q("columnUtils")],t.prototype,"columnUtils",void 0),Zt([Q("columnAnimationService")],t.prototype,"columnAnimationService",void 0),Zt([Q("autoGroupColService")],t.prototype,"autoGroupColService",void 0),Zt([it("aggFuncService")],t.prototype,"aggFuncService",void 0),Zt([it("valueCache")],t.prototype,"valueCache",void 0),Zt([it("animationFrameService")],t.prototype,"animationFrameService",void 0),Zt([Q("rowModel")],t.prototype,"rowModel",void 0),Zt([Q("columnApi")],t.prototype,"columnApi",void 0),Zt([Q("gridApi")],t.prototype,"gridApi",void 0),Zt([Q("sortController")],t.prototype,"sortController",void 0),Zt([Q("columnDefFactory")],t.prototype,"columnDefFactory",void 0),Zt([be],t.prototype,"init",null),Zt([Wp(0,Et("loggerFactory"))],t.prototype,"setBeans",null),Zt([je("columnModel")],t)}(Ze),jp=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Bs=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return jp(t,a),t.prototype.calculateColMinWidth=function(e){return null!=e.minWidth?e.minWidth:this.gridOptionsWrapper.getMinColWidth()},t.prototype.calculateColMaxWidth=function(e){return null!=e.maxWidth?e.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||Number.MAX_SAFE_INTEGER},t.prototype.calculateColInitialWidth=function(e){var s,i=this.calculateColMinWidth(e),n=this.calculateColMaxWidth(e),d=F(e.width),h=F(e.initialWidth);return s=null!=d?d:null!=h?h:this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(s,n),i)},t.prototype.getOriginalPathForColumn=function(e,i){var n=[],s=!1,d=function(h,O){for(var L=0;L<h.length;L++){if(s)return;var j=h[L];j instanceof Nt?(d(j.getChildren(),O+1),n[O]=j):j===e&&(s=!0)}};return d(i,0),s?n:null},t.prototype.depthFirstOriginalTreeSearch=function(e,i,n){var s=this;!i||i.forEach(function(d){d instanceof Nt&&s.depthFirstOriginalTreeSearch(d,d.getChildren(),n),n(d,e)})},t.prototype.depthFirstAllColumnTreeSearch=function(e,i){var n=this;!e||e.forEach(function(s){s instanceof Jt&&n.depthFirstAllColumnTreeSearch(s.getChildren(),i),i(s)})},t.prototype.depthFirstDisplayedColumnTreeSearch=function(e,i){var n=this;!e||e.forEach(function(s){s instanceof Jt&&n.depthFirstDisplayedColumnTreeSearch(s.getDisplayedChildren(),i),i(s)})},t=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s}([je("columnUtils")],t),t}(Ze),Up=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Du=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return Up(t,a),t.prototype.createDisplayedGroups=function(e,i,n,s,d){var L,j,h=this,O=[],q=this.mapOldGroupsById(d);return e.forEach(function(J){for(var re=h.getOriginalPathForColumn(i,J),me=[],Ae=!j,Pe=0;Pe<re.length;Pe++)if(Ae||re[Pe]!==j[Pe]){var We=h.createColumnGroup(re[Pe],n,q,s);me[Pe]=We,0==Pe?O.push(We):me[Pe-1].addChild(We)}else me[Pe]=L[Pe];0===me.length?O.push(J):Qe(me).addChild(J),L=me,j=re}),this.setupParentsIntoColumns(O,null),O},t.prototype.createColumnGroup=function(e,i,n,s){var d=e.getGroupId(),h=i.getInstanceIdForKey(d),L=n[Jt.createUniqueId(d,h)];return L&&L.getProvidedColumnGroup()!==e&&(L=null),W(L)?L.reset():(L=new Jt(e,d,h,s),this.context.createBean(L)),L},t.prototype.mapOldGroupsById=function(e){var i={},n=function(s){s.forEach(function(d){if(d instanceof Jt){var h=d;i[d.getUniqueId()]=h,n(h.getChildren())}})};return e&&n(e),i},t.prototype.setupParentsIntoColumns=function(e,i){var n=this;e.forEach(function(s){if(s.setParent(i),s instanceof Jt){var d=s;n.setupParentsIntoColumns(d.getChildren(),d)}})},t.prototype.getOriginalPathForColumn=function(e,i){var n=[],s=!1,d=function(h,O){for(var L=0;L<h.length;L++){if(s)return;var j=h[L];j instanceof Nt?(d(j.getChildren(),O+1),n[O]=j):j===i&&(s=!0)}};return d(e,0),s?n:(console.warn("AG Grid: could not get path"),null)},t=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s}([je("displayedGroupCreator")],t),t}(Ze),Ir=function(a,t){var e="function"==typeof Symbol&&a[Symbol.iterator];if(!e)return a;var n,d,i=e.call(a),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(h){d={error:h}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},Ri=function(){function a(){}return a.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType"],a.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","statusBar","sideBar","chartThemeOverrides","customChartThemes"],a.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],a.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],a.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation"],a.ALL_PROPERTIES=function(){for(var a=[],t=0;t<arguments.length;t++)a=a.concat(Ir(arguments[t]));return a}(a.ARRAY_PROPERTIES,a.OBJECT_PROPERTIES,a.STRING_PROPERTIES,a.NUMBER_PROPERTIES,a.FUNCTION_PROPERTIES=["localeTextFunc","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getRowNodeId","isFullWidthCell","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","isRowMaster","isRowSelectable","postSort","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","defaultGroupSortComparator","defaultGroupOrderComparator","loadingCellRendererSelector","getRowId"],a.BOOLEAN_PROPERTIES),a.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],a}(),ml=function(){return ml=Object.assign||function(a){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a},ml.apply(this,arguments)},vl=function(a,t){var e="function"==typeof Symbol&&a[Symbol.iterator];if(!e)return a;var n,d,i=e.call(a),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(h){d={error:h}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},yl=function(){for(var a=[],t=0;t<arguments.length;t++)a=a.concat(vl(arguments[t]));return a},On=function(){function a(){}return a.getEventCallbacks=function(){return a.EVENT_CALLBACKS||(a.EVENT_CALLBACKS=a.EVENTS.map(function(t){return a.getCallbackForEvent(t)})),a.EVENT_CALLBACKS},a.copyAttributesToGridOptions=function(t,e,i){"object"!=typeof t&&(t={});var n=t,s=function(d){return void 0!==e[d]};return yl(a.ARRAY_PROPERTIES,a.STRING_PROPERTIES,a.OBJECT_PROPERTIES,a.FUNCTION_PROPERTIES,a.getEventCallbacks()).filter(s).forEach(function(d){return n[d]=e[d]}),a.BOOLEAN_PROPERTIES.filter(s).forEach(function(d){return n[d]=a.toBoolean(e[d])}),a.NUMBER_PROPERTIES.filter(s).forEach(function(d){return n[d]=a.toNumber(e[d])}),t},a.getCallbackForEvent=function(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substr(1)},a.processOnChange=function(t,e,i,n){if(t){var s=ml({},t),d=e,h=function(j){return s[j]};yl(a.ARRAY_PROPERTIES,a.OBJECT_PROPERTIES,a.STRING_PROPERTIES,a.getEventCallbacks()).filter(h).forEach(function(j){return d[j]=s[j].currentValue}),a.BOOLEAN_PROPERTIES.filter(h).forEach(function(j){return d[j]=a.toBoolean(s[j].currentValue)}),a.NUMBER_PROPERTIES.filter(h).forEach(function(j){return d[j]=a.toNumber(s[j].currentValue)}),s.enableCellTextSelection&&(i.setEnableCellTextSelection(a.toBoolean(s.enableCellTextSelection.currentValue)),delete s.enableCellTextSelection),s.quickFilterText&&(i.setQuickFilter(s.quickFilterText.currentValue),delete s.quickFilterText),s.autoGroupColumnDef&&(i.setAutoGroupColumnDef(s.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete s.autoGroupColumnDef),s.columnDefs&&(i.setColumnDefs(s.columnDefs.currentValue,"gridOptionsChanged"),delete s.columnDefs),s.defaultColDef&&(i.setDefaultColDef(s.defaultColDef.currentValue,"gridOptionsChanged"),delete s.defaultColDef),s.paginationPageSize&&(i.paginationSetPageSize(a.toNumber(s.paginationPageSize.currentValue)),delete s.paginationPageSize),s.pivotMode&&(n.setPivotMode(a.toBoolean(s.pivotMode.currentValue)),delete s.pivotMode),s.groupRemoveSingleChildren&&(i.setGroupRemoveSingleChildren(a.toBoolean(s.groupRemoveSingleChildren.currentValue)),delete s.groupRemoveSingleChildren),s.suppressRowDrag&&(i.setSuppressRowDrag(a.toBoolean(s.suppressRowDrag.currentValue)),delete s.suppressRowDrag),s.suppressMoveWhenRowDragging&&(i.setSuppressMoveWhenRowDragging(a.toBoolean(s.suppressMoveWhenRowDragging.currentValue)),delete s.suppressMoveWhenRowDragging),s.suppressRowClickSelection&&(i.setSuppressRowClickSelection(a.toBoolean(s.suppressRowClickSelection.currentValue)),delete s.suppressRowClickSelection),s.suppressClipboardPaste&&(i.setSuppressClipboardPaste(a.toBoolean(s.suppressClipboardPaste.currentValue)),delete s.suppressClipboardPaste),s.headerHeight&&(i.setHeaderHeight(a.toNumber(s.headerHeight.currentValue)),delete s.headerHeight);var O=i;Object.keys(s).forEach(function(j){var q="set"+j.charAt(0).toUpperCase()+j.substring(1);O[q]&&O[q](t[j].currentValue)});var L={type:ue.EVENT_COMPONENT_STATE_CHANGED,api:e.api,columnApi:e.columnApi};v(t,function(j,q){L[j]=q}),i.dispatchEvent(L)}},a.toBoolean=function(t){return"boolean"==typeof t?t:"string"==typeof t&&("TRUE"===t.toUpperCase()||""==t)},a.toNumber=function(t){return"number"==typeof t?t:"string"==typeof t?Number(t):void 0},a.EVENTS=[],a.PUBLIC_EVENTS=[],a.EXCLUDED_INTERNAL_EVENTS=[],a.STRING_PROPERTIES=Ri.STRING_PROPERTIES,a.OBJECT_PROPERTIES=Ri.OBJECT_PROPERTIES,a.ARRAY_PROPERTIES=Ri.ARRAY_PROPERTIES,a.NUMBER_PROPERTIES=Ri.NUMBER_PROPERTIES,a.BOOLEAN_PROPERTIES=Ri.BOOLEAN_PROPERTIES,a.FUNCTION_PROPERTIES=Ri.FUNCTION_PROPERTIES,a.ALL_PROPERTIES=Ri.ALL_PROPERTIES,a}();On.EVENTS=C(ue),On.EXCLUDED_INTERNAL_EVENTS=[ue.EVENT_SCROLLBAR_WIDTH_CHANGED,ue.EVENT_CHECKBOX_CHANGED,ue.EVENT_HEIGHT_SCALE_CHANGED,ue.EVENT_BODY_HEIGHT_CHANGED,ue.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,ue.EVENT_SCROLL_VISIBILITY_CHANGED,ue.EVENT_COLUMN_HOVER_CHANGED,ue.EVENT_FLASH_CELLS,ue.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,ue.EVENT_DISPLAYED_ROWS_CHANGED,ue.EVENT_LEFT_PINNED_WIDTH_CHANGED,ue.EVENT_RIGHT_PINNED_WIDTH_CHANGED,ue.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,ue.EVENT_POPUP_TO_FRONT,ue.EVENT_KEYBOARD_FOCUS,ue.EVENT_MOUSE_FOCUS,ue.EVENT_STORE_UPDATED,ue.EVENT_COLUMN_PANEL_ITEM_DRAG_START,ue.EVENT_COLUMN_PANEL_ITEM_DRAG_END,ue.EVENT_FILL_START,ue.EVENT_FILL_END],On.PUBLIC_EVENTS=On.EVENTS.filter(function(a){return!ii(On.EXCLUDED_INTERNAL_EVENTS,a)});var xu=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_l=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.componentsMappedByName={},e}return xu(t,a),t.prototype.setupComponents=function(e){var i=this;e&&e.forEach(function(n){return i.addComponent(n)})},t.prototype.addComponent=function(e){var n=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[n]=e.componentClass},t.prototype.getComponentClass=function(e){return this.componentsMappedByName[e]},t=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s}([je("agStackComponentsRegistry")],t),t}(Ze),qp=function(a,t){var e="function"==typeof Symbol&&a[Symbol.iterator];if(!e)return a;var n,d,i=e.call(a),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(h){d={error:h}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},wl=function(){function a(){}return a.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","template","templateUrl","filter","initialAggFunc","aggFunc","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],a.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRenderer","cellRendererParams","cellRendererFramework","cellEditor","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","floatingFilterFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],a.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],a.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],a.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle"],a.ALL_PROPERTIES=function(){for(var a=[],t=0;t<arguments.length;t++)a=a.concat(qp(arguments[t]));return a}(a.ARRAY_PROPERTIES,a.OBJECT_PROPERTIES,a.STRING_PROPERTIES,a.NUMBER_PROPERTIES,a.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],a.BOOLEAN_PROPERTIES),a.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],a}(),Ou=function(a,t){var e="function"==typeof Symbol&&a[Symbol.iterator];if(!e)return a;var n,d,i=e.call(a),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(h){d={error:h}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},Xn=function(){function a(t,e,i,n){void 0===n&&(n=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,i||0)),this.a=Math.min(1,Math.max(0,n||0))}return a.fromString=function(t){if(t.indexOf("#")>=0)return a.fromHexString(t);var e=a.nameToHex[t];if(e)return a.fromHexString(e);if(t.indexOf("rgb")>=0)return a.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},a.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var i=0;i<t.length;i+=2)e.push(parseInt(""+t[i]+t[i+1],16));break;case 3:case 4:e=t.split("").map(function(n){return parseInt(n,16)}).map(function(n){return n+16*n})}if(e.length>=3&&e.every(function(n){return n>=0}))return 3===e.length&&e.push(255),e},a.fromHexString=function(t){var e=a.parseHex(t);if(e){var i=Ou(e,4);return new a(i[0]/255,i[1]/255,i[2]/255,i[3]/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},a.stringToRgba=function(t){for(var e=Ou([NaN,NaN],2),i=e[0],n=e[1],s=0;s<t.length;s++){var d=t[s];if(i||"("!==d){if(")"===d){n=s;break}}else i=s}var h=i&&n&&t.substring(i+1,n);if(h){var O=h.split(","),L=[];for(s=0;s<O.length;s++){var j=O[s],q=parseFloat(j);if(isNaN(q))return;j.indexOf("%")>=0?(q=Math.max(0,Math.min(100,q)),q/=100):3===s?q=Math.max(0,Math.min(1,q)):(q=Math.max(0,Math.min(255,q)),q/=255),L.push(q)}return L}},a.fromRgbaString=function(t){var e=a.stringToRgba(t);if(e){if(3===e.length)return new a(e[0],e[1],e[2]);if(4===e.length)return new a(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+t+"'")},a.fromArray=function(t){if(4===t.length)return new a(t[0],t[1],t[2],t[3]);if(3===t.length)return new a(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},a.fromHSB=function(t,e,i,n){void 0===n&&(n=1);var s=a.HSBtoRGB(t,e,i);return new a(s[0],s[1],s[2],n)},a.padHex=function(t){return 1===t.length?"0"+t:t},a.prototype.toHexString=function(){var t="#"+a.padHex(Math.round(255*this.r).toString(16))+a.padHex(Math.round(255*this.g).toString(16))+a.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=a.padHex(Math.round(255*this.a).toString(16))),t},a.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],i=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*i)/i),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},a.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},a.prototype.toHSB=function(){return a.RGBtoHSB(this.r,this.g,this.b)},a.RGBtoHSB=function(t,e,i){var n=Math.min(t,e,i),s=Math.max(t,e,i),h=NaN;if(n!==s){var O=s-n,L=(s-t)/O,j=(s-e)/O,q=(s-i)/O;h=t===s?q-j:e===s?2+L-q:4+j-L,(h/=6)<0&&(h+=1)}return[360*h,0!==s?(s-n)/s:0,s]},a.HSBtoRGB=function(t,e,i){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var n=0,s=0,d=0;if(0===e)n=s=d=i;else{var h=6*(t-Math.floor(t)),O=h-Math.floor(h),L=i*(1-e),j=i*(1-e*O),q=i*(1-e*(1-O));switch(h>>0){case 0:n=i,s=q,d=L;break;case 1:n=j,s=i,d=L;break;case 2:n=L,s=i,d=q;break;case 3:n=L,s=j,d=i;break;case 4:n=q,s=L,d=i;break;case 5:n=i,s=L,d=j}}return[n,s,d]},a.prototype.derive=function(t,e,i,n){var s=a.RGBtoHSB(this.r,this.g,this.b),d=s[2];0==d&&i>1&&(d=.05);var h=((s[0]+t)%360+360)%360,O=Math.max(Math.min(s[1]*e,1),0);d=Math.max(Math.min(d*i,1),0);var L=Math.max(Math.min(this.a*n,1),0),j=a.HSBtoRGB(h,O,d);return j.push(L),a.fromArray(j)},a.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},a.prototype.darker=function(){return this.derive(0,1,.7,1)},a.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),a}();var El,ks,Gs,Lr,Sl,Hs,Al,Vs,yy=Object.freeze({stringToArray:function(a,t){void 0===t&&(t=",");var e=[],i=function(J){return"\r"===J||"\n"===J},n=!1;if(""===a)return[[""]];for(var d,h,O,s=function(J,re,me){var Ae=a[me-1],Pe=a[me],We=a[me+1],Ve=function(){e[J]||(e[J]=[]),e[J][re]||(e[J][re]="")};if(Ve(),'"'===Pe){if(n)return'"'===We?(e[J][re]+='"',me++):n=!1,d=J,h=re,O=me,"continue";if(void 0===Ae||Ae===t||i(Ae))return n=!0,d=J,h=re,O=me,"continue"}if(!n){if(Pe===t)return re++,Ve(),d=J,h=re,O=me,"continue";if(i(Pe))return re=0,J++,Ve(),"\r"===Pe&&"\n"===We&&me++,d=J,h=re,O=me,"continue"}e[J][re]+=Pe,d=J,h=re,O=me},L=0,j=0,q=0;q<a.length;q++)s(L,j,q),L=d,j=h,q=O;return e}});function Ws(){return void 0===Gs&&(void 0===ks&&(ks=!!document.documentMode),Gs=!(ks||!window.StyleMedia)),Gs}function Nr(){return void 0===El&&(El=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),El}function Br(){if(void 0===Lr){var a=window;Lr=!!a.chrome&&(!!a.chrome.webstore||!!a.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Lr}function Rl(){if(void 0===Sl){var a=window;Sl=void 0!==a.InstallTrigger}return Sl}function er(){return void 0===Hs&&(Hs=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),Hs}function $s(a){if(!a)return null;var t=a.tabIndex,e=a.getAttribute("tabIndex");return-1!==t||null!==e&&(""!==e||Rl())?t.toString():null}function Dl(){if(!document.body)return-1;var a=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,e=document.createElement("div");for(document.body.appendChild(e);;){var i=2*a;if(e.style.height=i+"px",i>t||e.clientHeight!==i)break;a=i}return document.body.removeChild(e),a}function Fu(){return null==Vs&&xl(),Vs}function xl(){var a=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",a.appendChild(t);var e=t.offsetWidth-t.clientWidth;0===e&&0===t.clientWidth&&(e=null),t.parentNode&&t.parentNode.removeChild(t),null!=e&&(Vs=e,Al=0===e)}function Pu(){return null==Al&&xl(),Al}function Yp(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function Qp(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var Po,_y=Object.freeze({isBrowserEdge:Ws,isBrowserSafari:Nr,isBrowserChrome:Br,isBrowserFirefox:Rl,isIOSUserAgent:er,getTabIndex:$s,getMaxDivHeight:Dl,getScrollbarWidth:Fu,isInvisibleScrollbar:Pu,hasOverflowScrolling:function(){var a,t,e=["webkit","moz","o","ms"],i=document.createElement("div"),s=!1;document.getElementsByTagName("body")[0].appendChild(i),i.setAttribute("style",e.map(function(j){return"-"+j+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var h=window.getComputedStyle(i);if("touch"===h.overflowScrolling&&(s=!0),!s)try{for(var O=function(a){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&a[t],i=0;if(e)return e.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&i>=a.length&&(a=void 0),{value:a&&a[i++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),L=O.next();!L.done;L=O.next())if("touch"===h[L.value+"OverflowScrolling"]){s=!0;break}}catch(j){a={error:j}}finally{try{L&&!L.done&&(t=O.return)&&t.call(O)}finally{if(a)throw a.error}}return i.parentNode&&i.parentNode.removeChild(i),s},getBodyWidth:Yp,getBodyHeight:Qp});function Lu(a){var t=Element.prototype.matches||Element.prototype.msMatchesSelector,e=t.call(a,ae.INPUT_SELECTOR),i=t.call(a,ae.FOCUSABLE_EXCLUDE),n=No(a);return e&&!i&&n}function Pt(a,t){a.classList.toggle("ag-hidden",!t)}function Jp(a,t){a.classList.toggle("ag-invisible",!t)}function Mo(a,t){var e="disabled",i=t?function(n){return n.setAttribute(e,"")}:function(n){return n.removeAttribute(e)};i(a),Hu(a.querySelectorAll("input"),function(n){return i(n)})}function bt(a,t,e){for(var i=0;a;){if(a.classList.contains(t))return!0;if(a=a.parentElement,e&&++i>e)break}return!1}function tr(a){var t=window.getComputedStyle(a),i=t.width,n=t.paddingTop,s=t.paddingRight,d=t.paddingBottom,h=t.paddingLeft,O=t.marginTop,L=t.marginRight,j=t.marginBottom,q=t.marginLeft,J=t.boxSizing;return{height:parseFloat(t.height),width:parseFloat(i),paddingTop:parseFloat(n),paddingRight:parseFloat(s),paddingBottom:parseFloat(d),paddingLeft:parseFloat(h),marginTop:parseFloat(O),marginRight:parseFloat(L),marginBottom:parseFloat(j),marginLeft:parseFloat(q),boxSizing:J}}function Io(a){var t=tr(a);return"border-box"===t.boxSizing?t.height-t.paddingTop-t.paddingBottom:t.height}function Ol(a){var t=tr(a);return"border-box"===t.boxSizing?t.width-t.paddingLeft-t.paddingRight:t.width}function Lo(a){var t=tr(a);return Math.ceil(a.offsetHeight+(t.marginBottom+t.marginTop))}function kr(a){var t=tr(a);return Math.ceil(a.offsetWidth+(t.marginLeft+t.marginRight))}function js(){if("boolean"==typeof Po)return Po;var a=document.createElement("div");return a.style.direction="rtl",a.style.width="1px",a.style.height="1px",a.style.position="fixed",a.style.top="0px",a.style.overflow="hidden",a.dir="rtl",a.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(a),a.scrollLeft=1,Po=0===Math.floor(a.scrollLeft),document.body.removeChild(a),Po}function Xt(a,t){var e=a.scrollLeft;return t&&(e=Math.abs(e),Br()&&!js()&&(e=a.scrollWidth-a.clientWidth-e)),e}function Us(a,t,e){e&&(js()?t*=-1:(Nr()||Br())&&(t=a.scrollWidth-a.clientWidth-t)),a.scrollLeft=t}function Ci(a){for(;a&&a.firstChild;)a.removeChild(a.firstChild)}function Yi(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function No(a){return null!==a.offsetParent}function Wt(a){if(null!==DOMParser)return(new DOMParser).parseFromString(a,"text/html").body.firstChild;var i=document.createElement("div");return i.innerHTML=(a||"").trim(),i.firstChild}function Nu(a){return a&&a.clientHeight?a.clientHeight:0}function Tl(a){return a&&a.clientWidth?a.clientWidth:0}function Fl(a,t,e){e&&e.nextSibling===t||(e?e.nextSibling?a.insertBefore(t,e.nextSibling):a.appendChild(t):a.firstChild&&a.firstChild!==t&&a.insertAdjacentElement("afterbegin",t))}function zs(a,t){for(var e=0;e<t.length;e++){var i=t[e],n=a.children[e];n!==i&&a.insertBefore(i,n)}}function ir(a,t,e){e?e.insertAdjacentElement("afterend",t):a.firstChild?a.insertAdjacentElement("afterbegin",t):a.appendChild(t)}function nr(a,t){!t||Object.keys(t).forEach(function(e){var i=Gp(e);i&&(a.style[i]=t[e])})}function ku(a){return a.clientWidth<a.scrollWidth}function ef(a){return a.clientHeight<a.scrollHeight}function Zs(a,t){"flex"===t?(a.style.removeProperty("width"),a.style.removeProperty("minWidth"),a.style.removeProperty("maxWidth"),a.style.flex="1 1 auto"):Qi(a,t)}function Qi(a,t){t=Gu(t),a.style.width=t.toString(),a.style.maxWidth=t.toString(),a.style.minWidth=t.toString()}function Gr(a,t){t=Gu(t),a.style.height=t.toString(),a.style.maxHeight=t.toString(),a.style.minHeight=t.toString()}function Gu(a){return"number"==typeof a?a+"px":a}function nf(a){return"function"==typeof Node?a instanceof Node:a&&"object"==typeof a&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName}function rf(a){return"function"==typeof HTMLElement?a instanceof HTMLElement:a&&_e(a)&&1===a.nodeType&&"string"==typeof a.nodeName}function qs(a){return nf(a)||rf(a)}function sf(a){if(null==a)return[];var t=[];return Hu(a,function(e){return t.push(e)}),t}function af(a,t){if(a)for(var e=0;e<a.length;e++){var i=a[e];t(i.name,i.value)}}function Bo(a,t,e){null==e?a.removeAttribute(t):a.setAttribute(t,e.toString())}function Hu(a,t){if(null!=a)for(var e=0;e<a.length;e++)t(a[e])}var by=Object.freeze({radioCssClass:function(a,t,e){for(var i=a.parentElement,n=i&&i.firstChild;n;)t&&n.classList.toggle(t,n===a),e&&n.classList.toggle(e,n!==a),n=n.nextSibling},isFocusableFormField:Lu,setDisplayed:Pt,setVisible:Jp,setDisabled:Mo,isElementChildOfClass:bt,getElementSize:tr,getInnerHeight:Io,getInnerWidth:Ol,getAbsoluteHeight:Lo,getAbsoluteWidth:kr,isRtlNegativeScroll:js,getScrollLeft:Xt,setScrollLeft:Us,clearElement:Ci,removeElement:function(a,t){Yi(a.querySelector(t))},removeFromParent:Yi,isVisible:No,loadTemplate:Wt,appendHtml:function(a,t){a.lastChild?a.insertAdjacentHTML("afterbegin",t):a.innerHTML=t},getElementAttribute:function(a,t){return a.attributes&&a.attributes[t]?a.attributes[t].value:null},offsetHeight:Nu,offsetWidth:Tl,ensureDomOrder:Fl,setDomChildOrder:zs,insertWithDomOrder:ir,prependDC:function(a,t){W(a.firstChild)?a.insertBefore(t,a.firstChild):a.appendChild(t)},addStylesToElement:nr,isHorizontalScrollShowing:ku,isVerticalScrollShowing:ef,setElementWidth:Zs,setFixedWidth:Qi,setElementHeight:function(a,t){"flex"===t?(a.style.removeProperty("height"),a.style.removeProperty("minHeight"),a.style.removeProperty("maxHeight"),a.style.flex="1 1 auto"):Gr(a,t)},setFixedHeight:Gr,formatSize:Gu,isNode:nf,isElement:rf,isNodeOrElement:qs,copyNodeList:sf,iterateNamedNodeMap:af,setCheckboxState:function(a,t){"boolean"==typeof t?(a.checked=t,a.indeterminate=!1):a.indeterminate=!0},addOrRemoveAttribute:Bo,nodeListForEach:Hu}),Dy=Object.freeze({getNameOfClass:function(a){var e=a.toString(),i=/function (.{1,})\(/.exec(e);return i&&i.length>1?i[1]:""},findLineByLeastSquares:function(a){var t=a.length,e=0;if(t<=1)return a;for(var i=0;i<a.length;i++){var n=a[i],s=n.toString().split("e-");s.length>1?e=Math.max(e,parseInt(s[1],10)):Math.floor(n)!==n&&(e=Math.max(e,n.toString().split(".")[1].length))}for(var d=0,h=0,O=0,L=0,j=0,q=0;q<t;q++)d+=q,h+=j=a[q],L+=q*q,O+=q*j;var J=(t*O-d*h)/(t*L-d*d),re=h/t-J*d/t,me=[];for(q=0;q<=t;q++)me.push(parseFloat((q*J+re).toFixed(e)));return me},cssStyleObjectToMarkup:function(a){if(!a)return"";var t=[];return v(a,function(e,i){var n=kp(e);t.push(n+": "+i+";")}),t.join(" ")},message:function(a){var t=document.createElement("div"),e=document.querySelector("#__ag__message");t.innerHTML=a,e||(e=Wt('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(e)),e.insertBefore(t,e.children[0])},bindCellRendererToHtmlElement:function(a,t){a.then(function(e){var i=e.getGui();null!=i&&("object"==typeof i?t.appendChild(i):t.innerHTML=i)})}});function li(a,t,e){a.setAttribute(lf(t),e.toString())}function ko(a,t){a.removeAttribute(lf(t))}function lf(a){return"aria-"+a}function fi(a,t){t?a.setAttribute("role",t):a.removeAttribute("role")}function cf(a){return a.isSortAscending()?"ascending":a.isSortDescending()?"descending":"none"}function uf(a){return parseInt(a.getAttribute("aria-level"),10)}function df(a){return parseInt(a.getAttribute("aria-posinset"),10)}function Hr(a,t){var e="label";t?li(a,e,t):ko(a,e)}function Vu(a,t){var e="labelledby";t?li(a,e,t):ko(a,e)}function Ml(a,t){var e="describedby";t?li(a,e,t):ko(a,e)}function hf(a,t){li(a,"level",t)}function Go(a,t){li(a,"disabled",t)}function Di(a,t){li(a,"expanded",t)}function Wu(a,t){li(a,"setsize",t)}function $u(a,t){li(a,"posinset",t)}function pf(a,t){li(a,"multiselectable",t)}function ff(a,t){li(a,"rowcount",t)}function ju(a,t){li(a,"rowindex",t)}function gf(a,t){li(a,"colcount",t)}function Il(a,t){li(a,"colindex",t)}function Uu(a,t){li(a,"colspan",t)}function mf(a,t){li(a,"sort",t)}function vf(a){ko(a,"sort")}function Ho(a,t){var e="selected";t?li(a,e,t):ko(a,e)}function yf(a,t){li(a,"checked",void 0===t?"mixed":t)}var Ty=Object.freeze({setAriaRole:fi,getAriaSortState:cf,getAriaLevel:uf,getAriaPosInSet:df,getAriaDescribedBy:function(a){return a.getAttribute("aria-describedby")||""},setAriaLabel:Hr,setAriaLabelledBy:Vu,setAriaDescribedBy:Ml,setAriaLevel:hf,setAriaDisabled:Go,setAriaExpanded:Di,removeAriaExpanded:function(a){ko(a,"expanded")},setAriaSetSize:Wu,setAriaPosInSet:$u,setAriaMultiSelectable:pf,setAriaRowCount:ff,setAriaRowIndex:ju,setAriaColCount:gf,setAriaColIndex:Il,setAriaColSpan:Uu,setAriaSort:mf,removeAriaSort:vf,setAriaSelected:Ho,setAriaChecked:yf});function zu(a,t){return a.toString().padStart(t,"0")}function _f(a,t){for(var e=[],i=a;i<=t;i++)e.push(i);return e}function Ll(a){return""!==a&&!isNaN(parseFloat(a))&&isFinite(a)}function Zu(a,t,e){return"number"!=typeof a?"":a.toString().replace(".",e).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+t)}var Ly=Object.freeze({padStartWidthZeros:zu,createArrayOfNumbers:_f,isNumeric:Ll,cleanNumber:function(a){return"string"==typeof a&&(a=parseInt(a,10)),"number"==typeof a?Math.floor(a):null},decToHex:function(a,t){for(var e="",i=0;i<t;i++)e+=String.fromCharCode(255&a),a>>>=8;return e},formatNumberTwoDecimalPlacesAndCommas:function(a,t,e){return"number"!=typeof a?"":Zu(Math.round(100*a)/100,t,e)},formatNumberCommas:Zu,sum:function(a){return null==a?null:a.reduce(function(t,e){return t+e},0)}}),qu=function(a,t){var e="function"==typeof Symbol&&a[Symbol.iterator];if(!e)return a;var n,d,i=e.call(a),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(h){d={error:h}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s};function rr(a,t,e){if(void 0===t&&(t=!0),void 0===e&&(e="-"),!a)return null;var i=[a.getFullYear(),a.getMonth()+1,a.getDate()].map(function(n){return zu(n,2)}).join(e);return t&&(i+=" "+[a.getHours(),a.getMinutes(),a.getSeconds()].map(function(n){return zu(n,2)}).join(":")),i}function or(a){if(!a)return null;var t=qu(a.split(" "),2),e=t[0],i=t[1];if(!e)return null;var n=e.split("-").map(function(me){return parseInt(me,10)});if(3!==n.filter(function(me){return!isNaN(me)}).length)return null;var s=qu(n,3),d=s[0],h=s[1],O=s[2],L=new Date(d,h-1,O);if(L.getFullYear()!==d||L.getMonth()!==h-1||L.getDate()!==O)return null;if(!i||"00:00:00"===i)return L;var j=qu(i.split(":").map(function(me){return parseInt(me,10)}),3),q=j[0],J=j[1],re=j[2];return q>=0&&q<24&&L.setHours(q),J>=0&&J<60&&L.setMinutes(J),re>=0&&re<60&&L.setSeconds(re),L}var Ny=Object.freeze({serialiseDate:rr,parseDateTimeFromString:or});function Cf(a,t,e){var i={},n=a.filter(function(s){return!t.some(function(d){return d===s})});return n.length>0&&n.forEach(function(s){return i[s]=wf(s,e)}),i}function wf(a,t,e,i){var n=i?Ef:bf,s=t.map(function(d){return{value:d,relevance:n(a.toLowerCase(),d.toLocaleLowerCase())}});return s.sort(function(d,h){return h.relevance-d.relevance}),e&&(s=s.filter(function(d){return 0!==d.relevance})),s.map(function(d){return d.value})}function Ku(a){var i,n,s,t=a.toLowerCase(),e=new Array(t.length-1);for(i=n=0,s=e.length;n<=s;i=n+=1)e[i]=t.slice(i,i+2);return e}function bf(a,t){if(0===a.length&&0===t.length)return 0;var d,h,e=Ku(a),i=Ku(t),n=e.length+i.length,s=0;for(d=0,h=e.length;d<h;d++){var j,O=e[d],L=void 0;for(L=0,j=i.length;L<j;L++)O===i[L]&&s++}return s>0?2*s/n:0}function Ef(a,t){for(var e=a.replace(/\s/g,""),i=t.replace(/\s/g,""),n=0,s=0,d=0;d<e.length;d++){var h=i.indexOf(e[d],s);-1!==h&&(n+=100-100*(s=h)/1e4*100)}return n}var By=Object.freeze({fuzzyCheckStrings:Cf,fuzzySuggestions:wf,get_bigrams:Ku,string_distances:bf,string_weighted_distances:Ef}),Sf={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function ki(a,t,e){var i=qt(a,t,e);if(i&&i.className.indexOf("ag-icon")>-1)return i;var n=document.createElement("span");return n.appendChild(i),n}function qt(a,t,e,i){var n=null,s=e&&e.getColDef().icons;if(s&&(n=s[a]),t&&!n){var d=t.getIcons();d&&(n=d[a])}if(!n){var O=document.createElement("span"),L=Sf[a];return L||(i?L=a:(console.warn("AG Grid: Did not find icon "+a),L="")),O.setAttribute("class","ag-icon ag-icon-"+L),O.setAttribute("unselectable","on"),fi(O,"presentation"),O}var h=void 0;if("function"==typeof n)h=n();else{if("string"!=typeof n)throw new Error("icon from grid options needs to be a string or a function");h=n}return"string"==typeof h?Wt(h):qs(h)?h:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var ky=Object.freeze({iconNameClassMap:Sf,createIcon:ki,createIconNoSpan:qt});function Af(a){if(a.altKey||a.ctrlKey||a.metaKey)return!1;var t=1===a.key.length,e=function(a){return Ws()&&"Del"===a.key&&46===a.charCode}(a);return t||e}function Nl(a,t,e,i,n){var s=a.getSuppressKeyboardEventFunc(),d=i?i.getColDef().suppressKeyboardEvent:void 0;if(!s&&!d)return!1;var h={event:t,editing:n,column:i,api:a.getApi(),node:e,data:e.data,colDef:i.getColDef(),context:a.getContext(),columnApi:a.getColumnApi()};return!(!d||!d(h))||!!s&&s(h)}function Rf(a,t,e,i){var n=i.getDefinition(),s=n&&n.suppressHeaderKeyboardEvent;return!!W(s)&&!!s({api:a.getApi(),columnApi:a.getColumnApi(),context:a.getContext(),colDef:n,column:i,headerRowIndex:e,event:t})}var Wy=Object.freeze({isEventFromPrintableCharacter:Af,isUserSuppressingKeyboardEvent:Nl,isUserSuppressingHeaderKeyboardEvent:Rf});function Yu(a,t,e){if(0===e)return!1;var i=Math.abs(a.clientX-t.clientX),n=Math.abs(a.clientY-t.clientY);return Math.max(i,n)<=e}var $y=Object.freeze({areEventsNear:Yu}),zy=Object.freeze({sortRowNodesByOrder:function(a,t){if(a){for(var e=function(h,O){var L=t[h.id],j=t[O.id],q=void 0!==L,J=void 0!==j;return q&&J?L-j:q||J?q?1:-1:h.__objectId-O.__objectId},s=!1,d=0;d<a.length-1;d++)if(e(a[d],a[d+1])>0){s=!0;break}s&&a.sort(e)}},traverseNodesWithKey:function(a,t){var e=[];!function i(n){!n||n.forEach(function(s){if(s.group||s.hasChildren()){e.push(s.key);var d=e.join("|");t(s,d),i(s.childrenAfterGroup),e.pop()}})}(a)}});function Qu(a){var t=new Set;return a.forEach(function(e){return t.add(e)}),t}var Zy=Object.freeze({convertToSet:Qu}),$t=function(){return $t=Object.assign||function(a){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a},$t.apply(this,arguments)},ct=$t($t($t($t($t($t($t($t($t($t($t($t($t($t($t($t($t($t($t($t({},Dy),Ty),Ro),_y),yy),Ny),by),_u),De),By),S),ky),Wy),Hp),$y),Ly),xe),zy),Zy),bu),Wr=function(){function a(t,e){void 0===t&&(t=0),void 0===e&&(e=1),this.nextValue=t,this.step=e}return a.prototype.next=function(){var t=this.nextValue;return this.nextValue+=this.step,t},a.prototype.peek=function(){return this.nextValue},a.prototype.skip=function(t){this.nextValue+=t},a}();!function(a){a[a.IN_PROGRESS=0]="IN_PROGRESS",a[a.RESOLVED=1]="RESOLVED"}(z.Ws0||(z.Ws0={}));var wi=function(){function a(t){var e=this;this.status=z.Ws0.IN_PROGRESS,this.resolution=null,this.waiters=[],t(function(i){return e.onDone(i)},function(i){return e.onReject(i)})}return a.all=function(t){return new a(function(e){var i=t.length,n=new Array(i);t.forEach(function(s,d){s.then(function(h){n[d]=h,0==--i&&e(n)})})})},a.resolve=function(t){return void 0===t&&(t=null),new a(function(e){return e(t)})},a.prototype.then=function(t){var e=this;return new a(function(i){e.status===z.Ws0.RESOLVED?i(t(e.resolution)):e.waiters.push(function(n){return i(t(n))})})},a.prototype.resolveNow=function(t,e){return this.status===z.Ws0.RESOLVED?e(this.resolution):t},a.prototype.onDone=function(t){this.status=z.Ws0.RESOLVED,this.resolution=t,this.waiters.forEach(function(e){return e(t)})},a.prototype.onReject=function(t){console.warn("TBI")},a}(),Ky=(function(){function a(){this.timestamp=(new Date).getTime()}a.prototype.print=function(t){var e=(new Date).getTime()-this.timestamp;console.info(t+" = "+e),this.timestamp=(new Date).getTime()}}(),function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}()),Ju=function(){return Ju=Object.assign||function(a){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a},Ju.apply(this,arguments)},Ks=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Gi=(()=>(function(a){a[a.NOTHING=0]="NOTHING",a[a.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",a[a.SHOWING=2]="SHOWING"}(Gi||(Gi={})),Gi))(),Bl=function(a){function t(e){var i=a.call(this)||this;return i.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,i.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,i.SHOW_QUICK_TOOLTIP_DIFF=1e3,i.FADE_OUT_TOOLTIP_TIMEOUT=1e3,i.state=Gi.NOTHING,i.tooltipInstanceCount=0,i.tooltipMouseTrack=!1,i.parentComp=e,i}return Ky(t,a),t.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.gridOptionsWrapper.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var e=this.parentComp.getGui();this.addManagedListener(e,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(e,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(e,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(e,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(e,"keydown",this.onKeyDown.bind(this))},t.prototype.destroy=function(){this.setToDoNothing(),a.prototype.destroy.call(this)},t.prototype.onMouseEnter=function(e){if(!er()&&this.state==Gi.NOTHING){var i=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),i),this.lastMouseEvent=e,this.state=Gi.WAITING_TO_SHOW}},t.prototype.onMouseLeave=function(){this.setToDoNothing()},t.prototype.onKeyDown=function(){this.setToDoNothing()},t.prototype.setToDoNothing=function(){this.state===Gi.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=Gi.NOTHING},t.prototype.onMouseMove=function(e){this.lastMouseEvent=e,this.tooltipMouseTrack&&this.state===Gi.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},t.prototype.onMouseDown=function(){this.setToDoNothing()},t.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),t.lastTooltipHideTime=(new Date).getTime()),this.state=Gi.NOTHING},t.prototype.destroyTooltipComp=function(){var e=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var i=this.tooltipPopupDestroyFunc,n=this.tooltipComp;window.setTimeout(function(){i(),e.getContext().destroyBean(n)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},t.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-t.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},t.prototype.showTooltip=function(){var e=Ju({api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},this.parentComp.getTooltipParams());if(W(e.value)){this.state=Gi.SHOWING,this.tooltipInstanceCount++;var i=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(e).newAgStackInstance().then(i)}else this.setToDoNothing()},t.prototype.newTooltipComponentCallback=function(e,i){if(this.state!==Gi.SHOWING||this.tooltipInstanceCount!==e)this.getContext().destroyBean(i);else{var s=i.getGui();this.tooltipComp=i,s.classList.contains("ag-tooltip")||s.classList.add("ag-tooltip-custom");var d=this.gridOptionsWrapper.getLocaleTextFunc(),h=this.popupService.addPopup({eChild:s,ariaLabel:d("ariaLabelTooltip","Tooltip")});h&&(this.tooltipPopupDestroyFunc=h.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},t.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},t.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},Ks([Q("popupService")],t.prototype,"popupService",void 0),Ks([Q("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Ks([Q("columnApi")],t.prototype,"columnApi",void 0),Ks([Q("gridApi")],t.prototype,"gridApi",void 0),Ks([be],t.prototype,"postConstruct",null),t}(Ze),Df=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ni=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},st=new Wr,Ji=function(){function a(t){this.cssClassStates={},this.getGui=t}return a.prototype.addCssClass=function(t){!0!==this.cssClassStates[t]&&t.length&&(this.getGui().classList.add(t),this.cssClassStates[t]=!0)},a.prototype.removeCssClass=function(t){!1!==this.cssClassStates[t]&&t.length&&(this.getGui().classList.remove(t),this.cssClassStates[t]=!1)},a.prototype.containsCssClass=function(t){return this.getGui().classList.contains(t)},a.prototype.addOrRemoveCssClass=function(t,e){this.cssClassStates[t]!==e&&t.length&&(this.getGui().classList.toggle(t,e),this.cssClassStates[t]=e)},a}(),pt=function(a){function t(e){var i=a.call(this)||this;return i.displayed=!0,i.visible=!0,i.compId=st.next(),i.cssClassManager=new Ji(function(){return i.eGui}),e&&i.setTemplate(e),i}return Df(t,a),t.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},t.prototype.getCompId=function(){return this.compId},t.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},t.prototype.setTooltip=function(e){var i=this;this.tooltipText!=e&&(this.tooltipText&&(i.usingBrowserTooltips?i.getGui().removeAttribute("title"):i.tooltipFeature=i.destroyBean(i.tooltipFeature)),null!=e&&(this.tooltipText=e,this.tooltipText&&(i.usingBrowserTooltips?i.getGui().setAttribute("title",i.tooltipText):i.tooltipFeature=i.createBean(new Bl(i)))))},t.prototype.createChildComponentsFromTags=function(e,i){var n=this;sf(e.childNodes).forEach(function(d){if(d instanceof HTMLElement){var h=n.createComponentFromElement(d,function(L){L.getGui()&&n.copyAttributesFromNode(d,L.getGui())},i);if(h){if(h.addItems&&d.children.length){n.createChildComponentsFromTags(d,i);var O=Array.prototype.slice.call(d.children);h.addItems(O)}n.swapComponentForNode(h,e,d)}else d.childNodes&&n.createChildComponentsFromTags(d,i)}})},t.prototype.createComponentFromElement=function(e,i,n){var s=e.nodeName,d=n?n[e.getAttribute("ref")]:void 0,h=this.agStackComponentsRegistry.getComponentClass(s);if(h){t.elementGettingCreated=e;var O=new h(d);return O.setParentComponent(this),this.createBean(O,null,i),O}return null},t.prototype.copyAttributesFromNode=function(e,i){af(e.attributes,function(n,s){return i.setAttribute(n,s)})},t.prototype.swapComponentForNode=function(e,i,n){var s=e.getGui();i.replaceChild(s,n),i.insertBefore(document.createComment(n.nodeName),s),this.addDestroyFunc(this.destroyBean.bind(this,e)),this.swapInComponentForQuerySelectors(e,n)},t.prototype.swapInComponentForQuerySelectors=function(e,i){var n=this;this.iterateOverQuerySelectors(function(s){n[s.attributeName]===i&&(n[s.attributeName]=e)})},t.prototype.iterateOverQuerySelectors=function(e){for(var i=Object.getPrototypeOf(this);null!=i;){var n=i.__agComponentMetaData,s=Ce(i.constructor);n&&n[s]&&n[s].querySelectors&&n[s].querySelectors.forEach(function(d){return e(d)}),i=Object.getPrototypeOf(i)}},t.prototype.setTemplate=function(e,i){var n=Wt(e);this.setTemplateFromElement(n,i)},t.prototype.setTemplateFromElement=function(e,i){this.eGui=e,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),i)},t.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},t.prototype.wireQuerySelectors=function(){var e=this;if(this.eGui){var i=this;this.iterateOverQuerySelectors(function(n){var s=function(O){return i[n.attributeName]=O};if(n.refSelector&&e.eGui.getAttribute("ref")===n.refSelector)s(e.eGui);else{var h=e.eGui.querySelector(n.querySelector);h&&s(h.__agComponent||h)}})}},t.prototype.getGui=function(){return this.eGui},t.prototype.getFocusableElement=function(){return this.eGui},t.prototype.setParentComponent=function(e){this.parentComponent=e},t.prototype.getParentComponent=function(){return this.parentComponent},t.prototype.setGui=function(e){this.eGui=e},t.prototype.queryForHtmlElement=function(e){return this.eGui.querySelector(e)},t.prototype.queryForHtmlInputElement=function(e){return this.eGui.querySelector(e)},t.prototype.appendChild=function(e,i){if(i||(i=this.eGui),null!=e)if(qs(e))i.appendChild(e);else{var n=e;i.appendChild(n.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,n))}},t.prototype.isDisplayed=function(){return this.displayed},t.prototype.setVisible=function(e){e!==this.visible&&(this.visible=e,Jp(this.eGui,e))},t.prototype.setDisplayed=function(e){e!==this.displayed&&(this.displayed=e,Pt(this.eGui,e),this.dispatchEvent({type:t.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},t.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),a.prototype.destroy.call(this)},t.prototype.addGuiEventListener=function(e,i){var n=this;this.eGui.addEventListener(e,i),this.addDestroyFunc(function(){return n.eGui.removeEventListener(e,i)})},t.prototype.addCssClass=function(e){this.cssClassManager.addCssClass(e)},t.prototype.removeCssClass=function(e){this.cssClassManager.removeCssClass(e)},t.prototype.containsCssClass=function(e){return this.cssClassManager.containsCssClass(e)},t.prototype.addOrRemoveCssClass=function(e,i){this.cssClassManager.addOrRemoveCssClass(e,i)},t.prototype.getAttribute=function(e){var i=this.eGui;return i?i.getAttribute(e):null},t.prototype.getRefElement=function(e){return this.queryForHtmlElement('[ref="'+e+'"]')},t.EVENT_DISPLAYED_CHANGED="displayedChanged",ni([Q("agStackComponentsRegistry")],t.prototype,"agStackComponentsRegistry",void 0),ni([rt],t.prototype,"preConstructOnComponent",null),ni([rt],t.prototype,"createChildComponentsPreConstruct",null),t}(Ze);function He(a){return Bt.bind(this,"[ref="+a+"]",a)}function Bt(a,t,e,i,n){null!==a?"number"!=typeof n?function(a,t,e){var i=function(a,t){return a.__agComponentMetaData||(a.__agComponentMetaData={}),a.__agComponentMetaData[t]||(a.__agComponentMetaData[t]={}),a.__agComponentMetaData[t]}(a,Ce(a.constructor));i[t]||(i[t]=[]),i[t].push(e)}(e,"querySelectors",{attributeName:i,querySelector:a,refSelector:t}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var Hi=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),kl=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Of=function(a){function t(){return a.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return Hi(t,a),t.prototype.destroy=function(){a.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e;var i=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),n=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(i+" "+n("ariaFilterInput","Filter Input"))},t.prototype.onParentModelChanged=function(e){var i=this;e?this.params.parentFilterInstance(function(n){if(n.getModelAsString){var s=n.getModelAsString(e);i.eFloatingFilterText.setValue(s)}}):this.eFloatingFilterText.setValue("")},kl([He("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),kl([Q("columnModel")],t.prototype,"columnModel",void 0),t}(pt),gn=function(){function a(t,e,i,n){var s=this;this.alive=!0,this.context=t,this.eParent=n,e.getDateCompDetails(i).newAgStackInstance().then(function(O){s.alive?(s.dateComp=O,O&&(n.appendChild(O.getGui()),O.afterGuiAttached&&O.afterGuiAttached(),s.tempValue&&O.setDate(s.tempValue),null!=s.disabled&&s.setDateCompDisabled(s.disabled))):t.destroyBean(O)})}return a.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},a.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},a.prototype.setDate=function(t){this.dateComp?this.dateComp.setDate(t):this.tempValue=t},a.prototype.setDisabled=function(t){this.dateComp?this.setDateCompDisabled(t):this.disabled=t},a.prototype.setDisplayed=function(t){Pt(this.eParent,t)},a.prototype.setInputPlaceholder=function(t){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(t)},a.prototype.setInputAriaLabel=function(t){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(t)},a.prototype.afterGuiAttached=function(t){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(t)},a.prototype.setDateCompDisabled=function(t){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(t)},a}(),Gl=function(){return Gl=Object.assign||function(a){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a},Gl.apply(this,arguments)},Xu=function(){function a(){this.customFilterOptions={}}return a.prototype.init=function(t,e){this.filterOptions=t.filterOptions||e,this.mapCustomOptions(),this.selectDefaultItem(t),this.checkForDeprecatedParams()},a.prototype.checkForDeprecatedParams=function(){this.filterOptions.some(function(t){return"string"!=typeof t&&null!=t.test})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some(function(t){return"string"!=typeof t&&null!=t.hideFilterInput})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},a.prototype.getFilterOptions=function(){return this.filterOptions},a.prototype.mapCustomOptions=function(){var t=this;!this.filterOptions||this.filterOptions.forEach(function(e){if("string"!=typeof e){if(![["displayKey"],["displayName"],["predicate","test"]].every(function(h){return!!h.some(function(O){return null!=e[O]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+h+"'"),!1)}))return void(t.filterOptions=t.filterOptions.filter(function(h){return h===e})||[]);var s=e.test,d=Gl({},e);null!=s&&null==e.predicate&&(d.predicate=function(h,O){return s(h[0],O)},delete d.test),d.hideFilterInput&&null==d.numberOfInputs&&(d.numberOfInputs=0,delete d.hideFilterInput),t.customFilterOptions[e.displayKey]=d}})},a.prototype.selectDefaultItem=function(t){if(t.defaultOption)this.defaultOption=t.defaultOption;else if(this.filterOptions.length>=1){var e=this.filterOptions[0];"string"==typeof e?this.defaultOption=e:e.displayKey?this.defaultOption=e.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},a.prototype.getDefaultOption=function(){return this.defaultOption},a.prototype.getCustomOption=function(t){return this.customFilterOptions[t]},a}(),Tf={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},Ue=function(){function a(){}return a.BACKSPACE="Backspace",a.TAB="Tab",a.ENTER="Enter",a.ESCAPE="Escape",a.SPACE=" ",a.LEFT="ArrowLeft",a.UP="ArrowUp",a.RIGHT="ArrowRight",a.DOWN="ArrowDown",a.DELETE="Delete",a.A="A",a.C="C",a.V="V",a.D="D",a.Z="Z",a.Y="Y",a.F2="F2",a.PAGE_UP="PageUp",a.PAGE_DOWN="PageDown",a.PAGE_HOME="Home",a.PAGE_END="End",a}(),ed=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Hl=function(){return Hl=Object.assign||function(a){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a},Hl.apply(this,arguments)},td=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},mn=function(a){function t(e,i){void 0===i&&(i={});var n=a.call(this)||this;return n.eFocusableElement=e,n.callbacks=i,n.callbacks=Hl({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(s){if(!s.defaultPrevented){var d=n.focusService.findNextFocusableElement(n.eFocusableElement,!1,s.shiftKey);!d||(d.focus(),s.preventDefault())}}},i),n}return ed(t,a),t.prototype.postConstruct=function(){this.eFocusableElement.classList.add(t.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},t.prototype.addKeyDownListeners=function(e){var i=this;this.addManagedListener(e,"keydown",function(n){if(!n.defaultPrevented&&!Ai(n)){if(i.callbacks.shouldStopEventPropagation(n))return void Kn(n);n.key===Ue.TAB?i.callbacks.onTabKeyDown(n):i.callbacks.handleKeyDown&&i.callbacks.handleKeyDown(n)}})},t.FOCUS_MANAGED_CLASS="ag-focus-managed",td([Q("focusService")],t.prototype,"focusService",void 0),td([be],t.prototype,"postConstruct",null),t}(Ze),kt=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Vl=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Fn=function(a){function t(e){var i=a.call(this)||this;return i.filterNameKey=e,i.applyActive=!1,i.hidePopup=null,i.appliedModel=null,i}return kt(t,a),t.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new mn(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},t.prototype.handleKeyDown=function(e){},t.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},t.prototype.isFilterActive=function(){return!!this.appliedModel},t.prototype.resetTemplate=function(e){var i='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(i,e)},t.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},t.prototype.init=function(e){var i=this;this.setParams(e),this.resetUiToDefaults(!0).then(function(){i.updateUiVisibility(),i.setupOnBtApplyDebounce()})},t.prototype.setParams=function(e){this.providedFilterParams=e,this.applyActive=t.isUseApplyButton(e),this.createButtonPanel()},t.prototype.createButtonPanel=function(){var e=this,i=this.providedFilterParams.buttons;if(!(!i||i.length<1||this.isReadOnly())){var n=document.createElement("div");n.classList.add("ag-filter-apply-panel"),Qu(i).forEach(function(d){return function(d){var h,O;switch(d){case"apply":h=e.translate("applyFilter"),O=function(j){return e.onBtApply(!1,!1,j)};break;case"clear":h=e.translate("clearFilter"),O=function(){return e.onBtClear()};break;case"reset":h=e.translate("resetFilter"),O=function(){return e.onBtReset()};break;case"cancel":h=e.translate("cancelFilter"),O=function(j){e.onBtCancel(j)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var L=Wt('<button\n                    type="button"\n                    ref="'+d+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+h+"\n                </button>");n.appendChild(L),e.addManagedListener(L,"click",O)}(d)}),this.getGui().appendChild(n)}},t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.setupOnBtApplyDebounce=function(){var e=t.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=Fe(this.onBtApply.bind(this),e)},t.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},t.prototype.setModel=function(e){var i=this;return(null!=e?this.setModelIntoUi(e):this.resetUiToDefaults()).then(function(){i.updateUiVisibility(),i.applyModel()})},t.prototype.onBtCancel=function(e){var i=this,n=this.getModel(),s=function(){i.onUiChanged(!1,"prevent"),i.providedFilterParams.closeOnApply&&i.close(e)};null!=n?this.setModelIntoUi(n).then(s):this.resetUiToDefaults().then(s)},t.prototype.onBtClear=function(){var e=this;this.resetUiToDefaults().then(function(){return e.onUiChanged()})},t.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},t.prototype.applyModel=function(){var e=this.getModelFromUi();if(!this.isModelValid(e))return!1;var i=this.appliedModel;return this.appliedModel=e,!this.areModelsEqual(i,e)},t.prototype.isModelValid=function(e){return!0},t.prototype.onBtApply=function(e,i,n){void 0===e&&(e=!1),void 0===i&&(i=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:i}),this.providedFilterParams.closeOnApply&&this.applyActive&&!e&&!i&&this.close(n)},t.prototype.onNewRowsLoaded=function(){},t.prototype.close=function(e){if(this.hidePopup){var s,n=e&&e.key;("Enter"===n||"Space"===n)&&(s={keyboardEvent:e}),this.hidePopup(s),this.hidePopup=null}},t.prototype.onUiChanged=function(e,i){if(void 0===e&&(e=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var n=this.isModelValid(this.getModelFromUi());Mo(this.getRefElement("applyFilterButton"),!n)}e&&!i||"immediately"===i?this.onBtApply(e):(!this.applyActive&&!i||"debounce"===i)&&this.onBtApplyDebounce()},t.prototype.afterGuiAttached=function(e){null!=e&&(this.hidePopup=e.hidePopup)},t.getDebounceMs=function(e,i){return t.isUseApplyButton(e)?(null!=e.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=e.debounceMs?e.debounceMs:i},t.isUseApplyButton=function(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0},t.prototype.destroy=function(){this.hidePopup=null,a.prototype.destroy.call(this)},t.prototype.translate=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,Tf[e])},t.prototype.getCellValue=function(e){var i=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:i.api,colDef:i.colDef,column:i.column,columnApi:i.columnApi,context:i.context,data:e.data,getValue:function(L){return e.data[L]},node:e})},Vl([Q("rowModel")],t.prototype,"rowModel",void 0),Vl([Q("valueService")],t.prototype,"valueService",void 0),Vl([be],t.prototype,"postConstruct",null),t}(pt),Ff=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sr=function(a){function t(e,i){var n=a.call(this,i)||this;return n.labelSeparator="",n.labelAlignment="left",n.label="",n.config=e||{},n}return Ff(t,a),t.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var e=this.config,i=e.labelSeparator,n=e.label,s=e.labelWidth,d=e.labelAlignment;null!=i&&this.setLabelSeparator(i),null!=n&&this.setLabel(n),null!=s&&this.setLabelWidth(s),this.setLabelAlignment(d||this.labelAlignment),this.refreshLabel()},t.prototype.refreshLabel=function(){Ci(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(this.eLabel.classList.add("ag-hidden"),fi(this.eLabel,"presentation")):(this.eLabel.classList.remove("ag-hidden"),fi(this.eLabel,null))},t.prototype.setLabelSeparator=function(e){return this.labelSeparator===e||(this.labelSeparator=e,null!=this.label&&this.refreshLabel()),this},t.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},t.prototype.getLabel=function(){return this.label},t.prototype.setLabel=function(e){return this.label===e||(this.label=e,this.refreshLabel()),this},t.prototype.setLabelAlignment=function(e){var n=this.getGui().classList;return n.toggle("ag-label-align-left","left"===e),n.toggle("ag-label-align-right","right"===e),n.toggle("ag-label-align-top","top"===e),this},t.prototype.setLabelWidth=function(e){return null==this.label||Zs(this.eLabel,e),this},function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);n>3&&s&&Object.defineProperty(t,e,s)}([be],t.prototype,"postConstruct",null),t}(pt),Pf=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Vi=function(a){function t(e,i,n){var s=a.call(this,e,i)||this;return s.className=n,s.disabled=!1,s}return Pf(t,a),t.prototype.postConstruct=function(){a.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},t.prototype.onValueChange=function(e){var i=this;return this.addManagedListener(this,t.EVENT_CHANGED,function(){return e(i.getValue())}),this},t.prototype.getWidth=function(){return this.getGui().clientWidth},t.prototype.setWidth=function(e){return Qi(this.getGui(),e),this},t.prototype.getPreviousValue=function(){return this.previousValue},t.prototype.getValue=function(){return this.value},t.prototype.setValue=function(e,i){return this.value===e||(this.previousValue=this.value,this.value=e,i||this.dispatchEvent({type:t.EVENT_CHANGED})),this},t.prototype.setDisabled=function(e){e=!!e;var i=this.getGui();return Mo(i,e),i.classList.toggle("ag-disabled",e),this.disabled=e,this},t.prototype.isDisabled=function(){return!!this.disabled},t.EVENT_CHANGED="valueChange",t}(sr),Wo=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$r=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},id=function(a){function t(e,i,n,s){var d=a.call(this,e,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(s?'role="'+s+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',i)||this;return d.pickerIcon=n,d.isPickerDisplayed=!1,d.isDestroyingPicker=!1,d.skipClick=!1,d}return Wo(t,a),t.prototype.postConstruct=function(){var e=this;a.prototype.postConstruct.call(this);var i=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",i),Ml(this.eWrapper,i);var n=function(){e.skipClick?e.skipClick=!1:e.isDisabled()||(e.pickerComponent=e.showPicker())},s=this.getGui();if(this.addManagedListener(s,"mousedown",function(h){!e.skipClick&&e.pickerComponent&&e.pickerComponent.isAlive()&&No(e.pickerComponent.getGui())&&s.contains(h.target)&&(e.skipClick=!0)}),this.addManagedListener(s,"keydown",function(h){switch(h.key){case Ue.UP:case Ue.DOWN:case Ue.ENTER:case Ue.SPACE:n();case Ue.ESCAPE:e.isPickerDisplayed&&h.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",n),this.addManagedListener(this.eLabel,"click",n),this.pickerIcon){var d=qt(this.pickerIcon,this.gridOptionsWrapper);d&&this.eIcon.appendChild(d)}},t.prototype.refreshLabel=function(){W(this.getLabel())?Vu(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),a.prototype.refreshLabel.call(this)},t.prototype.setAriaLabel=function(e){return Hr(this.eWrapper,e),this},t.prototype.setInputWidth=function(e){return Zs(this.eWrapper,e),this},t.prototype.getFocusableElement=function(){return this.eWrapper},$r([He("eLabel")],t.prototype,"eLabel",void 0),$r([He("eWrapper")],t.prototype,"eWrapper",void 0),$r([He("eDisplayField")],t.prototype,"eDisplayField",void 0),$r([He("eIcon")],t.prototype,"eIcon",void 0),t}(Vi),nd=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rd=function(a){function t(e){void 0===e&&(e="default");var i=a.call(this,'<div class="ag-list ag-'+e+'-list" role="listbox"></div>')||this;return i.cssIdentifier=e,i.options=[],i.itemEls=[],i}return nd(t,a),t.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){var i=e.key;switch(i){case Ue.ENTER:if(this.highlightedEl){var n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}else this.setValue(this.getValue());break;case Ue.DOWN:case Ue.UP:var s=i===Ue.DOWN,d=void 0;if(e.preventDefault(),this.highlightedEl){var O=this.itemEls.indexOf(this.highlightedEl)+(s?1:-1);O=Math.min(Math.max(O,0),this.itemEls.length-1),d=this.itemEls[O]}else d=this.itemEls[s?0:this.itemEls.length-1];this.highlightItem(d)}},t.prototype.addOptions=function(e){var i=this;return e.forEach(function(n){return i.addOption(n)}),this},t.prototype.addOption=function(e){var i=e.value,s=pn(e.text||i);return this.options.push({value:i,text:s}),this.renderOption(i,s),this.updateIndices(),this},t.prototype.updateIndices=function(){var e=this.getGui().querySelectorAll(".ag-list-item");e.forEach(function(i,n){$u(i,n+1),Wu(i,e.length)})},t.prototype.renderOption=function(e,i){var n=this,s=document.createElement("div");fi(s,"option"),s.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),s.innerHTML="<span>"+i+"</span>",s.tabIndex=-1,this.itemEls.push(s),this.addManagedListener(s,"mouseover",function(){return n.highlightItem(s)}),this.addManagedListener(s,"mouseleave",function(){return n.clearHighlighted()}),this.addManagedListener(s,"click",function(){return n.setValue(e)}),this.getGui().appendChild(s)},t.prototype.setValue=function(e,i){if(this.value===e)return this.fireItemSelected(),this;if(null==e)return this.reset(),this;var n=this.options.findIndex(function(d){return d.value===e});if(-1!==n){var s=this.options[n];this.value=s.value,this.displayValue=null!=s.text?s.text:s.value,this.highlightItem(this.itemEls[n]),i||this.fireChangeEvent()}return this},t.prototype.setValueByIndex=function(e){return this.setValue(this.options[e].value)},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.refreshHighlighted=function(){var e=this;this.clearHighlighted();var i=this.options.findIndex(function(n){return n.value===e.value});-1!==i&&this.highlightItem(this.itemEls[i])},t.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},t.prototype.highlightItem=function(e){!e.offsetParent||(this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(t.ACTIVE_CLASS),Ho(this.highlightedEl,!0),this.highlightedEl.focus())},t.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(t.ACTIVE_CLASS),Ho(this.highlightedEl,!1),this.highlightedEl=null)},t.prototype.fireChangeEvent=function(){this.dispatchEvent({type:Vi.EVENT_CHANGED}),this.fireItemSelected()},t.prototype.fireItemSelected=function(){this.dispatchEvent({type:t.EVENT_ITEM_SELECTED})},t.EVENT_ITEM_SELECTED="selectedItem",t.ACTIVE_CLASS="ag-active-item",function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);n>3&&s&&Object.defineProperty(t,e,s)}([be],t.prototype,"init",null),t}(pt),$l=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$o=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Ys=function(a){function t(e){return a.call(this,e,"ag-select","smallDown","listbox")||this}return $l(t,a),t.prototype.init=function(){var e=this;this.listComponent=this.createBean(new rd("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,rd.EVENT_ITEM_SELECTED,function(){e.hideList&&e.hideList()}),this.listComponent.addManagedListener(this.listComponent,Vi.EVENT_CHANGED,function(){e.setValue(e.listComponent.getValue(),!1,!0),e.hideList&&e.hideList()})},t.prototype.showPicker=function(){var e=this,i=this.listComponent.getGui(),n=this.gridOptionsWrapper.getDocument(),s=this.addManagedListener(n.body,"wheel",function(L){!i.contains(L.target)&&e.hideList&&e.hideList()}),d=this.addManagedListener(i,"focusout",function(L){!i.contains(L.relatedTarget)&&e.hideList&&e.hideList()}),h=this.gridOptionsWrapper.getLocaleTextFunc(),O=this.popupService.addPopup({modal:!0,eChild:i,closeOnEsc:!0,closedCallback:function(){e.hideList=null,e.isPickerDisplayed=!1,d(),s(),e.isAlive()&&(Di(e.eWrapper,!1),e.getFocusableElement().focus())},ariaLabel:h("ariaLabelSelectField","Select Field")});return O&&(this.hideList=O.hideFunc),this.isPickerDisplayed=!0,Zs(i,kr(this.eWrapper)),Di(this.eWrapper,!0),i.style.maxHeight=Io(this.popupService.getPopupParent())+"px",i.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:i,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},t.prototype.addOptions=function(e){var i=this;return e.forEach(function(n){return i.addOption(n)}),this},t.prototype.addOption=function(e){return this.listComponent.addOption(e),this},t.prototype.setValue=function(e,i,n){return this.value===e?this:(n||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),a.prototype.setValue.call(this,e,i)))},t.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),a.prototype.destroy.call(this)},$o([Q("popupService")],t.prototype,"popupService",void 0),$o([be],t.prototype,"init",null),t}(id),Mf=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),od=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},vn=function(a){function t(e,i,n,s){void 0===n&&(n="text"),void 0===s&&(s="input");var d=a.call(this,e,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+s+' ref="eInput" class="ag-input-field-input"></'+s+">\n                </div>\n            </div>",i)||this;return d.inputType=n,d.displayFieldTag=s,d}return Mf(t,a),t.prototype.postConstruct=function(){a.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var e=this.config,i=e.width,n=e.value;null!=i&&this.setWidth(i),null!=n&&this.setValue(n),this.addInputListeners()},t.prototype.refreshLabel=function(){W(this.getLabel())?Vu(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),a.prototype.refreshLabel.call(this)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(i){return e.setValue(i.target.value)})},t.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},t.prototype.getInputElement=function(){return this.eInput},t.prototype.setInputWidth=function(e){return Zs(this.eWrapper,e),this},t.prototype.setInputName=function(e){return this.getInputElement().setAttribute("name",e),this},t.prototype.getFocusableElement=function(){return this.eInput},t.prototype.setMaxLength=function(e){return this.eInput.maxLength=e,this},t.prototype.setInputPlaceholder=function(e){return Bo(this.eInput,"placeholder",e),this},t.prototype.setInputAriaLabel=function(e){return Hr(this.eInput,e),this},t.prototype.setDisabled=function(e){return Mo(this.eInput,e),a.prototype.setDisabled.call(this,e)},od([He("eLabel")],t.prototype,"eLabel",void 0),od([He("eWrapper")],t.prototype,"eWrapper",void 0),od([He("eInput")],t.prototype,"eInput",void 0),t}(Vi),If=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Xi=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},ri=(()=>(function(a){a[a.One=0]="One",a[a.Two=1]="Two"}(ri||(ri={})),ri))(),Vt=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return If(t,a),t.prototype.getNumberOfInputs=function(e){var i=this.optionsFactory.getCustomOption(e);if(i){var n=i.numberOfInputs;return null!=n?n:1}return e&&[t.EMPTY,t.NOT_BLANK,t.BLANK].indexOf(e)>=0?0:e===t.IN_RANGE?2:1},t.prototype.onFloatingFilterChanged=function(e,i){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(i),this.onUiChanged(!0)},t.prototype.setTypeFromFloatingFilter=function(e){this.eType1.setValue(e),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},t.prototype.getModelFromUi=function(){return this.isConditionUiComplete(ri.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(ri.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(ri.One),condition2:this.createCondition(ri.Two)}:this.createCondition(ri.One):null},t.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},t.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},t.prototype.areModelsEqual=function(e,i){if(!e&&!i)return!0;if(!e&&i||e&&!i)return!1;var h,n=!e.operator,s=!i.operator;if(!n&&s||n&&!s)return!1;if(n)h=this.areSimpleModelsEqual(e,i);else{var j=e,q=i;h=j.operator===q.operator&&this.areSimpleModelsEqual(j.condition1,q.condition1)&&this.areSimpleModelsEqual(j.condition2,q.condition2)}return h},t.prototype.setModelIntoUi=function(e){if(e.operator){var n=e,s="OR"===n.operator;this.eJoinOperatorAnd.setValue(!s),this.eJoinOperatorOr.setValue(s),this.eType1.setValue(n.condition1.type),this.eType2.setValue(n.condition2.type),this.setConditionIntoUi(n.condition1,ri.One),this.setConditionIntoUi(n.condition2,ri.Two)}else{var d=e;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(d.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(d,ri.One),this.setConditionIntoUi(null,ri.Two)}return wi.resolve()},t.prototype.doesFilterPass=function(e){var i=this,n=this.getModel();if(null==n)return!0;var s=n.operator,d=[];return s?d.push(n.condition1,n.condition2):d.push(n),d[s&&"OR"===s?"some":"every"](function(L){return i.individualConditionPasses(e,L)})},t.prototype.setParams=function(e){a.prototype.setParams.call(this,e),this.optionsFactory=new Xu,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.allowTwoConditions=!e.suppressAndOrCondition,this.alwaysShowBothConditions=!!e.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},t.prototype.getDefaultJoinOperator=function(e){return ii(["AND","OR"],e)?e:"AND"},t.prototype.putOptionsIntoDropdown=function(){var e=this,i=this.optionsFactory.getFilterOptions(),n=[this.eType1,this.eType2];i.forEach(function(s){var d="string"==typeof s?e.createBoilerplateListOption(s):e.createCustomListOption(s);n.forEach(function(h){return h.addOption(d)})}),n.forEach(function(s){return s.setDisabled(i.length<=1)})},t.prototype.createBoilerplateListOption=function(e){return{value:e,text:this.translate(e)}},t.prototype.createCustomListOption=function(e){var i=e.displayKey,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:i,text:n?this.gridOptionsWrapper.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(i)}},t.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},t.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(ri.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(ri.Two)},t.prototype.getCssIdentifier=function(){return"simple-filter"},t.prototype.updateUiVisibility=function(){var e=this,n=[this.eCondition1Body,this.eCondition2Body];[[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]].forEach(function(s,d){var h=e.isConditionVisible(d),O=e.isConditionDisabled(d);s.forEach(function(L){L instanceof vn||L instanceof Ys?(L.setDisabled(O),L.setDisplayed(h)):(Mo(L,O),Pt(L,h))})}),n.forEach(function(s,d){Pt(s,e.isConditionBodyVisible(d))}),this.forEachInput(function(s,d,h,O){e.setElementDisplayed(s,d<O),e.setElementDisabled(s,e.isConditionDisabled(h))}),this.resetPlaceholder()},t.prototype.afterGuiAttached=function(e){if(a.prototype.afterGuiAttached.call(this,e),this.resetPlaceholder(),!e||!e.suppressFocus&&!this.isReadOnly()){var i=this.getInputs()[0][0];if(!i)return;i instanceof vn&&i.getInputElement().focus()}},t.prototype.resetPlaceholder=function(){var e=this,i=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput(function(n,s,d,h){if(n instanceof vn){var O=0===s&&h>1?"inRangeStart":0===s?"filterOoo":"inRangeEnd",L=0===s&&h>1?i("ariaFilterFromValue","Filter from value"):0===s?i("ariaFilterValue","Filter Value"):i("ariaFilterToValue","Filter to Value");n.setInputPlaceholder(e.translate(O)),n.setInputAriaLabel(L)}})},t.prototype.setElementValue=function(e,i,n){e instanceof vn&&e.setValue(null!=i?String(i):null,n)},t.prototype.setElementDisplayed=function(e,i){e instanceof pt&&Pt(e.getGui(),i)},t.prototype.setElementDisabled=function(e,i){e instanceof pt&&Mo(e.getGui(),i)},t.prototype.attachElementOnChange=function(e,i){e instanceof vn&&e.onValueChange(i)},t.prototype.forEachInput=function(e){var i=this,n=this.getInputs();this.getConditionTypes().forEach(function(s,d){for(var h=i.getNumberOfInputs(s),O=0;O<n[d].length;O++){var L=n[d][O];null!=L&&e(L,O,d,h)}})},t.prototype.isConditionVisible=function(e){return 0===e||!!this.allowTwoConditions&&(this.isReadOnly()?this.isConditionUiComplete(e):!!this.alwaysShowBothConditions||this.isConditionUiComplete(e-1))},t.prototype.isConditionDisabled=function(e){return!(!this.isReadOnly()&&this.isConditionVisible(e))||0!==e&&!this.isConditionUiComplete(e-1)},t.prototype.isConditionBodyVisible=function(e){if(!this.isConditionVisible(e))return!1;var i=this.getConditionTypes()[e];return this.getNumberOfInputs(i)>0},t.prototype.isConditionUiComplete=function(e){return!(this.getConditionTypes()[e]===t.EMPTY||this.getValues(e).some(function(n){return null==n}))},t.prototype.resetUiToDefaults=function(e){var i=this,s=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator"),d="ag-simple-filter-and-or-"+this.getCompId(),h=this.optionsFactory.getDefaultOption();return this.eType1.setValue(h,e).setAriaLabel(s).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),e).setAriaLabel(s).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),e).setName(d).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),e).setName(d).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(O){i.setElementValue(O,null,e),i.setElementDisabled(O,i.isReadOnly())}),this.resetPlaceholder(),wi.resolve()},t.prototype.setConditionIntoUi=function(e,i){var n=this,s=this.mapValuesFromModel(e);this.forEachInput(function(d,h,O,L){O===i&&n.setElementValue(d,null!=s[h]?s[h]:null)})},t.prototype.setValueFromFloatingFilter=function(e){var i=this;this.forEachInput(function(n,s,d,h){i.setElementValue(n,0===s&&0===d?e:null)})},t.prototype.isDefaultOperator=function(e){return e===this.defaultJoinOperator},t.prototype.addChangedListeners=function(){var e=this;if(!this.isReadOnly()){var i=function(){return e.onUiChanged()};this.eType1.onValueChange(i),this.eType2.onValueChange(i),this.eJoinOperatorOr.onValueChange(i),this.eJoinOperatorAnd.onValueChange(i),this.forEachInput(function(n){e.attachElementOnChange(n,i)})}},t.prototype.individualConditionPasses=function(e,i){var n=this.getCellValue(e.node),s=this.mapValuesFromModel(i),d=this.optionsFactory.getCustomOption(i.type),h=this.evaluateCustomFilter(d,s,n);return null!=h?h:null==n?this.evaluateNullValue(i.type):this.evaluateNonNullValue(s,n,i,e)},t.prototype.evaluateCustomFilter=function(e,i,n){if(null!=e){var s=e.predicate;if(null!=s&&!i.some(function(d){return null==d}))return s(i,n)}},t.prototype.isBlank=function(e){return null==e||"string"==typeof e&&0===e.trim().length},t.EMPTY="empty",t.BLANK="blank",t.NOT_BLANK="notBlank",t.EQUALS="equals",t.NOT_EQUAL="notEqual",t.LESS_THAN="lessThan",t.LESS_THAN_OR_EQUAL="lessThanOrEqual",t.GREATER_THAN="greaterThan",t.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",t.IN_RANGE="inRange",t.CONTAINS="contains",t.NOT_CONTAINS="notContains",t.STARTS_WITH="startsWith",t.ENDS_WITH="endsWith",Xi([He("eOptions1")],t.prototype,"eType1",void 0),Xi([He("eOptions2")],t.prototype,"eType2",void 0),Xi([He("eJoinOperatorPanel")],t.prototype,"eJoinOperatorPanel",void 0),Xi([He("eJoinOperatorAnd")],t.prototype,"eJoinOperatorAnd",void 0),Xi([He("eJoinOperatorOr")],t.prototype,"eJoinOperatorOr",void 0),Xi([He("eCondition1Body")],t.prototype,"eCondition1Body",void 0),Xi([He("eCondition2Body")],t.prototype,"eCondition2Body",void 0),t}(Fn),Lf=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ei=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return Lf(t,a),t.prototype.setParams=function(e){a.prototype.setParams.call(this,e),this.scalarFilterParams=e},t.prototype.evaluateNullValue=function(e){switch(e){case t.EQUALS:case t.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case t.GREATER_THAN:case t.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case t.LESS_THAN:case t.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case t.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case t.BLANK:return!0;case t.NOT_BLANK:return!1}return!1},t.prototype.evaluateNonNullValue=function(e,i,n){var s=this.comparator(),d=null!=e[0]?s(e[0],i):0;switch(n.type){case t.EQUALS:return 0===d;case t.NOT_EQUAL:return 0!==d;case t.GREATER_THAN:return d>0;case t.GREATER_THAN_OR_EQUAL:return d>=0;case t.LESS_THAN:return d<0;case t.LESS_THAN_OR_EQUAL:return d<=0;case t.IN_RANGE:var h=s(e[1],i);return this.scalarFilterParams.inRangeInclusive?d>=0&&h<=0:d>0&&h<0;case t.BLANK:return this.isBlank(i);case t.NOT_BLANK:return!this.isBlank(i);default:return console.warn('AG Grid: Unexpected type of filter "'+n.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},t}(Vt),Qs=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Js=function(){return Js=Object.assign||function(a){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a},Js.apply(this,arguments)},en=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},jl=function(a){function t(){var e=a.call(this,"dateFilter")||this;return e.minValidYear=1e3,e.maxValidYear=1/0,e}return Qs(t,a),t.prototype.afterGuiAttached=function(e){a.prototype.afterGuiAttached.call(this,e),this.dateCondition1FromComp.afterGuiAttached(e)},t.prototype.mapValuesFromModel=function(e){var i=e||{},n=i.dateFrom,s=i.dateTo,d=i.type;return[n&&or(n)||null,s&&or(s)||null].slice(0,this.getNumberOfInputs(d))},t.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},t.prototype.defaultComparator=function(e,i){return null==i||i<e?-1:i>e?1:0},t.prototype.setParams=function(e){a.prototype.setParams.call(this,e),this.dateFilterParams=e;var i=function(n,s){if(null!=e[n]){if(!isNaN(e[n]))return null==e[n]?s:Number(e[n]);console.warn("AG Grid: DateFilter "+n+" is not a number")}return s};this.minValidYear=i("minValidYear",1e3),this.maxValidYear=i("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},t.prototype.createDateComponents=function(){var e=this,i=function(n){return new gn(e.getContext(),e.userComponentFactory,{onDateChanged:function(){return e.onUiChanged()},filterParams:e.dateFilterParams},n)};this.dateCondition1FromComp=i(this.eCondition1PanelFrom),this.dateCondition1ToComp=i(this.eCondition1PanelTo),this.dateCondition2FromComp=i(this.eCondition2PanelFrom),this.dateCondition2ToComp=i(this.eCondition2PanelTo),this.addDestroyFunc(function(){e.forEachInput(function(n){return n.destroy()})})},t.prototype.setElementValue=function(e,i,n){e.setDate(i)},t.prototype.setElementDisplayed=function(e,i){e.setDisplayed(i)},t.prototype.setElementDisabled=function(e,i){e.setDisabled(i)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var i=e===ri.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+i+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+i+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+i+'PanelTo"></div>\n            </div>'},t.prototype.isConditionUiComplete=function(e){var i=this;if(!a.prototype.isConditionUiComplete.call(this,e))return!1;var s=!0;return this.forEachInput(function(d,h,O,L){O!==e||!s||h>=L||(s=s&&function(d){return null!=d&&d.getUTCFullYear()>=i.minValidYear&&d.getUTCFullYear()<=i.maxValidYear}(d.getDate()))}),s},t.prototype.areSimpleModelsEqual=function(e,i){return e.dateFrom===i.dateFrom&&e.dateTo===i.dateTo&&e.type===i.type},t.prototype.getFilterType=function(){return"date"},t.prototype.createCondition=function(e){var i=this.getConditionTypes()[e],n={},s=this.getValues(e);return s.length>0&&(n.dateFrom=rr(s[0])),s.length>1&&(n.dateTo=rr(s[1])),Js({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:i},n)},t.prototype.resetPlaceholder=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),i=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(function(s){s.setInputPlaceholder(i),s.setInputAriaLabel(n)})},t.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},t.prototype.getValues=function(e){var i=[];return this.forEachInput(function(n,s,d,h){e===d&&s<h&&i.push(n.getDate())}),i},t.DEFAULT_FILTER_OPTIONS=[ei.EQUALS,ei.GREATER_THAN,ei.LESS_THAN,ei.NOT_EQUAL,ei.IN_RANGE,ei.BLANK,ei.NOT_BLANK],en([He("eCondition1PanelFrom")],t.prototype,"eCondition1PanelFrom",void 0),en([He("eCondition1PanelTo")],t.prototype,"eCondition1PanelTo",void 0),en([He("eCondition2PanelFrom")],t.prototype,"eCondition2PanelFrom",void 0),en([He("eCondition2PanelTo")],t.prototype,"eCondition2PanelTo",void 0),en([Q("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(ei),Xs=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ul=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return Xs(t,a),t.prototype.getDefaultDebounceMs=function(){return 0},t.prototype.destroy=function(){a.prototype.destroy.call(this)},t.prototype.getTextFromModel=function(e){if(!e)return null;if(null!=e.operator){var n=e,s=n||{},d=s.condition1,h=s.condition2,O=this.optionsFactory.getCustomOption(d.type),L=this.optionsFactory.getCustomOption(h.type);return[this.conditionToString(d,O),n.operator,this.conditionToString(h,L)].join(" ")}var j=e,q=this.optionsFactory.getCustomOption(j.type),J=q||{},re=J.displayKey,me=J.displayName;return re&&me&&0===J.numberOfInputs?(this.gridOptionsWrapper.getLocaleTextFunc()(re,me),me):this.conditionToString(j,q)},t.prototype.isEventFromFloatingFilter=function(e){return e&&e.afterFloatingFilter},t.prototype.getLastType=function(){return this.lastType},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setLastTypeFromModel=function(e){e?this.lastType=(e.operator?e.condition1:e).type:this.lastType=this.optionsFactory.getDefaultOption()},t.prototype.canWeEditAfterModelFromParentFilter=function(e){return e?!e.operator&&this.isTypeEditable(e.type):this.isTypeEditable(this.lastType)},t.prototype.init=function(e){this.optionsFactory=new Xu,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!e.filterParams.readOnly;var i=this.isTypeEditable(this.lastType);this.setEditable(i)},t.prototype.doesFilterHaveSingleInput=function(e){var n=(this.optionsFactory.getCustomOption(e)||{}).numberOfInputs;return null==n||1==n},t.prototype.isTypeEditable=function(e){var i=[Vt.IN_RANGE,Vt.EMPTY,Vt.BLANK,Vt.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&i.indexOf(e)<0},t}(pt),xi=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),jo=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Gt=function(a){function t(){return a.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return xi(t,a),t.prototype.getDefaultFilterOptions=function(){return jl.DEFAULT_FILTER_OPTIONS},t.prototype.conditionToString=function(e,i){var n=e.type,d=n==Vt.IN_RANGE||2===(i||{}).numberOfInputs,h=or(e.dateFrom),O=or(e.dateTo);return d?rr(h,!1)+"-"+rr(O,!1):null!=h?""+rr(h,!1):""+n},t.prototype.init=function(e){a.prototype.init.call(this,e),this.params=e,this.createDateComponent();var i=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(i("ariaDateFilterInput","Date Filter Input"))},t.prototype.setEditable=function(e){Pt(this.eDateWrapper,e),Pt(this.eReadOnlyText.getGui(),!e)},t.prototype.onParentModelChanged=function(e,i){if(!this.isEventFromFloatingFilter(i)){a.prototype.setLastTypeFromModel.call(this,e);var n=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);this.setEditable(n),n?(this.dateComp.setDate(e?or(e.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.getTextFromModel(e)),this.dateComp.setDate(null))}},t.prototype.onDateChanged=function(){var e=this,n=rr(this.dateComp.getDate());this.params.parentFilterInstance(function(s){if(s){var d=or(n);s.onFloatingFilterChanged(e.getLastType()||null,d)}})},t.prototype.createDateComponent=function(){var e=this,i=Fn.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),n={onDateChanged:Fe(this.onDateChanged.bind(this),i),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new gn(this.getContext(),this.userComponentFactory,n,this.eDateWrapper),this.addDestroyFunc(function(){return e.dateComp.destroy()})},jo([Q("userComponentFactory")],t.prototype,"userComponentFactory",void 0),jo([He("eReadOnlyText")],t.prototype,"eReadOnlyText",void 0),jo([He("eDateWrapper")],t.prototype,"eDateWrapper",void 0),t}(Ul),Qy=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ld=function(a){function t(){return a.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return Qy(t,a),t.prototype.destroy=function(){a.prototype.destroy.call(this)},t.prototype.init=function(e){var i=this,n=this.gridOptionsWrapper.getDocument(),s=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(e)&&(s.type="date"),this.addManagedListener(s,"mousedown",function(){i.eDateInput.isDisabled()||s.focus()}),this.addManagedListener(s,"input",function(L){L.target===n.activeElement&&(i.eDateInput.isDisabled()||e.onDateChanged())});var d=e.filterParams||{},h=d.minValidYear,O=d.maxValidYear;h&&(s.min=h+"-01-01"),O&&(s.max=O+"-12-31")},t.prototype.getDate=function(){return or(this.eDateInput.getValue())},t.prototype.setDate=function(e){this.eDateInput.setValue(rr(e,!1))},t.prototype.setInputPlaceholder=function(e){this.eDateInput.setInputPlaceholder(e)},t.prototype.setDisabled=function(e){this.eDateInput.setDisabled(e)},t.prototype.afterGuiAttached=function(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()},t.prototype.shouldUseBrowserDatePicker=function(e){return e.filterParams&&null!=e.filterParams.browserDatePicker?e.filterParams.browserDatePicker:Br()||Rl()},function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);n>3&&s&&Object.defineProperty(t,e,s)}([He("eDateInput")],t.prototype,"eDateInput",void 0),t}(pt),cd=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Pn=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},zl=function(a){function t(){return a.call(this,"numberFilter")||this}return cd(t,a),t.prototype.mapValuesFromModel=function(e){var i=e||{},n=i.filter,s=i.filterTo;return[null==n?null:n,null==s?null:s].slice(0,this.getNumberOfInputs(i.type))},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.comparator=function(){return function(e,i){return e===i?0:e<i?1:-1}},t.prototype.setParams=function(e){this.numberFilterParams=e;var i=this.getAllowedCharPattern();if(i){var n={allowedCharPattern:i};this.resetTemplate({"eValue-index0-1":n,"eValue-index1-1":n,"eValue-index0-2":n,"eValue-index1-2":n})}a.prototype.setParams.call(this,e)},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var i=e===ri.One?"1":"2",s=this.getAllowedCharPattern()?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+i+'Body" role="presentation">\n                <'+s+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+i+'"></'+s+">\n                <"+s+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+i+'"></'+s+">\n            </div>"},t.prototype.getValues=function(e){var i=this,n=[];return this.forEachInput(function(s,d,h,O){e===h&&d<O&&n.push(i.stringToFloat(s.getValue()))}),n},t.prototype.areSimpleModelsEqual=function(e,i){return e.filter===i.filter&&e.filterTo===i.filterTo&&e.type===i.type},t.prototype.getFilterType=function(){return"number"},t.prototype.stringToFloat=function(e){if("number"==typeof e)return e;var i=H(e);return null!=i&&""===i.trim()&&(i=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(i):null==i||"-"===i.trim()?null:parseFloat(i)},t.prototype.createCondition=function(e){var i=this.getConditionTypes()[e],n={filterType:this.getFilterType(),type:i},s=this.getValues(e);return s.length>0&&(n.filter=s[0]),s.length>1&&(n.filterTo=s[1]),n},t.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},t.prototype.getAllowedCharPattern=function(){return(this.numberFilterParams||{}).allowedCharPattern||(Br()||Ws()?null:"\\d\\-\\.")},t.DEFAULT_FILTER_OPTIONS=[ei.EQUALS,ei.NOT_EQUAL,ei.LESS_THAN,ei.LESS_THAN_OR_EQUAL,ei.GREATER_THAN,ei.GREATER_THAN_OR_EQUAL,ei.IN_RANGE,ei.BLANK,ei.NOT_BLANK],Pn([He("eValue-index0-1")],t.prototype,"eValueFrom1",void 0),Pn([He("eValue-index1-1")],t.prototype,"eValueTo1",void 0),Pn([He("eValue-index0-2")],t.prototype,"eValueFrom2",void 0),Pn([He("eValue-index1-2")],t.prototype,"eValueTo2",void 0),t}(ei),Mn=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ar=function(){return ar=Object.assign||function(a){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a},ar.apply(this,arguments)},tn=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},ea=function(a){function t(){return a.call(this,"textFilter")||this}return Mn(t,a),t.trimInput=function(e){var i=e&&e.trim();return""===i?e:i},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.setParams=function(e){a.prototype.setParams.call(this,e),this.textFilterParams=e,this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?t.DEFAULT_FORMATTER:t.DEFAULT_LOWERCASE_FORMATTER)},t.prototype.getTextMatcher=function(){var e=this.textFilterParams.textCustomComparator;return e?(ct.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(i){return e(i.filterOption,i.value,i.filterText)}):this.textFilterParams.textMatcher||t.DEFAULT_MATCHER},t.prototype.createCondition=function(e){var i=this.getConditionTypes()[e],n={filterType:this.getFilterType(),type:i},s=this.getValues(e);return s.length>0&&(n.filter=s[0]),s.length>1&&(n.filterTo=s[1]),n},t.prototype.getFilterType=function(){return"text"},t.prototype.areSimpleModelsEqual=function(e,i){return e.filter===i.filter&&e.filterTo===i.filterTo&&e.type===i.type},t.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},t.prototype.getValues=function(e){var i=this,n=[];return this.forEachInput(function(s,d,h,O){if(e===h&&d<O){var L=H(s.getValue()),j=(i.textFilterParams.trimInput?t.trimInput(L):L)||null;n.push(j),s.setValue(j,!0)}}),n},t.prototype.getDefaultFilterOptions=function(){return t.DEFAULT_FILTER_OPTIONS},t.prototype.createValueTemplate=function(e){var i=e===ri.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+i+'Body" role="presentation">\n                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-'+i+'"></ag-input-text-field>\n                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+i+'"></ag-input-text-field>\n            </div>'},t.prototype.mapValuesFromModel=function(e){var i=e||{};return[i.filter||null,i.filterTo||null].slice(0,this.getNumberOfInputs(i.type))},t.prototype.evaluateNullValue=function(e){return!!e&&[Vt.NOT_EQUAL,Vt.NOT_CONTAINS,Vt.BLANK].indexOf(e)>=0},t.prototype.evaluateNonNullValue=function(e,i,n,s){var d=this,h=e.map(function(We){return d.formatter(We)})||[],O=this.formatter(i),L=this.textFilterParams,j=L.api,q=L.colDef,J=L.column,re=L.columnApi,me=L.context,Ae=L.textFormatter;if(n.type===Vt.BLANK)return this.isBlank(i);if(n.type===Vt.NOT_BLANK)return!this.isBlank(i);var Pe={api:j,colDef:q,column:J,columnApi:re,context:me,node:s.node,data:s.data,filterOption:n.type,value:O,textFormatter:Ae};return h.some(function(We){return d.matcher(ar(ar({},Pe),{filterText:We}))})},t.DEFAULT_FILTER_OPTIONS=[Vt.CONTAINS,Vt.NOT_CONTAINS,Vt.EQUALS,Vt.NOT_EQUAL,Vt.STARTS_WITH,Vt.ENDS_WITH,Vt.BLANK,Vt.NOT_BLANK],t.DEFAULT_FORMATTER=function(e){return e},t.DEFAULT_LOWERCASE_FORMATTER=function(e){return null==e?null:e.toString().toLowerCase()},t.DEFAULT_MATCHER=function(e){var n=e.value,s=e.filterText;if(null==s)return!1;switch(e.filterOption){case t.CONTAINS:return n.indexOf(s)>=0;case t.NOT_CONTAINS:return n.indexOf(s)<0;case t.EQUALS:return n===s;case t.NOT_EQUAL:return n!=s;case t.STARTS_WITH:return 0===n.indexOf(s);case t.ENDS_WITH:var d=n.lastIndexOf(s);return d>=0&&d===n.length-s.length;default:return!1}},tn([He("eValue-index0-1")],t.prototype,"eValueFrom1",void 0),tn([He("eValue-index1-1")],t.prototype,"eValueTo1",void 0),tn([He("eValue-index0-2")],t.prototype,"eValueFrom2",void 0),tn([He("eValue-index1-2")],t.prototype,"eValueTo2",void 0),t}(Vt),Jy=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Uo=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},ud=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return Jy(t,a),t.prototype.postConstruct=function(){this.resetTemplate()},t.prototype.resetTemplate=function(e){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>\n        ',e)},t.prototype.getDefaultDebounceMs=function(){return 500},t.prototype.onParentModelChanged=function(e,i){this.isEventFromFloatingFilter(i)||(this.setLastTypeFromModel(e),this.eFloatingFilterInput.setValue(this.getTextFromModel(e)),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)))},t.prototype.init=function(e){a.prototype.init.call(this,e),this.params=e,this.applyActive=Fn.isUseApplyButton(this.params.filterParams);var i=this.params.filterParams.allowedCharPattern;if(null!=i&&this.resetTemplate({eFloatingFilterInput:{allowedCharPattern:i}}),!this.isReadOnly()){var n=Fn.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),s=Fe(this.syncUpWithParentFilter.bind(this),n),d=this.eFloatingFilterInput.getGui();this.addManagedListener(d,"input",s),this.addManagedListener(d,"keypress",s),this.addManagedListener(d,"keydown",s)}var h=e.column.getDefinition();(this.isReadOnly()||h.filterParams&&h.filterParams.filterOptions&&1===h.filterParams.filterOptions.length&&"inRange"===h.filterParams.filterOptions[0])&&this.eFloatingFilterInput.setDisabled(!0);var O=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),L=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(O+" "+L("ariaFilterInput","Filter Input"))},t.prototype.syncUpWithParentFilter=function(e){var i=this;if(!this.applyActive||e.key===Ue.ENTER){var s=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(s=ea.trimInput(s),this.eFloatingFilterInput.setValue(s,!0)),this.params.parentFilterInstance(function(d){d&&d.onFloatingFilterChanged(i.getLastType()||null,s||null)})}},t.prototype.conditionToString=function(e,i){return e.type==Vt.IN_RANGE||2===(i||{}).numberOfInputs?e.filter+"-"+e.filterTo:null!=e.filter?""+e.filter:""+e.type},t.prototype.setEditable=function(e){this.eFloatingFilterInput.setDisabled(!e)},Uo([Q("columnModel")],t.prototype,"columnModel",void 0),Uo([He("eFloatingFilterInput")],t.prototype,"eFloatingFilterInput",void 0),Uo([be],t.prototype,"postConstruct",null),t}(Ul),Zl=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ta=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return Zl(t,a),t.prototype.getDefaultFilterOptions=function(){return zl.DEFAULT_FILTER_OPTIONS},t}(ud),Oi=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ia=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return Oi(t,a),t.prototype.getDefaultFilterOptions=function(){return ea.DEFAULT_FILTER_OPTIONS},t}(ud),Ti=function(){function a(t,e){var i=this;void 0===e&&(e=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new Le,this.eElement=t,this.preventMouseClick=e;var n=this.onTouchStart.bind(this),s=this.onTouchMove.bind(this),d=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",n,{passive:!0}),this.eElement.addEventListener("touchmove",s,{passive:!0}),this.eElement.addEventListener("touchend",d,{passive:!1}),this.destroyFuncs.push(function(){i.eElement.removeEventListener("touchstart",n,{passive:!0}),i.eElement.removeEventListener("touchmove",s,{passive:!0}),i.eElement.removeEventListener("touchend",d,{passive:!1})})}return a.prototype.getActiveTouch=function(t){for(var e=0;e<t.length;e++)if(t[e].identifier===this.touchStart.identifier)return t[e];return null},a.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},a.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},a.prototype.onTouchStart=function(t){var e=this;if(!this.touching){this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;var i=this.touchStart;window.setTimeout(function(){e.touching&&e.touchStart===i&&!e.moved&&(e.moved=!0,e.eventService.dispatchEvent({type:a.EVENT_LONG_TAP,touchStart:e.touchStart,touchEvent:t}))},500)}},a.prototype.onTouchMove=function(t){if(this.touching){var e=this.getActiveTouch(t.touches);e&&!Yu(e,this.touchStart,4)&&(this.moved=!0)}},a.prototype.onTouchEnd=function(t){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:a.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&t.preventDefault(),this.touching=!1)},a.prototype.checkForDoubleTap=function(){var t=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&t-this.lastTapTime>a.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:a.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=t},a.prototype.destroy=function(){this.destroyFuncs.forEach(function(t){return t()})},a.EVENT_TAP="tap",a.EVENT_DOUBLE_TAP="doubleTap",a.EVENT_LONG_TAP="longTap",a.DOUBLE_TAP_MILLIS=500,a}(),Nf=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),nn=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Bf=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.lastMovingChanged=0,e}return Nf(t,a),t.prototype.destroy=function(){a.prototype.destroy.call(this)},t.prototype.refresh=function(e){return this.params=e,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(e),!0)},t.prototype.workOutTemplate=function(){var e=ai(this.params.template,t.TEMPLATE);return e&&e.trim?e.trim():e},t.prototype.init=function(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(e.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(e)},t.prototype.setDisplayName=function(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;var i=pn(this.currentDisplayName);this.eText&&(this.eText.innerHTML=i)}},t.prototype.setupIcons=function(e){this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e),this.addInIcon("menu",this.eMenu,e),this.addInIcon("filter",this.eFilter,e)},t.prototype.addInIcon=function(e,i,n){if(null!=i){var s=qt(e,this.gridOptionsWrapper,n);s&&i.appendChild(s)}},t.prototype.setupTap=function(){var e=this,i=this.gridOptionsWrapper;if(!i.isSuppressTouch()){var n=new Ti(this.getGui(),!0),s=i.isSuppressMenuHide(),d=s&&W(this.eMenu),h=d?new Ti(this.eMenu,!0):n;this.params.enableMenu&&this.addManagedListener(h,Ti[d?"EVENT_TAP":"EVENT_LONG_TAP"],function(q){i.getApi().showColumnMenuAfterMouseClick(e.params.column,q.touchStart)}),this.params.enableSorting&&this.addManagedListener(n,Ti.EVENT_TAP,function(q){s&&e.eMenu.contains(q.touchStart.target)||e.sortController.progressSort(e.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return n.destroy()}),d&&this.addDestroyFunc(function(){return h.destroy()})}},t.prototype.workOutShowMenu=function(){var e=!this.gridOptionsWrapper.isSuppressMenuHide(),i=er()&&e;return this.params.enableMenu&&!i},t.prototype.setMenu=function(){var e=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void Yi(this.eMenu);var i=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return e.showMenu(e.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",i)}},t.prototype.showMenu=function(e){e||(e=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,e,"columnMenu")},t.prototype.removeSortIcons=function(){Yi(this.eSortAsc),Yi(this.eSortDesc),Yi(this.eSortNone),Yi(this.eSortOrder)},t.prototype.workOutSort=function(){return this.params.enableSorting},t.prototype.setupSort=function(){var e=this;if(this.currentSort=this.params.enableSorting,this.currentSort){var i=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,lt.EVENT_MOVING_CHANGED,function(){e.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(n){var s=e.params.column.isMoving(),d=(new Date).getTime();s||d-e.lastMovingChanged<50||e.params.progressSort(i?n.ctrlKey||n.metaKey:n.shiftKey)}),this.addManagedListener(this.params.column,lt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,ue.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},t.prototype.onSortChanged=function(){if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&this.eSortAsc.classList.toggle("ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&this.eSortDesc.classList.toggle("ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var e=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();this.eSortNone.classList.toggle("ag-hidden",e||!this.params.column.isSortNone())}},t.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var e=this.params.column,i=this.sortController.getColumnsWithSortingOrdered(),n=i.indexOf(e),s=i.length>1,d=e.isSorting()&&s;Pt(this.eSortOrder,d),n>=0?this.eSortOrder.innerHTML=(n+1).toString():Ci(this.eSortOrder)}},t.prototype.setupFilterIcon=function(){!this.eFilter||(this.addManagedListener(this.params.column,lt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},t.prototype.onFilterChanged=function(){var e=this.params.column.isFilterActive();this.eFilter.classList.toggle("ag-hidden",!e)},t.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',nn([Q("sortController")],t.prototype,"sortController",void 0),nn([Q("menuFactory")],t.prototype,"menuFactory",void 0),nn([He("eFilter")],t.prototype,"eFilter",void 0),nn([He("eSortAsc")],t.prototype,"eSortAsc",void 0),nn([He("eSortDesc")],t.prototype,"eSortDesc",void 0),nn([He("eSortNone")],t.prototype,"eSortNone",void 0),nn([He("eSortOrder")],t.prototype,"eSortOrder",void 0),nn([He("eMenu")],t.prototype,"eMenu",void 0),nn([He("eLabel")],t.prototype,"eLabel",void 0),nn([He("eText")],t.prototype,"eText",void 0),t}(pt),Kt=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),dd=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Ur=function(a){function t(){return a.call(this,t.TEMPLATE)||this}return Kt(t,a),t.prototype.destroy=function(){a.prototype.destroy.call(this)},t.prototype.init=function(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},t.prototype.checkWarnings=function(){this.params.template&&ye(function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},t.prototype.setupExpandIcons=function(){var e=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var i=function(d){if(!Ai(d)){var h=!e.params.columnGroup.isExpanded();e.columnModel.setColumnGroupOpened(e.params.columnGroup.getProvidedColumnGroup(),h,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,i),this.addTouchAndClickListeners(this.eOpenIcon,i);var n=function(d){Kn(d)};this.addManagedListener(this.eCloseIcon,"dblclick",n),this.addManagedListener(this.eOpenIcon,"dblclick",n),this.addManagedListener(this.getGui(),"dblclick",i),this.updateIconVisibility();var s=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(s,Nt.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(s,Nt.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},t.prototype.addTouchAndClickListeners=function(e,i){var n=new Ti(e,!0);this.addManagedListener(n,Ti.EVENT_TAP,i),this.addDestroyFunc(function(){return n.destroy()}),this.addManagedListener(e,"click",i)},t.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var i=this.params.columnGroup.isExpanded();Pt(this.eOpenIcon,i),Pt(this.eCloseIcon,!i)}else Pt(this.eOpenIcon,!1),Pt(this.eCloseIcon,!1)},t.prototype.addInIcon=function(e,i){var n=qt(e,this.gridOptionsWrapper,null);n&&this.getRefElement(i).appendChild(n)},t.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return Pt(this.eOpenIcon,!1),void Pt(this.eCloseIcon,!1)},t.prototype.setupLabel=function(){var e=this.params.displayName;if(W(e)){var i=pn(e);this.getRefElement("agLabel").innerHTML=i}},t.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',dd([Q("columnModel")],t.prototype,"columnModel",void 0),dd([He("agOpened")],t.prototype,"eOpenIcon",void 0),dd([He("agClosed")],t.prototype,"eCloseIcon",void 0),t}(pt),Xy=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),zo=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return Xy(t,a),t.prototype.isPopup=function(){return!0},t.prototype.setParentComponent=function(e){e.addCssClass("ag-has-popup"),a.prototype.setParentComponent.call(this,e)},t.prototype.destroy=function(){var e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),a.prototype.destroy.call(this)},t}(pt),e_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),kf=function(a){function t(){return a.call(this,t.TEMPLATE)||this}return e_(t,a),t.prototype.init=function(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),W(e.value)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},t.prototype.onKeyDown=function(e){var i=e.key;(i===Ue.LEFT||i===Ue.UP||i===Ue.RIGHT||i===Ue.DOWN||e.shiftKey&&i===Ue.ENTER)&&e.stopPropagation()},t.prototype.afterGuiAttached=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},t.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},t.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);n>3&&s&&Object.defineProperty(t,e,s)}([He("eTextArea")],t.prototype,"eTextArea",void 0),t}(zo),i_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hd=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},na=function(a){function t(){var e=a.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return e.startedByEnter=!1,e}return i_(t,a),t.prototype.init=function(e){var i=this;if(this.focusAfterAttached=e.cellStartedEdit,E(e.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=e.eventKey&&e.eventKey===Ue.ENTER;var n=!1;e.values.forEach(function(s){var d={value:s},h=i.valueFormatterService.formatValue(e.column,null,null,s);d.text=null!=h?h:s,i.eSelect.addOption(d),n=n||e.value===s}),n?this.eSelect.setValue(e.value,!0):e.values.length&&this.eSelect.setValue(e.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return e.stopEditing()})}},t.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},t.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},t.prototype.getValue=function(){return this.eSelect.getValue()},t.prototype.isPopup=function(){return!1},hd([Q("valueFormatterService")],t.prototype,"valueFormatterService",void 0),hd([He("eSelect")],t.prototype,"eSelect",void 0),t}(zo),n_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pd=function(a){function t(){var e=a.call(this)||this;return ye(function(){return console.warn('AG Grid: The PopupSelectCellEditor (agPopupSelectCellEditor) is deprecated. Instead use {cellEditor: "agSelectCellEditor", cellEditorPopup: true} ')},"PopupSelectCellEditor.deprecated"),e}return n_(t,a),t.prototype.isPopup=function(){return!0},t}(na),rn=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ql=function(a){function t(){return a.call(this,t.TEMPLATE)||this}return rn(t,a),t.prototype.init=function(e){this.params=e;var n,i=this.eInput;e.cellStartedEdit?(this.focusAfterAttached=!0,e.eventKey===Ue.BACKSPACE||e.eventKey===Ue.DELETE?n="":e.charPress?n=e.charPress:(n=this.getStartValue(e),e.eventKey!==Ue.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,n=this.getStartValue(e)),null!=n&&i.setValue(n,!0),this.addManagedListener(i.getGui(),"keydown",function(s){var d=s.key;(d===Ue.PAGE_UP||d===Ue.PAGE_DOWN)&&s.preventDefault()})},t.prototype.afterGuiAttached=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),i=this.eInput;if(i.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached){Nr()||i.getFocusableElement().focus();var n=i.getInputElement();if(this.highlightAllOnFocus)n.select();else{var s=i.getValue(),d=W(s)&&s.length||0;d&&n.setSelectionRange(d,d)}}},t.prototype.focusIn=function(){var e=this.eInput,i=e.getFocusableElement(),n=e.getInputElement();i.focus(),n.select()},t.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},t.prototype.getStartValue=function(e){return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value},t.prototype.isPopup=function(){return!1},t.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);n>3&&s&&Object.defineProperty(t,e,s)}([He("eInput")],t.prototype,"eInput",void 0),t}(zo),o_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Gf=function(a){function t(){var e=a.call(this)||this;return ye(function(){return console.warn('AG Grid: The PopupTextCellEditor (agPopupTextCellEditor) is deprecated. Instead use {cellEditor: "agTextCellEditor", cellEditorPopup: true} ')},"PopupTextCellEditor.deprecated"),e}return o_(t,a),t.prototype.isPopup=function(){return!0},t}(ql),s_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Hf=function(a){function t(){var e=a.call(this,t.TEMPLATE)||this;return e.refreshCount=0,e}return s_(t,a),t.prototype.init=function(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e)},t.prototype.showDelta=function(e,i){var n=Math.abs(i),s=e.formatValue(n),d=W(s)?s:n,h=i>=0;this.eDelta.innerHTML=h?"\u2191"+d:"\u2193"+d,this.eDelta.classList.toggle("ag-value-change-delta-up",h),this.eDelta.classList.toggle("ag-value-change-delta-down",!h)},t.prototype.setTimerToRemoveDelta=function(){var e=this;this.refreshCount++;var i=this.refreshCount;window.setTimeout(function(){i===e.refreshCount&&e.hideDeltaValue()},2e3)},t.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),Ci(this.eDelta)},t.prototype.refresh=function(e){var i=e.value;return i!==this.lastValue&&(W(e.valueFormatted)?this.eValue.innerHTML=e.valueFormatted:W(e.value)?this.eValue.innerHTML=i:Ci(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof i&&"number"==typeof this.lastValue&&this.showDelta(e,i-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=i,!0)},t.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);n>3&&s&&Object.defineProperty(t,e,s)}([Q("filterManager")],t.prototype,"filterManager",void 0),t}(pt),l_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Vf=function(a){function t(){var e=a.call(this,t.TEMPLATE)||this;return e.refreshCount=0,e.eCurrent=e.queryForHtmlElement(".ag-value-slide-current"),e}return l_(t,a),t.prototype.init=function(e){this.refresh(e)},t.prototype.addSlideAnimation=function(){var e=this;this.refreshCount++;var i=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=Wt('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){i===e.refreshCount&&e.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){i===e.refreshCount&&(e.getGui().removeChild(e.ePrevious),e.ePrevious=null)},3e3)},t.prototype.refresh=function(e){var i=e.value;return E(i)&&(i=""),i!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=i,W(e.valueFormatted)?this.eCurrent.innerHTML=e.valueFormatted:W(e.value)?this.eCurrent.innerHTML=i:Ci(this.eCurrent),!0)},t.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);n>3&&s&&Object.defineProperty(t,e,s)}([Q("filterManager")],t.prototype,"filterManager",void 0),t}(pt);!function(a){a[a.Above=0]="Above",a[a.Below=1]="Below"}(z.oh5||(z.oh5={}));var gt=function(){function a(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=a.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.beans=t}return a.prototype.setData=function(t){this.setDataCommon(t,!1)},a.prototype.updateData=function(t){this.setDataCommon(t,!0)},a.prototype.setDataCommon=function(t,e){var i=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var n=this.createDataChangedEvent(t,i,e);this.dispatchLocalEvent(n)},a.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},a.prototype.createDataChangedEvent=function(t,e,i){return{type:a.EVENT_DATA_CHANGED,node:this,oldData:e,newData:t,update:i}},a.prototype.createLocalRowEvent=function(t){return{type:t,node:this}},a.prototype.getRowIndexString=function(){return this.rowPinned===ae.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===ae.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},a.prototype.createDaemonNode=function(){var t=new a(this.beans);return t.id=this.id,t.data=this.data,t.daemon=!0,t.selected=this.selected,t.level=this.level,t},a.prototype.setDataAndId=function(t,e){var i=W(this.id)?this.createDaemonNode():null,n=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(e),this.beans.selectionService.syncInRowNode(this,i),this.checkRowSelectable();var s=this.createDataChangedEvent(t,n,!1);this.dispatchLocalEvent(s)},a.prototype.checkRowSelectable=function(){var t=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(!t||t(this))},a.prototype.setRowSelectable=function(t){this.selectable!==t&&(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_SELECTABLE_CHANGED)))},a.prototype.setId=function(t){var e=this.beans.gridOptionsWrapper.getRowIdFunc();if(e)if(this.data){var i=this.getGroupKeys(!0);this.id=e({api:this.beans.gridApi,columnApi:this.beans.columnApi,data:this.data,parentKeys:i.length>0?i:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(a.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+a.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=t},a.prototype.getGroupKeys=function(t){void 0===t&&(t=!1);var e=[],i=this;for(t&&(i=i.parent);i&&i.level>=0;)e.push(i.key),i=i.parent;return e.reverse(),e},a.prototype.isPixelInRange=function(t){return!(!W(this.rowTop)||!W(this.rowHeight))&&t>=this.rowTop&&t<this.rowTop+this.rowHeight},a.prototype.setFirstChild=function(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_FIRST_CHILD_CHANGED)))},a.prototype.setLastChild=function(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_LAST_CHILD_CHANGED)))},a.prototype.setChildIndex=function(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_CHILD_INDEX_CHANGED)))},a.prototype.setRowTop=function(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_TOP_CHANGED)),this.setDisplayed(null!==t))},a.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},a.prototype.setDisplayed=function(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_DISPLAYED_CHANGED)))},a.prototype.setDragging=function(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_DRAGGING_CHANGED)))},a.prototype.setHighlighted=function(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_HIGHLIGHT_CHANGED)))},a.prototype.setAllChildrenCount=function(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},a.prototype.setMaster=function(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_MASTER_CHANGED)))},a.prototype.setGroup=function(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_GROUP_CHANGED)))},a.prototype.setRowHeight=function(t,e){void 0===e&&(e=!1),this.rowHeight=t,this.rowHeightEstimated=e,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_HEIGHT_CHANGED))},a.prototype.setRowAutoHeight=function(t,e){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[e.getId()]=t,null!=t&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=Fe(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},a.prototype.checkAutoHeights=function(){var t=!1,e=!0,i=0,n=this.__autoHeights;if(null!=n&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(h){var O=n[h.getId()];null!=O?(e=!1,O>i&&(i=O)):t=!0}),!t&&((e||i<10)&&(i=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),i!=this.rowHeight))){this.setRowHeight(i);var d=this.beans.rowModel;d.onRowHeightChanged&&d.onRowHeightChanged()}},a.prototype.setRowIndex=function(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_ROW_INDEX_CHANGED)))},a.prototype.setUiLevel=function(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_UI_LEVEL_CHANGED)))},a.prototype.setExpanded=function(t){if(this.expanded!==t){this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_EXPANDED_CHANGED));var e=Object.assign({},this.createGlobalRowEvent(ue.EVENT_ROW_GROUP_OPENED),{expanded:t});this.beans.rowNodeEventThrottle.dispatchExpanded(e),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},a.prototype.createGlobalRowEvent=function(t){return{type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},a.prototype.dispatchLocalEvent=function(t){this.eventService&&this.eventService.dispatchEvent(t)},a.prototype.setDataValue=function(t,e,i){var n=this.beans.columnModel.getPrimaryColumn(t),s=this.beans.valueService.getValue(n,this);this.beans.valueService.setValue(this,n,e,i),this.dispatchCellChangedEvent(n,e,s)},a.prototype.setGroupValue=function(t,e){var i=this.beans.columnModel.getGridColumn(t);E(this.groupData)&&(this.groupData={});var n=i.getColId(),s=this.groupData[n];s!==e&&(this.groupData[n]=e,this.dispatchCellChangedEvent(i,e,s))},a.prototype.setAggData=function(t){var e=this,i=k([this.aggData,t]),n=this.aggData;this.aggData=t,this.eventService&&i.forEach(function(s){var d=e.beans.columnModel.getGridColumn(s);e.dispatchCellChangedEvent(d,e.aggData?e.aggData[s]:void 0,n?n[s]:void 0)})},a.prototype.updateHasChildren=function(){var t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(a.EVENT_HAS_CHILDREN_CHANGED)))},a.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},a.prototype.isEmptyRowGroupNode=function(){return this.group&&B(this.childrenAfterGroup)},a.prototype.dispatchCellChangedEvent=function(t,e,i){this.dispatchLocalEvent({type:a.EVENT_CELL_CHANGED,node:this,column:t,newValue:e,oldValue:i})},a.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},a.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},a.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},a.prototype.depthFirstSearch=function(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(e){return e.depthFirstSearch(t)}),t(this)},a.prototype.calculateSelectedFromChildren=function(){var t=!1,e=!1,i=!1;if(this.childrenAfterGroup)for(var s=0;s<this.childrenAfterGroup.length;s++){var d=this.childrenAfterGroup[s];if(d.selectable)switch(d.isSelected()){case!0:t=!0;break;case!1:e=!0;break;default:i=!0}}this.selectThisNode(i?void 0:!(!t||e)||!(!t&&e)&&void 0)},a.prototype.setSelectedInitialValue=function(t){this.selected=t},a.prototype.setSelected=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1),this.setSelectedParams({newValue:t,clearSelection:e,suppressFinishActions:i,rangeSelect:!1})},a.prototype.isRowPinned=function(){return this.rowPinned===ae.PINNED_TOP||this.rowPinned===ae.PINNED_BOTTOM},a.prototype.setSelectedParams=function(t){var e=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),i=!0===t.newValue,n=!0===t.clearSelection,s=!0===t.suppressFinishActions,d=!0===t.rangeSelect,h=e&&!0===t.groupSelectsFiltered;if(void 0===this.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(t);if(d&&this.beans.selectionService.getLastSelectedNode()){var O=this.beans.selectionService.getLastSelectedNode()!==this,L=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(O&&L){var j=this.doRowRangeSelection(t.newValue);return this.beans.selectionService.setLastSelectedNode(this),j}}var q=0;return h&&this.group||this.selectThisNode(i)&&q++,e&&this.group&&(q+=this.selectChildNodes(i,h)),s||(i&&(n||!this.beans.gridOptionsWrapper.isRowSelectionMulti())&&(q+=this.beans.selectionService.clearOtherNodes(this)),q>0&&(this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:ue.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi})),i&&this.beans.selectionService.setLastSelectedNode(this)),q},a.prototype.doRowRangeSelection=function(t){var e=this;void 0===t&&(t=!0);var i=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),n=this.beans.selectionService.getLastSelectedNode(),s=this.beans.rowModel.getNodesInRangeForSelection(this,n),d=0;return s.forEach(function(O){O.group&&i||!1===t&&e===O||O.selectThisNode(t)&&d++}),this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:ue.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi}),d},a.prototype.isParentOfNode=function(t){for(var e=this.parent;e;){if(e===t)return!0;e=e.parent}return!1},a.prototype.selectThisNode=function(t){if(!this.selectable&&t||this.selected===t)return!1;this.selected=t,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(a.EVENT_ROW_SELECTED));var n=this.createGlobalRowEvent(ue.EVENT_ROW_SELECTED);return this.beans.eventService.dispatchEvent(n),!0},a.prototype.selectChildNodes=function(t,e){var i=e?this.childrenAfterFilter:this.childrenAfterGroup;if(E(i))return 0;for(var n=0,s=0;s<i.length;s++)n+=i[s].setSelectedParams({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:e});return n},a.prototype.addEventListener=function(t,e){this.eventService||(this.eventService=new Le),this.eventService.addEventListener(t,e)},a.prototype.removeEventListener=function(t,e){!this.eventService||(this.eventService.removeEventListener(t,e),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},a.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(a.EVENT_MOUSE_ENTER))},a.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(a.EVENT_MOUSE_LEAVE))},a.prototype.getFirstChildOfFirstChild=function(t){for(var e=this,i=!0,n=!1,s=null;i&&!n;){var d=e.parent;W(d)&&e.firstChild?d.rowGroupColumn===t&&(n=!0,s=d):i=!1,e=d}return n?s:null},a.prototype.isFullWidthCell=function(){var t=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return!!t&&t(this)},a.prototype.getRoute=function(){if(null!=this.key){for(var t=[],e=this;null!=e.key;)t.push(e.key),e=e.parent;return t.reverse()}},a.ID_PREFIX_ROW_GROUP="row-group-",a.ID_PREFIX_TOP_PINNED="t-",a.ID_PREFIX_BOTTOM_PINNED="b-",a.OBJECT_ID_SEQUENCE=0,a.EVENT_ROW_SELECTED="rowSelected",a.EVENT_DATA_CHANGED="dataChanged",a.EVENT_CELL_CHANGED="cellChanged",a.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",a.EVENT_MASTER_CHANGED="masterChanged",a.EVENT_GROUP_CHANGED="groupChanged",a.EVENT_MOUSE_ENTER="mouseEnter",a.EVENT_MOUSE_LEAVE="mouseLeave",a.EVENT_HEIGHT_CHANGED="heightChanged",a.EVENT_TOP_CHANGED="topChanged",a.EVENT_DISPLAYED_CHANGED="displayedChanged",a.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",a.EVENT_LAST_CHILD_CHANGED="lastChildChanged",a.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",a.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",a.EVENT_EXPANDED_CHANGED="expandedChanged",a.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",a.EVENT_SELECTABLE_CHANGED="selectableChanged",a.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",a.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",a.EVENT_DRAGGING_CHANGED="draggingChanged",a}(),Kl=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),zr=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},yn=function(a){function t(){return a.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return Kl(t,a),t.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},t.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},t.prototype.onDataChanged=function(){this.onSelectionChanged()},t.prototype.onSelectableChanged=function(){this.showOrHideSelect()},t.prototype.onSelectionChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),i=this.rowNode.isSelected(),n=void 0===i?e("ariaIndeterminate","indeterminate"):!0===i?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),s=e("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(i,!0),this.eCheckbox.setInputAriaLabel(s+" ("+n+")")},t.prototype.onCheckedClicked=function(e){var i=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:i})},t.prototype.onUncheckedClicked=function(e){var i=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:e.shiftKey,groupSelectsFiltered:i})},t.prototype.init=function(e){var i=this;if(this.rowNode=e.rowNode,this.column=e.column,this.onSelectionChanged(),this.addGuiEventListener("click",function(h){return Kn(h)}),this.addGuiEventListener("dblclick",function(h){return Kn(h)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(h){var O=i.eCheckbox.getValue();void 0===i.eCheckbox.getPreviousValue()||void 0===O?0===i.onUncheckedClicked(h||{})&&i.onCheckedClicked(h):O?i.onCheckedClicked(h):i.onUncheckedClicked(h||{})}),this.addManagedListener(this.rowNode,gt.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,gt.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,gt.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsWrapper.getIsRowSelectableFunc()||this.checkboxCallbackExists()){var d=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,ue.EVENT_DISPLAYED_COLUMNS_CHANGED,d),this.addManagedListener(this.rowNode,gt.EVENT_DATA_CHANGED,d),this.addManagedListener(this.rowNode,gt.EVENT_CELL_CHANGED,d),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},t.prototype.showOrHideSelect=function(){var e=this.rowNode.selectable;e&&this.checkboxCallbackExists()&&(e=this.column.isCellCheckboxSelection(this.rowNode)),this.setVisible(e)},t.prototype.checkboxCallbackExists=function(){var e=this.column?this.column.getColDef():null;return!!e&&"function"==typeof e.checkboxSelection},zr([He("eCheckbox")],t.prototype,"eCheckbox",void 0),zr([be],t.prototype,"postConstruct",null),t}(pt),Wf=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),on=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},$f=function(a){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&a[t],i=0;if(e)return e.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&i>=a.length&&(a=void 0),{value:a&&a[i++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(a){a[a.ToolPanel=0]="ToolPanel",a[a.HeaderCell=1]="HeaderCell",a[a.RowDrag=2]="RowDrag",a[a.ChartPanel=3]="ChartPanel"})(z.rvo||(z.rvo={})),function(a){a[a.Up=0]="Up",a[a.Down=1]="Down"}(z.HO_||(z.HO_={})),function(a){a[a.Left=0]="Left",a[a.Right=1]="Right"}(z.poj||(z.poj={}));var hi=function(a){function t(){var i=null!==a&&a.apply(this,arguments)||this;return i.dragSourceAndParamsList=[],i.dropTargets=[],i}var e;return Wf(t,a),e=t,t.prototype.init=function(){this.ePinnedIcon=ki("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=ki("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=ki("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=ki("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=ki("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=ki("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=ki("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=ki("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=ki("dropNotAllowed",this.gridOptionsWrapper,null)},t.prototype.addDragSource=function(i,n){void 0===n&&(n=!1);var s={eElement:i.eElement,dragStartPixels:i.dragStartPixels,onDragStart:this.onDragStart.bind(this,i),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:s,dragSource:i}),this.dragService.addDragSource(s,n)},t.prototype.removeDragSource=function(i){var n=this.dragSourceAndParamsList.find(function(s){return s.dragSource===i});n&&(this.dragService.removeDragSource(n.params),zt(this.dragSourceAndParamsList,n))},t.prototype.clearDragSourceParamsList=function(){var i=this;this.dragSourceAndParamsList.forEach(function(n){return i.dragService.removeDragSource(n.params)}),this.dragSourceAndParamsList.length=0},t.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},t.prototype.onDragStart=function(i,n){this.dragging=!0,this.dragSource=i,this.eventLastTime=n,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},t.prototype.onDragStop=function(i){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var n=this.createDropTargetEvent(this.lastDropTarget,i,null,null,!1);this.lastDropTarget.onDragStop(n)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},t.prototype.onDragging=function(i,n){var s=this,d=this.getHorizontalDirection(i),h=this.getVerticalDirection(i);this.eventLastTime=i,this.positionGhost(i);var O=this.dropTargets.filter(function(J){return s.isMouseOnDropTarget(i,J)}),L=O.length,j=null;if(L>0&&(j=1===L?O[0]:O.reduce(function(J,re){if(!J)return re;var me=J.getContainer(),Ae=re.getContainer();return me.contains(Ae)?re:J})),j!==this.lastDropTarget)this.leaveLastTargetIfExists(i,d,h,n),this.enterDragTargetIfExists(j,i,d,h,n),this.lastDropTarget=j;else if(j&&j.onDragging){var q=this.createDropTargetEvent(j,i,d,h,n);j.onDragging(q)}},t.prototype.enterDragTargetIfExists=function(i,n,s,d,h){if(i){if(i.onDragEnter){var O=this.createDropTargetEvent(i,n,s,d,h);i.onDragEnter(O)}this.setGhostIcon(i.getIconName?i.getIconName():null)}},t.prototype.leaveLastTargetIfExists=function(i,n,s,d){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var h=this.createDropTargetEvent(this.lastDropTarget,i,n,s,d);this.lastDropTarget.onDragLeave(h)}this.setGhostIcon(null)}},t.prototype.getAllContainersFromDropTarget=function(i){var n=i.getSecondaryContainers?i.getSecondaryContainers():null,s=[[i.getContainer()]];return n?s.concat(n):s},t.prototype.allContainersIntersect=function(i,n){var s,d;try{for(var h=$f(n),O=h.next();!O.done;O=h.next()){var j=O.value.getBoundingClientRect();if(0===j.width||0===j.height)return!1;if(!(i.clientX>=j.left&&i.clientX<j.right&&i.clientY>=j.top&&i.clientY<j.bottom))return!1}}catch(re){s={error:re}}finally{try{O&&!O.done&&(d=h.return)&&d.call(h)}finally{if(s)throw s.error}}return!0},t.prototype.isMouseOnDropTarget=function(i,n){var s,d,h=this.getAllContainersFromDropTarget(n),O=!1;try{for(var L=$f(h),j=L.next();!j.done;j=L.next())if(this.allContainersIntersect(i,j.value)){O=!0;break}}catch(J){s={error:J}}finally{try{j&&!j.done&&(d=L.return)&&d.call(L)}finally{if(s)throw s.error}}return O&&n.isInterestedIn(this.dragSource.type)},t.prototype.addDropTarget=function(i){this.dropTargets.push(i)},t.prototype.removeDropTarget=function(i){this.dropTargets=this.dropTargets.filter(function(n){return n.getContainer()!==i.getContainer()})},t.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(i){return i.external})},t.prototype.findExternalZone=function(i){return this.dropTargets.filter(function(s){return s.external}).find(function(s){return s.getContainer()===i.getContainer()})||null},t.prototype.getHorizontalDirection=function(i){var n=this.eventLastTime&&this.eventLastTime.clientX,s=i.clientX;return n===s?null:n>s?z.poj.Left:z.poj.Right},t.prototype.getVerticalDirection=function(i){var n=this.eventLastTime&&this.eventLastTime.clientY,s=i.clientY;return n===s?null:n>s?z.HO_.Up:z.HO_.Down},t.prototype.createDropTargetEvent=function(i,n,s,d,h){var O=i.getContainer(),L=O.getBoundingClientRect(),j=this;return{event:n,x:n.clientX-L.left,y:n.clientY-L.top,vDirection:d,hDirection:s,dragSource:j.dragSource,fromNudge:h,dragItem:j.dragItem,api:j.gridApi,columnApi:j.columnApi,dropZoneTarget:O}},t.prototype.positionGhost=function(i){var n=this.eGhost;if(n){var d=n.getBoundingClientRect().height,h=Yp()-2,O=Qp()-2,L=i.pageY-d/2,j=i.pageX-10,q=this.gridOptionsWrapper.getDocument(),J=q.defaultView||window,re=J.pageYOffset||q.documentElement.scrollTop,me=J.pageXOffset||q.documentElement.scrollLeft;h>0&&j+n.clientWidth>h+me&&(j=h+me-n.clientWidth),j<0&&(j=0),O>0&&L+n.clientHeight>O+re&&(L=O+re-n.clientHeight),L<0&&(L=0),n.style.left=j+"px",n.style.top=L+"px"}},t.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},t.prototype.createGhost=function(){this.eGhost=Wt(e.GHOST_TEMPLATE);var i=this.environment.getTheme().theme;i&&this.eGhost.classList.add(i),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var n=this.eGhost.querySelector(".ag-dnd-ghost-label"),s=this.dragSource.dragItemName;se(s)&&(s=s()),n.innerHTML=pn(s)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var d=this.gridOptionsWrapper.getDocument(),h=null;try{h=d.fullscreenElement}catch(O){}finally{h||(h=d.querySelector("body"))}this.eGhostParent=h,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},t.prototype.setGhostIcon=function(i,n){void 0===n&&(n=!1),Ci(this.eGhostIcon);var s=null;switch(i||(i=this.dragSource.defaultIconName||e.ICON_NOT_ALLOWED),i){case e.ICON_PINNED:s=this.ePinnedIcon;break;case e.ICON_MOVE:s=this.eMoveIcon;break;case e.ICON_LEFT:s=this.eLeftIcon;break;case e.ICON_RIGHT:s=this.eRightIcon;break;case e.ICON_GROUP:s=this.eGroupIcon;break;case e.ICON_AGGREGATE:s=this.eAggregateIcon;break;case e.ICON_PIVOT:s=this.ePivotIcon;break;case e.ICON_NOT_ALLOWED:s=this.eDropNotAllowedIcon;break;case e.ICON_HIDE:s=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",n),(s!==this.eHideIcon||!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns())&&s&&this.eGhostIcon.appendChild(s)},t.ICON_PINNED="pinned",t.ICON_MOVE="move",t.ICON_LEFT="left",t.ICON_RIGHT="right",t.ICON_GROUP="group",t.ICON_AGGREGATE="aggregate",t.ICON_PIVOT="pivot",t.ICON_NOT_ALLOWED="notAllowed",t.ICON_HIDE="hide",t.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',on([Q("dragService")],t.prototype,"dragService",void 0),on([Q("environment")],t.prototype,"environment",void 0),on([Q("columnApi")],t.prototype,"columnApi",void 0),on([Q("gridApi")],t.prototype,"gridApi",void 0),on([be],t.prototype,"init",null),on([Xe],t.prototype,"clearDragSourceParamsList",null),e=on([je("dragAndDropService")],t)}(Ze),Yl=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ra=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Ql=function(a){function t(e,i,n,s,d,h){var O=a.call(this)||this;return O.cellValueFn=e,O.rowNode=i,O.column=n,O.customGui=s,O.dragStartPixels=d,O.suppressVisibilityChange=h,O.dragSource=null,O}return Yl(t,a),t.prototype.isCustomGui=function(){return null!=this.customGui},t.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(qt("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var e=this.beans.gridOptionsWrapper.isRowDragManaged()?new qo(this,this.beans,this.rowNode,this.column):new u_(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}},t.prototype.setDragElement=function(e,i){this.setTemplateFromElement(e),this.addDragSource(i)},t.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isRowDragMultiRow())return 1;var i=this.beans.selectionService.getSelectedNodes();return-1!==i.indexOf(this.rowNode)?i.length:1},t.prototype.checkCompatibility=function(){var e=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&e&&ye(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},t.prototype.addDragSource=function(e){var i=this;void 0===e&&(e=4),this.dragSource&&this.removeDragSource();var n={rowNode:this.rowNode,columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()},s=this.column&&this.column.getColDef().rowDragText,d=this.gridOptionsWrapper.getLocaleTextFunc();this.dragSource={type:z.rvo.RowDrag,eElement:this.getGui(),dragItemName:function(){var h=i.getSelectedCount();return s?s(n,h):1===h?i.cellValueFn():h+" "+d("rowDragRows","rows")},getDragItem:function(){return n},dragStartPixels:e,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},t.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},ra([Q("beans")],t.prototype,"beans",void 0),ra([be],t.prototype,"postConstruct",null),ra([Xe],t.prototype,"removeDragSource",null),t}(pt),_n=function(a){function t(e,i,n){var s=a.call(this)||this;return s.parent=e,s.rowNode=i,s.column=n,s}return Yl(t,a),t.prototype.setDisplayedOrVisible=function(e){if(e)this.parent.setDisplayed(!1);else{var i=!0,n=!1;this.column&&(i=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),n=se(this.column.getColDef().rowDrag)),n?(this.parent.setDisplayed(!0),this.parent.setVisible(i)):(this.parent.setDisplayed(i),this.parent.setVisible(!0))}},t}(Ze),u_=function(a){function t(e,i,n,s){var d=a.call(this,e,n,s)||this;return d.beans=i,d}return Yl(t,a),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,gt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,gt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,gt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ue.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var e=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(e)},ra([be],t.prototype,"postConstruct",null),t}(_n),qo=function(a){function t(e,i,n,s){var d=a.call(this,e,n,s)||this;return d.beans=i,d}return Yl(t,a),t.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,ue.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ue.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ue.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ue.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,gt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,gt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},t.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},t.prototype.workOutVisibility=function(){var i=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),n=i&&i.shouldPreventRowMove(),s=this.beans.gridOptionsWrapper.isSuppressRowDrag(),d=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(n&&!d||s)},ra([be],t.prototype,"postConstruct",null),t}(_n),d_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),jt=function(){return jt=Object.assign||function(a){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a},jt.apply(this,arguments)},Mt=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Jl=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return d_(t,a),t.prototype.init=function(e,i,n,s,d,h,O){this.params=O,this.eGui=i,this.eCheckbox=n,this.eExpanded=s,this.eContracted=d,this.comp=e,this.compClass=h;var L=this.isTopLevelFooter(),j=this.isEmbeddedRowMismatch(),q=null==O.value,J=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var re=O.node;re.footer&&(J=(O.colDef&&O.colDef.showRowGroup)!==(re.rowGroupColumn&&re.rowGroupColumn.getColId()))}this.cellIsBlank=!L&&(j||q||J),!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent())},t.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter()||null!=this.params.value||-1!=this.params.node.level)return!1;var e=this.params.colDef;if(null==e||!0===e.showRowGroup)return!0;var n=this.columnModel.getRowGroupColumns();return!n||0===n.length||n[0].getId()===e.showRowGroup},t.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var e=this.params.pinned===ae.PINNED_LEFT,i=this.params.pinned===ae.PINNED_RIGHT,n=!e&&!i;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!i:!n:this.columnModel.isPinningLeft()?!e:!n},t.prototype.findDisplayedGroupNode=function(){var e=this.params.column,i=this.params.node;if(this.showingValueForOpenedParent)for(var n=i.parent;null!=n;){if(n.rowGroupColumn&&e.isRowGroupDisplayed(n.rowGroupColumn.getId())){this.displayedGroupNode=n;break}n=n.parent}E(this.displayedGroupNode)&&(this.displayedGroupNode=i)},t.prototype.setupShowingValueForOpenedParent=function(){var e=this.params.node,i=this.params.column;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(e.groupData){if(null!=e.rowGroupColumn){var s=e.rowGroupColumn.getId();if(i.isRowGroupDisplayed(s))return void(this.showingValueForOpenedParent=!1)}var h=null!=e.groupData[i.getId()];this.showingValueForOpenedParent=h}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},t.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},t.prototype.addGroupValue=function(){var e=this.adjustParamsWithDetailsFromRelatedColumn(),i=this.getInnerCompDetails(e),n=e.valueFormatted;this.comp.setInnerRenderer(i,null!=n?n:e.value)},t.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var e=this.displayedGroupNode.rowGroupColumn,i=this.params.column;if(!e)return this.params;if(null!=i&&!i.isRowGroupDisplayed(e.getId()))return this.params;var d=this.params,h=this.params,q=this.valueFormatterService.formatValue(e,h.node,h.scope,h.value);return jt(jt({},d),{valueFormatted:q})},t.prototype.addFooterValue=function(){var e=this.params.footerValueGetter,i="";if(e){var n=A(this.params);n.value=this.params.value,"function"==typeof e?i=e(n):"string"==typeof e?i=this.expressionService.evaluate(e,n):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else i="Total "+(null!=this.params.value?this.params.value:"");var s=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(s,i)},t.prototype.getInnerCompDetails=function(e){var i=this;if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,e);var n=this.userComponentFactory.getInnerRendererDetails(e,e),s=function(j){return j&&j.componentClass==i.compClass};if(n&&!s(n))return n;var d=this.displayedGroupNode.rowGroupColumn,h=d?d.getColDef():void 0;if(h){var O=this.userComponentFactory.getCellRendererDetails(h,e);if(O&&!s(O))return O;if(s(O)&&h.cellRendererParams&&h.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(h.cellRendererParams,e)}},t.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,gt.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},t.prototype.updateChildCount=function(){var e=this.displayedGroupNode.allChildrenCount,i=this.isShowRowGroupForThisRow();this.comp.setChildCount(i&&null!=e&&e>=0?"("+e+")":"")},t.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;var i=this.params.column;return null==i||i.isRowGroupDisplayed(e.getId())},t.prototype.addExpandAndContract=function(){var e=this.params,i=qt("groupExpanded",this.gridOptionsWrapper,null),n=qt("groupContracted",this.gridOptionsWrapper,null);i&&this.eExpanded.appendChild(i),n&&this.eContracted.appendChild(n);var s=e.eGridCell;!this.gridOptionsWrapper.isEnableGroupEdit()&&this.isExpandable()&&!e.suppressDoubleClickExpand&&this.addManagedListener(s,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(s,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(e.node,gt.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var d=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,gt.EVENT_ALL_CHILDREN_COUNT_CHANGED,d),this.addManagedListener(this.displayedGroupNode,gt.EVENT_MASTER_CHANGED,d),this.addManagedListener(this.displayedGroupNode,gt.EVENT_GROUP_CHANGED,d),this.addManagedListener(this.displayedGroupNode,gt.EVENT_HAS_CHILDREN_CHANGED,d)},t.prototype.onExpandClicked=function(e){Ai(e)||(Kn(e),this.onExpandOrContract())},t.prototype.onExpandOrContract=function(){var e=this.displayedGroupNode;e.setExpanded(!e.expanded)},t.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var e=this.displayedGroupNode,i=this.columnModel.isPivotMode()&&e.leafGroup;if(!e.isExpandable()||e.footer||i)return!1;var s=this.params.column;return null==s||"string"!=typeof s.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},t.prototype.showExpandAndContractIcons=function(){var e=this,n=e.displayedGroupNode,s=e.columnModel,d=e.params.node,h=this.isExpandable();if(h){var O=!!this.showingValueForOpenedParent||d.expanded;this.comp.setExpandedDisplayed(O),this.comp.setContractedDisplayed(!O)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var L=s.isPivotMode(),j=L&&n.leafGroup,q=h&&!j,J=d.footer&&-1===d.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",q),this.comp.addOrRemoveCssClass("ag-row-group",q),L?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",j):J||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!q)},t.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent()},t.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,gt.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},t.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var e=this.params,i=e.node,n=!!e.colDef,s=this.gridOptionsWrapper.isTreeData(),h=!n||s||!0===e.colDef.showRowGroup?i.uiLevel:0;e.padding>=0&&ye(function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+h,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},t.prototype.addFullWidthRowDraggerIfNeeded=function(){var e=this;if(this.params.fullWidth&&this.params.rowDrag){var i=new Ql(function(){return e.params.value},this.params.node);this.createManagedBean(i,this.context),this.eGui.insertAdjacentElement("afterbegin",i.getGui())}},t.prototype.isUserWantsSelected=function(){var e=this.params.checkbox;return"function"==typeof e?e(this.params):!0===e},t.prototype.addCheckboxIfNeeded=function(){var e=this,i=this.displayedGroupNode,n=this.isUserWantsSelected()&&!i.footer&&!i.rowPinned&&!i.detail;if(n){var s=new yn;this.getContext().createBean(s),s.init({rowNode:i,column:this.params.column}),this.eCheckbox.appendChild(s.getGui()),this.addDestroyFunc(function(){return e.getContext().destroyBean(s)})}this.comp.setCheckboxVisible(n)},t.prototype.onKeyDown=function(e){e.key!==Ue.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract()},t.prototype.onCellDblClicked=function(e){Ai(e)||Yn(this.eExpanded,e)||Yn(this.eContracted,e)||this.onExpandOrContract()},Mt([Q("expressionService")],t.prototype,"expressionService",void 0),Mt([Q("valueFormatterService")],t.prototype,"valueFormatterService",void 0),Mt([Q("columnModel")],t.prototype,"columnModel",void 0),Mt([Q("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Mt([Q("gridOptions")],t.prototype,"gridOptions",void 0),t}(Ze),yt=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ko=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},oa=function(a){function t(){return a.call(this,t.TEMPLATE)||this}return yt(t,a),t.prototype.init=function(e){var i=this,n={setInnerRenderer:function(O,L){return i.setRenderDetails(O,L)},setChildCount:function(O){return i.eChildCount.innerHTML=O},addOrRemoveCssClass:function(O,L){return i.addOrRemoveCssClass(O,L)},setContractedDisplayed:function(O){return Pt(i.eContracted,O)},setExpandedDisplayed:function(O){return Pt(i.eExpanded,O)},setCheckboxVisible:function(O){return i.eCheckbox.classList.toggle("ag-invisible",!O)}},s=this.createManagedBean(new Jl),d=!e.colDef,h=this.getGui();s.init(n,h,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,e),d&&fi(h,"gridcell")},t.prototype.setRenderDetails=function(e,i){var n=this;if(e){var s=e.newAgStackInstance();if(!s)return;s.then(function(d){if(d){var h=function(){return n.context.destroyBean(d)};n.isAlive()?(n.eValue.appendChild(d.getGui()),n.addDestroyFunc(h)):h()}})}else this.eValue.innerText=i},t.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),a.prototype.destroy.call(this)},t.prototype.refresh=function(){return!1},t.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',Ko([He("eExpanded")],t.prototype,"eExpanded",void 0),Ko([He("eContracted")],t.prototype,"eContracted",void 0),Ko([He("eCheckbox")],t.prototype,"eCheckbox",void 0),Ko([He("eValue")],t.prototype,"eValue",void 0),Ko([He("eChildCount")],t.prototype,"eChildCount",void 0),t}(pt),jf=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Uf=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},zf=function(a){function t(){return a.call(this,t.TEMPLATE)||this}return jf(t,a),t.prototype.init=function(e){e.node.failedLoad?this.setupFailed():this.setupLoading()},t.prototype.setupFailed=function(){this.eLoadingText.innerText="ERR"},t.prototype.setupLoading=function(){var e=qt("groupLoading",this.gridOptionsWrapper,null);e&&this.eLoadingIcon.appendChild(e);var i=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=i("loadingOoo","Loading")},t.prototype.refresh=function(e){return!1},t.prototype.destroy=function(){a.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',Uf([He("eLoadingIcon")],t.prototype,"eLoadingIcon",void 0),Uf([He("eLoadingText")],t.prototype,"eLoadingText",void 0),t}(pt),gd=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Xl=function(a){function t(){return a.call(this)||this}return gd(t,a),t.prototype.destroy=function(){a.prototype.destroy.call(this)},t.prototype.init=function(e){var i=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():t.DEFAULT_LOADING_OVERLAY_TEMPLATE,n=this.gridOptionsWrapper.getLocaleTextFunc(),s=i.replace("[LOADING...]",n("loadingOoo","Loading..."));this.setTemplate(s)},t.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',t}(pt),md=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Zf=function(a){function t(){return a.call(this)||this}return md(t,a),t.prototype.destroy=function(){a.prototype.destroy.call(this)},t.prototype.init=function(e){var i=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():t.DEFAULT_NO_ROWS_TEMPLATE,n=this.gridOptionsWrapper.getLocaleTextFunc(),s=i.replace("[NO_ROWS_TO_SHOW]",n("noRowsToShow","No Rows To Show"));this.setTemplate(s)},t.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',t}(pt),qf=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Yo=function(a){function t(){return a.call(this,'<div class="ag-tooltip"></div>')||this}return qf(t,a),t.prototype.init=function(e){var i=e.value;this.getGui().innerHTML=pn(i)},t}(zo),h_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ec=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},vd=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.agGridDefaults={agDateInput:ld,agColumnHeader:Bf,agColumnGroupHeader:Ur,agTextColumnFloatingFilter:ia,agNumberColumnFloatingFilter:ta,agDateColumnFloatingFilter:Gt,agReadOnlyFloatingFilter:Of,agAnimateShowChangeCellRenderer:Hf,agAnimateSlideCellRenderer:Vf,agGroupCellRenderer:oa,agGroupRowRenderer:oa,agLoadingCellRenderer:zf,agCellEditor:ql,agTextCellEditor:ql,agSelectCellEditor:na,agPopupTextCellEditor:Gf,agPopupSelectCellEditor:pd,agLargeTextCellEditor:kf,agTextColumnFilter:ea,agNumberColumnFilter:zl,agDateColumnFilter:jl,agLoadingOverlay:Xl,agNoRowsOverlay:Zf,agTooltipComponent:Yo},e.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},e.jsComps={},e.fwComps={},e}return h_(t,a),t.prototype.init=function(){var e=this;null!=this.gridOptions.components&&v(this.gridOptions.components,function(i,n){return e.registerJsComponent(i,n)}),null!=this.gridOptions.frameworkComponents&&v(this.gridOptions.frameworkComponents,function(i,n){return e.registerFwComponent(i,n)})},t.prototype.registerDefaultComponent=function(e,i){var n=this.translateIfDeprecated(e);this.agGridDefaults[n]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[n]=i},t.prototype.registerJsComponent=function(e,i){var n=this.translateIfDeprecated(e);this.fwComps[n]?console.error("Trying to register a component that you have already registered for frameworks: "+n):this.jsComps[n]=i},t.prototype.registerFwComponent=function(e,i){ye(function(){return console.warn("AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.")},"UserComponentRegistry.frameworkComponentsDeprecated");var s=this.translateIfDeprecated(e);this.fwComps[s]=i},t.prototype.retrieve=function(e){var i=this.translateIfDeprecated(e),n=function(j,q){return{componentFromFramework:q,component:j}},s=this.getFrameworkOverrides().frameworkComponent(i);if(null!=s)return n(s,!0);var d=this.fwComps[i];if(d)return n(d,!0);var h=this.jsComps[i];if(h)return n(h,this.getFrameworkOverrides().isFrameworkComponent(h));var L=this.agGridDefaults[i];return L?n(L,!1):(Object.keys(this.agGridDefaults).indexOf(i)<0&&console.warn("AG Grid: Looking for component ["+i+"] but it wasn't found."),null)},t.prototype.translateIfDeprecated=function(e){var i=this.agDeprecatedNames[e];return null!=i?(ye(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+i.propertyHolder+":"+e+" to "+i.propertyHolder+":"+i.newComponentName)},"DEPRECATE_COMPONENT_"+e),i.newComponentName):e},ec([Q("gridOptions")],t.prototype,"gridOptions",void 0),ec([Q("agComponentUtils")],t.prototype,"agComponentUtils",void 0),ec([be],t.prototype,"init",null),ec([je("userComponentRegistry")],t)}(Ze),p_={propertyName:"dateComponent",cellRenderer:!1},f_={propertyName:"headerComponent",cellRenderer:!1},yd={propertyName:"headerGroupComponent",cellRenderer:!1},_d={propertyName:"cellRenderer",cellRenderer:!0},Kf={propertyName:"cellEditor",cellRenderer:!1},sa={propertyName:"innerRenderer",cellRenderer:!0},Yf={propertyName:"loadingOverlayComponent",cellRenderer:!1},Cd={propertyName:"noRowsOverlayComponent",cellRenderer:!1},Qf={propertyName:"tooltipComponent",cellRenderer:!1},tc={propertyName:"filter",cellRenderer:!1},lr={propertyName:"floatingFilterComponent",cellRenderer:!1},wd={propertyName:"toolPanel",cellRenderer:!1},bd={propertyName:"statusPanel",cellRenderer:!1},Ed={propertyName:"fullWidthCellRenderer",cellRenderer:!0},Jf={propertyName:"loadingCellRenderer",cellRenderer:!0},Xf={propertyName:"groupRowRenderer",cellRenderer:!0},eg={propertyName:"detailCellRenderer",cellRenderer:!0},Wi=function(){function a(){}return a.getFloatingFilterType=function(t){return this.filterToFloatingFilterMapping[t]},a.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},a}(),tg=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cr=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},aa=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return tg(t,a),t.prototype.getHeaderCompDetails=function(e,i){return this.getCompDetails(e,f_,"agColumnHeader",i)},t.prototype.getHeaderGroupCompDetails=function(e){var i=e.columnGroup.getColGroupDef();return this.getCompDetails(i,yd,"agColumnGroupHeader",e)},t.prototype.getFullWidthCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Ed,null,e,!0)},t.prototype.getFullWidthLoadingCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Jf,"agLoadingCellRenderer",e,!0)},t.prototype.getFullWidthGroupCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,Xf,"agGroupRowRenderer",e,!0)},t.prototype.getFullWidthDetailCellRendererDetails=function(e){return this.getCompDetails(this.gridOptions,eg,"agDetailCellRenderer",e,!0)},t.prototype.getInnerRendererDetails=function(e,i){return this.getCompDetails(e,sa,null,i)},t.prototype.getFullWidthGroupRowInnerCellRenderer=function(e,i){return this.getCompDetails(e,sa,null,i)},t.prototype.getCellRendererDetails=function(e,i){return this.getCompDetails(e,_d,null,i)},t.prototype.getCellEditorDetails=function(e,i){return this.getCompDetails(e,Kf,"agCellEditor",i,!0)},t.prototype.getFilterDetails=function(e,i,n){return this.getCompDetails(e,tc,n,i,!0)},t.prototype.getDateCompDetails=function(e){return this.getCompDetails(this.gridOptions,p_,"agDateInput",e,!0)},t.prototype.getLoadingOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,Yf,"agLoadingOverlay",e,!0)},t.prototype.getNoRowsOverlayCompDetails=function(e){return this.getCompDetails(this.gridOptions,Cd,"agNoRowsOverlay",e,!0)},t.prototype.getTooltipCompDetails=function(e){return this.getCompDetails(e.colDef,Qf,"agTooltipComponent",e,!0)},t.prototype.getSetFilterCellRendererDetails=function(e,i){return this.getCompDetails(e,_d,null,i)},t.prototype.getFloatingFilterCompDetails=function(e,i,n){return this.getCompDetails(e,lr,n,i)},t.prototype.getToolPanelCompDetails=function(e,i){return this.getCompDetails(e,wd,null,i,!0)},t.prototype.getStatusPanelCompDetails=function(e,i){return this.getCompDetails(e,bd,null,i,!0)},t.prototype.getCompDetails=function(e,i,n,s,d){var h=this;void 0===d&&(d=!1);var O=i.propertyName,L=i.cellRenderer,j=this.getCompKeys(e,i,s),q=j.compName,J=j.jsComp,re=j.fwComp,me=j.paramsFromSelector,Ae=j.popupFromSelector,Pe=j.popupPositionFromSelector,We=function(ot){var mt=h.userComponentRegistry.retrieve(ot);mt&&(J=mt.componentFromFramework?void 0:mt.component,re=mt.componentFromFramework?mt.component:void 0)};if(null!=q&&We(q),null==J&&null==re&&null!=n&&We(n),J&&L&&!this.agComponentUtils.doesImplementIComponent(J)&&(J=this.agComponentUtils.adaptFunction(O,J)),J||re){var Ve=this.mergeParamsWithApplicationProvidedParams(e,i,s,me),$e=null==J,Ke=J||re;return{componentFromFramework:$e,componentClass:Ke,params:Ve,type:i,popupFromSelector:Ae,popupPositionFromSelector:Pe,newAgStackInstance:function(){return h.newAgStackInstance(Ke,$e,Ve,i)}}}d&&console.error("Could not find component "+q+", did you forget to configure this component?")},t.prototype.getCompKeys=function(e,i,n){var h,O,L,j,q,J,s=this,d=i.propertyName;if(e){var re=e,me=re[d+"Selector"],Ae=me?me(n):null,Pe=function(Ve,$e){var Ke=function(){var mt="AG Grid: As of v27, the property "+d+"Framework is deprecated. The property "+d+" can now be used for JavaScript AND Framework Components.";ye(function(){return console.warn(mt)},"UserComponentFactory."+d+"FrameworkDeprecated")};"string"==typeof Ve?h=Ve:"string"==typeof $e?(Ke(),h=$e):null!=Ve&&!0!==Ve?s.getFrameworkOverrides().isFrameworkComponent(Ve)?L=Ve:O=Ve:null!=$e&&(Ke(),L=$e)};if(Ae){if(null!=Ae.frameworkComponent){var We="AG Grid: As of v27, the return for "+d+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";ye(function(){return console.warn(We)},"UserComponentFactory."+d+"FrameworkSelectorDeprecated"),Pe(Ae.frameworkComponent,void 0)}else Pe(Ae.component,void 0);j=Ae.params,q=Ae.popup,J=Ae.popupPosition}else Pe(re[d],re[d+"Framework"])}return{compName:h,jsComp:O,fwComp:L,paramsFromSelector:j,popupFromSelector:q,popupPositionFromSelector:J}},t.prototype.newAgStackInstance=function(e,i,n,s){var O;if(i){var L=this.componentMetadataProvider.retrieve(s.propertyName);O=this.frameworkComponentWrapper.wrap(e,L.mandatoryMethodList,L.optionalMethodList,s)}else O=new e;var j=this.initComponent(O,n);return null==j?wi.resolve(O):j.then(function(){return O})},t.prototype.mergeParamsWithApplicationProvidedParams=function(e,i,n,s){void 0===s&&(s=null);var d={};P(d,n);var O=e&&e[i.propertyName+"Params"];return"function"==typeof O?P(d,O(n)):"object"==typeof O&&P(d,O),P(d,s),d},t.prototype.initComponent=function(e,i){if(this.context.createBean(e),null!=e.init)return e.init(i)},t.prototype.getDefaultFloatingFilterType=function(e){if(null==e)return null;var i=null,n=this.getCompKeys(e,tc),s=n.compName,d=n.jsComp,h=n.fwComp;return s?i=Wi.getFloatingFilterType(s):null==d&&null==h&&!0===e.filter&&(i=ze.isRegistered(z.GXE.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),i},cr([Q("gridOptions")],t.prototype,"gridOptions",void 0),cr([Q("agComponentUtils")],t.prototype,"agComponentUtils",void 0),cr([Q("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),cr([Q("userComponentRegistry")],t.prototype,"userComponentRegistry",void 0),cr([it("frameworkComponentWrapper")],t.prototype,"frameworkComponentWrapper",void 0),cr([je("userComponentFactory")],t)}(Ze),la=function(){function a(){}return a.parse=function(t){if(!t)return null;if(!0===t)return{toolPanels:[a.DEFAULT_COLUMN_COMP,a.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof t)return a.parse([t]);if(Array.isArray(t)){var e=[];return t.forEach(function(n){var s=a.DEFAULT_BY_KEY[n];s?e.push(s):console.warn("AG Grid: the key "+n+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(a.DEFAULT_BY_KEY).join(","))}),0===e.length?null:{toolPanels:e,defaultToolPanel:e[0].id}}return{toolPanels:a.parseComponents(t.toolPanels),defaultToolPanel:t.defaultToolPanel,hiddenByDefault:t.hiddenByDefault,position:t.position}},a.parseComponents=function(t){var e=[];return t&&t.forEach(function(i){var n=null;if("string"==typeof i){var s=a.DEFAULT_BY_KEY[i];if(!s)return void console.warn("AG Grid: the key "+i+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(a.DEFAULT_BY_KEY).join(","));n=s}else n=i;e.push(n)}),e},a.DEFAULT_BY_KEY={columns:a.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:a.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},a}(),In=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Sd=function(a,t){return function(e,i){t(e,i,a)}},Qo=function(a,t){var e="function"==typeof Symbol&&a[Symbol.iterator];if(!e)return a;var n,d,i=e.call(a),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(h){d={error:h}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},Ad=function(){for(var a=[],t=0;t<arguments.length;t++)a=a.concat(Qo(arguments[t]));return a};function Ge(a){return!0===a||"true"===a}function rc(a){return"number"==typeof a?a:"string"==typeof a?parseInt(a,10):void 0}function Dd(a,t){var e=parseInt(a,10);return Ll(e)&&e>0?e:t}var et=function(){function a(){this.propertyEventService=new Le,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}var t;return t=a,a.prototype.agWire=function(e,i){this.gridOptions.api=e,this.gridOptions.columnApi=i,this.checkForDeprecated(),this.checkForViolations()},a.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},a.prototype.init=function(){var e=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=la.parse(this.gridOptions.sideBar));var i=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),i),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var n=function(d){return"AG Grid: '"+d+"' is not supported on the Server-Side Row Model"};W(this.gridOptions.groupDefaultExpanded)&&console.warn(n("groupDefaultExpanded")),W(this.gridOptions.groupDefaultExpanded)&&console.warn(n("groupIncludeFooter")),W(this.gridOptions.groupDefaultExpanded)&&console.warn(n("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&ze.assertRegistered(z.GXE.RangeSelectionModule,"enableRangeSelection"),!this.isEnableRangeSelection()&&(this.isEnableRangeHandle()||this.isEnableFillHandle())&&console.warn("AG Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var s=function(d){e.gridOptions.icons&&e.gridOptions.icons[d]&&console.warn("gridOptions.icons."+d+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};s("radioButtonOff"),s("radioButtonOn"),s("checkboxChecked"),s("checkboxUnchecked"),s("checkboxIndeterminate"),this.getScrollbarWidth()},a.prototype.checkColumnDefProperties=function(){var e=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(i){var n=Object.getOwnPropertyNames(i),s=Ad(wl.ALL_PROPERTIES,wl.FRAMEWORK_PROPERTIES);e.checkProperties(n,s,s,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},a.prototype.checkGridOptionsProperties=function(){var e=Object.getOwnPropertyNames(this.gridOptions),i=Ad(Ri.ALL_PROPERTIES,Ri.FRAMEWORK_PROPERTIES,C(ue).map(function(s){return On.getCallbackForEvent(s)})),n=Ad(i,["api","columnApi"]);this.checkProperties(e,n,i,"gridOptions","https://www.ag-grid.com/javascript-grid-properties/")},a.prototype.checkProperties=function(e,i,n,s,d){var h=Cf(e,i,n);v(h,function(O,L){console.warn("ag-grid: invalid "+s+" property '"+O+"' did you mean any of these: "+L.slice(0,8).join(", "))}),Object.keys(h).length>0&&console.warn("ag-grid: to see all the valid "+s+" properties please check: "+d)},a.prototype.getDomDataKey=function(){return this.domDataKey},a.prototype.getDomData=function(e,i){var n=e[this.getDomDataKey()];return n?n[i]:void 0},a.prototype.setDomData=function(e,i,n){var s=this.getDomDataKey(),d=e[s];E(d)&&(e[s]=d={}),d[i]=n},a.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},a.prototype.isSuppressRowDeselection=function(){return Ge(this.gridOptions.suppressRowDeselection)},a.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},a.prototype.isRowMultiSelectWithClick=function(){return Ge(this.gridOptions.rowMultiSelectWithClick)},a.prototype.getContext=function(){return this.gridOptions.context},a.prototype.isPivotMode=function(){return Ge(this.gridOptions.pivotMode)},a.prototype.isSuppressExpandablePivotGroups=function(){return Ge(this.gridOptions.suppressExpandablePivotGroups)},a.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},a.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},a.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===ae.ROW_MODEL_TYPE_INFINITE},a.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===ae.ROW_MODEL_TYPE_VIEWPORT},a.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===ae.ROW_MODEL_TYPE_SERVER_SIDE},a.prototype.isRowModelDefault=function(){return E(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===ae.ROW_MODEL_TYPE_CLIENT_SIDE},a.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},a.prototype.isSuppressFocusAfterRefresh=function(){return Ge(this.gridOptions.suppressFocusAfterRefresh)},a.prototype.isSuppressBrowserResizeObserver=function(){return Ge(this.gridOptions.suppressBrowserResizeObserver)},a.prototype.isSuppressMaintainUnsortedOrder=function(){return Ge(this.gridOptions.suppressMaintainUnsortedOrder)},a.prototype.isSuppressClearOnFillReduction=function(){return Ge(this.gridOptions.suppressClearOnFillReduction)},a.prototype.isShowToolPanel=function(){return Ge(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},a.prototype.getSideBar=function(){return this.gridOptions.sideBar},a.prototype.isSuppressTouch=function(){return Ge(this.gridOptions.suppressTouch)},a.prototype.isMaintainColumnOrder=function(){return Ge(this.gridOptions.maintainColumnOrder)},a.prototype.isSuppressRowTransform=function(){return Ge(this.gridOptions.suppressRowTransform)},a.prototype.isSuppressColumnStateEvents=function(){return Ge(this.gridOptions.suppressColumnStateEvents)},a.prototype.isAllowDragFromColumnsToolPanel=function(){return Ge(this.gridOptions.allowDragFromColumnsToolPanel)},a.prototype.useAsyncEvents=function(){return!Ge(this.gridOptions.suppressAsyncEvents)},a.prototype.isEnableCellChangeFlash=function(){return Ge(this.gridOptions.enableCellChangeFlash)},a.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},a.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},a.prototype.isGroupSelectsChildren=function(){var e=Ge(this.gridOptions.groupSelectsChildren);return e&&this.isTreeData()?(console.warn("AG Grid: groupSelectsChildren does not work with tree data"),!1):e},a.prototype.isSuppressRowHoverHighlight=function(){return Ge(this.gridOptions.suppressRowHoverHighlight)},a.prototype.isColumnHoverHighlight=function(){return Ge(this.gridOptions.columnHoverHighlight)},a.prototype.isGroupSelectsFiltered=function(){return Ge(this.gridOptions.groupSelectsFiltered)},a.prototype.isGroupHideOpenParents=function(){return Ge(this.gridOptions.groupHideOpenParents)},a.prototype.isGroupMaintainOrder=function(){return Ge(this.gridOptions.groupMaintainOrder)},a.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},a.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):Ge(this.gridOptions.groupHideOpenParents)},a.prototype.isGroupUseEntireRow=function(e){return!e&&!!this.gridOptions.groupDisplayType&&this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType)},a.prototype.isGroupSuppressAutoColumn=function(){return!(!this.gridOptions.groupDisplayType||!this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType))||!!this.gridOptions.treeDataDisplayType&&this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType)},a.prototype.isGroupRemoveSingleChildren=function(){return Ge(this.gridOptions.groupRemoveSingleChildren)},a.prototype.isGroupRemoveLowestSingleChildren=function(){return Ge(this.gridOptions.groupRemoveLowestSingleChildren)},a.prototype.isGroupIncludeFooter=function(){return Ge(this.gridOptions.groupIncludeFooter)},a.prototype.isGroupIncludeTotalFooter=function(){return Ge(this.gridOptions.groupIncludeTotalFooter)},a.prototype.isGroupSuppressBlankHeader=function(){return Ge(this.gridOptions.groupSuppressBlankHeader)},a.prototype.isSuppressRowClickSelection=function(){return Ge(this.gridOptions.suppressRowClickSelection)},a.prototype.isSuppressCellFocus=function(){return Ge(this.gridOptions.suppressCellFocus)},a.prototype.isSuppressMultiSort=function(){return Ge(this.gridOptions.suppressMultiSort)},a.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},a.prototype.isPivotSuppressAutoColumn=function(){return Ge(this.gridOptions.pivotSuppressAutoColumn)},a.prototype.isSuppressDragLeaveHidesColumns=function(){return Ge(this.gridOptions.suppressDragLeaveHidesColumns)},a.prototype.isSuppressScrollOnNewData=function(){return Ge(this.gridOptions.suppressScrollOnNewData)},a.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return Ge(this.gridOptions.suppressScrollWhenPopupsAreOpen)},a.prototype.isRowDragEntireRow=function(){return Ge(this.gridOptions.rowDragEntireRow)},a.prototype.isSuppressRowDrag=function(){return Ge(this.gridOptions.suppressRowDrag)},a.prototype.isRowDragManaged=function(){return Ge(this.gridOptions.rowDragManaged)},a.prototype.isSuppressMoveWhenRowDragging=function(){return Ge(this.gridOptions.suppressMoveWhenRowDragging)},a.prototype.isRowDragMultiRow=function(){return Ge(this.gridOptions.rowDragMultiRow)},a.prototype.getDomLayout=function(){var e=this.gridOptions.domLayout||ae.DOM_LAYOUT_NORMAL;return-1===[ae.DOM_LAYOUT_PRINT,ae.DOM_LAYOUT_AUTO_HEIGHT,ae.DOM_LAYOUT_NORMAL].indexOf(e)?(ye(function(){return console.warn("AG Grid: "+e+" is not valid for DOM Layout, valid values are "+ae.DOM_LAYOUT_NORMAL+", "+ae.DOM_LAYOUT_AUTO_HEIGHT+" and "+ae.DOM_LAYOUT_PRINT)},"warn about dom layout values"),ae.DOM_LAYOUT_NORMAL):e},a.prototype.isSuppressHorizontalScroll=function(){return Ge(this.gridOptions.suppressHorizontalScroll)},a.prototype.isSuppressMaxRenderedRowRestriction=function(){return Ge(this.gridOptions.suppressMaxRenderedRowRestriction)},a.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return Ge(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},a.prototype.isAlwaysShowHorizontalScroll=function(){return Ge(this.gridOptions.alwaysShowHorizontalScroll)},a.prototype.isAlwaysShowVerticalScroll=function(){return Ge(this.gridOptions.alwaysShowVerticalScroll)},a.prototype.isDebounceVerticalScrollbar=function(){return Ge(this.gridOptions.debounceVerticalScrollbar)},a.prototype.isSuppressLoadingOverlay=function(){return Ge(this.gridOptions.suppressLoadingOverlay)},a.prototype.isSuppressNoRowsOverlay=function(){return Ge(this.gridOptions.suppressNoRowsOverlay)},a.prototype.isSuppressFieldDotNotation=function(){return Ge(this.gridOptions.suppressFieldDotNotation)},a.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},a.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},a.prototype.isFunctionsPassive=function(){return Ge(this.gridOptions.functionsPassive)},a.prototype.isSuppressChangeDetection=function(){return Ge(this.gridOptions.suppressChangeDetection)},a.prototype.isSuppressAnimationFrame=function(){return Ge(this.gridOptions.suppressAnimationFrame)},a.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},a.prototype.isCacheQuickFilter=function(){return Ge(this.gridOptions.cacheQuickFilter)},a.prototype.isUnSortIcon=function(){return Ge(this.gridOptions.unSortIcon)},a.prototype.isSuppressMenuHide=function(){return Ge(this.gridOptions.suppressMenuHide)},a.prototype.isEnterMovesDownAfterEdit=function(){return Ge(this.gridOptions.enterMovesDownAfterEdit)},a.prototype.isEnterMovesDown=function(){return Ge(this.gridOptions.enterMovesDown)},a.prototype.isUndoRedoCellEditing=function(){return Ge(this.gridOptions.undoRedoCellEditing)},a.prototype.getUndoRedoCellEditingLimit=function(){return rc(this.gridOptions.undoRedoCellEditingLimit)},a.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},a.prototype.getRowClass=function(){return this.gridOptions.rowClass},a.prototype.getRowStyleFunc=function(){return this.gridOptions.getRowStyle},a.prototype.getRowClassFunc=function(){return this.gridOptions.getRowClass},a.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},a.prototype.getServerSideStoreType=function(){return this.gridOptions.serverSideStoreType},a.prototype.getServerSideStoreParamsFunc=function(){return this.gridOptions.getServerSideStoreParams},a.prototype.getCreateChartContainerFunc=function(){return this.gridOptions.createChartContainer},a.prototype.getPopupParent=function(){return this.gridOptions.popupParent},a.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},a.prototype.getPostProcessPopupFunc=function(){return this.gridOptions.postProcessPopup},a.prototype.getPaginationNumberFormatterFunc=function(){return this.gridOptions.paginationNumberFormatter},a.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},a.prototype.getIsApplyServerSideTransactionFunc=function(){return this.gridOptions.isApplyServerSideTransaction},a.prototype.getDefaultGroupOrderComparator=function(){return this.gridOptions.defaultGroupOrderComparator},a.prototype.getIsFullWidthCellFunc=function(){return this.gridOptions.isFullWidthCell},a.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},a.prototype.isEmbedFullWidthRows=function(){return Ge(this.gridOptions.embedFullWidthRows)||Ge(this.gridOptions.deprecatedEmbedFullWidthRows)},a.prototype.isDetailRowAutoHeight=function(){return Ge(this.gridOptions.detailRowAutoHeight)},a.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},a.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},a.prototype.getApi=function(){return this.gridOptions.api},a.prototype.getColumnApi=function(){return this.gridOptions.columnApi},a.prototype.isReadOnlyEdit=function(){return Ge(this.gridOptions.readOnlyEdit)},a.prototype.isImmutableData=function(){return null!=this.gridOptions.getRowId||Ge(this.gridOptions.immutableData)},a.prototype.isEnsureDomOrder=function(){return Ge(this.gridOptions.ensureDomOrder)},a.prototype.isEnableCharts=function(){return!!Ge(this.gridOptions.enableCharts)&&ze.assertRegistered(z.GXE.GridChartsModule,"enableCharts")},a.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},a.prototype.isSingleClickEdit=function(){return Ge(this.gridOptions.singleClickEdit)},a.prototype.isSuppressClickEdit=function(){return Ge(this.gridOptions.suppressClickEdit)},a.prototype.isStopEditingWhenCellsLoseFocus=function(){return Ge(this.gridOptions.stopEditingWhenCellsLoseFocus)},a.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},a.prototype.getMaxConcurrentDatasourceRequests=function(){var e=rc(this.gridOptions.maxConcurrentDatasourceRequests);return null==e?2:e<=0?void 0:e},a.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},a.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},a.prototype.getPaginationPageSize=function(){return rc(this.gridOptions.paginationPageSize)},a.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||Ge(this.gridOptions.paginateChildRows)},a.prototype.getCacheBlockSize=function(){return Dd(this.gridOptions.cacheBlockSize)},a.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},a.prototype.isPurgeClosedRowNodes=function(){return Ge(this.gridOptions.purgeClosedRowNodes)},a.prototype.isSuppressPaginationPanel=function(){return Ge(this.gridOptions.suppressPaginationPanel)},a.prototype.getRowData=function(){return this.gridOptions.rowData},a.prototype.isEnableRtl=function(){return Ge(this.gridOptions.enableRtl)},a.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},a.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},a.prototype.isAngularCompileRows=function(){return Ge(this.gridOptions.angularCompileRows)},a.prototype.isAngularCompileFilters=function(){return Ge(this.gridOptions.angularCompileFilters)},a.prototype.isDebug=function(){return Ge(this.gridOptions.debug)},a.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},a.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},a.prototype.getDatasource=function(){return this.gridOptions.datasource},a.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},a.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},a.prototype.isAccentedSort=function(){return Ge(this.gridOptions.accentedSort)},a.prototype.isEnableBrowserTooltips=function(){return Ge(this.gridOptions.enableBrowserTooltips)},a.prototype.isEnableCellExpressions=function(){return Ge(this.gridOptions.enableCellExpressions)},a.prototype.isEnableGroupEdit=function(){return Ge(this.gridOptions.enableGroupEdit)},a.prototype.isSuppressMiddleClickScrolls=function(){return Ge(this.gridOptions.suppressMiddleClickScrolls)},a.prototype.isPreventDefaultOnContextMenu=function(){return Ge(this.gridOptions.preventDefaultOnContextMenu)},a.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return Ge(this.gridOptions.suppressPreventDefaultOnMouseWheel)},a.prototype.isSuppressColumnVirtualisation=function(){return Ge(this.gridOptions.suppressColumnVirtualisation)},a.prototype.isSuppressRowVirtualisation=function(){return Ge(this.gridOptions.suppressRowVirtualisation)},a.prototype.isSuppressContextMenu=function(){return Ge(this.gridOptions.suppressContextMenu)},a.prototype.isAllowContextMenuWithControlKey=function(){return Ge(this.gridOptions.allowContextMenuWithControlKey)},a.prototype.isSuppressCopyRowsToClipboard=function(){return Ge(this.gridOptions.suppressCopyRowsToClipboard)},a.prototype.isCopyHeadersToClipboard=function(){return Ge(this.gridOptions.copyHeadersToClipboard)},a.prototype.isCopyGroupHeadersToClipboard=function(){return Ge(this.gridOptions.copyGroupHeadersToClipboard)},a.prototype.isSuppressClipboardPaste=function(){return Ge(this.gridOptions.suppressClipboardPaste)},a.prototype.isSuppressLastEmptyLineOnPaste=function(){return Ge(this.gridOptions.suppressLastEmptyLineOnPaste)},a.prototype.isPagination=function(){return Ge(this.gridOptions.pagination)},a.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return Ge(this.gridOptions.suppressEnterpriseResetOnNewColumns)},a.prototype.getProcessDataFromClipboardFunc=function(){return this.gridOptions.processDataFromClipboard},a.prototype.getAsyncTransactionWaitMillis=function(){return W(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:ae.BATCH_WAIT_MILLIS},a.prototype.isSuppressMovableColumns=function(){return Ge(this.gridOptions.suppressMovableColumns)},a.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&Ge(this.gridOptions.animateRows)},a.prototype.isSuppressColumnMoveAnimation=function(){return Ge(this.gridOptions.suppressColumnMoveAnimation)},a.prototype.isSuppressAggFuncInHeader=function(){return Ge(this.gridOptions.suppressAggFuncInHeader)},a.prototype.isSuppressAggAtRootLevel=function(){return Ge(this.gridOptions.suppressAggAtRootLevel)},a.prototype.isSuppressAggFilteredOnly=function(){return Ge(this.gridOptions.suppressAggFilteredOnly)},a.prototype.isShowOpenedGroup=function(){return Ge(this.gridOptions.showOpenedGroup)},a.prototype.isReactUi=function(){return Ge(this.gridOptions.reactUi)},a.prototype.isSuppressReactUi=function(){return Ge(this.gridOptions.suppressReactUi)},a.prototype.isEnableRangeSelection=function(){return ze.isRegistered(z.GXE.RangeSelectionModule)&&Ge(this.gridOptions.enableRangeSelection)},a.prototype.isEnableRangeHandle=function(){return Ge(this.gridOptions.enableRangeHandle)},a.prototype.isEnableFillHandle=function(){return Ge(this.gridOptions.enableFillHandle)},a.prototype.getFillHandleDirection=function(){var e=this.gridOptions.fillHandleDirection;return e?"x"!==e&&"y"!==e&&"xy"!==e?(ye(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):e:"xy"},a.prototype.getFillOperation=function(){return this.gridOptions.fillOperation},a.prototype.isSuppressMultiRangeSelection=function(){return Ge(this.gridOptions.suppressMultiRangeSelection)},a.prototype.isPaginationAutoPageSize=function(){return Ge(this.gridOptions.paginationAutoPageSize)},a.prototype.isRememberGroupStateWhenNewData=function(){return Ge(this.gridOptions.rememberGroupStateWhenNewData)},a.prototype.getIcons=function(){return this.gridOptions.icons},a.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},a.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},a.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},a.prototype.isMasterDetail=function(){return!!Ge(this.gridOptions.masterDetail)&&ze.assertRegistered(z.GXE.MasterDetailModule,"masterDetail")},a.prototype.isKeepDetailRows=function(){return Ge(this.gridOptions.keepDetailRows)},a.prototype.getKeepDetailRowsCount=function(){var e=this.gridOptions.keepDetailRowsCount;return W(e)&&e>0?this.gridOptions.keepDetailRowsCount:10},a.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},a.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},a.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},a.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},a.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},a.prototype.isSuppressAutoSize=function(){return Ge(this.gridOptions.suppressAutoSize)},a.prototype.isEnableCellTextSelection=function(){return Ge(this.gridOptions.enableCellTextSelection)},a.prototype.isSuppressParentsInRowNodes=function(){return Ge(this.gridOptions.suppressParentsInRowNodes)},a.prototype.isSuppressClipboardApi=function(){return Ge(this.gridOptions.suppressClipboardApi)},a.prototype.isFunctionsReadOnly=function(){return Ge(this.gridOptions.functionsReadOnly)},a.prototype.isEnableCellTextSelect=function(){return Ge(this.gridOptions.enableCellTextSelection)},a.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},a.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},a.prototype.getDefaultExportParams=function(e){return this.gridOptions.defaultExportParams?(console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+wu(e)+"ExportParams`'"),this.gridOptions.defaultExportParams):"csv"===e&&this.gridOptions.defaultCsvExportParams?this.gridOptions.defaultCsvExportParams:"excel"===e&&this.gridOptions.defaultExcelExportParams?this.gridOptions.defaultExcelExportParams:void 0},a.prototype.isSuppressCsvExport=function(){return Ge(this.gridOptions.suppressCsvExport)},a.prototype.isAllowShowChangeAfterFilter=function(){return Ge(this.gridOptions.allowShowChangeAfterFilter)},a.prototype.isSuppressExcelExport=function(){return Ge(this.gridOptions.suppressExcelExport)},a.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return Ge(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},a.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},a.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},a.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.gridOptions.isServerSideGroupOpenByDefault},a.prototype.getIsGroupOpenByDefaultFunc=function(){return this.gridOptions.isGroupOpenByDefault},a.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},a.prototype.getGroupRowAggNodesFunc=function(){return this.gridOptions.groupRowAggNodes},a.prototype.getContextMenuItemsFunc=function(){return this.gridOptions.getContextMenuItems},a.prototype.getMainMenuItemsFunc=function(){return this.gridOptions.getMainMenuItems},a.prototype.getRowIdFunc=function(){var e=this.gridOptions,n=e.getRowNodeId;return e.getRowId||(n?function(s){return n(s.data)}:void 0)},a.prototype.getNavigateToNextHeaderFunc=function(){return this.gridOptions.navigateToNextHeader},a.prototype.getTabToNextHeaderFunc=function(){return this.gridOptions.tabToNextHeader},a.prototype.getNavigateToNextCellFunc=function(){return this.gridOptions.navigateToNextCell},a.prototype.getTabToNextCellFunc=function(){return this.gridOptions.tabToNextCell},a.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},a.prototype.isTreeData=function(){return!!Ge(this.gridOptions.treeData)&&ze.assertRegistered(z.GXE.RowGroupingModule,"Tree Data")},a.prototype.isValueCache=function(){return Ge(this.gridOptions.valueCache)},a.prototype.isValueCacheNeverExpires=function(){return Ge(this.gridOptions.valueCacheNeverExpires)},a.prototype.isDeltaSort=function(){return Ge(this.gridOptions.deltaSort)},a.prototype.isAggregateOnlyChangedColumns=function(){return Ge(this.gridOptions.aggregateOnlyChangedColumns)},a.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},a.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},a.prototype.getSendToClipboardFunc=function(){return this.gridOptions.sendToClipboard},a.prototype.getProcessRowPostCreateFunc=function(){return this.gridOptions.processRowPostCreate},a.prototype.getProcessCellForClipboardFunc=function(){return this.gridOptions.processCellForClipboard},a.prototype.getProcessHeaderForClipboardFunc=function(){return this.gridOptions.processHeaderForClipboard},a.prototype.getProcessGroupHeaderForClipboardFunc=function(){return this.gridOptions.processGroupHeaderForClipboard},a.prototype.getProcessCellFromClipboardFunc=function(){return this.gridOptions.processCellFromClipboard},a.prototype.getViewportRowModelPageSize=function(){return Dd(this.gridOptions.viewportRowModelPageSize,5)},a.prototype.getViewportRowModelBufferSize=function(){return function(a,t){return a>=0?a:5}(this.gridOptions.viewportRowModelBufferSize)},a.prototype.isServerSideSortingAlwaysResets=function(){return Ge(this.gridOptions.serverSideSortingAlwaysResets)},a.prototype.isServerSideFilteringAlwaysResets=function(){return Ge(this.gridOptions.serverSideFilteringAlwaysResets)},a.prototype.getPostSortFunc=function(){return this.gridOptions.postSort},a.prototype.getChartToolbarItemsFunc=function(){return this.gridOptions.getChartToolbarItems},a.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},a.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},a.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},a.prototype.getClipboardDelimiter=function(){return W(this.gridOptions.clipboardDelimiter)?this.gridOptions.clipboardDelimiter:"\t"},a.prototype.setProperty=function(e,i,n){void 0===n&&(n=!1);var s=this.gridOptions,d=s[e];(n||d!==i)&&(s[e]=i,this.propertyEventService.dispatchEvent({type:e,currentValue:i,previousValue:d}))},a.prototype.addEventListener=function(e,i){this.propertyEventService.addEventListener(e,i)},a.prototype.removeEventListener=function(e,i){this.propertyEventService.removeEventListener(e,i)},a.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},a.prototype.getAutoSizePadding=function(){var e=this.gridOptions.autoSizePadding;return null!=e&&e>=0?e:20},a.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},a.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},a.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},a.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},a.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},a.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent()},a.prototype.doesExternalFilterPass=function(e){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(e)},a.prototype.getTooltipDelay=function(e){var i=this.gridOptions,d="show"===e?i.tooltipShowDelay:i.tooltipHideDelay,h=wu(e);return W(d)?(d<0&&ye(function(){return console.warn("ag-grid: tooltip"+h+"Delay should not be lower than 0")},"tooltip"+h+"DelayWarn"),Math.max(200,d)):null},a.prototype.isTooltipMouseTrack=function(){return Ge(this.gridOptions.tooltipMouseTrack)},a.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return Ge(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},a.prototype.getDocument=function(){var e=null;return this.gridOptions.getDocument&&W(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&W(e)?e:document},a.prototype.getMinColWidth=function(){var e=this.gridOptions.minColWidth;if(W(e)&&e>t.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var i=this.getFromTheme(null,"headerCellMinWidth");return W(i)?Math.max(i,t.MIN_COL_WIDTH):t.MIN_COL_WIDTH},a.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>t.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},a.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<t.MIN_COL_WIDTH?200:this.gridOptions.colWidth},a.prototype.getRowBuffer=function(){var e=this.gridOptions.rowBuffer;return"number"==typeof e?e<0&&(ye(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=e=0):e=ae.ROW_BUFFER_SIZE,e},a.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},a.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var i="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Fu();null!=i&&(this.scrollbarWidth=i,this.eventService.dispatchEvent({type:ue.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},a.prototype.checkForDeprecated=function(){var e=this.gridOptions;e.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),e.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),e.enableMultiRowDragging&&(e.rowDragMultiRow=!0,delete e.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var i=function(d,h,O){null!=e[d]&&(console.warn("ag-grid: since version "+O+", '"+d+"' is deprecated / renamed, please use the new property name '"+h+"' instead."),null==e[h]&&(e[h]=e[d]))};if(i("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),i("deltaRowDataMode","immutableData","23.1.x"),(e.immutableColumns||e.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),i("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),e.groupRowInnerRenderer||e.groupRowInnerRendererParams||e.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),e.groupRowRendererParams||(e.groupRowRendererParams={});var n=e.groupRowRendererParams;e.groupRowInnerRenderer&&(n.innerRenderer=e.groupRowInnerRenderer),e.groupRowInnerRendererParams&&(n.innerRendererParams=e.groupRowInnerRendererParams),e.groupRowInnerRendererFramework&&(n.innerRendererFramework=e.groupRowInnerRendererFramework)}e.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),e.detailCellRendererParams&&e.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),e.detailRowAutoHeight=!0),e.suppressKeyboardEvent&&console.warn("AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property."),e.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),e.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),e.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),e.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),e.stopEditingWhenCellsLoseFocus=!0),e.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),e.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),e.groupDisplayType="multipleColumns"),e.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),e.groupDisplayType="groupRows"),e.groupSuppressAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+(e.treeData?"treeDataDisplayType":"groupDisplayType")+" = 'custom'`"),e.groupDisplayType="custom"),e.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `defaultGroupOrderComparator`"),e.defaultGroupOrderComparator=e.defaultGroupSortComparator),e.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),e.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),e.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`."),e.reactUi&&console.warn("AG Grid: since v27.0, React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."),e.suppressReactUi&&console.warn("AG Grid: The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."),e.suppressCellSelection&&(console.warn("AG Grid: since v27.0, `suppressCellSelection` has been replaced by `suppressCellFocus`."),e.suppressCellFocus=e.suppressCellSelection),e.getRowNodeId&&console.warn("AG Grid: since v27.1, `getRowNodeId` is deprecate and has been replaced by `getRowId`. The difference is if getRowId() is implemented, immutable data is on by default."),e.immutableData&&console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To turn on, implement `getRowId` has been replaced by `getRowId`. The difference is if getRowId() is implemented, immutable data is on by default."),e.clipboardDeliminator&&(console.warn("AG Grid: since v27.1, `clipboardDeliminator` has been replaced by `clipboardDelimiter`."),e.clipboardDelimiter=e.clipboardDeliminator)},a.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},a.prototype.treeDataViolations=function(){this.isRowModelDefault()&&E(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(E(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),E(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},a.prototype.getLocaleTextFunc=function(){if(this.gridOptions.localeTextFunc)return this.gridOptions.localeTextFunc;var e=this.gridOptions.localeText;return function(i,n){var s=e&&e[i];return null!=s?s:n}},a.prototype.globalEventHandler=function(e,i){if(!this.destroyed){var n=On.getCallbackForEvent(e);"function"==typeof this.gridOptions[n]&&this.gridOptions[n](i)}},a.prototype.setRowHeightVariable=function(e){var n=e+"px";this.eGridDiv.style.getPropertyValue("--ag-row-height").trim()!=n&&this.eGridDiv.style.setProperty("--ag-row-height",n)},a.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||E(this.gridOptions.rowHeight))return this.getDefaultRowHeight();var e=this.gridOptions.rowHeight;return e&&this.isNumeric(e)?(this.setRowHeightVariable(e),e):(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},a.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},a.prototype.getRowHeightForNode=function(e,i,n){if(void 0===i&&(i=!1),null==n&&(n=this.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(i)return{height:n,estimated:!0};var d=this.gridOptions.getRowHeight({node:e,data:e.data,api:this.gridOptions.api,context:this.gridOptions.context});if(this.isNumeric(d))return 0===d&&ye(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,d),estimated:!1}}return e.detail&&this.isMasterDetail()?this.isDetailRowAutoHeight()?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}:{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:n,estimated:!1}},a.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},a.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},a.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},a.prototype.isNumeric=function(e){return!isNaN(e)&&"number"==typeof e&&isFinite(e)},a.prototype.getFromTheme=function(e,i){var n=this.environment.getTheme().theme;return n&&0===n.indexOf("ag-theme")?this.environment.getSassVariable(n,i):e},a.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},a.prototype.matchesGroupDisplayType=function(e,i){var n=["groupRows","multipleColumns","custom","singleColumn"];return n.indexOf(i)<0?(console.warn("AG Grid: '"+i+"' is not a valid groupDisplayType value - possible values are: '"+n.join("', '")+"'"),!1):i===e},a.prototype.matchesTreeDataDisplayType=function(e,i){var n=["auto","custom"];return n.indexOf(i)<0?(console.warn("AG Grid: '"+i+"' is not a valid treeDataDisplayType value - possible values are: '"+n.join("', '")+"'"),!1):i===e},a.MIN_COL_WIDTH=10,a.PROP_HEADER_HEIGHT="headerHeight",a.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",a.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",a.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",a.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",a.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",a.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",a.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",a.PROP_TAB_TO_NEXT_CELL="tabToNextCell",a.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",a.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",a.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",a.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",a.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",a.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",a.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",a.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",a.PROP_GET_ROW_CLASS="getRowClass",a.PROP_GET_ROW_STYLE="getRowStyle",a.PROP_GET_ROW_HEIGHT="getRowHeight",a.PROP_POPUP_PARENT="popupParent",a.PROP_DOM_LAYOUT="domLayout",a.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",a.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",a.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",a.PROP_GET_CHILD_COUNT="getChildCount",a.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",a.PROP_GET_ROW_NODE_ID="getRowNodeId",a.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",a.PROP_IS_ROW_SELECTABLE="isRowSelectable",a.PROP_IS_ROW_MASTER="isRowMaster",a.PROP_POST_SORT="postSort",a.PROP_GET_DOCUMENT="getDocument",a.PROP_POST_PROCESS_POPUP="postProcessPopup",a.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",a.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",a.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",a.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",a.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",a.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",a.PROP_SEND_TO_CLIPBOARD="sendToClipboard",a.PROP_PROCESS_TO_SECONDARY_COLDEF="processSecondaryColDef",a.PROP_PROCESS_SECONDARY_COL_GROUP_DEF="processSecondaryColGroupDef",a.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",a.PROP_GET_SERVER_SIDE_STORE_PARAMS="getServerSideStoreParams",a.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",a.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",a.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",a.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",In([Q("gridOptions")],a.prototype,"gridOptions",void 0),In([Q("eventService")],a.prototype,"eventService",void 0),In([Q("environment")],a.prototype,"environment",void 0),In([Q("eGridDiv")],a.prototype,"eGridDiv",void 0),In([Sd(0,Et("gridApi")),Sd(1,Et("columnApi"))],a.prototype,"agWire",null),In([Xe],a.prototype,"destroy",null),In([be],a.prototype,"init",null),t=In([je("gridOptionsWrapper")],a)}(),qr=function(){function a(t,e){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=t,this.pathRoot={rowNode:e,children:null},this.mapToItems[e.id]=this.pathRoot}return a.prototype.setInactive=function(){this.active=!1},a.prototype.isActive=function(){return this.active},a.prototype.depthFirstSearchChangedPath=function(t,e){if(t.children)for(var i=0;i<t.children.length;i++)this.depthFirstSearchChangedPath(t.children[i],e);e(t.rowNode)},a.prototype.depthFirstSearchEverything=function(t,e,i){if(t.childrenAfterGroup)for(var n=0;n<t.childrenAfterGroup.length;n++){var s=t.childrenAfterGroup[n];s.childrenAfterGroup?this.depthFirstSearchEverything(t.childrenAfterGroup[n],e,i):i&&e(s)}e(t)},a.prototype.forEachChangedNodeDepthFirst=function(t,e){void 0===e&&(e=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,t):this.depthFirstSearchEverything(this.pathRoot.rowNode,t,e)},a.prototype.executeFromRootNode=function(t){t(this.pathRoot.rowNode)},a.prototype.createPathItems=function(t){for(var e=t,i=0;!this.mapToItems[e.id];)this.mapToItems[e.id]={rowNode:e,children:null},i++,e=e.parent;return i},a.prototype.populateColumnsMap=function(t,e){var i=this;if(this.keepingColumns&&e)for(var n=t;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),e.forEach(function(s){return i.nodeIdsToColumns[n.id][s.getId()]=!0}),n=n.parent},a.prototype.linkPathItems=function(t,e){for(var i=t,n=0;n<e;n++){var s=this.mapToItems[i.id],d=this.mapToItems[i.parent.id];d.children||(d.children=[]),d.children.push(s),i=i.parent}},a.prototype.addParentNode=function(t,e){if(t&&!t.isRowPinned()){var i=this.createPathItems(t);this.linkPathItems(t,i),this.populateColumnsMap(t,e)}},a.prototype.canSkip=function(t){return this.active&&!this.mapToItems[t.id]},a.prototype.getValueColumnsForNode=function(t,e){if(!this.keepingColumns)return e;var i=this.nodeIdsToColumns[t.id];return e.filter(function(s){return i[s.getId()]})},a.prototype.getNotValueColumnsForNode=function(t,e){if(!this.keepingColumns)return null;var i=this.nodeIdsToColumns[t.id];return e.filter(function(s){return!i[s.getId()]})},a}(),xd=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Jo=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},g_=function(a,t){return function(e,i){t(e,i,a)}},oc=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return xd(t,a),t.prototype.setBeans=function(e){this.logger=e.create("selectionService"),this.reset(),this.gridOptionsWrapper.isRowModelDefault()&&this.addManagedListener(this.eventService,ue.EVENT_ROW_DATA_CHANGED,this.reset.bind(this))},t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,ue.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},t.prototype.setLastSelectedNode=function(e){this.lastSelectedNode=e},t.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},t.prototype.getSelectedNodes=function(){var e=[];return v(this.selectedNodes,function(i,n){n&&e.push(n)}),e},t.prototype.getSelectedRows=function(){var e=[];return v(this.selectedNodes,function(i,n){n&&n.data&&e.push(n.data)}),e},t.prototype.removeGroupsFromSelection=function(){var e=this;v(this.selectedNodes,function(i,n){n&&n.group&&(e.selectedNodes[n.id]=void 0)})},t.prototype.updateGroupsFromChildrenSelections=function(e){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===ae.ROW_MODEL_TYPE_CLIENT_SIDE){var n=this.rowModel.getRootNode();e||(e=new qr(!0,n)).setInactive(),e.forEachChangedNodeDepthFirst(function(s){s!==n&&s.calculateSelectedFromChildren()})}},t.prototype.getNodeForIdIfSelected=function(e){return this.selectedNodes[e]},t.prototype.clearOtherNodes=function(e){var i=this,n={},s=0;return v(this.selectedNodes,function(d,h){h&&h.id!==e.id&&(s+=i.selectedNodes[h.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),i.groupSelectsChildren&&h.parent&&(n[h.parent.id]=h.parent))}),v(n,function(d,h){h.calculateSelectedFromChildren()}),s},t.prototype.onRowSelected=function(e){var i=e.node;this.groupSelectsChildren&&i.group||(this.selectedNodes[i.id]=i.isSelected()?i:void 0)},t.prototype.syncInRowNode=function(e,i){this.syncInOldRowNode(e,i),this.syncInNewRowNode(e)},t.prototype.syncInOldRowNode=function(e,i){W(i)&&e.id!==i.id&&i&&this.selectedNodes[i.id]==e&&(this.selectedNodes[i.id]=i)},t.prototype.syncInNewRowNode=function(e){W(this.selectedNodes[e.id])?(e.setSelectedInitialValue(!0),this.selectedNodes[e.id]=e):e.setSelectedInitialValue(!1)},t.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},t.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===ae.ROW_MODEL_TYPE_CLIENT_SIDE){var i=this.rowModel.getTopLevelNodes();if(null!==i){var n=[];return function s(d){for(var h=0,O=d.length;h<O;h++){var L=d[h];L.isSelected()?n.push(L):L.group&&L.children&&s(L.children)}}(i),n}console.warn("AG Grid: `selectAll` not available doing `rowModel=virtual`")}else console.warn("AG Grid: `getBestCostNodeSelection` is only available when using normal row model")},t.prototype.setRowModel=function(e){this.rowModel=e},t.prototype.isEmpty=function(){var e=0;return v(this.selectedNodes,function(i,n){n&&e++}),0===e},t.prototype.deselectAllRowNodes=function(e){void 0===e&&(e=!1);var i=function(h){return h.selectThisNode(!1)},n=this.rowModel.getType()===ae.ROW_MODEL_TYPE_CLIENT_SIDE;if(e){if(!n)return void console.error("AG Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(i)}else v(this.selectedNodes,function(h,O){O&&i(O)}),this.reset();n&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:ue.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.selectAllRowNodes=function(e){if(void 0===e&&(e=!1),this.rowModel.getType()!==ae.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var i=this.rowModel,n=function(d){return d.selectThisNode(!0)};e?i.forEachNodeAfterFilter(n):i.forEachNode(n),this.rowModel.getType()===ae.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:ue.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.selectNode=function(e,i){e&&e.setSelectedParams({newValue:!0,clearSelection:!i})},t.prototype.deselectIndex=function(e){var i=this.rowModel.getRow(e);this.deselectNode(i)},t.prototype.deselectNode=function(e){e&&e.setSelectedParams({newValue:!1,clearSelection:!1})},t.prototype.selectIndex=function(e,i){var n=this.rowModel.getRow(e);this.selectNode(n,i)},Jo([Q("rowModel")],t.prototype,"rowModel",void 0),Jo([Q("columnApi")],t.prototype,"columnApi",void 0),Jo([Q("gridApi")],t.prototype,"gridApi",void 0),Jo([g_(0,Et("loggerFactory"))],t.prototype,"setBeans",null),Jo([be],t.prototype,"init",null),Jo([je("selectionService")],t)}(Ze),Od=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Td=function(){function a(){}return a.prototype.sizeColumnsToFit=function(t){void 0===t&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(t,"api")},a.prototype.setColumnGroupOpened=function(t,e){this.columnModel.setColumnGroupOpened(t,e,"api")},a.prototype.getColumnGroup=function(t,e){return this.columnModel.getColumnGroup(t,e)},a.prototype.getProvidedColumnGroup=function(t){return this.columnModel.getProvidedColumnGroup(t)},a.prototype.getDisplayNameForColumn=function(t,e){return this.columnModel.getDisplayNameForColumn(t,e)||""},a.prototype.getDisplayNameForColumnGroup=function(t,e){return this.columnModel.getDisplayNameForColumnGroup(t,e)||""},a.prototype.getColumn=function(t){return this.columnModel.getPrimaryColumn(t)},a.prototype.applyColumnState=function(t){return this.columnModel.applyColumnState(t,"api")},a.prototype.getColumnState=function(){return this.columnModel.getColumnState()},a.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},a.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},a.prototype.setColumnGroupState=function(t){this.columnModel.setColumnGroupState(t,"api")},a.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},a.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},a.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},a.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},a.prototype.getDisplayedColAfter=function(t){return this.columnModel.getDisplayedColAfter(t)},a.prototype.getDisplayedColBefore=function(t){return this.columnModel.getDisplayedColBefore(t)},a.prototype.setColumnVisible=function(t,e){this.columnModel.setColumnVisible(t,e,"api")},a.prototype.setColumnsVisible=function(t,e){this.columnModel.setColumnsVisible(t,e,"api")},a.prototype.setColumnPinned=function(t,e){this.columnModel.setColumnPinned(t,e,"api")},a.prototype.setColumnsPinned=function(t,e){this.columnModel.setColumnsPinned(t,e,"api")},a.prototype.getAllColumns=function(){return this.columnModel.getAllPrimaryColumns()},a.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},a.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},a.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},a.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},a.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},a.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},a.prototype.moveColumn=function(t,e){"number"==typeof t?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(t,e,"api")):this.columnModel.moveColumn(t,e,"api")},a.prototype.moveColumnByIndex=function(t,e){this.columnModel.moveColumnByIndex(t,e,"api")},a.prototype.moveColumns=function(t,e){this.columnModel.moveColumns(t,e,"api")},a.prototype.moveRowGroupColumn=function(t,e){this.columnModel.moveRowGroupColumn(t,e)},a.prototype.setColumnAggFunc=function(t,e){this.columnModel.setColumnAggFunc(t,e)},a.prototype.setColumnWidth=function(t,e,i,n){void 0===i&&(i=!0),this.columnModel.setColumnWidths([{key:t,newWidth:e}],!1,i,n)},a.prototype.setColumnWidths=function(t,e,i){void 0===e&&(e=!0),this.columnModel.setColumnWidths(t,!1,e,i)},a.prototype.setPivotMode=function(t){this.columnModel.setPivotMode(t)},a.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},a.prototype.getSecondaryPivotColumn=function(t,e){return this.columnModel.getSecondaryPivotColumn(t,e)},a.prototype.setValueColumns=function(t){this.columnModel.setValueColumns(t,"api")},a.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},a.prototype.removeValueColumn=function(t){this.columnModel.removeValueColumn(t,"api")},a.prototype.removeValueColumns=function(t){this.columnModel.removeValueColumns(t,"api")},a.prototype.addValueColumn=function(t){this.columnModel.addValueColumn(t,"api")},a.prototype.addValueColumns=function(t){this.columnModel.addValueColumns(t,"api")},a.prototype.setRowGroupColumns=function(t){this.columnModel.setRowGroupColumns(t,"api")},a.prototype.removeRowGroupColumn=function(t){this.columnModel.removeRowGroupColumn(t,"api")},a.prototype.removeRowGroupColumns=function(t){this.columnModel.removeRowGroupColumns(t,"api")},a.prototype.addRowGroupColumn=function(t){this.columnModel.addRowGroupColumn(t,"api")},a.prototype.addRowGroupColumns=function(t){this.columnModel.addRowGroupColumns(t,"api")},a.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},a.prototype.setPivotColumns=function(t){this.columnModel.setPivotColumns(t,"api")},a.prototype.removePivotColumn=function(t){this.columnModel.removePivotColumn(t,"api")},a.prototype.removePivotColumns=function(t){this.columnModel.removePivotColumns(t,"api")},a.prototype.addPivotColumn=function(t){this.columnModel.addPivotColumn(t,"api")},a.prototype.addPivotColumns=function(t){this.columnModel.addPivotColumns(t,"api")},a.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},a.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},a.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},a.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},a.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},a.prototype.autoSizeColumn=function(t,e){return this.columnModel.autoSizeColumn(t,e,"api")},a.prototype.autoSizeColumns=function(t,e){this.columnModel.autoSizeColumns({columns:t,skipHeader:e})},a.prototype.autoSizeAllColumns=function(t){this.columnModel.autoSizeAllColumns(t,"api")},a.prototype.setSecondaryColumns=function(t){this.columnModel.setSecondaryColumns(t,"api")},a.prototype.getSecondaryColumns=function(){return this.columnModel.getSecondaryColumns()},a.prototype.getPrimaryColumns=function(){return this.columnModel.getAllPrimaryColumns()},a.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(ct.removeAllReferences.bind(window,this,"Column API"),100)},a.prototype.columnGroupOpened=function(t,e){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(t,e)},a.prototype.hideColumns=function(t,e){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(t,!e,"api")},a.prototype.hideColumn=function(t,e){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(t,!e,"api")},a.prototype.setState=function(t){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(t)},a.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},a.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},a.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},a.prototype.removeAggregationColumn=function(t){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(t,"api")},a.prototype.removeAggregationColumns=function(t){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(t,"api")},a.prototype.addAggregationColumn=function(t){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(t,"api")},a.prototype.addAggregationColumns=function(t){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(t,"api")},a.prototype.setColumnAggFunction=function(t,e){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(t,e,"api")},a.prototype.getDisplayNameForCol=function(t){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(t,null)},a.prototype.setColumnState=function(t){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:t,applyOrder:!0},"api")},a.prototype.getOriginalColumnGroup=function(t){return console.error("AG Grid: getOriginalColumnGroup is deprecated, use getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(t)},Od([Q("columnModel")],a.prototype,"columnModel",void 0),Od([Xe],a.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Od([je("columnApi")],a)}();(function(a){a[a.FILL=0]="FILL",a[a.RANGE=1]="RANGE"})(z.Lm6||(z.Lm6={})),function(a){a[a.VALUE=0]="VALUE",a[a.DIMENSION=1]="DIMENSION"}(z.StC||(z.StC={}));var ca="ag-cell-range-selected",Md=function(){function a(t,e){this.beans=t,this.cellCtrl=e}return a.prototype.setComp=function(t,e){this.cellComp=t,this.eGui=e,this.onRangeSelectionChanged()},a.prototype.onRangeSelectionChanged=function(){!this.cellComp||(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(ca,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(ca+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(ca+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(ca+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(ca+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),Ho(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},a.prototype.updateRangeBorders=function(){var t=this.getRangeBorders(),e=this.isSingleCell(),n=!e&&t.right,s=!e&&t.bottom,d=!e&&t.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!e&&t.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",n),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",s),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",d)},a.prototype.isSingleCell=function(){var t=this.beans.rangeService;return 1===this.rangeCount&&t&&!t.isMoreThanOneCell()},a.prototype.getHasChartRange=function(){var t=this.beans.rangeService;if(!this.rangeCount||!t)return!1;var e=t.getCellRanges();return e.length>0&&e.every(function(i){return ii([z.StC.DIMENSION,z.StC.VALUE],i.type)})},a.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},a.prototype.getRangeBorders=function(){var q,J,t=this,e=this.beans.gridOptionsWrapper.isEnableRtl(),i=!1,n=!1,s=!1,d=!1,h=this.cellCtrl.getCellPosition().column,O=this.beans,L=O.rangeService,j=O.columnModel;e?(q=j.getDisplayedColAfter(h),J=j.getDisplayedColBefore(h)):(q=j.getDisplayedColBefore(h),J=j.getDisplayedColAfter(h));var re=L.getCellRanges().filter(function(Ve){return L.isCellInSpecificRange(t.cellCtrl.getCellPosition(),Ve)});q||(d=!0),J||(n=!0);for(var me=0;me<re.length&&!(i&&n&&s&&d);me++){var Ae=re[me],Pe=L.getRangeStartRow(Ae),We=L.getRangeEndRow(Ae);!i&&this.beans.rowPositionUtils.sameRow(Pe,this.cellCtrl.getCellPosition())&&(i=!0),!s&&this.beans.rowPositionUtils.sameRow(We,this.cellCtrl.getCellPosition())&&(s=!0),!d&&q&&Ae.columns.indexOf(q)<0&&(d=!0),!n&&J&&Ae.columns.indexOf(J)<0&&(n=!0)}return{top:i,right:n,bottom:s,left:d}},a.prototype.refreshHandle=function(){if(this.beans.rangeService){var t=this.shouldHaveSelectionHandle();this.selectionHandle&&!t&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),t&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},a.prototype.shouldHaveSelectionHandle=function(){var t=this.beans,e=t.gridOptionsWrapper,i=t.rangeService,n=i.getCellRanges(),s=n.length;if(this.rangeCount<1||s<1)return!1;var d=Qe(n),h=this.cellCtrl.getCellPosition(),O=e.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),L=e.isEnableRangeHandle(),j=1===s&&!this.cellCtrl.isEditing()&&(O||L);if(this.hasChartRange){var J=n[0].type===z.StC.DIMENSION&&i.isCellInSpecificRange(h,n[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",J),j=d.type===z.StC.VALUE}return j&&null!=d.endRow&&i.isContiguousRange(d)&&i.isBottomRightCell(d,h)},a.prototype.addSelectionHandle=function(){var t=this.beans,e=t.gridOptionsWrapper,n=Qe(t.rangeService.getCellRanges()).type,d=e.isEnableFillHandle()&&E(n)?z.Lm6.FILL:z.Lm6.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==d&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(d)),this.selectionHandle.refresh(this.cellCtrl)},a.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},a}(),og=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sg=function(a){function t(e,i){var n=a.call(this)||this;return n.cellCtrl=e,n.beans=i,n.column=e.getColumn(),n.rowNode=e.getRowNode(),n.setupColSpan(),n.setupRowSpan(),n}return og(t,a),t.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},t.prototype.setComp=function(e){this.eGui=e,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},t.prototype.onDisplayColumnsChanged=function(){var e=this.getColSpanningList();Ht(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())},t.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,ue.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},t.prototype.onWidthChanged=function(){if(this.eGui){var e=this.getCellWidth();this.eGui.style.width=e+"px"}},t.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(e,i){return e+i.getActualWidth()},0):this.column.getActualWidth()},t.prototype.getColSpanningList=function(){var e=this.column.getColSpan(this.rowNode),i=[];if(1===e)i.push(this.column);else for(var n=this.column,s=this.column.getPinned(),d=0;n&&d<e&&(i.push(n),(n=this.beans.columnModel.getDisplayedColAfter(n))&&!E(n)&&s===n.getPinned());d++);return i},t.prototype.onLeftChanged=function(){if(this.eGui){var e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}},t.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?Qe(this.colsSpanning):this.column).getLeft()},t.prototype.modifyLeftForPrintLayout=function(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===ae.PINNED_LEFT)return e;var i=this.beans.columnModel.getDisplayedColumnsLeftWidth();return this.column.getPinned()===ae.PINNED_RIGHT?i+this.beans.columnModel.getBodyContainerWidth()+(e||0):i+(e||0)},t.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var e=this.beans.gridOptionsWrapper.getRowHeightAsNumber();this.eGui.style.height=e*this.rowSpan+"px",this.eGui.style.zIndex="1"}},t.prototype.destroy=function(){a.prototype.destroy.call(this)},t}(Ze),ag=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),lg=function(a){function t(e,i){var n=a.call(this)||this;return n.staticClasses=[],n.cellCtrl=e,n.beans=i,n.column=e.getColumn(),n.rowNode=e.getRowNode(),n}return ag(t,a),t.prototype.setComp=function(e,i){this.cellComp=e,this.scope=i,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},t.prototype.applyCellClassRules=function(){var e=this,i=this.column.getColDef(),n={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:i,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),$scope:this.scope,context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(i.cellClassRules,n,function(s){return e.cellComp.addOrRemoveCssClass(s,!0)},function(s){return e.cellComp.addOrRemoveCssClass(s,!1)})},t.prototype.applyUserStyles=function(){var e=this.column.getColDef();if(e.cellStyle){var i;if("function"==typeof e.cellStyle){var n={column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};i=(0,e.cellStyle)(n)}else i=e.cellStyle;this.cellComp.setUserStyles(i)}},t.prototype.applyClassesFromColDef=function(){var e=this,i=this.column.getColDef(),n={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:i,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach(function(s){return e.cellComp.addOrRemoveCssClass(s,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(i,n),this.staticClasses.length&&this.staticClasses.forEach(function(s){return e.cellComp.addOrRemoveCssClass(s,!0)})},t.prototype.destroy=function(){a.prototype.destroy.call(this)},t}(Ze),cg=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sc=function(a){function t(e,i){var n=a.call(this)||this;return n.ctrl=e,n.beans=i,n}return cg(t,a),t.prototype.setComp=function(e){this.comp=e,this.setupTooltip()},t.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},t.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},t.prototype.createTooltipFeatureIfNeeded=function(){var e=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new Bl({getTooltipParams:function(){return e.getTooltipParams()},getGui:function(){return e.ctrl.getGui()}}),this.beans.context))},t.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},t.prototype.getTooltipParams=function(){var e=this.ctrl,i=e.getColumn?e.getColumn():void 0,n=e.getColDef?e.getColDef():void 0,s=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:n,column:i,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:s,data:s?s.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0}},t.prototype.getTooltipText=function(){return this.tooltip},t.prototype.destroy=function(){a.prototype.destroy.call(this)},t}(Ze),dt=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},da=function(){function a(){}return a.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},dt([Q("resizeObserverService")],a.prototype,"resizeObserverService",void 0),dt([Q("paginationProxy")],a.prototype,"paginationProxy",void 0),dt([Q("context")],a.prototype,"context",void 0),dt([Q("columnApi")],a.prototype,"columnApi",void 0),dt([Q("gridApi")],a.prototype,"gridApi",void 0),dt([Q("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),dt([Q("expressionService")],a.prototype,"expressionService",void 0),dt([Q("rowRenderer")],a.prototype,"rowRenderer",void 0),dt([Q("$compile")],a.prototype,"$compile",void 0),dt([Q("templateService")],a.prototype,"templateService",void 0),dt([Q("valueService")],a.prototype,"valueService",void 0),dt([Q("eventService")],a.prototype,"eventService",void 0),dt([Q("columnModel")],a.prototype,"columnModel",void 0),dt([Q("headerNavigationService")],a.prototype,"headerNavigationService",void 0),dt([Q("navigationService")],a.prototype,"navigationService",void 0),dt([Q("columnAnimationService")],a.prototype,"columnAnimationService",void 0),dt([it("rangeService")],a.prototype,"rangeService",void 0),dt([Q("focusService")],a.prototype,"focusService",void 0),dt([it("contextMenuFactory")],a.prototype,"contextMenuFactory",void 0),dt([Q("popupService")],a.prototype,"popupService",void 0),dt([Q("valueFormatterService")],a.prototype,"valueFormatterService",void 0),dt([Q("stylingService")],a.prototype,"stylingService",void 0),dt([Q("columnHoverService")],a.prototype,"columnHoverService",void 0),dt([Q("userComponentFactory")],a.prototype,"userComponentFactory",void 0),dt([Q("userComponentRegistry")],a.prototype,"userComponentRegistry",void 0),dt([Q("animationFrameService")],a.prototype,"animationFrameService",void 0),dt([Q("dragAndDropService")],a.prototype,"dragAndDropService",void 0),dt([Q("sortController")],a.prototype,"sortController",void 0),dt([Q("filterManager")],a.prototype,"filterManager",void 0),dt([Q("rowContainerHeightService")],a.prototype,"rowContainerHeightService",void 0),dt([Q("frameworkOverrides")],a.prototype,"frameworkOverrides",void 0),dt([Q("cellPositionUtils")],a.prototype,"cellPositionUtils",void 0),dt([Q("rowPositionUtils")],a.prototype,"rowPositionUtils",void 0),dt([Q("selectionService")],a.prototype,"selectionService",void 0),dt([it("selectionHandleFactory")],a.prototype,"selectionHandleFactory",void 0),dt([Q("rowCssClassCalculator")],a.prototype,"rowCssClassCalculator",void 0),dt([Q("rowModel")],a.prototype,"rowModel",void 0),dt([Q("ctrlsService")],a.prototype,"ctrlsService",void 0),dt([Q("ctrlsFactory")],a.prototype,"ctrlsFactory",void 0),dt([Q("agStackComponentsRegistry")],a.prototype,"agStackComponentsRegistry",void 0),dt([Q("valueCache")],a.prototype,"valueCache",void 0),dt([Q("rowNodeEventThrottle")],a.prototype,"rowNodeEventThrottle",void 0),dt([be],a.prototype,"postConstruct",null),dt([je("beans")],a)}(),Id=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ug=function(a){function t(e,i,n){var s=a.call(this)||this;return s.cellCtrl=e,s.beans=i,s.column=n,s}return Id(t,a),t.prototype.onMouseEvent=function(e,i){if(!Ai(i))switch(e){case"click":this.onCellClicked(i);break;case"mousedown":case"touchstart":this.onMouseDown(i);break;case"dblclick":this.onCellDoubleClicked(i);break;case"mouseout":this.onMouseOut(i);break;case"mouseover":this.onMouseOver(i)}},t.prototype.onCellClicked=function(e){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(e),void e.preventDefault();var i=this.beans,n=i.eventService,s=i.gridOptionsWrapper,d=this.cellCtrl.createEvent(e,ue.EVENT_CELL_CLICKED);n.dispatchEvent(d);var h=this.column.getColDef();h.onCellClicked&&window.setTimeout(function(){return h.onCellClicked(d)},0),(s.isSingleClickEdit()||h.singleClickEdit)&&!s.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},t.prototype.isDoubleClickOnIPad=function(){if(!er()||Pr("dblclick"))return!1;var e=(new Date).getTime(),i=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,i},t.prototype.onCellDoubleClicked=function(e){var i=this.column.getColDef(),n=this.cellCtrl.createEvent(e,ue.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(n),"function"==typeof i.onCellDoubleClicked&&window.setTimeout(function(){return i.onCellDoubleClicked(n)},0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit(null,null,e)},t.prototype.onMouseDown=function(e){var i=e.ctrlKey,n=e.metaKey,s=e.shiftKey,d=e.target,h=this.beans,O=h.eventService,L=h.rangeService;if(!this.isRightClickInExistingRange(e)){var j=L&&0!=L.getCellRanges().length;if(!s||!j){var q=Ws()&&!this.cellCtrl.isEditing()&&!Lu(d);this.cellCtrl.focusCell(q)}if(s&&j&&e.preventDefault(),!this.containsWidget(d)){if(L){var J=this.cellCtrl.getCellPosition();s?L.extendLatestRangeToCell(J):L.setRangeToCell(J,i||n)}O.dispatchEvent(this.cellCtrl.createEvent(e,ue.EVENT_CELL_MOUSE_DOWN))}}},t.prototype.isRightClickInExistingRange=function(e){var i=this.beans.rangeService;return!(!i||!i.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==e.button)},t.prototype.containsWidget=function(e){return bt(e,"ag-selection-checkbox",3)},t.prototype.onMouseOut=function(e){if(!this.mouseStayingInsideCell(e)){var i=this.cellCtrl.createEvent(e,ue.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(i),this.beans.columnHoverService.clearMouseOver()}},t.prototype.onMouseOver=function(e){if(!this.mouseStayingInsideCell(e)){var i=this.cellCtrl.createEvent(e,ue.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(i),this.beans.columnHoverService.setMouseOver([this.column])}},t.prototype.mouseStayingInsideCell=function(e){if(!e.target||!e.relatedTarget)return!1;var i=this.cellCtrl.getGui(),n=i.contains(e.target),s=i.contains(e.relatedTarget);return n&&s},t.prototype.destroy=function(){},t}(da),dg=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hg=function(a){function t(e,i,n,s,d,h){var O=a.call(this)||this;return O.cellCtrl=e,O.beans=i,O.rowNode=s,O.rowCtrl=h,O}return dg(t,a),t.prototype.setComp=function(e){this.eGui=e},t.prototype.onKeyDown=function(e){var i=e.key;switch(i){case Ue.ENTER:this.onEnterKeyDown(e);break;case Ue.F2:this.onF2KeyDown(e);break;case Ue.ESCAPE:this.onEscapeKeyDown(e);break;case Ue.TAB:this.onTabKeyDown(e);break;case Ue.BACKSPACE:case Ue.DELETE:this.onBackspaceOrDeleteKeyPressed(i,e);break;case Ue.DOWN:case Ue.UP:case Ue.RIGHT:case Ue.LEFT:this.onNavigationKeyPressed(e,i)}},t.prototype.onNavigationKeyPressed=function(e,i){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(i):this.beans.navigationService.navigateToNextCell(e,i,this.cellCtrl.getCellPosition(),!0),e.preventDefault())},t.prototype.onShiftRangeSelect=function(e){if(this.beans.rangeService){var i=this.beans.rangeService.extendLatestRangeInDirection(e);i&&this.beans.navigationService.ensureCellVisible(i)}},t.prototype.onTabKeyDown=function(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)},t.prototype.onBackspaceOrDeleteKeyPressed=function(e,i){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(e,void 0,i)},t.prototype.onEnterKeyDown=function(e){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,Ue.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(Ue.ENTER,void 0,e),this.cellCtrl.isEditing()&&e.preventDefault())},t.prototype.onF2KeyDown=function(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Ue.F2,void 0,e)},t.prototype.onEscapeKeyDown=function(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},t.prototype.onKeyPress=function(e){if(e.target===this.eGui&&!this.cellCtrl.isEditing()){var s=String.fromCharCode(e.charCode);" "===s?this.onSpaceKeyPressed(e):Af(e)&&(this.cellCtrl.startRowOrCellEdit(null,s,e),e.preventDefault())}},t.prototype.onSpaceKeyPressed=function(e){var i=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&i.isRowSelection()){var n=this.rowNode.isSelected(),s=!n;if(s||!i.isSuppressRowDeselection()){var d=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),h=this.rowNode.setSelectedParams({newValue:s,rangeSelect:e.shiftKey,groupSelectsFiltered:d});void 0===n&&0===h&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:d})}}e.preventDefault()},t.prototype.destroy=function(){},t}(Ze),pg=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),C_=function(a){function t(e,i,n,s){var d=a.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return d.rowNode=e,d.column=i,d.beans=n,d.eCell=s,d}return pg(t,a),t.prototype.postConstruct=function(){this.getGui().appendChild(qt("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(i){i.stopPropagation()}),this.addDragSource(),this.checkVisibility()},t.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},t.prototype.onDragStart=function(e){var i=this,n=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0),n?n({rowNode:this.rowNode,dragEvent:e}):function(){try{var d=JSON.stringify(i.rowNode.data);e.dataTransfer.setData("application/json",d),e.dataTransfer.setData("text/plain",d)}catch(h){}}()},t.prototype.checkVisibility=function(){var e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)},function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);n>3&&s&&Object.defineProperty(t,e,s)}([be],t.prototype,"postConstruct",null),t}(pt),w_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ac=function(){return ac=Object.assign||function(a){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a},ac.apply(this,arguments)},Ld="ag-cell-not-inline-editing",yg=0,Ln=function(a){function t(e,i,n,s){var d=a.call(this)||this;return d.suppressRefreshCell=!1,d.column=e,d.rowNode=i,d.beans=n,d.rowCtrl=s,d.instanceId=e.getId()+"-"+yg++,d.createCellPosition(),d.addFeatures(),d}return w_(t,a),t.prototype.addFeatures=function(){var e=this;this.cellPositionFeature=new sg(this,this.beans),this.addDestroyFunc(function(){return e.cellPositionFeature.destroy()}),this.cellCustomStyleFeature=new lg(this,this.beans),this.addDestroyFunc(function(){return e.cellCustomStyleFeature.destroy()}),this.cellMouseListenerFeature=new ug(this,this.beans,this.column),this.addDestroyFunc(function(){return e.cellMouseListenerFeature.destroy()}),this.cellKeyboardListenerFeature=new hg(this,this.beans,this.column,this.rowNode,this.scope,this.rowCtrl),this.addDestroyFunc(function(){return e.cellKeyboardListenerFeature.destroy()}),this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection()&&(this.cellRangeFeature=new Md(this.beans,this),this.addDestroyFunc(function(){return e.cellRangeFeature.destroy()})),this.addTooltipFeature()},t.prototype.addTooltipFeature=function(){var e=this;this.tooltipFeature=new sc({getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getRowIndex:function(){return e.cellPosition.rowIndex},getRowNode:function(){return e.rowNode},getGui:function(){return e.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var s=e.column.getColDef(),d=e.rowNode.data;if(s.tooltipField&&W(d))return ee(d,s.tooltipField,e.column.isTooltipFieldContainsDots());var h=s.tooltipValueGetter;return h?h({location:"cell",api:e.beans.gridOptionsWrapper.getApi(),columnApi:e.beans.gridOptionsWrapper.getColumnApi(),context:e.beans.gridOptionsWrapper.getContext(),colDef:e.column.getColDef(),column:e.column,rowIndex:e.cellPosition.rowIndex,node:e.rowNode,data:e.rowNode.data,value:e.value,valueFormatted:e.valueFormatted}):null},getValueFormatted:function(){return e.valueFormatted}},this.beans),this.addDestroyFunc(function(){return e.tooltipFeature.destroy()})},t.prototype.setComp=function(e,i,n,s,d,h){this.cellComp=e,this.gow=this.beans.gridOptionsWrapper,this.scope=i,this.eGui=n,this.eCellWrapper=s,this.printLayout=d,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAriaExpanded(),this.setupAutoHeight(),this.setAriaColIndex(),this.gow.isSuppressCellFocus()||this.cellComp.setTabIndex(-1);var O=pn(this.column.getId());this.cellComp.setColId(O),this.cellComp.setRole("gridcell"),this.cellPositionFeature.setComp(n),this.cellCustomStyleFeature.setComp(e,i),this.tooltipFeature.setComp(e),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(e,n),h&&this.isCellEditable()?this.startEditing():this.showValue()},t.prototype.setupAutoHeight=function(){var e=this;if(this.column.isAutoHeight()){var i=this.eCellWrapper,n=i.parentElement,s=this.beans.gridOptionsWrapper.getRowHeightAsNumber(),d=function(L){if(!e.editing){var j=e.beans.gridOptionsWrapper.getDocument();if((!j||!j.contains(i))&&L<5)return void e.beans.frameworkOverrides.setTimeout(function(){return d(L+1)},0);var q=tr(n),Pe=Math.max(i.offsetHeight+q.paddingTop+q.paddingBottom,s);e.rowNode.setRowAutoHeight(Pe,e.column)}},h=function(){return d(0)};h();var O=this.beans.resizeObserverService.observeResize(i,h);this.addDestroyFunc(function(){O(),e.rowNode.setRowAutoHeight(void 0,e.column)})}},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.showValue=function(e){void 0===e&&(e=!1);var i=null!=this.valueFormatted?this.valueFormatted:this.value,n=this.createCellRendererParams(),s=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),n);this.cellComp.setRenderDetails(s,i,e),this.refreshHandle()},t.prototype.setupControlComps=function(){var e=this.column.getColDef();this.includeSelection=this.isIncludeControl(e.checkboxSelection),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},t.prototype.isForceWrapper=function(){return this.beans.gridOptionsWrapper.isEnableCellTextSelection()||this.column.isAutoHeight()},t.prototype.isIncludeControl=function(e){return!(null!=this.rowNode.rowPinned||"function"!=typeof e&&!0!==e)},t.prototype.setupAriaExpanded=function(){var e=this,i=this.column.getColDef();if(this.rowNode.isExpandable()){var n=i.showRowGroup,s=this.rowNode.rowGroupColumn,d=!0===n,h=s&&s.getColId()===n;if(d||h){var L=function(){Di(e.eGui,!!e.rowNode.expanded)};this.addManagedListener(this.rowNode,gt.EVENT_EXPANDED_CHANGED,L),L()}}},t.prototype.refreshShouldDestroy=function(){var e=this.column.getColDef(),i=this.includeSelection!=this.isIncludeControl(e.checkboxSelection),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),s=this.includeDndSource!=this.isIncludeControl(e.dndSource);return i||n||s},t.prototype.startEditing=function(e,i,n,s){var d,h;if(void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=!1),void 0===s&&(s=null),this.isCellEditable()&&!this.editing){var O=this.createCellEditorParams(e,i,n),L=this.column.getColDef(),j=this.beans.userComponentFactory.getCellEditorDetails(L,O),q=null!=(null===(d=j)||void 0===d?void 0:d.popupFromSelector)?j.popupFromSelector:!!L.cellEditorPopup,J=null!=(null===(h=j)||void 0===h?void 0:h.popupPositionFromSelector)?j.popupPositionFromSelector:L.cellEditorPopupPosition;this.setEditing(!0,q),this.cellComp.setEditDetails(j,q,J);var re=this.createEvent(s,ue.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(re)}},t.prototype.setEditing=function(e,i){void 0===i&&(i=!1),this.editing!==e&&(this.editing=e,this.editingInPopup=i,this.setInlineEditingClass())},t.prototype.stopRowOrCellEdit=function(e){void 0===e&&(e=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(e):this.stopEditing(e)},t.prototype.onPopupEditorClosed=function(){!this.isEditing()||this.stopEditingAndFocus()},t.prototype.takeValueFromCellEditor=function(e){var i={newValueExists:!1};if(e)return i;var n=this.cellComp.getCellEditor();return n?n.isCancelAfterEnd&&n.isCancelAfterEnd()?i:{newValue:n.getValue(),newValueExists:!0}:i},t.prototype.saveNewValue=function(e,i){if(i!==e){if(this.beans.gridOptionsWrapper.isReadOnlyEdit())return void this.dispatchEventForSaveValueReadOnly(e,i);this.suppressRefreshCell=!0,this.rowNode.setDataValue(this.column,i),this.suppressRefreshCell=!1}},t.prototype.dispatchEventForSaveValueReadOnly=function(e,i){var n=this.rowNode,s={type:ue.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:this.column,api:this.beans.gridApi,columnApi:this.beans.columnApi,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),data:n.data,node:n,oldValue:e,newValue:i,value:i,source:void 0};this.beans.eventService.dispatchEvent(s)},t.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),this.editing){var i=this.takeValueFromCellEditor(e),n=i.newValue,s=i.newValueExists,d=this.getValueFromValueService();s&&this.saveNewValue(d,n),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(d,n)}},t.prototype.dispatchEditingStoppedEvent=function(e,i){var n=ac(ac({},this.createEvent(null,ue.EVENT_CELL_EDITING_STOPPED)),{oldValue:e,newValue:i});this.beans.eventService.dispatchEvent(n)},t.prototype.setInlineEditingClass=function(){if(this.isAlive()){var e=this.editing&&!this.editingInPopup,i=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass("ag-cell-inline-editing",e),this.cellComp.addOrRemoveCssClass(Ld,!e),this.cellComp.addOrRemoveCssClass("ag-cell-popup-editing",i),this.rowCtrl.setInlineEditingCss(this.editing)}},t.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},t.prototype.createCellEditorParams=function(e,i,n){var s={value:this.getValueFromValueService(),key:e,eventKey:e,charPress:i,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:n,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)};return this.scope&&(s.$scope=this.scope),s},t.prototype.createCellRendererParams=function(){var e=this,n={value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(s){return e.beans.valueService.setValue(e.rowNode,e.column,s)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(s,d,h,O){return e.registerRowDragger(s,d,O)},addRowCompListener:function(s,d){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),e.rowCtrl.addEventListener(s,d)}};return this.scope&&(n.$scope=this.scope),n},t.prototype.parseValue=function(e){var i=this.column.getColDef(),n={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:e,colDef:i,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},s=i.valueParser;return W(s)?this.beans.expressionService.evaluate(s,n):e},t.prototype.setFocusOutOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusOut&&e.focusOut()}},t.prototype.setFocusInOnEditor=function(){if(this.editing){var e=this.cellComp.getCellEditor();e&&e.focusIn?e.focusIn():this.focusCell(!0)}},t.prototype.onCellChanged=function(e){this.cellComp&&e.column===this.column&&this.refreshCell({})},t.prototype.refreshCell=function(e){if(!this.suppressRefreshCell&&!this.editing){var i=this.column.getColDef(),n=null!=e&&!!e.newData,s=null!=e&&!!e.suppressFlash||!!i.suppressCellFlash,h=e&&e.forceRefresh||null==i.field&&null==i.valueGetter&&null==i.showRowGroup||n,O=this.updateAndFormatValue();if(h||O){this.showValue(n);var j=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!s&&!j&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||i.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},t.prototype.stopEditingAndFocus=function(e){void 0===e&&(e=!1),this.stopRowOrCellEdit(),this.focusCell(!0),e||this.navigateAfterEdit()},t.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.navigationService.navigateToNextCell(null,Ue.DOWN,this.getCellPosition(),!1)},t.prototype.flashCell=function(e){this.animateCell("data-changed",e&&e.flashDelay,e&&e.fadeDelay)},t.prototype.animateCell=function(e,i,n){var s=this,d="ag-cell-"+e,h="ag-cell-"+e+"-animation",O=this.beans.gridOptionsWrapper;i||(i=O.getCellFlashDelay()),W(n)||(n=O.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(d,!0),this.cellComp.addOrRemoveCssClass(h,!1),window.setTimeout(function(){s.cellComp.addOrRemoveCssClass(d,!1),s.cellComp.addOrRemoveCssClass(h,!0),s.eGui.style.transition="background-color "+n+"ms",window.setTimeout(function(){s.cellComp.addOrRemoveCssClass(h,!1),s.eGui.style.transition=""},n)},i)},t.prototype.onFlashCells=function(e){if(this.cellComp){var i=this.beans.cellPositionUtils.createId(this.getCellPosition());e.cells[i]&&this.animateCell("highlight")}},t.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},t.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},t.prototype.formatValue=function(e){var i=this.callValueFormatter(e);return null!=i?i:e},t.prototype.callValueFormatter=function(e){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,this.scope,e)},t.prototype.updateAndFormatValue=function(e){void 0===e&&(e=!1);var i=this.value,n=this.valueFormatted;return this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value),!!e||!this.valuesAreEqual(i,this.value)||this.valueFormatted!=n},t.prototype.valuesAreEqual=function(e,i){var n=this.column.getColDef();return n.equals?n.equals(e,i):e===i},t.prototype.getComp=function(){return this.cellComp},t.prototype.getValueFromValueService=function(){var e=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),i=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!e,n=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),s=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,i&&n&&!s)},t.prototype.getValue=function(){return this.value},t.prototype.getValueFormatted=function(){return this.valueFormatted},t.prototype.addDomData=function(){var e=this,i=this.getGui();this.beans.gridOptionsWrapper.setDomData(i,t.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return e.beans.gridOptionsWrapper.setDomData(i,t.DOM_DATA_KEY_CELL_CTRL,null)})},t.prototype.createEvent=function(e,i){var n={type:i,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:e,rowIndex:this.rowNode.rowIndex};return this.scope&&(n.$scope=this.scope),n},t.prototype.onKeyPress=function(e){this.cellKeyboardListenerFeature.onKeyPress(e)},t.prototype.onKeyDown=function(e){this.cellKeyboardListenerFeature.onKeyDown(e)},t.prototype.onMouseEvent=function(e,i){this.cellMouseListenerFeature.onMouseEvent(e,i)},t.prototype.getGui=function(){return this.eGui},t.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},t.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},t.prototype.onLeftChanged=function(){!this.cellComp||this.cellPositionFeature.onLeftChanged()},t.prototype.onDisplayedColumnsChanged=function(){!this.eGui||this.setAriaColIndex()},t.prototype.setAriaColIndex=function(){var e=this.beans.columnModel.getAriaColumnIndex(this.column);Il(this.getGui(),e)},t.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},t.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},t.prototype.getColumn=function(){return this.column},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getBeans=function(){return this.beans},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.appendChild=function(e){this.eGui.appendChild(e)},t.prototype.refreshHandle=function(){this.editing||this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},t.prototype.getCellPosition=function(){return this.cellPosition},t.prototype.isEditing=function(){return this.editing},t.prototype.startRowOrCellEdit=function(e,i,n){void 0===n&&(n=null),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(e,i,this):this.startEditing(e,i,!0,n)},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},t.prototype.updateRangeBordersIfRangeCount=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},t.prototype.onRangeSelectionChanged=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},t.prototype.focusCell=function(e){void 0===e&&(e=!1),this.beans.focusService.setFocusedCell(this.getCellPosition().rowIndex,this.column,this.rowNode.rowPinned,e)},t.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},t.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var e=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",e)}},t.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var e=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",e)}},t.prototype.onCellFocused=function(e){if(this.cellComp&&!this.gow.isSuppressCellFocus()){var i=this.beans.focusService.isCellFocused(this.cellPosition);this.cellComp.addOrRemoveCssClass("ag-cell-focus",i),i&&e&&e.forceBrowserFocus&&this.cellComp.getFocusableElement().focus();var s=this.beans.gridOptionsWrapper.isFullRowEdit();!i&&!s&&this.editing&&this.stopRowOrCellEdit()}},t.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,column:this.column}},t.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass(Ld,!0);var e=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",e),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!e)},t.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var e=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",e)}},t.prototype.onNewColumnsLoaded=function(){!this.cellComp||(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},t.prototype.setWrapText=function(){var e=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",e)},t.prototype.dispatchCellContextMenuEvent=function(e){var i=this.column.getColDef(),n=this.createEvent(e,ue.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(n),i.onCellContextMenu&&window.setTimeout(function(){return i.onCellContextMenu(n)},0)},t.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},t.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},t.prototype.destroy=function(){a.prototype.destroy.call(this)},t.prototype.createSelectionCheckbox=function(){var e=new yn;return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e},t.prototype.createDndSource=function(){var e=new C_(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(e),e},t.prototype.registerRowDragger=function(e,i,n){var s=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(e,i);else{var d=this.createRowDragComp(e,i,n);d&&(this.customRowDragComp=d,this.addDestroyFunc(function(){return s.beans.context.destroyBean(d)}))}},t.prototype.createRowDragComp=function(e,i,n){var s=this,d=this.beans.gridOptionsWrapper.isPagination(),h=this.beans.gridOptionsWrapper.isRowDragManaged(),O=this.beans.gridOptionsWrapper.isRowModelDefault();if(h){if(!O)return void ye(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(d)return void ye(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var L=new Ql(function(){return s.value},this.rowNode,this.column,e,i,n);return this.beans.context.createBean(L),L},t.DOM_DATA_KEY_CELL_CTRL="cellCtrl",t}(Ze),Xo=function(){return Xo=Object.assign||function(a){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a},Xo.apply(this,arguments)},A_=function(){function a(){}return a.createChildScopeOrNull=function(t,e,i){if(!i.isAngularCompileRows())return null;var s=e.$new();return s.data=Xo({},t.data),s.rowNode=t,s.context=i.getContext(),{scope:s,scopeDestroyFunc:function(){s.$destroy(),s.data=null,s.rowNode=null,s.context=null}}},a}(),_g=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ci=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Cg=function(a){function t(e){var i=a.call(this)||this;return i.element=e,i}return _g(t,a),t.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},t.prototype.addKeyboardEvents=function(){var e=this;["keydown","keypress"].forEach(function(n){var s=e.processKeyboardEvent.bind(e,n);e.addManagedListener(e.element,n,s)})},t.prototype.addMouseListeners=function(){var e=this;["dblclick","contextmenu","mouseover","mouseout","click",Pr("touchstart")?"touchstart":"mousedown"].forEach(function(s){var d=e.processMouseEvent.bind(e,s);e.addManagedListener(e.element,s,d)})},t.prototype.processMouseEvent=function(e,i){if(this.mouseEventService.isEventFromThisGrid(i)&&!Ai(i)){var n=this.getRowForEvent(i),s=this.mouseEventService.getRenderedCellForEvent(i);"contextmenu"===e?this.handleContextMenuMouseEvent(i,null,n,s):(s&&s.onMouseEvent(e,i),n&&n.onMouseEvent(e,i))}},t.prototype.mockContextMenuForIPad=function(){var e=this;if(er()){var i=new Ti(this.element);this.addManagedListener(i,Ti.EVENT_LONG_TAP,function(s){var d=e.getRowForEvent(s.touchEvent),h=e.mouseEventService.getRenderedCellForEvent(s.touchEvent);e.handleContextMenuMouseEvent(null,s.touchEvent,d,h)}),this.addDestroyFunc(function(){return i.destroy()})}},t.prototype.getRowForEvent=function(e){for(var i=e.target;i;){var n=this.gridOptionsWrapper.getDomData(i,hr.DOM_DATA_KEY_ROW_CTRL);if(n)return n;i=i.parentElement}return null},t.prototype.handleContextMenuMouseEvent=function(e,i,n,s){var d=n?n.getRowNode():null,h=s?s.getColumn():null,O=null;h&&(s.dispatchCellContextMenuEvent(e||i),O=this.valueService.getValue(h,d));var j=this.ctrlsService.getGridBodyCtrl(),q=s?s.getGui():j.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(e,i,d,h,O,q)},t.prototype.processKeyboardEvent=function(e,i){var n=ul(this.gridOptionsWrapper,i,Ln.DOM_DATA_KEY_CELL_CTRL),s=ul(this.gridOptionsWrapper,i,hr.DOM_DATA_KEY_ROW_CTRL);i.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,i):s&&s.isFullWidth()&&this.processFullWidthRowKeyboardEvent(s,e,i))},t.prototype.processCellKeyboardEvent=function(e,i,n){var s=e.getRowNode(),d=e.getColumn(),h=e.isEditing();if(!Nl(this.gridOptionsWrapper,n,s,d,h))switch(i){case"keydown":!h&&this.navigationService.handlePageScrollingKey(n)||e.onKeyDown(n),this.doGridOperations(n,e.isEditing());break;case"keypress":e.onKeyPress(n)}if("keydown"===i){var j=e.createEvent(n,ue.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(j)}if("keypress"===i){var q=e.createEvent(n,ue.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(q)}},t.prototype.processFullWidthRowKeyboardEvent=function(e,i,n){var s=e.getRowNode(),d=this.focusService.getFocusedCell();if(!Nl(this.gridOptionsWrapper,n,s,d&&d.column,!1)&&"keydown"===i)switch(n.key){case Ue.UP:case Ue.DOWN:e.onKeyboardNavigate(n);break;case Ue.TAB:e.onTabKeyDown(n)}if("keydown"===i){var j=e.createRowEvent(ue.EVENT_CELL_KEY_DOWN,n);this.eventService.dispatchEvent(j)}if("keypress"===i){var q=e.createRowEvent(ue.EVENT_CELL_KEY_PRESS,n);this.eventService.dispatchEvent(q)}},t.prototype.doGridOperations=function(e,i){if((e.ctrlKey||e.metaKey)&&!i&&this.mouseEventService.isEventFromThisGrid(e))switch(e.key.toUpperCase()){case Ue.A:return this.onCtrlAndA(e);case Ue.C:return this.onCtrlAndC(e);case Ue.V:return this.onCtrlAndV();case Ue.D:return this.onCtrlAndD(e);case Ue.Z:return e.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case Ue.Y:return this.undoRedoService.redo()}},t.prototype.onCtrlAndA=function(e){var i=this,n=i.pinnedRowModel,d=i.rangeService,h=ae.PINNED_BOTTOM,O=ae.PINNED_TOP;if(d&&i.paginationProxy.isRowsToRender()){var L=function(a,t){var e="function"==typeof Symbol&&a[Symbol.iterator];if(!e)return a;var n,d,i=e.call(a),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(h){d={error:h}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s}([n.isEmpty(O),n.isEmpty(h)],2),J=L[0]?null:O,re=void 0,me=void 0;L[1]?(re=null,me=this.paginationProxy.getRowCount()-1):(re=h,me=n.getPinnedBottomRowData().length-1);var Ae=this.columnModel.getAllDisplayedColumns();if(B(Ae))return;d.setCellRange({rowStartIndex:0,rowStartPinned:J,rowEndIndex:me,rowEndPinned:re,columnStart:Ae[0],columnEnd:Qe(Ae)})}e.preventDefault()},t.prototype.onCtrlAndC=function(e){!this.clipboardService||this.gridOptionsWrapper.isEnableCellTextSelection()||(this.clipboardService.copyToClipboard(),e.preventDefault())},t.prototype.onCtrlAndV=function(){ze.isRegistered(z.GXE.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},t.prototype.onCtrlAndD=function(e){ze.isRegistered(z.GXE.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),e.preventDefault()},ci([Q("mouseEventService")],t.prototype,"mouseEventService",void 0),ci([Q("valueService")],t.prototype,"valueService",void 0),ci([it("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),ci([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),ci([Q("navigationService")],t.prototype,"navigationService",void 0),ci([Q("focusService")],t.prototype,"focusService",void 0),ci([Q("undoRedoService")],t.prototype,"undoRedoService",void 0),ci([Q("columnModel")],t.prototype,"columnModel",void 0),ci([Q("paginationProxy")],t.prototype,"paginationProxy",void 0),ci([Q("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ci([it("rangeService")],t.prototype,"rangeService",void 0),ci([it("clipboardService")],t.prototype,"clipboardService",void 0),ci([be],t.prototype,"postConstruct",null),t}(Ze),Bd=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ur=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},uc=function(a){function t(e){var i=a.call(this)||this;return i.centerContainerCon=e,i}return Bd(t,a),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCon=e.ctrlsService.getGridBodyCtrl(),e.listenForResize()}),this.addManagedListener(this.eventService,ue.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},t.prototype.listenForResize=function(){var e=this.onCenterViewportResized.bind(this);this.centerContainerCon.registerViewportResizeListener(e),this.gridBodyCon.registerBodyViewportResizeListener(e)},t.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},t.prototype.onCenterViewportResized=function(){if(this.centerContainerCon.isViewportVisible()){this.checkViewportAndScrolls();var e=this.centerContainerCon.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},t.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCon.getScrollFeature().checkScrollLeft()},t.prototype.getBodyHeight=function(){return this.bodyHeight},t.prototype.checkBodyHeight=function(){var i=Io(this.gridBodyCon.getBodyViewportElement());this.bodyHeight!==i&&(this.bodyHeight=i,this.eventService.dispatchEvent({type:ue.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},t.prototype.updateScrollVisibleServiceImpl=function(){var e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCon.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e),this.gridBodyCon.setVerticalScrollPaddingVisible(e.verticalScrollShowing)},t.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||this.centerContainerCon.isViewportHScrollShowing()},t.prototype.onHorizontalViewportChanged=function(){var e=this.centerContainerCon.getCenterWidth(),i=this.centerContainerCon.getViewportScrollLeft();this.columnModel.setViewportPosition(e,i)},ur([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),ur([Q("columnModel")],t.prototype,"columnModel",void 0),ur([Q("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),ur([Q("columnApi")],t.prototype,"columnApi",void 0),ur([Q("gridApi")],t.prototype,"gridApi",void 0),ur([be],t.prototype,"postConstruct",null),t}(Ze),kd=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Gd=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Hd=function(a){function t(e){var i=a.call(this)||this;return i.element=e,i}return kd(t,a),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ue.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},t.prototype.onPinnedLeftWidthChanged=function(){var e=this.pinnedWidthService.getPinnedLeftWidth(),i=e>0;Pt(this.element,i),i&&Qi(this.element,e)},Gd([Q("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),Gd([be],t.prototype,"postConstruct",null),t}(Ze),Dt=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),oi=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},R_=function(a){function t(e){var i=a.call(this)||this;return i.element=e,i}return Dt(t,a),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ue.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},t.prototype.onPinnedRightWidthChanged=function(){var e=this.pinnedWidthService.getPinnedRightWidth(),i=e>0;Pt(this.element,i),i&&Qi(this.element,e)},oi([Q("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),oi([be],t.prototype,"postConstruct",null),t}(Ze),D_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Vd=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},wg=function(a){function t(e,i){var n=a.call(this)||this;return n.eContainer=e,n.eWrapper=i,n}return D_(t,a),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ue.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},t.prototype.onHeightChanged=function(){var e=this.maxDivHeightScaler.getUiContainerHeight(),i=null!=e?e+"px":"";this.eContainer.style.height=i,this.eWrapper&&(this.eWrapper.style.height=i)},Vd([Q("rowContainerHeightService")],t.prototype,"maxDivHeightScaler",void 0),Vd([be],t.prototype,"postConstruct",null),t}(Ze),bg=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ha=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},x_=function(a){function t(e){var i=a.call(this)||this;return i.eContainer=e,i}return bg(t,a),t.prototype.postConstruct=function(){var e=this;if(this.gridOptionsWrapper.isEnableRangeSelection()&&!E(this.rangeService)){var i={dragStartPixels:0,eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(i),this.addDestroyFunc(function(){return e.dragService.removeDragSource(i)})}},ha([it("rangeService")],t.prototype,"rangeService",void 0),ha([Q("dragService")],t.prototype,"dragService",void 0),ha([be],t.prototype,"postConstruct",null),t}(Ze),O_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Wd=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},dc=function(a){function t(e){var i=a.call(this)||this;return i.callback=e,i}return O_(t,a),t.prototype.postConstruct=function(){var e=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,et.PROP_DOM_LAYOUT,e),this.addManagedListener(this.eventService,ue.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,ue.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.setWidth()},t.prototype.setWidth=function(){var e=this.columnModel,i=this.gridOptionsWrapper.getDomLayout()===ae.DOM_LAYOUT_PRINT,n=e.getBodyContainerWidth(),s=e.getDisplayedColumnsLeftWidth(),d=e.getDisplayedColumnsRightWidth();this.callback(i?n+s+d:n)},Wd([Q("columnModel")],t.prototype,"columnModel",void 0),Wd([be],t.prototype,"postConstruct",null),t}(Ze),Rt=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Yr=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},T_=function(a,t){var e="function"==typeof Symbol&&a[Symbol.iterator];if(!e)return a;var n,d,i=e.call(a),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(h){d={error:h}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s};(function(a){a.LEFT="left",a.RIGHT="right",a.CENTER="center",a.FULL_WIDTH="fullWidth",a.TOP_LEFT="topLeft",a.TOP_RIGHT="topRight",a.TOP_CENTER="topCenter",a.TOP_FULL_WIDTH="topFullWidth",a.BOTTOM_LEFT="bottomLeft",a.BOTTOM_RIGHT="bottomRight",a.BOTTOM_CENTER="bottomCenter",a.BOTTOM_FULL_WIDTH="bottomFullWidth"})(z.hA6||(z.hA6={})),function(a){a.LEFT="left",a.RIGHT="right",a.CENTER="center",a.FULL_WIDTH="fullWidth"}(z.EDi||(z.EDi={}));var Qr=xn([[z.hA6.CENTER,"ag-center-cols-container"],[z.hA6.LEFT,"ag-pinned-left-cols-container"],[z.hA6.RIGHT,"ag-pinned-right-cols-container"],[z.hA6.FULL_WIDTH,"ag-full-width-container"],[z.hA6.TOP_CENTER,"ag-floating-top-container"],[z.hA6.TOP_LEFT,"ag-pinned-left-floating-top"],[z.hA6.TOP_RIGHT,"ag-pinned-right-floating-top"],[z.hA6.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[z.hA6.BOTTOM_CENTER,"ag-floating-bottom-container"],[z.hA6.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[z.hA6.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[z.hA6.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),$i=xn([[z.hA6.CENTER,"ag-center-cols-viewport"],[z.hA6.TOP_CENTER,"ag-floating-top-viewport"],[z.hA6.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),hc=xn([[z.hA6.CENTER,"ag-center-cols-clipper"]]),Jr=function(a){function t(e){var i=a.call(this)||this;return i.name=e,i}return Rt(t,a),t.getRowContainerCssClasses=function(e){return{container:Qr.get(e),viewport:$i.get(e),wrapper:hc.get(e)}},t.getPinned=function(e){switch(e){case z.hA6.BOTTOM_LEFT:case z.hA6.TOP_LEFT:case z.hA6.LEFT:return ae.PINNED_LEFT;case z.hA6.BOTTOM_RIGHT:case z.hA6.TOP_RIGHT:case z.hA6.RIGHT:return ae.PINNED_RIGHT;default:return null}},t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.addManagedListener(this.eventService,ue.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_DISPLAYED_ROWS_CHANGED,this.onDisplayedRowsChanged.bind(this)),this.forContainers([z.hA6.CENTER],function(){return e.viewportSizeFeature=e.createManagedBean(new uc(e))}),this.registerWithCtrlsService()},t.prototype.registerWithCtrlsService=function(){switch(this.name){case z.hA6.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case z.hA6.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case z.hA6.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case z.hA6.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case z.hA6.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case z.hA6.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case z.hA6.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case z.hA6.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case z.hA6.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},t.prototype.forContainers=function(e,i){e.indexOf(this.name)>=0&&i()},t.prototype.getContainerElement=function(){return this.eContainer},t.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},t.prototype.setComp=function(e,i,n,s){var d=this;this.comp=e,this.eContainer=i,this.eViewport=n,this.eWrapper=s,this.createManagedBean(new Cg(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var j=function(){for(var a=[],t=0;t<arguments.length;t++)a=a.concat(T_(arguments[t]));return a}([z.hA6.TOP_CENTER,z.hA6.TOP_LEFT,z.hA6.TOP_RIGHT],[z.hA6.BOTTOM_CENTER,z.hA6.BOTTOM_LEFT,z.hA6.BOTTOM_RIGHT],[z.hA6.CENTER,z.hA6.LEFT,z.hA6.RIGHT]),q=[z.hA6.CENTER,z.hA6.LEFT,z.hA6.RIGHT,z.hA6.FULL_WIDTH],J=[z.hA6.CENTER,z.hA6.TOP_CENTER,z.hA6.BOTTOM_CENTER],me=[z.hA6.RIGHT,z.hA6.BOTTOM_RIGHT,z.hA6.TOP_RIGHT];this.forContainers([z.hA6.LEFT,z.hA6.BOTTOM_LEFT,z.hA6.TOP_LEFT],function(){return d.createManagedBean(new Hd(d.eContainer))}),this.forContainers(me,function(){return d.createManagedBean(new R_(d.eContainer))}),this.forContainers(q,function(){return d.createManagedBean(new wg(d.eContainer,d.eWrapper))}),this.forContainers(j,function(){return d.createManagedBean(new x_(d.eContainer))}),this.forContainers(J,function(){return d.createManagedBean(new dc(function(Ae){return d.comp.setContainerWidth(Ae+"px")}))})},t.prototype.listenOnDomOrder=function(){var e=this,i=function(){return e.comp.setDomOrder(e.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,et.PROP_DOM_LAYOUT,i),i()},t.prototype.stopHScrollOnPinnedRows=function(){var e=this;this.forContainers([z.hA6.TOP_CENTER,z.hA6.BOTTOM_CENTER],function(){e.addManagedListener(e.eViewport,"scroll",function(){return e.eViewport.scrollLeft=0})})},t.prototype.onDisplayedColumnsChanged=function(){var e=this;this.forContainers([z.hA6.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onDisplayedColumnsWidthChanged=function(){var e=this;this.forContainers([z.hA6.CENTER],function(){return e.onHorizontalViewportChanged()})},t.prototype.onScrollVisibilityChanged=function(){if(this.name===z.hA6.CENTER){var i=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gridOptionsWrapper.getScrollbarWidth()||0;this.comp.setViewportHeight(0==i?"100%":"calc(100% + "+i+"px)")}},t.prototype.addPreventScrollWhileDragging=function(){var e=this,i=function(n){e.dragService.isDragging()&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",i,{passive:!1}),this.addDestroyFunc(function(){return e.eContainer.removeEventListener("touchmove",i)})},t.prototype.onHorizontalViewportChanged=function(){var e=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(e,i)},t.prototype.getCenterWidth=function(){return Ol(this.eViewport)},t.prototype.getCenterViewportScrollLeft=function(){return Xt(this.eViewport,this.enableRtl)},t.prototype.registerViewportResizeListener=function(e){var i=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(function(){return i()})},t.prototype.isViewportVisible=function(){return No(this.eViewport)},t.prototype.isViewportHScrollShowing=function(){return ku(this.eViewport)},t.prototype.getViewportScrollLeft=function(){return Xt(this.eViewport,this.enableRtl)},t.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||ku(this.eViewport)},t.prototype.getViewportElement=function(){return this.eViewport},t.prototype.setContainerTranslateX=function(e){this.eContainer.style.transform="translateX("+e+"px)"},t.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},t.prototype.setCenterViewportScrollLeft=function(e){Us(this.eViewport,e,this.enableRtl)},t.prototype.onDisplayedRowsChanged=function(){var e=this,i=this.name===z.hA6.TOP_FULL_WIDTH||this.name===z.hA6.BOTTOM_FULL_WIDTH||this.name===z.hA6.FULL_WIDTH,d=this.getRowCtrls().filter(function(h){var O=h.isFullWidth(),L=e.gridOptionsWrapper.getDomLayout()===ae.DOM_LAYOUT_PRINT,j=e.embedFullWidthRows||L;return i?!j&&O:j||!O});this.comp.setRowCtrls(d)},t.prototype.getRowCtrls=function(){switch(this.name){case z.hA6.TOP_CENTER:case z.hA6.TOP_LEFT:case z.hA6.TOP_RIGHT:case z.hA6.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case z.hA6.BOTTOM_CENTER:case z.hA6.BOTTOM_LEFT:case z.hA6.BOTTOM_RIGHT:case z.hA6.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},Yr([Q("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Yr([Q("dragService")],t.prototype,"dragService",void 0),Yr([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),Yr([Q("columnModel")],t.prototype,"columnModel",void 0),Yr([Q("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Yr([Q("rowRenderer")],t.prototype,"rowRenderer",void 0),Yr([be],t.prototype,"postConstruct",null),t}(Ze),P_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),M_=function(a,t){var e="function"==typeof Symbol&&a[Symbol.iterator];if(!e)return a;var n,d,i=e.call(a),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(h){d={error:h}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},gi=(()=>(function(a){a.Normal="Normal",a.FullWidth="FullWidth",a.FullWidthLoading="FullWidthLoading",a.FullWidthGroup="FullWidthGroup",a.FullWidthDetail="FullWidthDetail"}(gi||(gi={})),gi))(),I_=0,hr=function(a){function t(e,i,n,s,d,h){var O=a.call(this)||this;return O.allRowGuis=[],O.active=!0,O.centerCellCtrls={list:[],map:{}},O.leftCellCtrls={list:[],map:{}},O.rightCellCtrls={list:[],map:{}},O.lastMouseDownOnDragger=!1,O.updateColumnListsPending=!1,O.parentScope=e,O.beans=n,O.rowNode=i,O.paginationPage=O.beans.paginationProxy.getCurrentPage(),O.useAnimationFrameForCreate=d,O.printLayout=h,O.instanceId=i.id+"-"+I_++,O.setAnimateFlags(s),O.rowFocused=O.beans.focusService.isRowFocused(O.rowNode.rowIndex,O.rowNode.rowPinned),O.setupAngular1Scope(),O.rowLevel=O.beans.rowCssClassCalculator.calculateRowLevel(O.rowNode),O.setRowType(),O.addListeners(),O.setInitialRowTop(),O}return P_(t,a),t.prototype.getBeans=function(){return this.beans},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e,i,n){var s={rowComp:e,element:i,containerType:n};this.allRowGuis.push(s),n===z.EDi.LEFT?this.leftGui=s:n===z.EDi.RIGHT?this.rightGui=s:n===z.EDi.FULL_WIDTH?this.fullWidthGui=s:this.centerGui=s,(null!=this.leftGui&&null!=this.rightGui&&null!=this.centerGui||null!=this.fullWidthGui)&&this.initialiseRowComps()},t.prototype.isCacheable=function(){return this.rowType===gi.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},t.prototype.setCached=function(e){var i=e?"none":"";this.allRowGuis.forEach(function(n){return n.element.style.display=i})},t.prototype.initialiseRowComps=function(){var e=this,i=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),i.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&te(this.onTopChanged.bind(this)),this.fadeRowIn&&te(function(){e.allRowGuis.forEach(function(h){return h.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})});var n=this.getRowBusinessKey(),s=pn(this.rowNode.id),d=pn(n);this.allRowGuis.forEach(function(h){var O=h.rowComp;O.setRole("row"),e.getInitialRowClasses(h.containerType).forEach(function(j){return O.addOrRemoveCssClass(j,!0)}),e.rowNode.group&&Di(h.element,1==e.rowNode.expanded),null!=s&&O.setRowId(s),null!=d&&O.setRowBusinessKey(d),e.isFullWidth()&&!e.beans.gridOptionsWrapper.isSuppressCellFocus()&&O.setTabIndex(-1),i.setDomData(h.element,t.DOM_DATA_KEY_ROW_CTRL,e),e.addDestroyFunc(function(){return i.setDomData(h.element,t.DOM_DATA_KEY_ROW_CTRL,null)}),e.useAnimationFrameForCreate?e.beans.animationFrameService.createTask(e.addHoverFunctionality.bind(e,h.element),e.rowNode.rowIndex,"createTasksP2"):e.addHoverFunctionality(h.element),e.isFullWidth()&&e.setupFullWidth(h),i.isRowDragEntireRow()&&e.addRowDraggerToRow(h),e.useAnimationFrameForCreate&&e.beans.animationFrameService.addDestroyTask(function(){!e.isAlive()||h.rowComp.addOrRemoveCssClass("ag-after-created",!0)})}),this.executeProcessRowPostCreateFunc()},t.prototype.addRowDraggerToRow=function(e){if(this.beans.gridOptionsWrapper.isEnableRangeSelection())ye(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var n=new Ql(function(){return"1 row"},this.rowNode,void 0,e.element,void 0,!0);this.createManagedBean(n,this.beans.context)}},t.prototype.setupFullWidth=function(e){var i=this.getPinnedForContainer(e.containerType),n=this.createFullWidthParams(e.element,i),s=ze.isRegistered(z.GXE.MasterDetailModule);if(this.rowType!=gi.FullWidthDetail||s){var d;switch(this.rowType){case gi.FullWidthDetail:d=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(n);break;case gi.FullWidthGroup:d=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(n);break;case gi.FullWidthLoading:d=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(n);break;default:d=this.beans.userComponentFactory.getFullWidthCellRendererDetails(n)}e.rowComp.showFullWidth(d)}else ze.isPackageBased()?console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with ag-grid-enterprise package."):console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with AG Grid Enterprise Module "+z.GXE.MasterDetailModule)},t.prototype.getScope=function(){return this.scope},t.prototype.isPrintLayout=function(){return this.printLayout},t.prototype.setupAngular1Scope=function(){var e=A_.createChildScopeOrNull(this.rowNode,this.parentScope,this.beans.gridOptionsWrapper);e&&(this.scope=e.scope,this.addDestroyFunc(e.scopeDestroyFunc))},t.prototype.getCellElement=function(e){var i=this.getCellCtrl(e);return i?i.getGui():null},t.prototype.executeProcessRowPostCreateFunc=function(){var e=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();e&&e({eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,api:this.beans.gridOptionsWrapper.getApi(),rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})},t.prototype.setRowType=function(){var e=this.rowNode.stub,i=this.rowNode.isFullWidthCell(),n=this.beans.doingMasterDetail&&this.rowNode.detail,s=this.beans.columnModel.isPivotMode(),h=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(s);this.rowType=e?gi.FullWidthLoading:n?gi.FullWidthDetail:i?gi.FullWidth:h?gi.FullWidthGroup:gi.Normal},t.prototype.updateColumnLists=function(e){var i=this;if(void 0===e&&(e=!1),!this.isFullWidth()){if(e||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)return void this.updateColumnListsImpl();this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){!i.active||i.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},t.prototype.createCellCtrls=function(e,i,n){var s=this;void 0===n&&(n=null);var d={list:[],map:{}},h=function(O,L){d.list.push(L),d.map[O]=L};return i.forEach(function(O){var L=O.getInstanceId(),j=e.map[L];j||(j=new Ln(O,s.rowNode,s.beans,s)),h(L,j)}),e.list.forEach(function(O){if(null==d.map[O.getColumn().getInstanceId()]){if(!s.isCellEligibleToBeRemoved(O,n))return void h(O.getColumn().getInstanceId(),O);O.destroy()}}),d},t.prototype.updateColumnListsImpl=function(){var e=this;this.updateColumnListsPending=!1;var i=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,i.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var n=i.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);var s=i.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,s,ae.PINNED_LEFT);var d=i.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,d,ae.PINNED_RIGHT)}this.allRowGuis.forEach(function(h){h.rowComp.setCellCtrls((h.containerType===z.EDi.LEFT?e.leftCellCtrls:h.containerType===z.EDi.RIGHT?e.rightCellCtrls:e.centerCellCtrls).list)})},t.prototype.isCellEligibleToBeRemoved=function(e,i){var n=!0;if(e.getColumn().getPinned()!=i)return n;var h=e.isEditing(),O=this.beans.focusService.isCellFocused(e.getCellPosition());if(h||O){var j=e.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(j)>=0)&&n}return n},t.prototype.setAnimateFlags=function(e){if(e){var i=W(this.rowNode.oldRowTop);this.slideRowIn=i,this.fadeRowIn=!i}else this.slideRowIn=!1,this.fadeRowIn=!1},t.prototype.isEditing=function(){return this.editingRow},t.prototype.stopRowEditing=function(e){this.stopEditing(e)},t.prototype.isFullWidth=function(){return this.rowType!==gi.Normal},t.prototype.getRowType=function(){return this.rowType},t.prototype.refreshFullWidth=function(){var e=this,i=function(L,j){if(!L)return!0;var q=L.rowComp.getFullWidthCellRenderer();if(!q||!q.refresh)return!1;var J=e.createFullWidthParams(L.element,j);return q.refresh(J)},n=i(this.fullWidthGui,null),s=i(this.centerGui,null),d=i(this.leftGui,ae.PINNED_LEFT),h=i(this.rightGui,ae.PINNED_RIGHT);return n&&s&&d&&h},t.prototype.addListeners=function(){this.addManagedListener(this.rowNode,gt.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,gt.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,gt.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,gt.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,gt.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,gt.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,gt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,gt.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,gt.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,gt.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,gt.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var e=this.beans.eventService;this.addManagedListener(e,ue.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(e,ue.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(e,ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(e,ue.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(e,ue.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(e,ue.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(e,ue.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(e,ue.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},t.prototype.onColumnMoved=function(){this.updateColumnLists()},t.prototype.addListenersForCellComps=function(){var e=this;this.addManagedListener(this.rowNode,gt.EVENT_ROW_INDEX_CHANGED,function(){e.getAllCellCtrls().forEach(function(i){return i.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,gt.EVENT_CELL_CHANGED,function(i){e.getAllCellCtrls().forEach(function(n){return n.onCellChanged(i)})})},t.prototype.onRowNodeDataChanged=function(e){this.getAllCellCtrls().forEach(function(i){return i.refreshCell({suppressFlash:!e.update,newData:!e.update})}),this.onRowSelected(),this.postProcessCss()},t.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},t.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},t.prototype.onRowNodeHighlightChanged=function(){var e=this.rowNode.highlighted;this.allRowGuis.forEach(function(i){var s=e===z.oh5.Below;i.rowComp.addOrRemoveCssClass("ag-row-highlight-above",e===z.oh5.Above),i.rowComp.addOrRemoveCssClass("ag-row-highlight-below",s)})},t.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},t.prototype.postProcessRowDragging=function(){var e=this.rowNode.dragging;this.allRowGuis.forEach(function(i){return i.rowComp.addOrRemoveCssClass("ag-row-dragging",e)})},t.prototype.updateExpandedCss=function(){var e=this.rowNode.isExpandable(),i=1==this.rowNode.expanded;this.allRowGuis.forEach(function(n){n.rowComp.addOrRemoveCssClass("ag-row-group",e),n.rowComp.addOrRemoveCssClass("ag-row-group-expanded",e&&i),n.rowComp.addOrRemoveCssClass("ag-row-group-contracted",e&&!i),Di(n.element,e&&i)})},t.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},t.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},t.prototype.getRowPosition=function(){return{rowPinned:this.rowNode.rowPinned,rowIndex:this.rowNode.rowIndex}},t.prototype.onKeyboardNavigate=function(e){var i=this.allRowGuis.find(function(L){return L.element.contains(e.target)});if((i?i.element:null)===e.target){var d=this.rowNode,h=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(e,e.key,{rowIndex:d.rowIndex,rowPinned:d.rowPinned,column:h&&h.column},!0),e.preventDefault()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented&&!Ai(e)){var i=this.allRowGuis.find(function(h){return h.element.contains(e.target)}),n=i?i.element:null,s=n===e.target,d=null;s||(d=this.beans.focusService.findNextFocusableElement(n,!1,e.shiftKey)),(this.isFullWidth()&&s||!d)&&this.beans.navigationService.onTabKeyDown(this,e)}},t.prototype.onFullWidthRowFocused=function(e){var i,n=this.rowNode,s=this.isFullWidth()&&e.rowIndex===n.rowIndex&&e.rowPinned==n.rowPinned,d=this.fullWidthGui?this.fullWidthGui.element:null===(i=this.centerGui)||void 0===i?void 0:i.element;!d||(d.classList.toggle("ag-full-width-focus",s),s&&d.focus({preventScroll:!0}))},t.prototype.refreshCell=function(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),this.updateColumnLists()},t.prototype.removeCellCtrl=function(e,i){var n={list:[],map:{}};return e.list.forEach(function(s){s!==i&&(n.list.push(s),n.map[s.getInstanceId()]=s)}),n},t.prototype.onMouseEvent=function(e,i){switch(e){case"dblclick":this.onRowDblClick(i);break;case"click":this.onRowClick(i);break;case"touchstart":case"mousedown":this.onRowMouseDown(i)}},t.prototype.createRowEvent=function(e,i){return{type:e,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:i}},t.prototype.createRowEventWithSource=function(e,i){var n=this.createRowEvent(e,i);return n.source=this,n},t.prototype.onRowDblClick=function(e){if(!Ai(e)){var i=this.createRowEventWithSource(ue.EVENT_ROW_DOUBLE_CLICKED,e);this.beans.eventService.dispatchEvent(i)}},t.prototype.onRowMouseDown=function(e){if(this.lastMouseDownOnDragger=bt(e.target,"ag-row-drag",3),this.isFullWidth()){var i=this.rowNode;this.beans.focusService.setFocusedCell(i.rowIndex,this.beans.columnModel.getAllDisplayedColumns()[0],i.rowPinned,!0)}},t.prototype.onRowClick=function(e){if(!Ai(e)&&!this.lastMouseDownOnDragger){var n=this.createRowEventWithSource(ue.EVENT_ROW_CLICKED,e);this.beans.eventService.dispatchEvent(n);var s=e.ctrlKey||e.metaKey,d=e.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var O=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),L=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();this.rowNode.isSelected()?O?this.rowNode.setSelectedParams({newValue:!1}):s?L&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!d,clearSelection:!d,rangeSelect:d}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!O&&!s,rangeSelect:d})}}},t.prototype.setupDetailRowAutoHeight=function(e){var i=this;if(this.rowType===gi.FullWidthDetail&&this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var n=function(){var d=e.clientHeight;null!=d&&d>0&&i.beans.frameworkOverrides.setTimeout(function(){i.rowNode.setRowHeight(d),i.beans.clientSideRowModel?i.beans.clientSideRowModel.onRowHeightChanged():i.beans.serverSideRowModel&&i.beans.serverSideRowModel.onRowHeightChanged()},0)},s=this.beans.resizeObserverService.observeResize(e,n);this.addDestroyFunc(s),n()}},t.prototype.createFullWidthParams=function(e,i){var n=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,$scope:this.scope?this.scope:this.parentScope,$compile:this.beans.$compile,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:e,eParentOfValue:e,pinned:i,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(d,h,O,L){return n.addFullWidthRowDragging(d,h,O,L)}}},t.prototype.addFullWidthRowDragging=function(e,i,n,s){if(void 0===n&&(n=""),this.isFullWidth()){var d=new Ql(function(){return n},this.rowNode,void 0,e,i,s);this.createManagedBean(d,this.beans.context)}},t.prototype.onUiLevelChanged=function(){var e=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=e){var i="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(s){s.rowComp.addOrRemoveCssClass(i,!0),s.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=e},t.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},t.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},t.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},t.prototype.refreshFirstAndLastRowStyles=function(){var e=this.isFirstRowOnPage(),i=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-first",e)})),this.lastRowOnPage!==i&&(this.lastRowOnPage=i,this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-last",i)}))},t.prototype.stopEditing=function(e){if(void 0===e&&(e=!1),this.getAllCellCtrls().forEach(function(n){return n.stopEditing(e)}),this.editingRow){if(!e){var i=this.createRowEvent(ue.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(i)}this.setEditingRow(!1)}},t.prototype.setInlineEditingCss=function(e){this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-inline-editing",e),i.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!e)})},t.prototype.setEditingRow=function(e){this.editingRow=e,this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-row-editing",e)});var i=this.createRowEvent(e?ue.EVENT_ROW_EDITING_STARTED:ue.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(i)},t.prototype.startRowEditing=function(e,i,n,s){void 0===e&&(e=null),void 0===i&&(i=null),void 0===n&&(n=null),void 0===s&&(s=null),!this.editingRow&&(this.getAllCellCtrls().forEach(function(d){var h=d===n;h?d.startEditing(e,i,h,s):d.startEditing(null,null,h,s)}),this.setEditingRow(!0))},t.prototype.getAllCellCtrls=function(){var e=function(){for(var a=[],t=0;t<arguments.length;t++)a=a.concat(M_(arguments[t]));return a}(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list);return e},t.prototype.postProcessClassesFromGridOptions=function(){var e=this,i=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode,this.scope);!i||!i.length||i.forEach(function(n){e.allRowGuis.forEach(function(s){return s.rowComp.addOrRemoveCssClass(n,!0)})})},t.prototype.postProcessRowClassRules=function(){var e=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,this.scope,function(i){e.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass(i,!0)})},function(i){e.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass(i,!1)})})},t.prototype.setStylesFromGridOptions=function(){var e=this.processStylesFromGridOptions();this.allRowGuis.forEach(function(i){return i.rowComp.setUserStyles(e)})},t.prototype.getRowBusinessKey=function(){var e=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof e)return e(this.rowNode)},t.prototype.getPinnedForContainer=function(e){return e===z.EDi.LEFT?ae.PINNED_LEFT:e===z.EDi.RIGHT?ae.PINNED_RIGHT:null},t.prototype.getInitialRowClasses=function(e){var i=this.getPinnedForContainer(e),n={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),scope:this.scope,pinned:i};return this.beans.rowCssClassCalculator.getInitialRowClasses(n)},t.prototype.processStylesFromGridOptions=function(){var e=this.beans.gridOptionsWrapper.getRowStyle();if(!e||"function"!=typeof e){var n,i=this.beans.gridOptionsWrapper.getRowStyleFunc();return i&&(n=i({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,$scope:this.scope,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()})),Object.assign({},e,n)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},t.prototype.onRowSelected=function(){var e=this,i=this.rowNode.isSelected();this.allRowGuis.forEach(function(n){n.rowComp.addOrRemoveCssClass("ag-row-selected",i),Ho(n.element,!!i||void 0);var s=e.createAriaLabel();Hr(n.element,null==s?"":s)})},t.prototype.createAriaLabel=function(){var e=this.rowNode.isSelected();if(!e||!this.beans.gridOptionsWrapper.isSuppressRowDeselection())return this.beans.gridOptionsWrapper.getLocaleTextFunc()(e?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(e?"deselect":"select")+" this row.")},t.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},t.prototype.addHoverFunctionality=function(e){var i=this;!this.active||(this.addManagedListener(e,"mouseenter",function(){return i.rowNode.onMouseEnter()}),this.addManagedListener(e,"mouseleave",function(){return i.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,gt.EVENT_MOUSE_ENTER,function(){i.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||e.classList.add("ag-row-hover")}),this.addManagedListener(this.rowNode,gt.EVENT_MOUSE_LEAVE,function(){e.classList.remove("ag-row-hover")}))},t.prototype.roundRowTopToBounds=function(e){var n=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),s=this.applyPaginationOffset(n.top,!0)-100,d=this.applyPaginationOffset(n.bottom,!0)+100;return Math.min(Math.max(s,e),d)},t.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},t.prototype.onRowHeightChanged=function(){if(null!=this.rowNode.rowHeight){var e=this.beans.gridOptionsWrapper.isGetRowHeightFunction(),i=this.rowNode.rowHeight,n=this.beans.gridOptionsWrapper.getDefaultRowHeight();this.allRowGuis.forEach(function(s){s.element.style.height=i+"px",e&&s.element.style.setProperty("--ag-row-height",Math.min(n,i)-2+"px")})}},t.prototype.addEventListener=function(e,i){("renderedRowRemoved"===e||"rowRemoved"===e)&&(e=ue.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+ue.EVENT_VIRTUAL_ROW_REMOVED)),a.prototype.addEventListener.call(this,e,i)},t.prototype.removeEventListener=function(e,i){("renderedRowRemoved"===e||"rowRemoved"===e)&&(e=ue.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+ue.EVENT_VIRTUAL_ROW_REMOVED)),a.prototype.removeEventListener.call(this,e,i)},t.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var e=this.createRowEvent(ue.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(e),this.beans.eventService.dispatchEvent(e),a.prototype.destroy.call(this)},t.prototype.setupRemoveAnimation=function(){if(null!=this.rowNode.rowTop){var i=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(i)}else this.allRowGuis.forEach(function(n){return n.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},t.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var e=function(i){return i.list.forEach(function(n){return n.destroy()}),{list:[],map:{}}};this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)},t.prototype.setFocusedClasses=function(){var e=this;this.allRowGuis.forEach(function(i){i.rowComp.addOrRemoveCssClass("ag-row-focus",e.rowFocused),i.rowComp.addOrRemoveCssClass("ag-row-no-focus",!e.rowFocused)})},t.prototype.onCellFocusChanged=function(){var e=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);e!==this.rowFocused&&(this.rowFocused=e,this.setFocusedClasses()),!e&&this.editingRow&&this.stopEditing(!1)},t.prototype.onPaginationChanged=function(){var e=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},t.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},t.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},t.prototype.applyPaginationOffset=function(e,i){return void 0===i&&(i=!1),this.rowNode.isRowPinned()?e:e+this.beans.paginationProxy.getPixelOffset()*(i?1:-1)},t.prototype.setRowTop=function(e){if(!this.printLayout&&W(e)){var i=this.applyPaginationOffset(e),n=this.rowNode.isRowPinned()?i:this.beans.rowContainerHeightService.getRealPixelPosition(i);this.setRowTopStyle(n+"px")}},t.prototype.getInitialRowTop=function(){return this.initialTop},t.prototype.getInitialTransform=function(){return this.initialTransform},t.prototype.setInitialRowTop=function(){if(this.printLayout)return"";var e=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,i=this.applyPaginationOffset(e),s=(this.rowNode.isRowPinned()?i:this.beans.rowContainerHeightService.getRealPixelPosition(i))+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.initialTop=s:this.initialTransform="translateY("+s+")"},t.prototype.setRowTopStyle=function(e){var i=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach(function(n){return i?n.rowComp.setTop(e):n.rowComp.setTransform("translateY("+e+")")})},t.prototype.getRowNode=function(){return this.rowNode},t.prototype.getCellCtrl=function(e){var i=null;return this.getAllCellCtrls().forEach(function(n){n.getColumn()==e&&(i=n)}),null!=i||this.getAllCellCtrls().forEach(function(n){n.getColSpanningList().indexOf(e)>=0&&(i=n)}),i},t.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},t.prototype.updateRowIndexes=function(){var e=this.rowNode.getRowIndexString(),i=this.beans.headerNavigationService.getHeaderRowCount(),n=this.rowNode.rowIndex%2==0,s=i+this.rowNode.rowIndex+1;this.allRowGuis.forEach(function(d){d.rowComp.setRowIndex(e),d.rowComp.addOrRemoveCssClass("ag-row-even",n),d.rowComp.addOrRemoveCssClass("ag-row-odd",!n),ju(d.element,s)})},t.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},t.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},t.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},t.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},t.DOM_DATA_KEY_ROW_CTRL="renderedRow",t}(Ze),L_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Fi=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},N_=function(a,t){var e="function"==typeof Symbol&&a[Symbol.iterator];if(!e)return a;var n,d,i=e.call(a),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(h){d={error:h}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},Sg=function(){for(var a=[],t=0;t<arguments.length;t++)a=a.concat(N_(arguments[t]));return a},Ag=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.destroyFuncsForColumnListeners=[],e.rowCtrlsByRowIndex={},e.zombieRowCtrls={},e.allRowCtrls=[],e.topRowCtrls=[],e.bottomRowCtrls=[],e.refreshInProgress=!1,e}return L_(t,a),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(){e.gridBodyCtrl=e.ctrlsService.getGridBodyCtrl(),e.initialise()})},t.prototype.initialise=function(){this.addManagedListener(this.eventService,ue.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,et.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===ae.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},t.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var e=this.gridOptionsWrapper.getKeepDetailRowsCount();this.cachedRowCtrls=new B_(null!=e?e:3)}},t.prototype.getRowCtrls=function(){return this.allRowCtrls},t.prototype.updateAllRowCtrls=function(){var e=$(this.rowCtrlsByRowIndex);this.gridOptionsWrapper.isEnsureDomOrder()&&e.sort(function(s,d){return s.getRowNode().rowIndex-d.getRowNode.rowIndex});var i=$(this.zombieRowCtrls),n=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=Sg(e,i,n)},t.prototype.registerCellEventListeners=function(){var e=this;this.addManagedListener(this.eventService,ue.EVENT_CELL_FOCUSED,function(n){e.getAllCellCtrls().forEach(function(s){return s.onCellFocused(n)}),e.getFullWidthRowCtrls().forEach(function(s){s.onFullWidthRowFocused(n)})}),this.addManagedListener(this.eventService,ue.EVENT_FLASH_CELLS,function(n){e.getAllCellCtrls().forEach(function(s){return s.onFlashCells(n)})}),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_HOVER_CHANGED,function(){e.getAllCellCtrls().forEach(function(n){return n.onColumnHover()})}),this.addManagedListener(this.eventService,ue.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){e.getAllCellCtrls().forEach(function(n){return n.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,ue.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){e.printLayout&&e.getAllCellCtrls().forEach(function(n){return n.onLeftChanged()})}),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,ue.EVENT_RANGE_SELECTION_CHANGED,function(){e.getAllCellCtrls().forEach(function(n){return n.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_MOVED,function(){e.getAllCellCtrls().forEach(function(n){return n.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_PINNED,function(){e.getAllCellCtrls().forEach(function(n){return n.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_VISIBLE,function(){e.getAllCellCtrls().forEach(function(n){return n.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,ue.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},t.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(e){return e()}),this.destroyFuncsForColumnListeners.length=0},t.prototype.refreshListenersToColumnsForCellComps=function(){var e=this;this.removeGridColumnListeners();var i=this.columnModel.getAllGridColumns();!i||i.forEach(function(n){var s=function(j){e.getAllCellCtrls().forEach(function(q){q.getColumn()===n&&j(q)})},d=function(){s(function(j){return j.onLeftChanged()})},h=function(){s(function(j){return j.onWidthChanged()})},O=function(){s(function(j){return j.onFirstRightPinnedChanged()})},L=function(){s(function(j){return j.onLastLeftPinnedChanged()})};n.addEventListener(lt.EVENT_LEFT_CHANGED,d),n.addEventListener(lt.EVENT_WIDTH_CHANGED,h),n.addEventListener(lt.EVENT_FIRST_RIGHT_PINNED_CHANGED,O),n.addEventListener(lt.EVENT_LAST_LEFT_PINNED_CHANGED,L),e.destroyFuncsForColumnListeners.push(function(){n.removeEventListener(lt.EVENT_LEFT_CHANGED,d),n.removeEventListener(lt.EVENT_WIDTH_CHANGED,h),n.removeEventListener(lt.EVENT_FIRST_RIGHT_PINNED_CHANGED,O),n.removeEventListener(lt.EVENT_LAST_LEFT_PINNED_CHANGED,L)})})},t.prototype.onDomLayoutChanged=function(){var e=this.gridOptionsWrapper.getDomLayout()===ae.DOM_LAYOUT_PRINT,i=e||this.gridOptionsWrapper.isEmbedFullWidthRows(),n=i!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=i,n&&this.redrawAfterModelUpdate()},t.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.onPageLoaded=function(e){this.redrawAfterModelUpdate({recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0})},t.prototype.getAllCellsForColumn=function(e){var i=[];return this.getAllRowCtrls().forEach(function(n){var s=n.getCellElement(e);s&&i.push(s)}),i},t.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},t.prototype.getTopRowCtrls=function(){return this.topRowCtrls},t.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},t.prototype.refreshFloatingRows=function(e,i){var n=this;e.forEach(function(s){s.destroyFirstPass(),s.destroySecondPass()}),e.length=0,i&&i.forEach(function(s){var d=new hr(n.$scope,s,n.beans,!1,!1,n.printLayout);e.push(d)})},t.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},t.prototype.getRenderedIndexesForRowNodes=function(e){var i=[];return E(e)||v(this.rowCtrlsByRowIndex,function(n,s){var d=s.getRowNode();e.indexOf(d)>=0&&i.push(n)}),i},t.prototype.redrawRows=function(e){var i=null!=e&&e.length>0;if(i){var n=this.getRenderedIndexesForRowNodes(e);this.removeRowCtrls(n)}this.redrawAfterModelUpdate({recycleRows:i})},t.prototype.getCellToRestoreFocusToAfterRefresh=function(e){var i=e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==i)return null;var s=this.gridOptionsWrapper.getDocument().activeElement,d=this.gridOptionsWrapper.getDomData(s,Ln.DOM_DATA_KEY_CELL_CTRL),h=this.gridOptionsWrapper.getDomData(s,hr.DOM_DATA_KEY_ROW_CTRL);return d||h?i:null},t.prototype.redrawAfterModelUpdate=function(e){void 0===e&&(e={}),this.getLockOnRefresh();var i=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);var n=!this.printLayout&&!!e.recycleRows,s=e.animate&&this.gridOptionsWrapper.isAnimateRows(),d=n?this.recycleRows():null;n||this.removeAllRowComps();var O=function(){if(null==i||null==d)return!1;var L=!1;return v(d,function(j,q){var J=q.getRowNode();J.rowIndex==i.rowIndex&&J.rowPinned==i.rowPinned&&(L=!0)}),L}();this.redraw(d,s),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),O||this.restoreFocusedCell(i),this.releaseLockOnRefresh()},t.prototype.scrollToTopIfNewData=function(e){var i=e.newData||e.newPage,n=this.gridOptionsWrapper.isSuppressScrollOnNewData();i&&!n&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},t.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var e=this.paginationProxy.getCurrentPageHeight();0===e&&(e=1),this.rowContainerHeightService.setModelHeight(e)}},t.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},t.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},t.prototype.restoreFocusedCell=function(e){e&&this.focusService.setFocusedCell(e.rowIndex,e.column,e.rowPinned,!0)},t.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.getAllRowCtrls().forEach(function(i){i.stopEditing(e)})},t.prototype.onNewColumnsLoaded=function(){this.getAllCellCtrls().forEach(function(e){return e.onNewColumnsLoaded()})},t.prototype.getAllCellCtrls=function(){var e=[];return this.getAllRowCtrls().forEach(function(i){return e=e.concat(i.getAllCellCtrls())}),e},t.prototype.getAllRowCtrls=function(){var e=this,i=Sg(this.topRowCtrls,this.bottomRowCtrls);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(n){return i.push(e.rowCtrlsByRowIndex[n])}),i},t.prototype.addRenderedRowListener=function(e,i,n){var s=this.rowCtrlsByRowIndex[i];s&&s.addEventListener(e,n)},t.prototype.flashCells=function(e){void 0===e&&(e={});var i=e.flashDelay,n=e.fadeDelay;this.getCellCtrls(e.rowNodes,e.columns).forEach(function(s){return s.flashCell({flashDelay:i,fadeDelay:n})})},t.prototype.refreshCells=function(e){void 0===e&&(e={});var i={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(function(n){if(n.refreshShouldDestroy()){var s=n.getRowCtrl();s&&s.refreshCell(n)}else n.refreshCell(i)}),this.getFullWidthRowCtrls(e.rowNodes).forEach(function(n){n.refreshFullWidth()})},t.prototype.getCellRendererInstances=function(e){return this.getCellCtrls(e.rowNodes,e.columns).map(function(n){return n.getCellRenderer()}).filter(function(n){return null!=n})},t.prototype.getCellEditorInstances=function(e){var i=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(function(n){var s=n.getCellEditor();s&&i.push(s)}),i},t.prototype.getEditingCells=function(){var e=[];return this.getAllCellCtrls().forEach(function(i){if(i.isEditing()){var n=i.getCellPosition();e.push(n)}}),e},t.prototype.mapRowNodes=function(e){if(e){var i={top:{},bottom:{},normal:{}};return e.forEach(function(n){var s=n.id;n.rowPinned===ae.PINNED_TOP?i.top[s]=n:n.rowPinned===ae.PINNED_BOTTOM?i.bottom[s]=n:i.normal[s]=n}),i}},t.prototype.isRowInMap=function(e,i){var n=e.id,s=e.rowPinned;return s===ae.PINNED_BOTTOM?null!=i.bottom[n]:s===ae.PINNED_TOP?null!=i.top[n]:null!=i.normal[n]},t.prototype.getCellCtrls=function(e,i){var h,n=this,s=this.mapRowNodes(e),d=[];W(i)&&(h={},i.forEach(function(L){var j=n.columnModel.getGridColumn(L);W(j)&&(h[j.getId()]=!0)}));var O=function(L){var j=L.getRowNode();null!=s&&!n.isRowInMap(j,s)||L.getAllCellCtrls().forEach(function(q){var J=q.getColumn().getId();h&&!h[J]||d.push(q)})};return v(this.rowCtrlsByRowIndex,function(L,j){O(j)}),this.topRowCtrls&&this.topRowCtrls.forEach(O),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(O),d},t.prototype.destroy=function(){this.removeAllRowComps(),a.prototype.destroy.call(this)},t.prototype.removeAllRowComps=function(){var e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)},t.prototype.recycleRows=function(){var e=[];v(this.rowCtrlsByRowIndex,function(n,s){null==s.getRowNode().id&&e.push(n)}),this.removeRowCtrls(e);var i={};return v(this.rowCtrlsByRowIndex,function(n,s){var d=s.getRowNode();i[d.id]=s}),this.rowCtrlsByRowIndex={},i},t.prototype.removeRowCtrls=function(e){var i=this;e.forEach(function(n){var s=i.rowCtrlsByRowIndex[n];s&&(s.destroyFirstPass(),s.destroySecondPass()),delete i.rowCtrlsByRowIndex[n]})},t.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged()},t.prototype.removeRowCompsNotToDraw=function(e){var i={};e.forEach(function(d){return i[d]=!0});var s=Object.keys(this.rowCtrlsByRowIndex).filter(function(d){return!i[d]});this.removeRowCtrls(s)},t.prototype.calculateIndexesToDraw=function(e){var i=this,n=_f(this.firstRenderedRow,this.lastRenderedRow),s=function(d,h){var O=h.getRowNode().rowIndex;null!=O&&(O<i.firstRenderedRow||O>i.lastRenderedRow)&&i.doNotUnVirtualiseRow(h)&&n.push(O)};return v(this.rowCtrlsByRowIndex,s),v(e,s),n.sort(function(d,h){return d-h}),n},t.prototype.redraw=function(e,i,n){var s=this;void 0===i&&(i=!1),void 0===n&&(n=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender();var d=this.calculateIndexesToDraw(e);this.removeRowCompsNotToDraw(d),this.printLayout&&(i=!1),d.forEach(function(O){W(s.createOrUpdateRowCtrl(O,e,i,n))}),e&&(!n||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowCtrls(e,i):this.beans.animationFrameService.addDestroyTask(function(){s.destroyRowCtrls(e,i),s.updateAllRowCtrls(),s.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls(),this.checkAngularCompile(),this.gridBodyCtrl.updateRowCount()},t.prototype.dispatchDisplayedRowsChanged=function(){this.eventService.dispatchEvent({type:ue.EVENT_DISPLAYED_ROWS_CHANGED})},t.prototype.onDisplayedColumnsChanged=function(){var e=this.columnModel.isPinningLeft(),i=this.columnModel.isPinningRight();(this.pinningLeft!==e||i!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=i,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},t.prototype.redrawFullWidthEmbeddedRows=function(){var e=[];this.getFullWidthRowCtrls().forEach(function(i){var n=i.getRowNode().rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redrawAfterScroll()},t.prototype.getFullWidthRowCtrls=function(e){var i=this,n=this.mapRowNodes(e);return $(this.rowCtrlsByRowIndex).filter(function(s){if(!s.isFullWidth())return!1;var d=s.getRowNode();return!(null!=n&&!i.isRowInMap(d,n))})},t.prototype.refreshFullWidthRows=function(e){var i=[],n=!!e,s=n?{}:void 0;n&&s&&e.forEach(function(d){return s[d.id]=!0}),this.getFullWidthRowCtrls().forEach(function(d){var h=d.getRowNode();if((!n||!s||s[h.id]||s[h.level>0&&h.parent?h.parent.id:void 0])&&!d.refreshFullWidth()){var q=d.getRowNode().rowIndex;i.push(q.toString())}}),this.removeRowCtrls(i),this.redrawAfterScroll()},t.prototype.createOrUpdateRowCtrl=function(e,i,n,s){var d,h=this.rowCtrlsByRowIndex[e];if(h||W(d=this.paginationProxy.getRow(e))&&W(i)&&i[d.id]&&d.alreadyRendered&&(h=i[d.id],i[d.id]=null),!h){if(d||(d=this.paginationProxy.getRow(e)),!W(d))return;h=this.createRowCon(d,n,s)}return d&&(d.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=h,h},t.prototype.destroyRowCtrls=function(e,i){var n=this,s=[];v(e,function(d,h){if(h){if(n.cachedRowCtrls&&h.isCacheable())return void n.cachedRowCtrls.addRow(h);h.destroyFirstPass(),i?(n.zombieRowCtrls[h.getInstanceId()]=h,s.push(function(){h.destroySecondPass(),delete n.zombieRowCtrls[h.getInstanceId()]})):h.destroySecondPass()}}),i&&(s.push(function(){n.updateAllRowCtrls(),n.dispatchDisplayedRowsChanged()}),de(s))},t.prototype.checkAngularCompile=function(){var e=this;this.gridOptionsWrapper.isAngularCompileRows()&&window.setTimeout(function(){e.$scope.$apply()},0)},t.prototype.workOutFirstAndLastRowsToRender=function(){var i,n,e=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)i=this.paginationProxy.getPageFirstRow(),n=this.paginationProxy.getPageLastRow();else{var s=this.gridOptionsWrapper.getRowBufferInPixels(),d=this.ctrlsService.getGridBodyCtrl(),h=this.gridOptionsWrapper.isSuppressRowVirtualisation(),O=!1,L=void 0,j=void 0;do{var q=this.paginationProxy.getPixelOffset(),J=this.paginationProxy.getCurrentPagePixelRange(),re=J.pageFirstPixel,me=J.pageLastPixel,Ae=this.rowContainerHeightService.getDivStretchOffset();if(h)L=re+Ae,j=me+Ae;else{var Pe=d.getScrollFeature().getVScrollPosition(),Ve=Pe.bottom;L=Math.max(Pe.top+q-s,re)+Ae,j=Math.min(Ve+q+s,me)+Ae}O=this.ensureAllRowsInRangeHaveHeightsCalculated(L,j)}while(O);var $e=this.paginationProxy.getRowIndexAtPixel(L),Ke=this.paginationProxy.getRowIndexAtPixel(j),ot=this.paginationProxy.getPageFirstRow(),mt=this.paginationProxy.getPageLastRow();$e<ot&&($e=ot),Ke>mt&&(Ke=mt),i=$e,n=Ke}else i=0,n=-1;var ft=this.gridOptionsWrapper.getDomLayout()===ae.DOM_LAYOUT_NORMAL,ut=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),St=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);if(ft&&!ut&&n-i>St&&(n=i+St),(i!==this.firstRenderedRow||n!==this.lastRenderedRow)&&(this.firstRenderedRow=i,this.lastRenderedRow=n,this.eventService.dispatchEvent({type:ue.EVENT_VIEWPORT_CHANGED,firstRow:i,lastRow:n,api:this.gridApi,columnApi:this.columnApi})),this.paginationProxy.isRowsToRender()){var Zi={type:ue.EVENT_FIRST_DATA_RENDERED,firstRow:i,lastRow:n,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){return e.eventService.dispatchEventOnce(Zi)},50)}},t.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(e,i){var n=this.paginationProxy.ensureRowHeightsValid(e,i,-1,-1);return n&&this.updateContainerHeights(),n},t.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},t.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},t.prototype.doNotUnVirtualiseRow=function(e){var s=e.getRowNode(),d=this.focusService.isRowNodeFocused(s),h=e.isEditing();return!!(d||h||s.detail)&&!!this.paginationProxy.isRowPresent(s)},t.prototype.createRowCon=function(e,i,n){var s=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(s)return s;var d=this.gridOptionsWrapper.isSuppressAnimationFrame();return new hr(this.$scope,e,this.beans,i,n&&!d&&!this.printLayout,this.printLayout)},t.prototype.getRenderedNodes=function(){var e=this.rowCtrlsByRowIndex;return Object.keys(e).map(function(i){return e[i].getRowNode()})},t.prototype.getRowByPosition=function(e){var i;switch(e.rowPinned){case ae.PINNED_TOP:i=this.topRowCtrls[e.rowIndex];break;case ae.PINNED_BOTTOM:i=this.bottomRowCtrls[e.rowIndex];break;default:i=this.rowCtrlsByRowIndex[e.rowIndex]}return i},t.prototype.getRowNode=function(e){switch(e.rowPinned){case ae.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case ae.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.isRangeInRenderedViewport=function(e,i){return!(null==e||null==i||i<this.firstRenderedRow||e>this.lastRenderedRow)},Fi([Q("paginationProxy")],t.prototype,"paginationProxy",void 0),Fi([Q("columnModel")],t.prototype,"columnModel",void 0),Fi([Q("$scope")],t.prototype,"$scope",void 0),Fi([Q("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Fi([Q("rowModel")],t.prototype,"rowModel",void 0),Fi([Q("focusService")],t.prototype,"focusService",void 0),Fi([Q("columnApi")],t.prototype,"columnApi",void 0),Fi([Q("gridApi")],t.prototype,"gridApi",void 0),Fi([Q("beans")],t.prototype,"beans",void 0),Fi([Q("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),Fi([it("ctrlsService")],t.prototype,"ctrlsService",void 0),Fi([be],t.prototype,"postConstruct",null),Fi([je("rowRenderer")],t)}(Ze),B_=function(){function a(t){this.entriesMap={},this.entriesList=[],this.maxCount=t}return a.prototype.addRow=function(t){if(this.entriesMap[t.getRowNode().id]=t,this.entriesList.push(t),t.setCached(!0),this.entriesList.length>this.maxCount){var e=this.entriesList[0];e.destroyFirstPass(),e.destroySecondPass(),this.removeFromCache(e)}},a.prototype.getRow=function(t){if(null==t||null==t.id)return null;var e=this.entriesMap[t.id];return e?(this.removeFromCache(e),e.setCached(!1),e.getRowNode()!=t?null:e):null},a.prototype.removeFromCache=function(t){var e=t.getRowNode().id;delete this.entriesMap[e],zt(this.entriesList,t)},a.prototype.getEntries=function(){return this.entriesList},a}(),Bn=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Xr=function(a){function t(e,i){var n=a.call(this,e)||this;return n.ctrl=i,n}return Bn(t,a),t.prototype.getCtrl=function(){return this.ctrl},t}(pt),$d=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pr=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},jd=function(a){function t(e){var i=a.call(this,t.TEMPLATE,e)||this;return i.headerCompVersion=0,i.column=e.getColumnGroupChild(),i.pinned=e.getPinned(),i}return $d(t,a),t.prototype.postConstruct=function(){var e=this,i=this.getGui(),n=function(h,O,L){var j=L||i;null!=O&&""!=O?j.setAttribute(h,O):j.removeAttribute(h)};this.ctrl.setComp({setWidth:function(h){return i.style.width=h},addOrRemoveCssClass:function(h,O){return e.addOrRemoveCssClass(h,O)},setAriaSort:function(h){return h?mf(i,h):vf(i)},setColId:function(h){return n("col-id",h)},setTitle:function(h){return n("title",h)},setAriaDescribedBy:function(h){return Ml(i,h)},setUserCompDetails:function(h){return e.setUserCompDetails(h)},getUserCompInstance:function(){return e.headerComp}},this.getGui(),this.eResize);var d=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",d)},t.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},t.prototype.setUserCompDetails=function(e){var i=this;this.headerCompVersion++;var n=this.headerCompVersion;e.newAgStackInstance().then(function(s){return i.afterCompCreated(n,s)})},t.prototype.afterCompCreated=function(e,i){e==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=i,this.headerCompGui=i.getGui(),this.getGui().appendChild(this.headerCompGui),this.ctrl.setDragSource(this.headerCompGui)):this.destroyBean(i)},t.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',pr([He("eResize")],t.prototype,"eResize",void 0),pr([be],t.prototype,"postConstruct",null),pr([Xe],t.prototype,"destroyHeaderComp",null),t}(Xr),Rg=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pa=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Dg=function(a){function t(e){return a.call(this,t.TEMPLATE,e)||this}return Rg(t,a),t.prototype.postConstruct=function(){var e=this,i=this.getGui(),n=function(d,h){return null!=h?i.setAttribute(d,h):i.removeAttribute(d)};this.ctrl.setComp({addOrRemoveCssClass:function(d,h){return e.addOrRemoveCssClass(d,h)},addOrRemoveResizableCssClass:function(d,h){return e.eResize.classList.toggle(d,h)},setWidth:function(d){return i.style.width=d},setColId:function(d){return i.setAttribute("col-id",d)},setAriaExpanded:function(d){return n("aria-expanded",d)},setTitle:function(d){return n("title",d)},setUserCompDetails:function(d){return e.setUserCompDetails(d)}},i,this.eResize)},t.prototype.setUserCompDetails=function(e){var i=this;e.newAgStackInstance().then(function(n){return i.afterHeaderCompCreated(n)})},t.prototype.afterHeaderCompCreated=function(e){var i=this,n=function(){return i.destroyBean(e)};this.isAlive()?(this.getGui().appendChild(e.getGui()),this.addDestroyFunc(n),this.ctrl.setDragSource(e.getGui())):n()},t.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',pa([Q("userComponentFactory")],t.prototype,"userComponentFactory",void 0),pa([He("eResize")],t.prototype,"eResize",void 0),pa([be],t.prototype,"postConstruct",null),t}(Xr),pc=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),es=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},fc=function(a){function t(e){return a.call(this,t.TEMPLATE,e)||this}return pc(t,a),t.prototype.postConstruct=function(){var e=this,i=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(s,d){return e.addOrRemoveCssClass(s,d)},addOrRemoveBodyCssClass:function(s,d){return e.eFloatingFilterBody.classList.toggle(s,d)},addOrRemoveButtonWrapperCssClass:function(s,d){return e.eButtonWrapper.classList.toggle(s,d)},setCompDetails:function(s){return e.setCompDetails(s)},getFloatingFilterComp:function(){return e.compPromise},setWidth:function(s){return i.style.width=s},setMenuIcon:function(s){return e.eButtonShowMainFilter.appendChild(s)}},i,this.eButtonShowMainFilter,this.eFloatingFilterBody)},t.prototype.setCompDetails=function(e){var i=this;this.compPromise=e.newAgStackInstance(),this.compPromise.then(function(n){return i.afterCompCreated(n)})},t.prototype.afterCompCreated=function(e){var i=this;!e||(this.addDestroyFunc(function(){return i.context.destroyBean(e)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()))},t.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',es([He("eFloatingFilterBody")],t.prototype,"eFloatingFilterBody",void 0),es([He("eButtonWrapper")],t.prototype,"eButtonWrapper",void 0),es([He("eButtonShowMainFilter")],t.prototype,"eButtonShowMainFilter",void 0),es([be],t.prototype,"postConstruct",null),t}(Xr),gc=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ud=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s};!function(a){a.COLUMN_GROUP="group",a.COLUMN="column",a.FLOATING_FILTER="filter"}(z.A6C||(z.A6C={}));var zd=function(a){function t(e){var i=a.call(this)||this;i.headerComps={};var n=e.getType()==z.A6C.COLUMN_GROUP?"ag-header-row-column-group":e.getType()==z.A6C.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return i.setTemplate('<div class="ag-header-row '+n+'" role="row"></div>'),i.ctrl=e,i}return gc(t,a),t.prototype.init=function(){var e=this;this.ctrl.setComp({setTransform:function(n){return e.getGui().style.transform=n},setHeight:function(n){return e.getGui().style.height=n},setTop:function(n){return e.getGui().style.top=n},setHeaderCtrls:function(n){return e.setHeaderCtrls(n)},setWidth:function(n){return e.getGui().style.width=n},setAriaRowIndex:function(n){return ju(e.getGui(),n)}})},t.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},t.prototype.setHeaderCtrls=function(e){var i=this;if(this.isAlive()){var n=this.headerComps;if(this.headerComps={},e.forEach(function(O){var L=O.getInstanceId(),j=n[L];delete n[L],null==j&&(j=i.createHeaderComp(O),i.getGui().appendChild(j.getGui())),i.headerComps[L]=j}),v(n,function(O,L){i.getGui().removeChild(L.getGui()),i.destroyBean(L)}),this.gridOptionsWrapper.isEnsureDomOrder()){var d=$(this.headerComps);d.sort(function(O,L){return O.getCtrl().getColumnGroupChild().getLeft()-L.getCtrl().getColumnGroupChild().getLeft()});var h=d.map(function(O){return O.getGui()});zs(this.getGui(),h)}}},t.prototype.createHeaderComp=function(e){var i;switch(this.ctrl.getType()){case z.A6C.COLUMN_GROUP:i=new Dg(e);break;case z.A6C.FLOATING_FILTER:i=new fc(e);break;default:i=new jd(e)}return this.createBean(i),i.setParentComponent(this),i},Ud([be],t.prototype,"init",null),Ud([Xe],t.prototype,"destroyHeaderCtrls",null),t}(pt),fa=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),pi=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s};!function(a){a[a.UP=0]="UP",a[a.DOWN=1]="DOWN",a[a.LEFT=2]="LEFT",a[a.RIGHT=3]="RIGHT"}(z.Y8R||(z.Y8R={}));var fr=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return fa(t,a),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){e.gridBodyCon=i.gridBodyCtrl})},t.prototype.getHeaderRowCount=function(){var e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0},t.prototype.getHeaderRowType=function(e){var i=this.ctrlsService.getHeaderRowContainerCtrl();if(i)return i.getRowType(e)},t.prototype.navigateVertically=function(e,i,n){if(i||(i=this.focusService.getFocusedHeader()),!i)return!1;var s=i.headerRowIndex,d=i.column,h=this.getHeaderRowCount(),O=e===z.Y8R.UP,L=O?s-1:s+1,j=null,q=!1;L<0&&(L=0,j=d,q=!0),L>=h&&(L=-1);var J=this.getHeaderRowType(s);if(!q){if(J===z.A6C.COLUMN_GROUP){var re=d;j=O?d.getParent():re.getDisplayedChildren()[0]}else J===z.A6C.FLOATING_FILTER?j=d:(re=d,j=O?re.getParent():re);if(!j)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:L,column:j},allowUserOverride:!0,event:n})},t.prototype.navigateHorizontally=function(e,i,n){void 0===i&&(i=!1);var O,L,s=this.focusService.getFocusedHeader();return(O=e===z.Y8R.LEFT!==this.gridOptionsWrapper.isEnableRtl()?this.headerPositionUtils.findHeader(s,L="Before"):this.headerPositionUtils.findHeader(s,L="After"))?this.focusService.focusHeaderPosition({headerPosition:O,direction:L,fromTab:i,allowUserOverride:!0,event:n}):!i||this.focusNextHeaderRow(s,L,n)},t.prototype.focusNextHeaderRow=function(e,i,n){var s=e.headerRowIndex,d=null;return"Before"===i?s>0&&(d=this.headerPositionUtils.findColAtEdgeForHeaderRow(s-1,"end")):d=this.headerPositionUtils.findColAtEdgeForHeaderRow(s+1,"start"),this.focusService.focusHeaderPosition({headerPosition:d,direction:i,fromTab:!0,allowUserOverride:!0,event:n})},t.prototype.scrollToColumn=function(e,i){if(void 0===i&&(i="After"),!e.getPinned()){var n;if(e instanceof Jt){var s=e.getDisplayedLeafColumns();n="Before"===i?Qe(s):s[0]}else n=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(n),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},pi([Q("focusService")],t.prototype,"focusService",void 0),pi([Q("headerPositionUtils")],t.prototype,"headerPositionUtils",void 0),pi([Q("animationFrameService")],t.prototype,"animationFrameService",void 0),pi([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),pi([be],t.prototype,"postConstruct",null),pi([je("headerNavigationService")],t)}(Ze),Zd=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),eo=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},ga=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return Zd(t,a),t.prototype.setComp=function(e,i,n){this.comp=e,this.eGui=i,this.createManagedBean(new mn(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},t.prototype.setupHeaderHeight=function(){var e=this.setHeaderHeight.bind(this);e(),this.addManagedListener(this.gridOptionsWrapper,et.PROP_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,et.PROP_PIVOT_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,et.PROP_GROUP_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,et.PROP_PIVOT_GROUP_HEADER_HEIGHT,e),this.addManagedListener(this.gridOptionsWrapper,et.PROP_FLOATING_FILTERS_HEIGHT,e),this.addManagedListener(this.eventService,ue.EVENT_DISPLAYED_COLUMNS_CHANGED,e)},t.prototype.setHeaderHeight=function(){var h,O,L,i=this.columnModel,n=this.gridOptionsWrapper,s=0,d=i.getHeaderRowCount();i.isPivotMode()?(O=n.getPivotGroupHeaderHeight(),L=n.getPivotHeaderHeight()):(i.hasFloatingFilters()&&(d++,s=1),O=n.getGroupHeaderHeight(),L=n.getHeaderHeight());var J=d-(1+s);h=s*n.getFloatingFiltersHeight(),h+=J*O,this.comp.setHeightAndMinHeight((h+=L)+1+"px")},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)},t.prototype.onTabKeyDown=function(e){var i=this.gridOptionsWrapper.isEnableRtl();(this.headerNavigationService.navigateHorizontally(e.shiftKey!==i?z.Y8R.LEFT:z.Y8R.RIGHT,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()},t.prototype.handleKeyDown=function(e){var i=null;switch(e.key){case Ue.LEFT:i=z.Y8R.LEFT;case Ue.RIGHT:W(i)||(i=z.Y8R.RIGHT),this.headerNavigationService.navigateHorizontally(i,!1,e);break;case Ue.UP:i=z.Y8R.UP;case Ue.DOWN:W(i)||(i=z.Y8R.DOWN),this.headerNavigationService.navigateVertically(i,null,e)&&e.preventDefault();break;default:return}},t.prototype.onFocusOut=function(e){var i=this.gridOptionsWrapper.getDocument(),n=e.relatedTarget;!n&&this.eGui.contains(i.activeElement)||this.eGui.contains(n)||this.focusService.clearFocusedHeader()},eo([Q("headerNavigationService")],t.prototype,"headerNavigationService",void 0),eo([Q("focusService")],t.prototype,"focusService",void 0),eo([Q("columnModel")],t.prototype,"columnModel",void 0),eo([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),t}(Ze),ma=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},xg=function(){function a(t,e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=t,this.eContainer=e,this.centerContainer=!W(t)}return a.prototype.init=function(){var t=this;this.ctrlsService.whenReady(function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl()})},a.prototype.getIconName=function(){return this.pinned?hi.ICON_PINNED:hi.ICON_MOVE},a.prototype.onDragEnter=function(t){var e=t.dragItem.columns;if(t.dragSource.type===z.rvo.ToolPanel)this.setColumnsVisible(e,!0,"uiColumnDragged");else{var n=t.dragItem.visibleState,s=(e||[]).filter(function(d){return n[d.getId()]});this.setColumnsVisible(s,!0,"uiColumnDragged")}this.setColumnsPinned(e,this.pinned,"uiColumnDragged"),this.onDragging(t,!0)},a.prototype.onDragLeave=function(t){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!t.fromNudge){var i=t.dragSource.getDragItem();this.setColumnsVisible(i.columns,!1,"uiColumnDragged")}this.ensureIntervalCleared()},a.prototype.setColumnsVisible=function(t,e,i){if(void 0===i&&(i="api"),t){var n=t.filter(function(s){return!s.getColDef().lockVisible});this.columnModel.setColumnsVisible(n,e,i)}},a.prototype.setColumnsPinned=function(t,e,i){if(void 0===i&&(i="api"),t){var n=t.filter(function(s){return!s.getColDef().lockPinned});this.columnModel.setColumnsPinned(n,e,i)}},a.prototype.onDragStop=function(){this.ensureIntervalCleared()},a.prototype.normaliseX=function(t){return this.gridOptionsWrapper.isEnableRtl()&&(t=this.eContainer.clientWidth-t),this.centerContainer&&(t+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),t},a.prototype.checkCenterForScrolling=function(t){if(this.centerContainer){var e=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),i=e+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=t<e+50,this.needToMoveLeft=t>i-50):(this.needToMoveLeft=t<e+50,this.needToMoveRight=t>i-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},a.prototype.onDragging=function(t,e){var i=this;if(void 0===e&&(e=!1),this.lastDraggingEvent=t,!E(t.hDirection)){var n=this.normaliseX(t.x);e||this.checkCenterForScrolling(n);var s=this.normaliseDirection(t.hDirection),d=t.dragSource.type,h=t.dragSource.getDragItem().columns;h=h.filter(function(O){return!O.getColDef().lockPinned||O.getPinned()==i.pinned}),this.attemptMoveColumns(d,h,s,n,e)}},a.prototype.normaliseDirection=function(t){if(!this.gridOptionsWrapper.isEnableRtl())return t;switch(t){case z.poj.Left:return z.poj.Right;case z.poj.Right:return z.poj.Left;default:console.error("AG Grid: Unknown direction "+t)}},a.prototype.calculateOldIndex=function(t){var e=this.columnModel.getAllGridColumns(),i=Ms(t.map(function(O){return e.indexOf(O)})),n=i[0];return Qe(i)-n!=i.length-1?null:n},a.prototype.attemptMoveColumns=function(t,e,i,n,s){var d=i===z.poj.Left,h=i===z.poj.Right,O=e.slice();this.columnModel.sortColumnsLikeGridColumns(O);var L=this.calculateValidMoves(O,h,n),j=this.calculateOldIndex(O);if(0!==L.length){var q=L[0],J=null!==j&&!s;if(t==z.rvo.HeaderCell&&(J=null!==j),!J||!(d&&q>=j||h&&q<=j))for(var re=0;re<L.length;re++){var me=L[re];if(this.columnModel.doesMovePassRules(O,me))return void this.columnModel.moveColumns(O,me,"uiColumnDragged")}}},a.prototype.calculateValidMoves=function(t,e,i){if(this.gridOptionsWrapper.isSuppressMovableColumns()||t.some(function(ft){return ft.getColDef().suppressMovable}))return[];var Ae,s=this.columnModel.getDisplayedColumns(this.pinned),d=this.columnModel.getAllGridColumns(),h=s.filter(function(ft){return ii(t,ft)}),O=s.filter(function(ft){return!ii(t,ft)}),L=d.filter(function(ft){return!ii(t,ft)}),j=0,q=i;if(e){var J=0;h.forEach(function(ft){return J+=ft.getActualWidth()}),q-=J}if(q>0){for(var re=0;re<O.length&&!((q-=O[re].getActualWidth())<0);re++)j++;e&&j++}j>0?Ae=L.indexOf(O[j-1])+1:-1===(Ae=L.indexOf(O[0]))&&(Ae=0);var We=[Ae],Ve=function(ft,ut){return ft-ut};if(e){for(var $e=Ae+1,Ke=d.length-1;$e<=Ke;)We.push($e),$e++;We.sort(Ve)}else{Ke=d.length-1;for(var ot=d[$e=Ae];$e<=Ke&&this.isColumnHidden(s,ot);)$e++,We.push($e),ot=d[$e];for($e=Ae-1;$e>=0;)We.push($e),$e--;We.sort(Ve).reverse()}return We},a.prototype.isColumnHidden=function(t,e){return t.indexOf(e)<0},a.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?hi.ICON_LEFT:hi.ICON_RIGHT,!0))},a.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(hi.ICON_MOVE))},a.prototype.moveInterval=function(){var t;this.intervalCount++,(t=10+5*this.intervalCount)>100&&(t=100);var e=null,i=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?e=i.scrollHorizontally(-t):this.needToMoveRight&&(e=i.scrollHorizontally(t)),0!==e)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var s=this.lastDraggingEvent.dragItem.columns.filter(function(h){return!h.getColDef().lockPinned});s.length>0&&(this.dragAndDropService.setGhostIcon(hi.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(s,this.needToMoveLeft?ae.PINNED_LEFT:ae.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge())}},ma([Q("columnModel")],a.prototype,"columnModel",void 0),ma([Q("dragAndDropService")],a.prototype,"dragAndDropService",void 0),ma([Q("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),ma([Q("ctrlsService")],a.prototype,"ctrlsService",void 0),ma([be],a.prototype,"init",null),a}(),Og=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},va=function(){function a(t){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=t}return a.prototype.onDragEnter=function(t){var e=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var i=t.dragItem.columns;!i||i.forEach(function(n){!n.isPrimary()||n.isAnyFunctionActive()||(n.isAllowValue()?e.columnsToAggregate.push(n):n.isAllowRowGroup()?e.columnsToGroup.push(n):n.isAllowPivot()&&e.columnsToPivot.push(n))})}},a.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?hi.ICON_PINNED:hi.ICON_MOVE:null},a.prototype.onDragLeave=function(t){this.clearColumnsList()},a.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},a.prototype.onDragging=function(t){},a.prototype.onDragStop=function(t){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},Og([Q("columnModel")],a.prototype,"columnModel",void 0),Og([Q("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),a}(),k_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ts=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},mc=function(a){function t(e,i){var n=a.call(this)||this;return n.pinned=e,n.eContainer=i,n}return k_(t,a),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){switch(e.pinned){case ae.PINNED_LEFT:e.eSecondaryContainers=[[i.gridBodyCtrl.getBodyViewportElement(),i.leftRowContainerCtrl.getContainerElement()],[i.bottomLeftRowContainerCtrl.getContainerElement()],[i.topLeftRowContainerCtrl.getContainerElement()]];break;case ae.PINNED_RIGHT:e.eSecondaryContainers=[[i.gridBodyCtrl.getBodyViewportElement(),i.rightRowContainerCtrl.getContainerElement()],[i.bottomRightRowContainerCtrl.getContainerElement()],[i.topRightRowContainerCtrl.getContainerElement()]];break;default:e.eSecondaryContainers=[[i.gridBodyCtrl.getBodyViewportElement(),i.centerRowContainerCtrl.getViewportElement()],[i.bottomCenterRowContainerCtrl.getViewportElement()],[i.topCenterRowContainerCtrl.getViewportElement()]]}})},t.prototype.isInterestedIn=function(e){return e===z.rvo.HeaderCell||e===z.rvo.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},t.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},t.prototype.getContainer=function(){return this.eContainer},t.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new xg(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new va(this.pinned)),this.dragAndDropService.addDropTarget(this)},t.prototype.getIconName=function(){return this.currentDropListener.getIconName()},t.prototype.isDropColumnInPivotMode=function(e){return this.columnModel.isPivotMode()&&e.dragSource.type===z.rvo.ToolPanel},t.prototype.onDragEnter=function(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)},t.prototype.onDragLeave=function(e){this.currentDropListener.onDragLeave(e)},t.prototype.onDragging=function(e){this.currentDropListener.onDragging(e)},t.prototype.onDragStop=function(e){this.currentDropListener.onDragStop(e)},ts([Q("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ts([Q("columnModel")],t.prototype,"columnModel",void 0),ts([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),ts([be],t.prototype,"postConstruct",null),ts([be],t.prototype,"init",null),t}(Ze),Tg=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vc=0,to=function(a){function t(e,i){var n=a.call(this)||this;return n.lastFocusEvent=null,n.columnGroupChild=e,n.parentRowCtrl=i,n.instanceId=e.getUniqueId()+"-"+vc++,n}return Tg(t,a),t.prototype.shouldStopEventPropagation=function(e){var i=this.focusService.getFocusedHeader();return Rf(this.gridOptionsWrapper,e,i.headerRowIndex,i.column)},t.prototype.setGui=function(e){this.eGui=e,this.addDomData()},t.prototype.addDomData=function(){var e=this,i=t.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,i,this),this.addDestroyFunc(function(){return e.gridOptionsWrapper.setDomData(e.eGui,i,null)})},t.prototype.getGui=function(){return this.eGui},t.prototype.focus=function(e){return!!this.eGui&&(this.lastFocusEvent=e||null,this.eGui.focus(),!0)},t.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},t.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},t.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.getColumnGroupChild=function(){return this.columnGroupChild},t.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);n>3&&s&&Object.defineProperty(t,e,s)}([Q("focusService")],t.prototype,"focusService",void 0),t}(Ze);!function(a){a[a.SINGLE_SHEET=0]="SINGLE_SHEET",a[a.MULTI_SHEET=1]="MULTI_SHEET"}(z.nPL||(z.nPL={})),function(a){a.EVERYTHING="group",a.FILTER="filter",a.SORT="sort",a.MAP="map",a.AGGREGATE="aggregate",a.PIVOT="pivot",a.NOTHING="nothing"}(z.j_r||(z.j_r={}));var _t=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s};function Cn(a){return null!=a&&null!=a.getFrameworkComponentInstance?a.getFrameworkComponentInstance():a}var Je=function(){function a(){this.detailGridInfoMap={},this.destroyCalled=!1}return a.prototype.registerOverlayWrapperComp=function(t){this.overlayWrapperComp=t},a.prototype.registerSideBarComp=function(t){this.sideBarComp=t},a.prototype.init=function(){var t=this;switch(this.rowModel.getType()){case ae.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case ae.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case ae.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){t.gridBodyCon=t.ctrlsService.getGridBodyCtrl()})},a.prototype.__getAlignedGridService=function(){return this.alignedGridsService},a.prototype.__getContext=function(){return this.context},a.prototype.addDetailGridInfo=function(t,e){this.detailGridInfoMap[t]=e},a.prototype.removeDetailGridInfo=function(t){this.detailGridInfoMap[t]=void 0},a.prototype.getDetailGridInfo=function(t){return this.detailGridInfoMap[t]},a.prototype.forEachDetailGridInfo=function(t){var e=0;v(this.detailGridInfoMap,function(i,n){W(n)&&(t(n,e),e++)})},a.prototype.getDataAsCsv=function(t){if(ze.assertRegistered(z.GXE.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(t)},a.prototype.exportDataAsCsv=function(t){ze.assertRegistered(z.GXE.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(t)},a.prototype.getExcelExportMode=function(t){var e=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({exportMode:"xlsx"},e,t).exportMode},a.prototype.getDataAsExcel=function(t){if(ze.assertRegistered(z.GXE.ExcelExportModule,"api.getDataAsExcel")){var e=this.getExcelExportMode(t);return this.excelCreator.getFactoryMode(e)===z.nPL.MULTI_SHEET?void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`"):this.excelCreator.getDataAsExcel(t)}},a.prototype.exportDataAsExcel=function(t){if(ze.assertRegistered(z.GXE.ExcelExportModule,"api.exportDataAsExcel")){var e=this.getExcelExportMode(t);if(this.excelCreator.getFactoryMode(e)===z.nPL.MULTI_SHEET)return void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");this.excelCreator.exportDataAsExcel(t)}},a.prototype.getSheetDataForExcel=function(t){if(ze.assertRegistered(z.GXE.ExcelExportModule,"api.getSheetDataForExcel")){var e=this.getExcelExportMode(t);return this.excelCreator.setFactoryMode(z.nPL.MULTI_SHEET,e),this.excelCreator.getSheetDataForExcel(t)}},a.prototype.getMultipleSheetsAsExcel=function(t){if(ze.assertRegistered(z.GXE.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(t)},a.prototype.exportMultipleSheetsAsExcel=function(t){if(ze.assertRegistered(z.GXE.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(t)},a.prototype.setEnterpriseDatasource=function(t){console.warn("AG Grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(t)},a.prototype.setGridAriaProperty=function(t,e){if(t){var i=this.ctrlsService.getGridBodyCtrl().getGui(),n="aria-"+t;null===e?i.removeAttribute(n):i.setAttribute(n,e)}},a.prototype.setServerSideDatasource=function(t){this.serverSideRowModel?this.serverSideRowModel.setDatasource(t):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+ae.ROW_MODEL_TYPE_SERVER_SIDE+"'")},a.prototype.setDatasource=function(t){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(t):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+ae.ROW_MODEL_TYPE_INFINITE+"'")},a.prototype.setViewportDatasource=function(t){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(t):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+ae.ROW_MODEL_TYPE_VIEWPORT+"'")},a.prototype.setRowData=function(t){null==this.immutableService?console.warn("AG Grid: you can only set rowData when using the Client Side Row Model"):this.immutableService.isActive()?this.immutableService.setRowData(t):(this.selectionService.reset(),this.clientSideRowModel.setRowData(t))},a.prototype.setFloatingTopRowData=function(t){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(t)},a.prototype.setFloatingBottomRowData=function(t){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(t)},a.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},a.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},a.prototype.getFloatingTopRow=function(t){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(t)},a.prototype.getFloatingBottomRow=function(t){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(t)},a.prototype.setPinnedTopRowData=function(t){this.pinnedRowModel.setPinnedTopRowData(t)},a.prototype.setPinnedBottomRowData=function(t){this.pinnedRowModel.setPinnedBottomRowData(t)},a.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},a.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},a.prototype.getPinnedTopRow=function(t){return this.pinnedRowModel.getPinnedTopRow(t)},a.prototype.getPinnedBottomRow=function(t){return this.pinnedRowModel.getPinnedBottomRow(t)},a.prototype.setColumnDefs=function(t,e){void 0===e&&(e="api"),this.columnModel.setColumnDefs(t,e)},a.prototype.setAutoGroupColumnDef=function(t,e){this.gridOptionsWrapper.setProperty("autoGroupColumnDef",t,!0)},a.prototype.setDefaultColDef=function(t,e){this.gridOptionsWrapper.setProperty("defaultColDef",t,!0)},a.prototype.expireValueCache=function(){this.valueCache.expire()},a.prototype.getVerticalPixelRange=function(){return this.gridBodyCon.getScrollFeature().getVScrollPosition()},a.prototype.getHorizontalPixelRange=function(){return this.gridBodyCon.getScrollFeature().getHScrollPosition()},a.prototype.setAlwaysShowHorizontalScroll=function(t){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",t)},a.prototype.setAlwaysShowVerticalScroll=function(t){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",t)},a.prototype.refreshToolPanel=function(){!this.sideBarComp||this.sideBarComp.refresh()},a.prototype.refreshCells=function(t){void 0===t&&(t={}),Array.isArray(t)?console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(t)},a.prototype.flashCells=function(t){void 0===t&&(t={}),this.rowRenderer.flashCells(t)},a.prototype.redrawRows=function(t){void 0===t&&(t={}),this.rowRenderer.redrawRows(t?t.rowNodes:void 0)},a.prototype.setFunctionsReadOnly=function(t){this.gridOptionsWrapper.setProperty("functionsReadOnly",t)},a.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(t){return t.refresh()})},a.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},a.prototype.isColumnFilterPresent=function(){return this.filterManager.isAdvancedFilterPresent()},a.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},a.prototype.getModel=function(){return this.rowModel},a.prototype.setRowNodeExpanded=function(t,e){t&&t.setExpanded(e)},a.prototype.onGroupExpandedOrCollapsed=function(t){E(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),W(t)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:z.j_r.MAP})},a.prototype.refreshInMemoryRowModel=function(t){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(t)},a.prototype.refreshClientSideRowModel=function(t){E(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var e=z.j_r.EVERYTHING,i={group:z.j_r.EVERYTHING,filter:z.j_r.FILTER,map:z.j_r.MAP,aggregate:z.j_r.AGGREGATE,sort:z.j_r.SORT,pivot:z.j_r.PIVOT};if(W(t)&&(e=i[t]),E(e))console.error("AG Grid: invalid step "+t+", available steps are "+Object.keys(i).join(", "));else{var n=!this.gridOptionsWrapper.isSuppressAnimationFrame();this.clientSideRowModel.refreshModel({step:e,keepRenderedRows:!0,keepEditingRows:!0,animate:n})}},a.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},a.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},a.prototype.getRowNode=function(t){return this.rowModel.getRowNode(t)},a.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},a.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},a.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},a.prototype.getToolPanelInstance=function(t){if(this.sideBarComp)return Cn(this.sideBarComp.getToolPanelInstance(t));console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},a.prototype.addVirtualRowListener=function(t,e,i){"string"!=typeof t&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(t,e,i)},a.prototype.addRenderedRowListener=function(t,e,i){"virtualRowSelected"===t&&console.warn("AG Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(t,e,i)},a.prototype.setQuickFilter=function(t){this.filterManager.setQuickFilter(t)},a.prototype.selectIndex=function(t,e,i){console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),i&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(t,e)},a.prototype.deselectIndex=function(t,e){void 0===e&&(e=!1),console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),e&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(t)},a.prototype.selectNode=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),i&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),t.setSelectedParams({newValue:!0,clearSelection:!e})},a.prototype.deselectNode=function(t,e){void 0===e&&(e=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),e&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),t.setSelectedParams({newValue:!1})},a.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},a.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},a.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},a.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},a.prototype.recomputeAggregates=function(){E(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:z.j_r.AGGREGATE})},a.prototype.sizeColumnsToFit=function(){this.gridBodyCon.sizeColumnsToFit()},a.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},a.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},a.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},a.prototype.isNodeSelected=function(t){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),t.isSelected()},a.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},a.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},a.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},a.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},a.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},a.prototype.ensureColIndexVisible=function(t){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},a.prototype.ensureColumnVisible=function(t,e){void 0===e&&(e="auto"),this.gridBodyCon.getScrollFeature().ensureColumnVisible(t,e)},a.prototype.ensureIndexVisible=function(t,e){this.gridBodyCon.getScrollFeature().ensureIndexVisible(t,e)},a.prototype.ensureNodeVisible=function(t,e){void 0===e&&(e=null),this.gridBodyCon.getScrollFeature().ensureNodeVisible(t,e)},a.prototype.forEachLeafNode=function(t){E(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(t)},a.prototype.forEachNode=function(t){this.rowModel.forEachNode(t)},a.prototype.forEachNodeAfterFilter=function(t){E(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(t)},a.prototype.forEachNodeAfterFilterAndSort=function(t){E(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(t)},a.prototype.getFilterInstance=function(t,e){var i=this.getFilterInstanceImpl(t,function(s){if(e){var d=Cn(s);e(d)}});return Cn(i)},a.prototype.getFilterInstanceImpl=function(t,e){var i=this.columnModel.getPrimaryColumn(t);if(i){var n=this.filterManager.getFilterComponent(i,"NO_UI"),s=n&&n.resolveNow(null,function(d){return d});return s?setTimeout(e,0,s):n&&n.then(function(d){e(d)}),s}},a.prototype.destroyFilter=function(t){var e=this.columnModel.getPrimaryColumn(t);if(e)return this.filterManager.destroyFilter(e,"filterDestroyed")},a.prototype.getStatusPanel=function(t){if(this.statusBarService)return Cn(this.statusBarService.getStatusPanel(t))},a.prototype.getColumnDef=function(t){var e=this.columnModel.getPrimaryColumn(t);return e?e.getColDef():null},a.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},a.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},a.prototype.onSortChanged=function(){this.sortController.onSortChanged()},a.prototype.setFilterModel=function(t){this.filterManager.setFilterModel(t)},a.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},a.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},a.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},a.prototype.setFocusedCell=function(t,e,i){this.focusService.setFocusedCell(t,e,i,!0)},a.prototype.setSuppressRowDrag=function(t){this.gridOptionsWrapper.setProperty(et.PROP_SUPPRESS_ROW_DRAG,t)},a.prototype.setSuppressMoveWhenRowDragging=function(t){this.gridOptionsWrapper.setProperty(et.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,t)},a.prototype.setSuppressRowClickSelection=function(t){this.gridOptionsWrapper.setProperty(et.PROP_SUPPRESS_ROW_CLICK_SELECTION,t)},a.prototype.addRowDropZone=function(t){this.gridBodyCon.getRowDragFeature().addRowDropZone(t)},a.prototype.removeRowDropZone=function(t){var e=this.dragAndDropService.findExternalZone(t);e&&this.dragAndDropService.removeDropTarget(e)},a.prototype.getRowDropZoneParams=function(t){return this.gridBodyCon.getRowDragFeature().getRowDropZone(t)},a.prototype.setHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(et.PROP_HEADER_HEIGHT,t)},a.prototype.setDomLayout=function(t){this.gridOptionsWrapper.setProperty(et.PROP_DOM_LAYOUT,t)},a.prototype.setEnableCellTextSelection=function(t){this.gridBodyCon.setCellTextSelection(t)},a.prototype.setFillHandleDirection=function(t){this.gridOptionsWrapper.setProperty(et.PROP_FILL_HANDLE_DIRECTION,t)},a.prototype.setGroupHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(et.PROP_GROUP_HEADER_HEIGHT,t)},a.prototype.setFloatingFiltersHeight=function(t){this.gridOptionsWrapper.setProperty(et.PROP_FLOATING_FILTERS_HEIGHT,t)},a.prototype.setPivotHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(et.PROP_PIVOT_HEADER_HEIGHT,t)},a.prototype.setPivotGroupHeaderHeight=function(t){this.gridOptionsWrapper.setProperty(et.PROP_PIVOT_GROUP_HEADER_HEIGHT,t)},a.prototype.setIsExternalFilterPresent=function(t){this.gridOptionsWrapper.setProperty(et.PROP_IS_EXTERNAL_FILTER_PRESENT,t)},a.prototype.setDoesExternalFilterPass=function(t){this.gridOptionsWrapper.setProperty(et.PROP_DOES_EXTERNAL_FILTER_PASS,t)},a.prototype.setNavigateToNextCell=function(t){this.gridOptionsWrapper.setProperty(et.PROP_NAVIGATE_TO_NEXT_CELL,t)},a.prototype.setTabToNextCell=function(t){this.gridOptionsWrapper.setProperty(et.PROP_TAB_TO_NEXT_CELL,t)},a.prototype.setTabToNextHeader=function(t){this.gridOptionsWrapper.setProperty(et.PROP_TAB_TO_NEXT_HEADER,t)},a.prototype.setNavigateToNextHeader=function(t){this.gridOptionsWrapper.setProperty(et.PROP_NAVIGATE_TO_NEXT_HEADER,t)},a.prototype.setGroupRowAggNodes=function(t){this.gridOptionsWrapper.setProperty(et.PROP_GROUP_ROW_AGG_NODES,t)},a.prototype.setGetBusinessKeyForNode=function(t){this.gridOptionsWrapper.setProperty(et.PROP_GET_BUSINESS_KEY_FOR_NODE,t)},a.prototype.setGetChildCount=function(t){this.gridOptionsWrapper.setProperty(et.PROP_GET_CHILD_COUNT,t)},a.prototype.setProcessRowPostCreate=function(t){this.gridOptionsWrapper.setProperty(et.PROP_PROCESS_ROW_POST_CREATE,t)},a.prototype.setGetRowNodeId=function(t){this.gridOptionsWrapper.setProperty(et.PROP_GET_ROW_NODE_ID,t)},a.prototype.setGetRowClass=function(t){this.gridOptionsWrapper.setProperty(et.PROP_GET_ROW_CLASS,t)},a.prototype.setIsFullWidthCell=function(t){this.gridOptionsWrapper.setProperty(et.PROP_IS_FULL_WIDTH_CELL,t)},a.prototype.setIsRowSelectable=function(t){this.gridOptionsWrapper.setProperty(et.PROP_IS_ROW_SELECTABLE,t)},a.prototype.setIsRowMaster=function(t){this.gridOptionsWrapper.setProperty(et.PROP_IS_ROW_MASTER,t)},a.prototype.setPostSort=function(t){this.gridOptionsWrapper.setProperty(et.PROP_POST_SORT,t)},a.prototype.setGetDocument=function(t){this.gridOptionsWrapper.setProperty(et.PROP_GET_DOCUMENT,t)},a.prototype.setGetContextMenuItems=function(t){this.gridOptionsWrapper.setProperty(et.PROP_GET_CONTEXT_MENU_ITEMS,t)},a.prototype.setGetMainMenuItems=function(t){this.gridOptionsWrapper.setProperty(et.PROP_GET_MAIN_MENU_ITEMS,t)},a.prototype.setProcessCellForClipboard=function(t){this.gridOptionsWrapper.setProperty(et.PROP_PROCESS_CELL_FOR_CLIPBOARD,t)},a.prototype.setSendToClipboard=function(t){this.gridOptionsWrapper.setProperty(et.PROP_SEND_TO_CLIPBOARD,t)},a.prototype.setProcessCellFromClipboard=function(t){this.gridOptionsWrapper.setProperty(et.PROP_PROCESS_CELL_FROM_CLIPBOARD,t)},a.prototype.setProcessSecondaryColDef=function(t){this.gridOptionsWrapper.setProperty(et.PROP_PROCESS_TO_SECONDARY_COLDEF,t)},a.prototype.setProcessSecondaryColGroupDef=function(t){this.gridOptionsWrapper.setProperty(et.PROP_PROCESS_SECONDARY_COL_GROUP_DEF,t)},a.prototype.setPostProcessPopup=function(t){this.gridOptionsWrapper.setProperty(et.PROP_POST_PROCESS_POPUP,t)},a.prototype.setDefaultGroupOrderComparator=function(t){this.gridOptionsWrapper.setProperty(et.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,t)},a.prototype.setGetChartToolbarItems=function(t){this.gridOptionsWrapper.setProperty(et.PROP_GET_CHART_TOOLBAR_ITEMS,t)},a.prototype.setPaginationNumberFormatter=function(t){this.gridOptionsWrapper.setProperty(et.PROP_PAGINATION_NUMBER_FORMATTER,t)},a.prototype.setGetServerSideStoreParams=function(t){this.gridOptionsWrapper.setProperty(et.PROP_GET_SERVER_SIDE_STORE_PARAMS,t)},a.prototype.setIsServerSideGroupOpenByDefault=function(t){this.gridOptionsWrapper.setProperty(et.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,t)},a.prototype.setIsApplyServerSideTransaction=function(t){this.gridOptionsWrapper.setProperty(et.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,t)},a.prototype.setIsServerSideGroup=function(t){this.gridOptionsWrapper.setProperty(et.PROP_IS_SERVER_SIDE_GROUP,t)},a.prototype.setGetServerSideGroupKey=function(t){this.gridOptionsWrapper.setProperty(et.PROP_GET_SERVER_SIDE_GROUP_KEY,t)},a.prototype.setGetRowStyle=function(t){this.gridOptionsWrapper.setProperty(et.PROP_GET_ROW_STYLE,t)},a.prototype.setGetRowHeight=function(t){this.gridOptionsWrapper.setProperty(et.PROP_GET_ROW_HEIGHT,t)},a.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},a.prototype.setSideBarVisible=function(t){this.sideBarComp?this.sideBarComp.setDisplayed(t):t&&console.warn("AG Grid: sideBar is not loaded")},a.prototype.setSideBarPosition=function(t){this.sideBarComp?this.sideBarComp.setSideBarPosition(t):console.warn("AG Grid: sideBar is not loaded")},a.prototype.openToolPanel=function(t){this.sideBarComp?this.sideBarComp.openToolPanel(t):console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},a.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},a.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},a.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},a.prototype.setSideBar=function(t){this.gridOptionsWrapper.setProperty("sideBar",la.parse(t))},a.prototype.setSuppressClipboardPaste=function(t){this.gridOptionsWrapper.setProperty(et.PROP_SUPPRESS_CLIPBOARD_PASTE,t)},a.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},a.prototype.doLayout=function(){ye(function(){return console.warn("AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically")},"doLayoutDeprecated")},a.prototype.resetRowHeights=function(){if(W(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},a.prototype.setGroupRemoveSingleChildren=function(t){this.gridOptionsWrapper.setProperty(et.PROP_GROUP_REMOVE_SINGLE_CHILDREN,t)},a.prototype.setGroupRemoveLowestSingleChildren=function(t){this.gridOptionsWrapper.setProperty(et.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,t)},a.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},a.prototype.getValue=function(t,e){var i=this.columnModel.getPrimaryColumn(t);return E(i)&&(i=this.columnModel.getGridColumn(t)),E(i)?null:this.valueService.getValue(i,e)},a.prototype.addEventListener=function(t,e){var i=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(t,e,i)},a.prototype.addGlobalListener=function(t){var e=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(t,e)},a.prototype.removeEventListener=function(t,e){var i=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(t,e,i)},a.prototype.removeGlobalListener=function(t){var e=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(t,e)},a.prototype.dispatchEvent=function(t){this.eventService.dispatchEvent(t)},a.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var t=this.ctrlsService.getGridCtrl();t&&t.destroyGridUi(),this.context.destroy()}},a.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(ce.bind(window,this,"Grid API"),100)},a.prototype.warnIfDestroyed=function(t){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+t+" was called on a grid that was destroyed."),this.destroyCalled},a.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(t){return t.quickFilterAggregateText=null})},a.prototype.getRangeSelections=function(){return console.warn("AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the AG Grid documentation."),null},a.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},a.prototype.camelCaseToHumanReadable=function(t){return fl(t)},a.prototype.addRangeSelection=function(t){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},a.prototype.addCellRange=function(t){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(t)},a.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},a.prototype.undoCellEditing=function(){this.undoRedoService.undo()},a.prototype.redoCellEditing=function(){this.undoRedoService.redo()},a.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},a.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},a.prototype.getChartModels=function(){if(ze.assertRegistered(z.GXE.RangeSelectionModule,"api.getChartModels")&&ze.assertRegistered(z.GXE.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},a.prototype.getChartRef=function(t){if(ze.assertRegistered(z.GXE.RangeSelectionModule,"api.getChartRef")&&ze.assertRegistered(z.GXE.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(t)},a.prototype.getChartImageDataURL=function(t){if(ze.assertRegistered(z.GXE.RangeSelectionModule,"api.getChartImageDataURL")&&ze.assertRegistered(z.GXE.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(t)},a.prototype.createRangeChart=function(t){if(ze.assertRegistered(z.GXE.RangeSelectionModule,"api.createRangeChart")&&ze.assertRegistered(z.GXE.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(t)},a.prototype.createCrossFilterChart=function(t){if(ze.assertRegistered(z.GXE.RangeSelectionModule,"api.createCrossFilterChart")&&ze.assertRegistered(z.GXE.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(t)},a.prototype.restoreChart=function(t,e){if(ze.assertRegistered(z.GXE.RangeSelectionModule,"api.restoreChart")&&ze.assertRegistered(z.GXE.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(t,e)},a.prototype.createPivotChart=function(t){if(ze.assertRegistered(z.GXE.RangeSelectionModule,"api.createPivotChart")&&ze.assertRegistered(z.GXE.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(t)},a.prototype.copySelectedRowsToClipboard=function(t){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(t)},a.prototype.copySelectedRangeToClipboard=function(t){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(t)},a.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},a.prototype.showColumnMenuAfterButtonClick=function(t,e){var i=this.columnModel.getGridColumn(t);this.menuFactory.showMenuAfterButtonClick(i,e,"columnMenu")},a.prototype.showColumnMenuAfterMouseClick=function(t,e){var i=this.columnModel.getGridColumn(t);i||(i=this.columnModel.getPrimaryColumn(t)),i?this.menuFactory.showMenuAfterMouseEvent(i,e):console.error("AG Grid: column '"+t+"' not found")},a.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},a.prototype.setPopupParent=function(t){this.gridOptionsWrapper.setProperty(et.PROP_POPUP_PARENT,t)},a.prototype.tabToNextCell=function(t){return this.navigationService.tabToNextCell(!1,t)},a.prototype.tabToPreviousCell=function(t){return this.navigationService.tabToNextCell(!0,t)},a.prototype.getCellRendererInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellRendererInstances(t).map(Cn)},a.prototype.getCellEditorInstances=function(t){return void 0===t&&(t={}),this.rowRenderer.getCellEditorInstances(t).map(Cn)},a.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},a.prototype.stopEditing=function(t){void 0===t&&(t=!1),this.rowRenderer.stopEditing(t)},a.prototype.startEditingCell=function(t){var e=this.columnModel.getGridColumn(t.colKey);if(e){var i={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:e};null==t.rowPinned&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(t.rowIndex);var s=this.navigationService.getCellByPosition(i);!s||s.startRowOrCellEdit(t.key,t.charPress)}else console.warn("AG Grid: no column found for "+t.colKey)},a.prototype.addAggFunc=function(t,e){this.aggFuncService&&this.aggFuncService.addAggFunc(t,e)},a.prototype.addAggFuncs=function(t){this.aggFuncService&&this.aggFuncService.addAggFuncs(t)},a.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},a.prototype.applyServerSideTransaction=function(t){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(t);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},a.prototype.applyServerSideTransactionAsync=function(t,e){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(t,e);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},a.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.")},a.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.")},a.prototype.applyTransaction=function(t){if(this.clientSideRowModel){var e=this.clientSideRowModel.updateRowData(t);return this.rowRenderer.refreshFullWidthRows(e.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),e}console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1")},a.prototype.updateRowData=function(t){return ye(function(){return console.warn("AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")},"updateRowData deprecated"),this.applyTransaction(t)},a.prototype.applyTransactionAsync=function(t,e){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(t,e):console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},a.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},a.prototype.batchUpdateRowData=function(t,e){ye(function(){return console.warn("AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")},"batchUpdateRowData deprecated"),this.applyTransactionAsync(t,e)},a.prototype.insertItemsAtIndex=function(t,e,i){console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:e,addIndex:t,update:null,remove:null})},a.prototype.removeItems=function(t,e){console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var i=t.map(function(n){return n.data});this.updateRowData({add:null,addIndex:null,update:null,remove:i})},a.prototype.addItems=function(t,e){console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:t,addIndex:null,update:null,remove:null})},a.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},a.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},a.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},a.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},a.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},a.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},a.prototype.purgeEnterpriseCache=function(t){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(t)},a.prototype.purgeServerSideCache=function(t){void 0===t&&(t=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSideStore({purge: true}) instead."),this.refreshServerSideStore({route:t,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},a.prototype.refreshServerSideStore=function(t){this.serverSideRowModel?this.serverSideRowModel.refreshStore(t):console.warn("AG Grid: api.refreshServerSideStore is only available when rowModelType='serverSide'.")},a.prototype.getServerSideStoreState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideStoreState is only available when rowModelType='serverSide'."),[])},a.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},a.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},a.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isLastRowIndexKnown is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},a.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},a.prototype.setVirtualRowCount=function(t,e){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(t,e)},a.prototype.setInfiniteRowCount=function(t,e){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(t,e)},a.prototype.setRowCount=function(t,e){this.infiniteRowModel?this.infiniteRowModel.setRowCount(t,e):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},a.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},a.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},a.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},a.prototype.checkGridSize=function(){console.warn("in AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything uesful.")},a.prototype.getFirstRenderedRow=function(){return console.warn("in AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},a.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},a.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},a.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},a.prototype.getDisplayedRowAtIndex=function(t){return this.rowModel.getRow(t)},a.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},a.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},a.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},a.prototype.paginationSetPageSize=function(t){this.gridOptionsWrapper.setProperty("paginationPageSize",t)},a.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},a.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},a.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},a.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},a.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},a.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},a.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},a.prototype.paginationGoToPage=function(t){this.paginationProxy.goToPage(t)},_t([it("immutableService")],a.prototype,"immutableService",void 0),_t([it("csvCreator")],a.prototype,"csvCreator",void 0),_t([it("excelCreator")],a.prototype,"excelCreator",void 0),_t([Q("rowRenderer")],a.prototype,"rowRenderer",void 0),_t([Q("navigationService")],a.prototype,"navigationService",void 0),_t([Q("filterManager")],a.prototype,"filterManager",void 0),_t([Q("columnModel")],a.prototype,"columnModel",void 0),_t([Q("selectionService")],a.prototype,"selectionService",void 0),_t([Q("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),_t([Q("valueService")],a.prototype,"valueService",void 0),_t([Q("alignedGridsService")],a.prototype,"alignedGridsService",void 0),_t([Q("eventService")],a.prototype,"eventService",void 0),_t([Q("pinnedRowModel")],a.prototype,"pinnedRowModel",void 0),_t([Q("context")],a.prototype,"context",void 0),_t([Q("rowModel")],a.prototype,"rowModel",void 0),_t([Q("sortController")],a.prototype,"sortController",void 0),_t([Q("paginationProxy")],a.prototype,"paginationProxy",void 0),_t([Q("focusService")],a.prototype,"focusService",void 0),_t([Q("dragAndDropService")],a.prototype,"dragAndDropService",void 0),_t([it("rangeService")],a.prototype,"rangeService",void 0),_t([it("clipboardService")],a.prototype,"clipboardService",void 0),_t([it("aggFuncService")],a.prototype,"aggFuncService",void 0),_t([Q("menuFactory")],a.prototype,"menuFactory",void 0),_t([it("contextMenuFactory")],a.prototype,"contextMenuFactory",void 0),_t([Q("valueCache")],a.prototype,"valueCache",void 0),_t([Q("animationFrameService")],a.prototype,"animationFrameService",void 0),_t([it("statusBarService")],a.prototype,"statusBarService",void 0),_t([it("chartService")],a.prototype,"chartService",void 0),_t([it("undoRedoService")],a.prototype,"undoRedoService",void 0),_t([it("rowNodeBlockLoader")],a.prototype,"rowNodeBlockLoader",void 0),_t([it("ssrmTransactionManager")],a.prototype,"serverSideTransactionManager",void 0),_t([Q("ctrlsService")],a.prototype,"ctrlsService",void 0),_t([it("frameworkComponentWrapper")],a.prototype,"frameworkComponentWrapper",void 0),_t([be],a.prototype,"init",null),_t([Xe],a.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),_t([je("gridApi")],a)}(),Fg=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ya=function(a){function t(e,i,n,s){var d=a.call(this)||this;return d.columnOrGroup=e,d.eCell=i,d.ariaEl=d.eCell.querySelector("[role=columnheader]")||d.eCell,d.colsSpanning=s,d.beans=n,d}return Fg(t,a),t.prototype.setColsSpanning=function(e){this.colsSpanning=e,this.onLeftChanged()},t.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?Qe(this.colsSpanning):this.columnOrGroup},t.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,lt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,ue.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,et.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},t.prototype.setLeftFirstTime=function(){var e=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),i=W(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&i&&!e?this.animateInLeft():this.onLeftChanged()},t.prototype.animateInLeft=function(){var e=this,i=this.getColumnOrGroup(),n=i.getLeft(),s=i.getOldLeft(),d=this.modifyLeftForPrintLayout(i,s),h=this.modifyLeftForPrintLayout(i,n);this.setLeft(d),this.actualLeft=h,this.beans.columnAnimationService.executeNextVMTurn(function(){e.actualLeft===h&&e.setLeft(h)})},t.prototype.onLeftChanged=function(){var e=this.getColumnOrGroup(),i=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,i),this.setLeft(this.actualLeft)},t.prototype.modifyLeftForPrintLayout=function(e,i){if(this.beans.gridOptionsWrapper.getDomLayout()!==ae.DOM_LAYOUT_PRINT||e.getPinned()===ae.PINNED_LEFT)return i;var s=this.beans.columnModel.getDisplayedColumnsLeftWidth();return e.getPinned()===ae.PINNED_RIGHT?s+this.beans.columnModel.getBodyContainerWidth()+i:s+i},t.prototype.setLeft=function(e){var i;if(W(e)&&(this.eCell.style.left=e+"px"),this.columnOrGroup instanceof lt)i=this.columnOrGroup;else{var s=this.columnOrGroup.getLeafColumns();if(!s.length)return;s.length>1&&Uu(this.ariaEl,s.length),i=s[0]}var d=this.beans.columnModel.getAriaColumnIndex(i);Il(this.ariaEl,d)},function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);n>3&&s&&Object.defineProperty(t,e,s)}([be],t.prototype,"postConstruct",null),t}(Ze),G_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),qd=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},_c=function(a){function t(e,i){var n=a.call(this)||this;return n.columns=e,n.element=i,n}return G_(t,a),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},t.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},t.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},t.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},qd([Q("columnHoverService")],t.prototype,"columnHoverService",void 0),qd([be],t.prototype,"postConstruct",null),t}(Ze),Pg=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wn=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},_a=function(a){function t(e,i){var n=a.call(this,e,i)||this;return n.column=e,n}return Pg(t,a),t.prototype.setComp=function(e,i,n,s){a.prototype.setGui.call(this,i),this.comp=e,this.eButtonShowMainFilter=n,this.eFloatingFilterBody=s;var d=this.column.getColDef();this.active=!(!d.filter&&!d.filterFramework||!d.floatingFilter),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},t.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var e=qt("filter",this.gridOptionsWrapper,this.column);e&&this.eButtonShowMainFilter.appendChild(e)}},t.prototype.setupFocus=function(){this.createManagedBean(new mn(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.onTabKeyDown=function(e){if(this.gridOptionsWrapper.getDocument().activeElement!==this.eGui){var d=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(d)return this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),void d.focus();var h=this.findNextColumnWithFloatingFilter(e.shiftKey);!h||this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:h},event:e})&&e.preventDefault()}},t.prototype.findNextColumnWithFloatingFilter=function(e){var i=this.beans.columnModel,n=this.column;do{if(!(n=e?i.getDisplayedColBefore(n):i.getDisplayedColAfter(n)))break}while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n},t.prototype.handleKeyDown=function(e){var s=this.gridOptionsWrapper.getDocument().activeElement===this.eGui;switch(e.key){case Ue.UP:case Ue.DOWN:s||e.preventDefault();case Ue.LEFT:case Ue.RIGHT:if(s)return;e.stopPropagation();case Ue.ENTER:s&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case Ue.ESCAPE:s||this.eGui.focus()}},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),s=!!e.relatedTarget&&bt(e.relatedTarget,"ag-floating-filter");if(n&&s&&e.target===this.eGui){var d=this.lastFocusEvent;d&&d&&d.key===Ue.TAB&&this.focusService.focusInto(this.eGui,d.shiftKey)}var L=this.getRowIndex();this.beans.focusService.setFocusedHeader(L,this.column)}},t.prototype.setupHover=function(){var e=this;this.createManagedBean(new _c([this.column],this.eGui));var i=function(){if(e.gridOptionsWrapper.isColumnHoverHighlight()){var n=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",n)}};this.addManagedListener(this.eventService,ue.EVENT_COLUMN_HOVER_CHANGED,i),i()},t.prototype.setupLeft=function(){var e=new ya(this.column,this.eGui,this.beans);this.createManagedBean(e)},t.prototype.setupUserComp=function(){var e=this;if(this.active){var i=this.column.getColDef(),n=this.filterManager.createFilterParams(this.column,i),s=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(i,tc,n),d=this.userComponentFactory.getDefaultFloatingFilterType(i);null==d&&(d="agReadOnlyFloatingFilter");var h={api:this.gridApi,column:this.column,filterParams:s,currentParentModel:function(){return e.currentParentModel()},parentFilterInstance:function(L){return e.parentFilterInstance(L)},showParentFilter:function(){return e.showParentFilter()},suppressFilterButton:!1};this.suppressFilterButton=!!i.floatingFilterComponentParams&&!!i.floatingFilterComponentParams.suppressFilterButton;var O=this.userComponentFactory.getFloatingFilterCompDetails(i,h,d);O&&this.comp.setCompDetails(O)}},t.prototype.currentParentModel=function(){var e=this.getFilterComponent(!1);return e?e.resolveNow(null,function(i){return i&&i.getModel()}):null},t.prototype.getFilterComponent=function(e){return void 0===e&&(e=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",e)},t.prototype.parentFilterInstance=function(e){var i=this.getFilterComponent();null!=i&&i.then(function(n){e(Cn(n))})},t.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},t.prototype.setupSyncWithFilter=function(){var e=this;if(this.active){var i=function(n){var s=e.comp.getFloatingFilterComp();if(s){var d=e.currentParentModel();s.then(function(h){h&&h.onParentModelChanged(d,n)})}};this.addManagedListener(this.column,lt.EVENT_FILTER_CHANGED,i),this.filterManager.isFilterActive(this.column)&&i(null)}},t.prototype.setupWidth=function(){var e=this,i=function(){var n=e.column.getActualWidth()+"px";e.comp.setWidth(n)};this.addManagedListener(this.column,lt.EVENT_WIDTH_CHANGED,i),i()},wn([Q("userComponentFactory")],t.prototype,"userComponentFactory",void 0),wn([Q("filterManager")],t.prototype,"filterManager",void 0),wn([Q("columnHoverService")],t.prototype,"columnHoverService",void 0),wn([Q("gridApi")],t.prototype,"gridApi",void 0),wn([Q("menuFactory")],t.prototype,"menuFactory",void 0),wn([Q("beans")],t.prototype,"beans",void 0),t}(to),no=function(){function a(){}return a.getHeaderClassesFromColDef=function(t,e,i,n){return E(t)?[]:this.getColumnClassesFromCollDef(t.headerClass,t,e,i,n)},a.getToolPanelClassesFromColDef=function(t,e,i,n){return E(t)?[]:this.getColumnClassesFromCollDef(t.toolPanelClass,t,e,i,n)},a.getClassParams=function(t,e,i,n){return{colDef:t,column:i,columnGroup:n,context:e.getContext(),api:e.getApi()}},a.getColumnClassesFromCollDef=function(t,e,i,n,s){return E(t)?[]:"string"==typeof(d="function"==typeof t?t(this.getClassParams(e,i,n,s)):t)?[d]:Array.isArray(d)?d:[];var d},a}(),Mg=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ca=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},H_=function(a){function t(e,i,n,s,d){var h=a.call(this)||this;return h.pinned=e,h.column=i,h.eResize=n,h.comp=s,h.ctrl=d,h}return Mg(t,a),t.prototype.postConstruct=function(){var s,d,e=this,i=this.column.getColDef(),n=[],O=function(){n.forEach(function(j){return j()}),n.length=0},L=function(){var j=e.column.isResizable(),q=!e.gridOptionsWrapper.isSuppressAutoSize()&&!i.suppressAutoSize;(j!==s||q!==d)&&(s=j,d=q,O(),function(){if(Pt(e.eResize,s),s){var j=e.horizontalResizeService.addResizeBar({eResizeBar:e.eResize,onResizeStart:e.onResizeStart.bind(e),onResizing:e.onResizing.bind(e,!1),onResizeEnd:e.onResizing.bind(e,!0)});if(n.push(j),d){var q=e.gridOptionsWrapper.isSkipHeaderOnAutoSize(),J=function(){e.columnModel.autoSizeColumn(e.column,q,"uiColumnResized")};e.eResize.addEventListener("dblclick",J);var re=new Ti(e.eResize);re.addEventListener(Ti.EVENT_DOUBLE_TAP,J),e.addDestroyFunc(function(){e.eResize.removeEventListener("dblclick",J),re.removeEventListener(Ti.EVENT_DOUBLE_TAP,J),re.destroy()})}}}())};L(),this.addDestroyFunc(O),this.ctrl.addRefreshFunction(L)},t.prototype.onResizing=function(e,i){var n=this.normaliseResizeAmount(i);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+n}],this.resizeWithShiftKey,e,"uiColumnDragged"),e&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.onResizeStart=function(e){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=e,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.normaliseResizeAmount=function(e){var i=e,n=this.pinned!==ae.PINNED_LEFT,s=this.pinned===ae.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?n&&(i*=-1):s&&(i*=-1),i},Ca([Q("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),Ca([Q("columnModel")],t.prototype,"columnModel",void 0),Ca([be],t.prototype,"postConstruct",null),t}(Ze),Ig=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ro=function(a){function t(e,i,n){void 0===i&&(i="ag-checkbox"),void 0===n&&(n="checkbox");var s=a.call(this,e,i,n)||this;return s.labelAlignment="right",s.selected=!1,s.readOnly=!1,s.passive=!1,s}return Ig(t,a),t.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},t.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},t.prototype.setPassive=function(e){this.passive=e},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.setReadOnly=function(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e},t.prototype.setDisabled=function(e){return this.eWrapper.classList.toggle("ag-disabled",e),a.prototype.setDisabled.call(this,e)},t.prototype.toggle=function(){if(!this.eInput.disabled){var e=this.isSelected(),i=this.getNextValue();this.passive?this.dispatchChange(i,e):this.setValue(i)}},t.prototype.getValue=function(){return this.isSelected()},t.prototype.setValue=function(e,i){return this.refreshSelectedClass(e),this.setSelected(e,i),this},t.prototype.setName=function(e){return this.getInputElement().name=e,this},t.prototype.isSelected=function(){return this.selected},t.prototype.setSelected=function(e,i){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected="boolean"==typeof e?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=void 0===e,i||this.dispatchChange(this.selected,this.previousValue))},t.prototype.dispatchChange=function(e,i,n){this.dispatchEvent({type:t.EVENT_CHANGED,selected:e,previousValue:i,event:n});var s=this.getInputElement();this.eventService.dispatchEvent({type:ue.EVENT_CHECKBOX_CHANGED,id:s.id,name:s.name,selected:e,previousValue:i})},t.prototype.onCheckboxClick=function(e){if(!this.passive&&!this.eInput.disabled){var i=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,i,e)}},t.prototype.refreshSelectedClass=function(e){this.eWrapper.classList.toggle("ag-checked",!0===e),this.eWrapper.classList.toggle("ag-indeterminate",null==e)},t}(vn),Lg=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bn=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Ng=function(a){function t(e){var i=a.call(this)||this;i.cbSelectAllVisible=!1,i.processingEventFromCheckbox=!1,i.column=e;var n=e.getColDef();return i.filteredOnly=!!n&&!!n.headerCheckboxSelectionFilteredOnly,i}return Lg(t,a),t.prototype.onSpaceKeyPressed=function(e){var i=this.cbSelectAll,n=this.gridOptionsWrapper.getDocument();i.isDisplayed()&&!i.getGui().contains(n.activeElement)&&(e.preventDefault(),i.setValue(!i.getValue()))},t.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},t.prototype.setComp=function(e){this.comp=e,this.cbSelectAll=this.createManagedBean(new ro),this.cbSelectAll.addCssClass("ag-header-select-all"),fi(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,ue.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,ro.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},t.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshHeaderAriaDescribedBy(this.cbSelectAllVisible)},t.prototype.refreshHeaderAriaDescribedBy=function(e){var i=e?this.cbSelectAll.getInputElement().id:void 0;this.comp.setAriaDescribedBy(i)},t.prototype.onModelChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},t.prototype.onSelectionChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},t.prototype.getNextCheckboxState=function(e){return(0!==e.selected||0!==e.notSelected)&&(e.selected>0&&e.notSelected>0?null:e.selected>0)},t.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var e=this.getSelectionCount(),i=this.getNextCheckboxState(e);this.cbSelectAll.setValue(i),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},t.prototype.refreshSelectAllLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),s=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAll.setInputAriaLabel(s+" ("+n+")")},t.prototype.getSelectionCount=function(){var e=this,i=0,n=0,s=function(d){e.gridOptionsWrapper.isGroupSelectsChildren()&&d.group||(d.isSelected()?i++:d.selectable&&n++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(s):this.gridApi.forEachNode(s),{notSelected:n,selected:i}},t.prototype.checkRightRowModelType=function(){var e=this.rowModel.getType();e===ae.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+e)},t.prototype.onCbSelectAll=function(){!this.processingEventFromCheckbox&&this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly))},t.prototype.isCheckboxSelection=function(){var e=this.column.getColDef().headerCheckboxSelection;return"function"==typeof e&&(e=e({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi})),!(!e||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("AG Grid: headerCheckboxSelection is not supported for Viewport Row Model"),1)))},bn([Q("gridApi")],t.prototype,"gridApi",void 0),bn([Q("columnApi")],t.prototype,"columnApi",void 0),bn([Q("rowModel")],t.prototype,"rowModel",void 0),bn([Q("selectionService")],t.prototype,"selectionService",void 0),t}(Ze),Bg=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),sn=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Cc=function(a){function t(e,i){var n=a.call(this,e,i)||this;return n.refreshFunctions=[],n.userHeaderClasses=new Set,n.column=e,n}return Bg(t,a),t.prototype.setComp=function(e,i,n){var s=this;a.prototype.setGui.call(this,i),this.comp=e,this.colDefVersion=this.columnModel.getColDefVersion(),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.createManagedBean(new H_(this.getPinned(),this.column,n,e,this)),this.createManagedBean(new _c([this.column],i)),this.createManagedBean(new ya(this.column,i,this.beans)),this.createManagedBean(new mn(i,{shouldStopEventPropagation:function(d){return s.shouldStopEventPropagation(d)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,ue.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},t.prototype.setupUserComp=function(){var e=this.lookupUserCompDetails();this.setCompDetails(e)},t.prototype.setCompDetails=function(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)},t.prototype.lookupUserCompDetails=function(){var e=this.createParams(),i=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(i,e)},t.prototype.createParams=function(){var e=this,i=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:i.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(s){e.gridApi.showColumnMenuAfterButtonClick(e.column,s)},progressSort:function(s){e.sortController.progressSort(e.column,!!s,"uiColumnSorted")},setSort:function(s,d){e.sortController.setSortForColumn(e.column,s,!!d,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()}},t.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new Ng(this.column)),this.selectAllFeature.setComp(this.comp)},t.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},t.prototype.handleKeyDown=function(e){e.key===Ue.SPACE&&this.selectAllFeature.onSpaceKeyPressed(e),e.key===Ue.ENTER&&this.onEnterKeyPressed(e)},t.prototype.onEnterKeyPressed=function(e){var i=this.comp.getUserCompInstance();i&&(e.ctrlKey||e.metaKey?this.menuEnabled&&i.showMenu&&(e.preventDefault(),i.showMenu()):this.sortable&&this.sortController.progressSort(this.column,e.shiftKey,"uiColumnSorted"))},t.prototype.isMenuEnabled=function(){return this.menuEnabled},t.prototype.onFocusIn=function(e){if(!this.getGui().contains(e.relatedTarget)){var i=this.getRowIndex();this.focusService.setFocusedHeader(i,this.column)}this.setActiveHeader(!0)},t.prototype.onFocusOut=function(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)},t.prototype.setupTooltip=function(){var e=this,n=this.createManagedBean(new sc({getColumn:function(){return e.column},getColDef:function(){return e.column.getColDef()},getGui:function(){return e.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return e.column.getColDef().headerTooltip}},this.beans));n.setComp(this.comp),this.refreshFunctions.push(function(){return n.refreshToolTip()})},t.prototype.setupClassesFromColDef=function(){var e=this,i=function(){var n=e.column.getColDef(),d=no.getHeaderClassesFromColDef(n,e.gridOptionsWrapper,e.column,null),h=e.userHeaderClasses;e.userHeaderClasses=new Set(d),d.forEach(function(O){h.has(O)?h.delete(O):e.comp.addOrRemoveCssClass(O,!0)}),h.forEach(function(O){return e.comp.addOrRemoveCssClass(O,!1)})};this.refreshFunctions.push(i),i()},t.prototype.setDragSource=function(e){var i=this;this.dragSourceElement=e,this.removeDragSource(),e&&(!this.draggable||(this.moveDragSource={type:z.rvo.HeaderCell,eElement:e,defaultIconName:hi.ICON_HIDE,getDragItem:function(){return i.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return i.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return i.column.setMoving(!1,"uiColumnMoved")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)))},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},t.prototype.onNewColumnsLoaded=function(){var e=this.columnModel.getColDefVersion();e!=this.colDefVersion&&(this.colDefVersion=e,this.refresh())},t.prototype.updateState=function(){var e=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!e.suppressMenu,this.sortable=e.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},t.prototype.addRefreshFunction=function(e){this.refreshFunctions.push(e)},t.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshFunctions.forEach(function(e){return e()})},t.prototype.refreshHeaderComp=function(){var e=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==e.componentClass&&this.attemptHeaderCompRefresh(e.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)},t.prototype.attemptHeaderCompRefresh=function(e){var i=this.comp.getUserCompInstance();return!(!i||!i.refresh)&&i.refresh(e)},t.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},t.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},t.prototype.workOutDraggable=function(){var e=this.column.getColDef();return!(this.gridOptionsWrapper.isSuppressMovableColumns()||e.suppressMovable||e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot},t.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},t.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},t.prototype.onColumnValueChanged=function(){this.checkDisplayName()},t.prototype.setupWidth=function(){var e=this,i=function(){e.comp.setWidth(e.column.getActualWidth()+"px")};this.addManagedListener(this.column,lt.EVENT_WIDTH_CHANGED,i),i()},t.prototype.setupMovingCss=function(){var e=this,i=function(){e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.column.isMoving())};this.addManagedListener(this.column,lt.EVENT_MOVING_CHANGED,i),i()},t.prototype.setupMenuClass=function(){var e=this,i=function(){e.comp.addOrRemoveCssClass("ag-column-menu-visible",e.column.isMenuVisible())};this.addManagedListener(this.column,lt.EVENT_MENU_VISIBLE_CHANGED,i),i()},t.prototype.setupSortableClass=function(){var e=this,i=function(){e.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!e.sortable)},n=function(){e.comp.setAriaSort(e.sortable?cf(e.column):void 0)};i(),n(),this.addRefreshFunction(i),this.addRefreshFunction(n),this.addManagedListener(this.column,lt.EVENT_SORT_CHANGED,n)},t.prototype.addColumnHoverListener=function(){var e=this,i=function(){if(e.gridOptionsWrapper.isColumnHoverHighlight()){var n=e.columnHoverService.isHovered(e.column);e.comp.addOrRemoveCssClass("ag-column-hover",n)}};this.addManagedListener(this.eventService,ue.EVENT_COLUMN_HOVER_CHANGED,i),i()},t.prototype.setupFilterCss=function(){var e=this,i=function(){e.comp.addOrRemoveCssClass("ag-header-cell-filtered",e.column.isFilterActive())};this.addManagedListener(this.column,lt.EVENT_FILTER_ACTIVE_CHANGED,i),i()},t.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},t.prototype.addActiveHeaderMouseListeners=function(){var e=this,i=function(n){return e.setActiveHeader("mouseenter"===n.type)};this.addManagedListener(this.getGui(),"mouseenter",i),this.addManagedListener(this.getGui(),"mouseleave",i)},t.prototype.setActiveHeader=function(e){this.comp.addOrRemoveCssClass("ag-header-active",e)},sn([Q("columnModel")],t.prototype,"columnModel",void 0),sn([Q("columnHoverService")],t.prototype,"columnHoverService",void 0),sn([Q("beans")],t.prototype,"beans",void 0),sn([Q("sortController")],t.prototype,"sortController",void 0),sn([Q("menuFactory")],t.prototype,"menuFactory",void 0),sn([Q("dragAndDropService")],t.prototype,"dragAndDropService",void 0),sn([Q("gridApi")],t.prototype,"gridApi",void 0),sn([Q("columnApi")],t.prototype,"columnApi",void 0),sn([Q("userComponentFactory")],t.prototype,"userComponentFactory",void 0),sn([Xe],t.prototype,"removeDragSource",null),t}(to),V_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wc=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Kd=function(a){function t(e,i,n,s){var d=a.call(this)||this;return d.eResize=i,d.comp=e,d.pinned=n,d.columnGroup=s,d}return V_(t,a),t.prototype.postConstruct=function(){var e=this;if(this.columnGroup.isResizable()){var i=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(i),!this.gridOptionsWrapper.isSuppressAutoSize()){var n=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",function(){var s=[];e.columnGroup.getDisplayedLeafColumns().forEach(function(h){h.getColDef().suppressAutoSize||s.push(h.getColId())}),s.length>0&&e.columnModel.autoSizeColumns({columns:s,skipHeader:n,stopAtGroup:e.columnGroup,source:"uiColumnResized"}),e.resizeLeafColumnsToFit()})}}else this.comp.addOrRemoveResizableCssClass("ag-hidden",!0)},t.prototype.onResizeStart=function(e){var i=this;this.calculateInitialValues();var n=null;if(e&&(n=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),n){var s=n.getDisplayedLeafColumns();this.resizeTakeFromCols=s.filter(function(d){return d.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(d){return i.resizeTakeFromStartWidth+=d.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(d){return i.resizeTakeFromRatios.push(d.getActualWidth()/i.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},t.prototype.onResizing=function(e,i){var n=this.normaliseDragChange(i);this.resizeColumns(this.resizeStartWidth+n,e)},t.prototype.resizeLeafColumnsToFit=function(){var e=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),e>this.resizeStartWidth&&this.resizeColumns(e,!0)},t.prototype.resizeColumns=function(e,i){void 0===i&&(i=!0);var n=[];n.push({columns:this.resizeCols,ratios:this.resizeRatios,width:e}),this.resizeTakeFromCols&&n.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(e-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:n,finished:i,source:"uiColumnDragged"}),i&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},t.prototype.calculateInitialValues=function(){var e=this,i=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=i.filter(function(n){return n.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(n){return e.resizeStartWidth+=n.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(n){return e.resizeRatios.push(n.getActualWidth()/e.resizeStartWidth)})},t.prototype.normaliseDragChange=function(e){var i=e;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==ae.PINNED_LEFT&&(i*=-1):this.pinned===ae.PINNED_RIGHT&&(i*=-1),i},wc([Q("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),wc([Q("autoWidthCalculator")],t.prototype,"autoWidthCalculator",void 0),wc([Q("columnModel")],t.prototype,"columnModel",void 0),wc([be],t.prototype,"postConstruct",null),t}(Ze),kg=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Yd=function(a){function t(e,i){var n=a.call(this)||this;return n.removeChildListenersFuncs=[],n.columnGroup=i,n.comp=e,n}return kg(t,a),t.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Jt.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},t.prototype.addListenersToChildrenColumns=function(){var e=this;this.removeListenersOnChildrenColumns();var i=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(n){n.addEventListener(lt.EVENT_WIDTH_CHANGED,i),n.addEventListener(lt.EVENT_VISIBLE_CHANGED,i),e.removeChildListenersFuncs.push(function(){n.removeEventListener(lt.EVENT_WIDTH_CHANGED,i),n.removeEventListener(lt.EVENT_VISIBLE_CHANGED,i)})})},t.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(e){return e()}),this.removeChildListenersFuncs=[]},t.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},t.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);n>3&&s&&Object.defineProperty(t,e,s)}([be],t.prototype,"postConstruct",null),t}(Ze),Gg=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Hn=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Qd=function(a){function t(e,i){var n=a.call(this,e,i)||this;return n.columnGroup=e,n}return Gg(t,a),t.prototype.setComp=function(e,i,n){a.prototype.setGui.call(this,i),this.comp=e,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var s=this.getParentRowCtrl().getPinned(),d=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new _c(d,i)),this.createManagedBean(new ya(this.columnGroup,i,this.beans)),this.createManagedBean(new Yd(e,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new Kd(e,n,s,this.columnGroup)),this.createManagedBean(new mn(i,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},t.prototype.resizeLeafColumnsToFit=function(){this.groupResizeFeature.onResizeStart(!1),this.groupResizeFeature.resizeLeafColumnsToFit()},t.prototype.setupUserComp=function(){var e=this,i=this.displayName,n={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(L){e.columnModel.setColumnGroupOpened(e.columnGroup.getProvidedColumnGroup(),L,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!i){for(var s=this.columnGroup,d=s.getLeafColumns();s.getParent()&&s.getParent().getLeafColumns().length===d.length;)s=s.getParent();var h=s.getColGroupDef();h&&(i=h.headerName),i||(i=d?this.columnModel.getDisplayNameForColumn(d[0],"header",!0):"")}var O=this.userComponentFactory.getHeaderGroupCompDetails(n);this.comp.setUserCompDetails(O)},t.prototype.setupTooltip=function(){var e=this,i=this.columnGroup.getColGroupDef(),n={getColumn:function(){return e.columnGroup},getGui:function(){return e.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return i&&i.headerTooltip}};i&&(n.getColDef=function(){return i}),this.createManagedBean(new sc(n,this.beans)).setComp(this.comp)},t.prototype.setupExpandable=function(){var e=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,Nt.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,Nt.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},t.prototype.refreshExpanded=function(){var e=this.columnGroup;this.expandable=e.isExpandable();var i=e.isExpanded();this.comp.setAriaExpanded(this.expandable?i?"true":"false":void 0)},t.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},t.prototype.addClasses=function(){var e=this,i=this.columnGroup.getColGroupDef(),n=no.getHeaderClassesFromColDef(i,this.gridOptionsWrapper,null,this.columnGroup);n.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),n.forEach(function(s){return e.comp.addOrRemoveCssClass(s,!0)})},t.prototype.setupMovingCss=function(){var e=this,n=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),s=function(){return e.comp.addOrRemoveCssClass("ag-header-cell-moving",e.columnGroup.isMoving())};n.forEach(function(d){e.addManagedListener(d,lt.EVENT_MOVING_CHANGED,s)}),s()},t.prototype.onFocusIn=function(e){if(!this.eGui.contains(e.relatedTarget)){var i=this.getRowIndex();this.beans.focusService.setFocusedHeader(i,this.columnGroup)}},t.prototype.handleKeyDown=function(e){var i=this.gridOptionsWrapper.getDocument();if(this.expandable&&i.activeElement===this.eGui&&e.key===Ue.ENTER){var d=this.columnGroup,h=!d.isExpanded();this.columnModel.setColumnGroupOpened(d.getProvidedColumnGroup(),h,"uiColumnExpanded")}},t.prototype.setDragSource=function(e){var i=this;if(!this.isSuppressMoving()){var n=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),s={type:z.rvo.HeaderCell,eElement:e,defaultIconName:hi.ICON_HIDE,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return n.forEach(function(d){return d.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return n.forEach(function(d){return d.setMoving(!1,"uiColumnDragged")})}};this.dragAndDropService.addDragSource(s,!0),this.addDestroyFunc(function(){return i.dragAndDropService.removeDragSource(s)})}},t.prototype.getDragItemForGroup=function(){var e=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),i={};e.forEach(function(s){return i[s.getId()]=s.isVisible()});var n=[];return this.columnModel.getAllDisplayedColumns().forEach(function(s){e.indexOf(s)>=0&&(n.push(s),zt(e,s))}),e.forEach(function(s){return n.push(s)}),{columns:n,visibleState:i}},t.prototype.isSuppressMoving=function(){var e=!1;return this.columnGroup.getLeafColumns().forEach(function(n){(n.getColDef().suppressMovable||n.getColDef().lockPosition)&&(e=!0)}),e||this.gridOptionsWrapper.isSuppressMovableColumns()},Hn([Q("beans")],t.prototype,"beans",void 0),Hn([Q("columnModel")],t.prototype,"columnModel",void 0),Hn([Q("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Hn([Q("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Hn([Q("gridApi")],t.prototype,"gridApi",void 0),Hn([Q("columnApi")],t.prototype,"columnApi",void 0),t}(to),Hg=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bc=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Jd=0,is=function(a){function t(e,i,n){var s=a.call(this)||this;return s.instanceId=Jd++,s.headerCellCtrls={},s.rowIndex=e,s.pinned=i,s.type=n,s}return Hg(t,a),t.prototype.getInstanceId=function(){return this.instanceId},t.prototype.setComp=function(e){this.comp=e,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),Nr()&&this.comp.setTransform("translateZ(0)"),e.setAriaRowIndex(this.rowIndex+1)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,ue.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,et.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,et.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,et.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,et.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,et.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,et.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},t.prototype.getHeaderCellCtrl=function(e){return C(this.headerCellCtrls).find(function(i){return i.getColumnGroupChild()===e})},t.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},t.prototype.getType=function(){return this.type},t.prototype.onColumnResized=function(){this.setWidth()},t.prototype.setWidth=function(){var e=this.getWidthForRow();this.comp.setWidth(e+"px")},t.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===ae.DOM_LAYOUT_PRINT?null!=this.pinned?0:this.columnModel.getContainerWidth(ae.PINNED_RIGHT)+this.columnModel.getContainerWidth(ae.PINNED_LEFT)+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},t.prototype.onRowHeightChanged=function(){var s,d,e=this.columnModel.getHeaderRowCount(),i=[],n=0;this.columnModel.isPivotMode()?(s=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),d=this.gridOptionsWrapper.getPivotHeaderHeight()):(this.columnModel.hasFloatingFilters()&&(e++,n=1),s=this.gridOptionsWrapper.getGroupHeaderHeight(),d=this.gridOptionsWrapper.getHeaderHeight());for(var O=e-(1+n),L=0;L<O;L++)i.push(s);for(i.push(d),L=0;L<n;L++)i.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var j=0;for(L=0;L<this.rowIndex;L++)j+=i[L];this.comp.setTop(j+"px"),this.comp.setHeight(i[this.rowIndex]+"px")},t.prototype.getPinned=function(){return this.pinned},t.prototype.getRowIndex=function(){return this.rowIndex},t.prototype.onVirtualColumnsChanged=function(){var e=this,i=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(h){if(!h.isEmptyGroup()){var O=h.getUniqueId(),L=i[O];if(delete i[O],L&&L.getColumnGroupChild()!=h&&(e.destroyBean(L),L=void 0),null==L)switch(e.type){case z.A6C.FLOATING_FILTER:L=e.createBean(new _a(h,e));break;case z.A6C.COLUMN_GROUP:L=e.createBean(new Qd(h,e));break;default:L=e.createBean(new Cc(h,e))}e.headerCellCtrls[O]=L}}),v(i,function(h,O){var L=function(h){return!!e.focusService.isHeaderWrapperFocused(h)&&e.columnModel.isDisplayed(h.getColumnGroupChild())}(O);L?e.headerCellCtrls[h]=O:e.destroyBean(O)});var d=$(this.headerCellCtrls);this.comp.setHeaderCtrls(d)},t.prototype.destroyCtrls=function(){var e=this;v(this.headerCellCtrls,function(i,n){e.destroyBean(n)}),this.headerCellCtrls={}},t.prototype.getColumnsInViewport=function(){return this.gridOptionsWrapper.getDomLayout()===ae.DOM_LAYOUT_PRINT?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},t.prototype.getColumnsInViewportPrintLayout=function(){var e=this;if(null!=this.pinned)return[];var i=[],n=this.getActualDepth();return[ae.PINNED_LEFT,null,ae.PINNED_RIGHT].forEach(function(s){var d=e.columnModel.getVirtualHeaderGroupRow(s,n);i=i.concat(d)}),i},t.prototype.getActualDepth=function(){return this.type==z.A6C.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},t.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},t.prototype.focusHeader=function(e,i){var s=$(this.headerCellCtrls).find(function(d){return d.getColumnGroupChild()==e});return!!s&&(s.focus(i),!0)},bc([Q("columnModel")],t.prototype,"columnModel",void 0),bc([Q("focusService")],t.prototype,"focusService",void 0),bc([Xe],t.prototype,"destroyCtrls",null),t}(Ze),Xd=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),oo=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},eh=function(a,t){var e="function"==typeof Symbol&&a[Symbol.iterator];if(!e)return a;var n,d,i=e.call(a),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(h){d={error:h}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},th=function(a){function t(e){var i=a.call(this)||this;return i.groupsRowCtrls=[],i.pinned=e,i}return Xd(t,a),t.prototype.setComp=function(e,i){this.comp=e,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(i),this.addManagedListener(this.eventService,ue.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},t.prototype.setupDragAndDrop=function(e){var i=new mc(this.pinned,e);this.createManagedBean(i)},t.prototype.refresh=function(e){var i=this;void 0===e&&(e=!1);var j,n=new Wr,s=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var j=i.columnModel.getHeaderRowCount()-1;i.groupsRowCtrls=i.destroyBeans(i.groupsRowCtrls);for(var q=0;q<j;q++){var J=i.createBean(new is(n.next(),i.pinned,z.A6C.COLUMN_GROUP));i.groupsRowCtrls.push(J)}})(),j=n.next(),(null==i.columnsRowCtrl||!e||i.columnsRowCtrl.getRowIndex()!==j)&&(i.destroyBean(i.columnsRowCtrl),i.columnsRowCtrl=i.createBean(new is(j,i.pinned,z.A6C.COLUMN))),function(){var q=function(){i.filtersRowCtrl=i.destroyBean(i.filtersRowCtrl)};if(!i.columnModel.isPivotMode()&&i.columnModel.hasFloatingFilters()){var J=n.next();if(i.filtersRowCtrl){var re=i.filtersRowCtrl.getRowIndex()!==J;(!e||re)&&q()}i.filtersRowCtrl||(i.filtersRowCtrl=i.createBean(new is(J,i.pinned,z.A6C.FLOATING_FILTER)))}else q()}();var L=this.getAllCtrls();this.comp.setCtrls(L),this.restoreFocusOnHeader(s)},t.prototype.restoreFocusOnHeader=function(e){null==e||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})},t.prototype.getAllCtrls=function(){var e=function(){for(var a=[],t=0;t<arguments.length;t++)a=a.concat(eh(arguments[t]));return a}(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e},t.prototype.onGridColumnsChanged=function(){this.refresh(!0)},t.prototype.setupCenterWidth=function(){var e=this;null==this.pinned&&this.createManagedBean(new dc(function(i){return e.comp.setCenterWidth(i+"px")}))},t.prototype.setHorizontalScroll=function(e){this.comp.setContainerTransform("translateX("+e+"px)")},t.prototype.setupPinnedWidth=function(){var e=this;if(null!=this.pinned){var i=this.pinned===ae.PINNED_LEFT,n=this.pinned===ae.PINNED_RIGHT,s=function(){var d=i?e.pinnedWidthService.getPinnedLeftWidth():e.pinnedWidthService.getPinnedRightWidth();if(null!=d){var h=0==d,O=e.gridOptionsWrapper.isEnableRtl(),L=e.gridOptionsWrapper.getScrollbarWidth(),j=e.scrollVisibleService.isVerticalScrollShowing()&&(O&&i||!O&&n);e.comp.setPinnedContainerWidth((j?d+L:d)+"px"),e.comp.addOrRemoveCssClass("ag-hidden",h)}};this.addManagedListener(this.eventService,ue.EVENT_LEFT_PINNED_WIDTH_CHANGED,s),this.addManagedListener(this.eventService,ue.EVENT_RIGHT_PINNED_WIDTH_CHANGED,s),this.addManagedListener(this.eventService,ue.EVENT_SCROLL_VISIBILITY_CHANGED,s),this.addManagedListener(this.eventService,ue.EVENT_SCROLLBAR_WIDTH_CHANGED,s)}},t.prototype.getHeaderCtrlForColumn=function(e){if(e instanceof lt)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(0!==this.groupsRowCtrls.length)for(var i=0;i<this.groupsRowCtrls.length;i++){var n=this.groupsRowCtrls[i].getHeaderCellCtrl(e);if(n)return n}},t.prototype.getHtmlElementForColumnHeader=function(e){var i=this.getHeaderCtrlForColumn(e);return i?i.getGui():null},t.prototype.getRowType=function(e){var n=this.getAllCtrls()[e];return n?n.getType():void 0},t.prototype.focusHeader=function(e,i,n){var d=this.getAllCtrls()[e];return!!d&&d.focusHeader(i,n)},t.prototype.getRowCount=function(){return this.getAllCtrls().length},oo([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),oo([Q("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),oo([Q("pinnedWidthService")],t.prototype,"pinnedWidthService",void 0),oo([Q("columnModel")],t.prototype,"columnModel",void 0),oo([Q("focusService")],t.prototype,"focusService",void 0),t}(Ze),Wg=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ec=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},wa=function(a){function t(e){var i=a.call(this)||this;return i.headerRowComps={},i.rowCompsList=[],i.pinned=e,i}return Wg(t,a),t.prototype.init=function(){var e=this;this.selectAndSetTemplate();var i={addOrRemoveCssClass:function(s,d){return e.addOrRemoveCssClass(s,d)},setCtrls:function(s){return e.setCtrls(s)},setCenterWidth:function(s){return e.eCenterContainer.style.width=s},setContainerTransform:function(s){return e.eCenterContainer.style.transform=s},setPinnedContainerWidth:function(s){var d=e.getGui();d.style.width=s,d.style.maxWidth=s,d.style.minWidth=s}};this.createManagedBean(new th(this.pinned)).setComp(i,this.getGui())},t.prototype.selectAndSetTemplate=function(){this.setTemplate(this.pinned==ae.PINNED_LEFT?t.PINNED_LEFT_TEMPLATE:this.pinned==ae.PINNED_RIGHT?t.PINNED_RIGHT_TEMPLATE:t.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},t.prototype.destroyRowComps=function(){this.setCtrls([])},t.prototype.destroyRowComp=function(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())},t.prototype.setCtrls=function(e){var s,i=this,n=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],e.forEach(function(h){var O=h.getInstanceId(),L=n[O];delete n[O];var j=L||i.createBean(new zd(h));i.headerRowComps[O]=j,i.rowCompsList.push(j),function(h){var O=h.getGui();O.parentElement!=i.eRowContainer&&i.eRowContainer.appendChild(O),s&&Fl(i.eRowContainer,O,s),s=O}(j)}),$(n).forEach(function(h){return i.destroyRowComp(h)})},t.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',t.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',t.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',Ec([He("eCenterContainer")],t.prototype,"eCenterContainer",void 0),Ec([be],t.prototype,"init",null),Ec([Xe],t.prototype,"destroyRowComps",null),t}(pt),$g=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ih=function(a){function t(){return a.call(this,t.TEMPLATE)||this}return $g(t,a),t.prototype.postConstruct=function(){var e=this,i={addOrRemoveCssClass:function(d,h){return e.addOrRemoveCssClass(d,h)},setHeightAndMinHeight:function(d){e.getGui().style.height=d,e.getGui().style.minHeight=d}};this.createManagedBean(new ga).setComp(i,this.getGui(),this.getFocusableElement());var s=function(d){e.createManagedBean(d),e.appendChild(d)};s(new wa(ae.PINNED_LEFT)),s(new wa(null)),s(new wa(ae.PINNED_RIGHT))},t.TEMPLATE='<div class="ag-header" role="presentation"/>',function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);n>3&&s&&Object.defineProperty(t,e,s)}([be],t.prototype,"postConstruct",null),t}(pt),Ug=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ba=function(){return ba=Object.assign||function(a){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a},ba.apply(this,arguments)},mi=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},nh=function(a){function t(){var i=null!==a&&a.apply(this,arguments)||this;return i.allAdvancedFilters=new Map,i.activeAdvancedFilters=[],i.quickFilter=null,i.quickFilterParts=null,i.processingFilterChange=!1,i}var e;return Ug(t,a),e=t,t.prototype.init=function(){var i=this;this.addManagedListener(this.eventService,ue.EVENT_ROW_DATA_CHANGED,function(n){return i.onNewRowsLoaded(n)}),this.addManagedListener(this.eventService,ue.EVENT_GRID_COLUMNS_CHANGED,function(){return i.onColumnsChanged()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter()},t.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},t.prototype.setFilterModel=function(i){var n=this,s=[],d=this.getFilterModel();if(i){var h=Qu(Object.keys(i));this.allAdvancedFilters.forEach(function(O,L){s.push(n.setModelOnFilterWrapper(O.filterPromise,i[L])),h.delete(L)}),h.forEach(function(O){var L=n.columnModel.getPrimaryColumn(O);if(L)if(L.isFilterAllowed()){var j=n.getOrCreateFilterWrapper(L,"NO_UI");j?s.push(n.setModelOnFilterWrapper(j.filterPromise,i[O])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+O)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+O);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+O)})}else this.allAdvancedFilters.forEach(function(O){s.push(n.setModelOnFilterWrapper(O.filterPromise,null))});wi.all(s).then(function(){var O=n.getFilterModel(),L=[];n.allAdvancedFilters.forEach(function(j,q){ct.jsonEquals(d?d[q]:null,O?O[q]:null)||L.push(j.column)}),L.length>0&&n.onFilterChanged({columns:L})})},t.prototype.setModelOnFilterWrapper=function(i,n){return new wi(function(s){i.then(function(d){"function"!=typeof d.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),s()),(d.setModel(n)||wi.resolve()).then(function(){return s()})})})},t.prototype.getFilterModel=function(){var i={};return this.allAdvancedFilters.forEach(function(n,s){var h=n.filterPromise.resolveNow(null,function(L){return L});if(null==h)return null;if("function"==typeof h.getModel){var O=h.getModel();W(O)&&(i[s]=O)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")}),i},t.prototype.isAdvancedFilterPresent=function(){return this.activeAdvancedFilters.length>0},t.prototype.updateActiveFilters=function(){var i=this;this.activeAdvancedFilters.length=0;var n=function(s){return!!s&&(s.isFilterActive?s.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))};this.allAdvancedFilters.forEach(function(s){if(s.filterPromise.resolveNow(!1,n)){var d=s.filterPromise.resolveNow(null,function(h){return h});i.activeAdvancedFilters.push(d)}})},t.prototype.updateFilterFlagInColumns=function(i,n){this.allAdvancedFilters.forEach(function(s){var d=s.filterPromise.resolveNow(!1,function(h){return h.isFilterActive()});s.column.setFilterActive(d,i,n)})},t.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isAdvancedFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent()},t.prototype.doAdvancedFiltersPass=function(i,n){for(var s=i.data,d=0;d<this.activeAdvancedFilters.length;d++){var h=this.activeAdvancedFilters[d];if(null!=h&&h!==n){if("function"!=typeof h.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!h.doesFilterPass({node:i,data:s}))return!1}}return!0},t.prototype.parseQuickFilter=function(i){return W(i)?this.gridOptionsWrapper.isRowModelDefault()?i.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},t.prototype.setQuickFilter=function(i){if(null==i||"string"==typeof i){var n=this.parseQuickFilter(i);this.quickFilter!==n&&(this.quickFilter=n,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof i)},t.prototype.onFilterChanged=function(i){void 0===i&&(i={});var n=i.filterInstance,s=i.additionalEventAttributes,d=i.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",s),this.allAdvancedFilters.forEach(function(O){!O.filterPromise||O.filterPromise.then(function(L){L&&L!==n&&L.onAnyFilterChanged&&L.onAnyFilterChanged()})});var h={type:ue.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi,columns:d||[]};s&&P(h,s),this.processingFilterChange=!0,this.eventService.dispatchEvent(h),this.processingFilterChange=!1},t.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},t.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},t.prototype.doesRowPassOtherFilters=function(i,n){return this.doesRowPassFilter({rowNode:n,filterInstanceToSkip:i})},t.prototype.doesRowPassQuickFilterNoCache=function(i,n){var s=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(h){var O=s.getQuickFilterTextForColumn(h,i);return W(O)&&O.indexOf(n)>=0})},t.prototype.doesRowPassQuickFilterCache=function(i,n){return i.quickFilterAggregateText||this.aggregateRowForQuickFilter(i),i.quickFilterAggregateText.indexOf(n)>=0},t.prototype.doesRowPassQuickFilter=function(i){var n=this,s=this.gridOptionsWrapper.isCacheQuickFilter();return this.quickFilterParts.every(function(d){return s?n.doesRowPassQuickFilterCache(i,d):n.doesRowPassQuickFilterNoCache(i,d)})},t.prototype.doesRowPassFilter=function(i){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(i.rowNode)||this.gridOptionsWrapper.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(i.rowNode)||this.isAdvancedFilterPresent()&&!this.doAdvancedFiltersPass(i.rowNode,i.filterInstanceToSkip))},t.prototype.getQuickFilterTextForColumn=function(i,n){var s=this.valueService.getValue(i,n,!0),d=i.getColDef();if(d.getQuickFilterText){var h={value:s,node:n,data:n.data,column:i,colDef:d,context:this.gridOptionsWrapper.getContext()};s=d.getQuickFilterText(h)}return W(s)?s.toString().toUpperCase():null},t.prototype.aggregateRowForQuickFilter=function(i){var n=this,s=[];this.columnModel.getAllColumnsForQuickFilter().forEach(function(h){var O=n.getQuickFilterTextForColumn(h,i);W(O)&&s.push(O)}),i.quickFilterAggregateText=s.join(e.QUICK_FILTER_SEPARATOR)},t.prototype.onNewRowsLoaded=function(i){this.allAdvancedFilters.forEach(function(n){n.filterPromise.then(function(s){s.onNewRowsLoaded&&s.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(i),this.updateActiveFilters()},t.prototype.createValueGetter=function(i){var n=this;return function(s){return n.valueService.getValue(i,s.node,!0)}},t.prototype.getFilterComponent=function(i,n,s){var d;if(void 0===s&&(s=!0),s)return(null===(d=this.getOrCreateFilterWrapper(i,n))||void 0===d?void 0:d.filterPromise)||null;var h=this.cachedFilter(i);return h?h.filterPromise:null},t.prototype.isFilterActive=function(i){var n=this.cachedFilter(i);return!!n&&n.filterPromise.resolveNow(!1,function(s){return s.isFilterActive()})},t.prototype.getOrCreateFilterWrapper=function(i,n){if(!i.isFilterAllowed())return null;var s=this.cachedFilter(i);return s?"NO_UI"!==n&&this.putIntoGui(s,n):(s=this.createFilterWrapper(i,n),this.allAdvancedFilters.set(i.getColId(),s)),s},t.prototype.cachedFilter=function(i){return this.allAdvancedFilters.get(i.getColId())},t.prototype.createFilterInstance=function(i,n){var O,s=this,d=ze.isRegistered(z.GXE.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",h=i.getColDef(),L=ba(ba({},this.createFilterParams(i,h,n)),{filterModifiedCallback:function(){s.eventService.dispatchEvent({type:ue.EVENT_FILTER_MODIFIED,api:s.gridApi,columnApi:s.columnApi,column:i,filterInstance:O})},filterChangedCallback:function(J){return s.onFilterChanged({filterInstance:O,additionalEventAttributes:J,columns:[i]})},doesRowPassOtherFilter:function(J){return s.doesRowPassOtherFilters(O,J)}}),j=this.userComponentFactory.getFilterDetails(h,L,d);if(!j)return null;var q=j.newAgStackInstance();return q&&q.then(function(J){return O=J}),q},t.prototype.createFilterParams=function(i,n,s){void 0===s&&(s=null);var d={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:i,colDef:A(n),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(i),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}};return s&&(d.$scope=s),d},t.prototype.createFilterWrapper=function(i,n){var s={column:i,filterPromise:null,scope:null,compiledElement:null,guiPromise:wi.resolve(null)};return s.scope=this.gridOptionsWrapper.isAngularCompileFilters()?this.$scope.$new():null,s.filterPromise=this.createFilterInstance(i,s.scope),s.filterPromise&&this.putIntoGui(s,n),s},t.prototype.putIntoGui=function(i,n){var s=this,d=document.createElement("div");d.className="ag-filter",i.guiPromise=new wi(function(h){i.filterPromise.then(function(O){var L=O.getGui();if(W(L)||console.warn("AG Grid: getGui method from filter returned "+L+", it should be a DOM element or an HTML template string."),"string"==typeof L&&(L=Wt(L)),d.appendChild(L),i.scope){var j=s.$compile(d)(i.scope);i.compiledElement=j,window.setTimeout(function(){return i.scope.$apply()},0)}h(d),s.eventService.dispatchEvent({type:ue.EVENT_FILTER_OPENED,column:i.column,source:n,eGui:d,api:s.gridApi,columnApi:s.columnApi})})})},t.prototype.onColumnsChanged=function(){var i=this,n=[];this.allAdvancedFilters.forEach(function(s,d){i.columnModel.getPrimaryColumn(d)||(n.push(s.column),i.disposeFilterWrapper(s,"filterDestroyed"))}),n.length>0&&this.onFilterChanged({columns:n})},t.prototype.destroyFilter=function(i,n){void 0===n&&(n="api");var s=this.allAdvancedFilters.get(i.getColId());s&&(this.disposeFilterWrapper(s,n),this.onFilterChanged({columns:[i]}))},t.prototype.disposeFilterWrapper=function(i,n){var s=this;i.filterPromise.then(function(d){(d.setModel(null)||wi.resolve()).then(function(){s.getContext().destroyBean(d),i.column.setFilterActive(!1,n),i.scope&&(i.compiledElement&&i.compiledElement.remove(),i.scope.$destroy()),s.allAdvancedFilters.delete(i.column.getColId())})})},t.prototype.destroy=function(){var i=this;a.prototype.destroy.call(this),this.allAdvancedFilters.forEach(function(n){return i.disposeFilterWrapper(n,"filterDestroyed")})},t.QUICK_FILTER_SEPARATOR="\n",mi([Q("$compile")],t.prototype,"$compile",void 0),mi([Q("$scope")],t.prototype,"$scope",void 0),mi([Q("valueService")],t.prototype,"valueService",void 0),mi([Q("columnModel")],t.prototype,"columnModel",void 0),mi([Q("rowModel")],t.prototype,"rowModel",void 0),mi([Q("columnApi")],t.prototype,"columnApi",void 0),mi([Q("gridApi")],t.prototype,"gridApi",void 0),mi([Q("userComponentFactory")],t.prototype,"userComponentFactory",void 0),mi([be],t.prototype,"init",null),mi([Xe],t.prototype,"destroy",null),e=mi([je("filterManager")],t)}(Ze),W_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ns=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},rh=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.initialised=!1,e}return W_(t,a),t.prototype.init=function(){this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0},t.prototype.getValue=function(e,i,n,s){if(void 0===n&&(n=!1),void 0===s&&(s=!1),this.initialised||this.init(),i){var j,d=e.getColDef(),h=d.field,O=e.getId(),L=i.data,q=i.groupData&&void 0!==i.groupData[O],J=!s&&i.aggData&&void 0!==i.aggData[O];if(n&&d.filterValueGetter?j=this.executeFilterValueGetter(d.filterValueGetter,L,e,i):this.gridOptionsWrapper.isTreeData()&&J?j=i.aggData[O]:this.gridOptionsWrapper.isTreeData()&&d.valueGetter?j=this.executeValueGetter(d.valueGetter,L,e,i):this.gridOptionsWrapper.isTreeData()&&h&&L?j=ee(L,h,e.isFieldContainsDots()):q?j=i.groupData[O]:J?j=i.aggData[O]:d.valueGetter?j=this.executeValueGetter(d.valueGetter,L,e,i):h&&L&&(j=ee(L,h,e.isFieldContainsDots())),this.cellExpressions&&"string"==typeof j&&0===j.indexOf("=")){var re=j.substring(1);j=this.executeValueGetter(re,L,e,i)}if(null==j){var me=this.getOpenedGroup(i,e);if(null!=me)return me}return j}},t.prototype.getOpenedGroup=function(e,i){if(this.gridOptionsWrapper.isShowOpenedGroup()&&i.getColDef().showRowGroup)for(var s=i.getColDef().showRowGroup,d=e.parent;null!=d;){if(d.rowGroupColumn&&(!0===s||s===d.rowGroupColumn.getId()))return d.key;d=d.parent}},t.prototype.setValue=function(e,i,n,s){var d=this.columnModel.getPrimaryColumn(i);if(e&&d){E(e.data)&&(e.data={});var h=d.getColDef(),O=h.field,L=h.newValueHandler,j=h.valueSetter;if(E(O)&&E(L)&&E(j))return void console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work");var J,q={node:e,data:e.data,oldValue:this.getValue(d,e),newValue:n,colDef:d.getColDef(),column:d,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};if(q.newValue=n,void 0===(J=L&&W(L)?L(q):W(j)?this.expressionService.evaluate(j,q):this.setValueUsingField(e.data,O,n,d.isFieldContainsDots()))&&(J=!0),J){e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),q.newValue=this.getValue(d,e);var re=d.getColDef().onCellValueChanged;"function"==typeof re&&setTimeout(function(){return re(q)},0),this.eventService.dispatchEvent({type:ue.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:q.column,api:q.api,columnApi:q.columnApi,colDef:q.colDef,context:q.context,data:e.data,node:e,oldValue:q.oldValue,newValue:q.newValue,value:q.newValue,source:s})}}},t.prototype.setValueUsingField=function(e,i,n,s){if(!i)return!1;if(s)for(var h=i.split("."),O=e;h.length>0&&O;){var L=h.shift();0===h.length?O[L]=n:O=O[L]}else e[i]=n;return!0},t.prototype.executeFilterValueGetter=function(e,i,n,s){var d={data:i,node:s,column:n,colDef:n.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,s)};return this.expressionService.evaluate(e,d)},t.prototype.executeValueGetter=function(e,i,n,s){var d=n.getId(),h=this.valueCache.getValue(s,d);if(void 0!==h)return h;var O={data:i,node:s,column:n,colDef:n.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,s)},L=this.expressionService.evaluate(e,O);return this.valueCache.setValue(s,d,L),L},t.prototype.getValueCallback=function(e,i){var n=this.columnModel.getPrimaryColumn(i);return n?this.getValue(n,e):null},t.prototype.getKeyForNode=function(e,i){var n=this.getValue(e,i),s=e.getColDef().keyCreator,d=n;return s&&(d=s({value:n,colDef:e.getColDef(),column:e,node:i,data:i.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),"string"==typeof d||null==d||"[object Object]"===(d=String(d))&&ye(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),d},ns([Q("expressionService")],t.prototype,"expressionService",void 0),ns([Q("columnModel")],t.prototype,"columnModel",void 0),ns([Q("valueCache")],t.prototype,"valueCache",void 0),ns([be],t.prototype,"init",null),ns([je("valueService")],t)}(Ze),$_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),oh=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s};!function(a){a.AUTO_HEIGHT="ag-layout-auto-height",a.NORMAL="ag-layout-normal",a.PRINT="ag-layout-print"}(z.LBn||(z.LBn={}));var Ea=function(a){function t(e){var i=a.call(this)||this;return i.view=e,i}return $_(t,a),t.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,et.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},t.prototype.updateLayoutClasses=function(){var e=this.gridOptionsWrapper.getDomLayout(),i={autoHeight:e===ae.DOM_LAYOUT_AUTO_HEIGHT,normal:e===ae.DOM_LAYOUT_NORMAL,print:e===ae.DOM_LAYOUT_PRINT};this.view.updateLayoutClasses(i.autoHeight?z.LBn.AUTO_HEIGHT:i.print?z.LBn.PRINT:z.LBn.NORMAL,i)},oh([Q("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),oh([be],t.prototype,"postConstruct",null),t}(Ze),sh=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),an=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},zg=function(a){function t(e){var i=a.call(this)||this;return i.scrollLeft=-1,i.nextScrollTop=-1,i.scrollTop=-1,i.eBodyViewport=e,i.resetLastHorizontalScrollElementDebounced=Fe(i.resetLastHorizontalScrollElement.bind(i),500),i}return sh(t,a),t.prototype.postConstruct=function(){var e=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,ue.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(i){e.centerRowContainerCon=i.centerRowContainerCtrl,e.onDisplayedColumnsWidthChanged(),e.addScrollListener()})},t.prototype.addScrollListener=function(){var e=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCon.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(e.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var i=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?Fe(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",i)},t.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},t.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(e){if(null!=this.centerRowContainerCon){void 0===e&&(e=this.centerRowContainerCon.getCenterViewportScrollLeft());var n=this.enableRtl?e:-e,s=this.ctrlsService.getTopCenterRowContainerCtrl(),d=this.ctrlsService.getBottomCenterRowContainerCtrl(),h=this.ctrlsService.getFakeHScrollCtrl();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(n),d.setContainerTranslateX(n),s.setContainerTranslateX(n),Us(this.lastHorizontalScrollElement===this.centerRowContainerCon.getViewportElement()?h.getViewport():this.centerRowContainerCon.getViewportElement(),Math.abs(e),this.enableRtl)}},t.prototype.isControllingScroll=function(e){return this.lastHorizontalScrollElement?e===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=e,!0)},t.prototype.onFakeHorizontalScroll=function(){var e=this.ctrlsService.getFakeHScrollCtrl().getViewport();!this.isControllingScroll(e)||this.onBodyHorizontalScroll(e)},t.prototype.onCenterViewportScroll=function(){var e=this.centerRowContainerCon.getViewportElement();!this.isControllingScroll(e)||this.onBodyHorizontalScroll(e)},t.prototype.onBodyHorizontalScroll=function(e){var i=this.centerRowContainerCon.getViewportElement();this.shouldBlockScrollUpdate("horizontal",i.scrollLeft,!0)||(this.doHorizontalScroll(Math.round(Xt(e,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},t.prototype.onVerticalScroll=function(){var e=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",e,!0)||(this.animationFrameService.setScrollTop(e),this.nextScrollTop=e,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},t.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},t.prototype.doHorizontalScroll=function(e){var n=Xt(this.ctrlsService.getFakeHScrollCtrl().getViewport(),this.enableRtl);this.scrollLeft===e&&e===n||(this.scrollLeft=e,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.onHorizontalViewportChanged())},t.prototype.fireScrollEvent=function(e){var i=this,n={type:ue.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:e,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(n),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var s=Object.assign({},n,{type:ue.EVENT_BODY_SCROLL_END});i.eventService.dispatchEvent(s)},100)},t.prototype.shouldBlockScrollUpdate=function(e,i,n){if(void 0===n&&(n=!1),n&&!er())return!1;if("vertical"===e){var s=Io(this.eBodyViewport);if(i<0||i+s>this.eBodyViewport.scrollHeight)return!0}if("horizontal"===e){var h=this.centerRowContainerCon.getCenterWidth(),O=this.centerRowContainerCon.getViewportElement().scrollWidth;if(this.enableRtl&&js()){if(i>0)return!0}else if(i<0)return!0;if(Math.abs(i)+h>O)return!0}return!1},t.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},t.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCon.onHorizontalViewportChanged()},t.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCon.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCon.getViewportElement())},t.prototype.executeAnimationFrameScroll=function(){var e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e},t.prototype.setHorizontalScrollPosition=function(e){var n=this.centerRowContainerCon.getViewportElement().scrollWidth-this.centerRowContainerCon.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",e)&&(e=this.enableRtl&&js()?e>0?0:n:Math.min(Math.max(e,0),n)),Us(this.centerRowContainerCon.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)},t.prototype.setVerticalScrollPosition=function(e){this.eBodyViewport.scrollTop=e},t.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},t.prototype.getHScrollPosition=function(){return this.centerRowContainerCon.getHScrollPosition()},t.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCon.isHorizontalScrollShowing()},t.prototype.scrollHorizontally=function(e){var i=this.centerRowContainerCon.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(i+e),this.centerRowContainerCon.getViewportElement().scrollLeft-i},t.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},t.prototype.ensureNodeVisible=function(e,i){void 0===i&&(i=null);for(var n=this.rowModel.getRowCount(),s="function"==typeof e,d=-1,h=0;h<n;h++){var O=this.rowModel.getRow(h);if(s){if(e(O)){d=h;break}}else if(e===O||e===O.data){d=h;break}}d>=0&&this.ensureIndexVisible(d,i)},t.prototype.ensureIndexVisible=function(e,i){if(this.gridOptionsWrapper.getDomLayout()!==ae.DOM_LAYOUT_PRINT){var n=this.paginationProxy.getRowCount();if("number"!=typeof e||e<0||e>=n)return void console.warn("invalid row index for ensureIndexVisible: "+e);this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(e);var O,h=this.paginationProxy.getRow(e);do{var L=h.rowTop,j=h.rowHeight,q=this.paginationProxy.getPixelOffset(),J=h.rowTop-q,re=J+h.rowHeight,me=this.getVScrollPosition(),Ae=this.heightScaler.getDivStretchOffset(),Pe=me.top+Ae,We=me.bottom+Ae,Ve=We-Pe,$e=this.heightScaler.getScrollPositionForPixel(J),Ke=this.heightScaler.getScrollPositionForPixel(re-Ve),ot=Math.min(($e+Ke)/2,J),ut=null;"top"===i?ut=$e:"bottom"===i?ut=Ke:"middle"===i?ut=ot:Pe>J?ut=$e:We<re&&(ut=Ke),null!==ut&&(this.eBodyViewport.scrollTop=ut,this.rowRenderer.redrawAfterScroll()),O=L!==h.rowTop||j!==h.rowHeight}while(O);this.animationFrameService.flushAllFrames()}},t.prototype.ensureColumnVisible=function(e,i){void 0===i&&(i="auto");var n=this.columnModel.getGridColumn(e);if(n&&!n.isPinned()&&this.columnModel.isColumnDisplayed(n)){var s=this.getPositionedHorizontalScroll(n,i);null!==s&&this.centerRowContainerCon.setCenterViewportScrollLeft(s),this.centerRowContainerCon.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},t.prototype.getPositionedHorizontalScroll=function(e,i){var n=this.isColumnOutsideViewport(e),s=n.columnBeforeStart,d=n.columnAfterEnd,h=this.centerRowContainerCon.getCenterWidth()<e.getActualWidth(),O=this.centerRowContainerCon.getCenterWidth(),L=this.enableRtl,j=(L?s:d)||h,q=L?d:s;"auto"!==i&&(j="start"===i,q="end"===i);var J="middle"===i;if(j||q||J){var re=this.getColumnBounds(e),me=re.colLeft,Pe=re.colRight;return J?re.colMiddle-O/2:j?L?Pe:me:L?me-O:Pe-O}return null},t.prototype.isColumnOutsideViewport=function(e){var i=this.getViewportBounds(),n=i.start,s=i.end,d=this.getColumnBounds(e),h=d.colLeft,O=d.colRight,L=this.enableRtl;return{columnBeforeStart:L?n>O:s<O,columnAfterEnd:L?s<h:n>h}},t.prototype.getColumnBounds=function(e){var i=this.enableRtl,n=this.columnModel.getBodyContainerWidth(),s=e.getActualWidth(),d=e.getLeft(),h=i?-1:1,O=i?n-d:d;return{colLeft:O,colMiddle:O+s/2*h,colRight:O+s*h}},t.prototype.getViewportBounds=function(){var e=this.centerRowContainerCon.getCenterWidth(),i=this.centerRowContainerCon.getCenterViewportScrollLeft();return{start:i,end:e+i,width:e}},an([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),an([Q("animationFrameService")],t.prototype,"animationFrameService",void 0),an([Q("columnApi")],t.prototype,"columnApi",void 0),an([Q("gridApi")],t.prototype,"gridApi",void 0),an([Q("paginationProxy")],t.prototype,"paginationProxy",void 0),an([Q("rowModel")],t.prototype,"rowModel",void 0),an([Q("rowContainerHeightService")],t.prototype,"heightScaler",void 0),an([Q("rowRenderer")],t.prototype,"rowRenderer",void 0),an([Q("columnModel")],t.prototype,"columnModel",void 0),an([be],t.prototype,"postConstruct",null),t}(Ze),ah=function(){function a(t){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=t.scrollContainer,this.scrollHorizontally=-1!==t.scrollAxis.indexOf("x"),this.scrollVertically=-1!==t.scrollAxis.indexOf("y"),this.scrollByTick=null!=t.scrollByTick?t.scrollByTick:20,t.onScrollCallback&&(this.onScrollCallback=t.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=t.getVerticalPosition,this.setVerticalPosition=t.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=t.getHorizontalPosition,this.setHorizontalPosition=t.setHorizontalPosition),this.shouldSkipVerticalScroll=t.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=t.shouldSkipHorizontalScroll||function(){return!1}}return a.prototype.check=function(t,e){void 0===e&&(e=!1);var i=e||this.shouldSkipVerticalScroll();if(!i||!this.shouldSkipHorizontalScroll()){var n=this.scrollContainer.getBoundingClientRect(),s=this.scrollByTick;this.tickLeft=t.clientX<n.left+s,this.tickRight=t.clientX>n.right-s,this.tickUp=t.clientY<n.top+s&&!i,this.tickDown=t.clientY>n.bottom-s&&!i,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},a.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},a.prototype.doTick=function(){var t;if(this.tickCount++,t=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var e=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(e-t),this.tickDown&&this.setVerticalPosition(e+t)}if(this.scrollHorizontally){var i=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(i-t),this.tickRight&&this.setHorizontalPosition(i+t)}this.onScrollCallback&&this.onScrollCallback()},a.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},a}(),lh=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Sa=function(){return Sa=Object.assign||function(a){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a},Sa.apply(this,arguments)},vi=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},ch=function(a,t){var e="function"==typeof Symbol&&a[Symbol.iterator];if(!e)return a;var n,d,i=e.call(a),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(h){d={error:h}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},dh=function(a){function t(e){var i=a.call(this)||this;return i.isMultiRowDrag=!1,i.isGridSorted=!1,i.isGridFiltered=!1,i.isRowGroupActive=!1,i.eContainer=e,i}return lh(t,a),t.prototype.postConstruct=function(){var e=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var i=function(){e.onSortChanged(),e.onFilterChanged(),e.onRowGroupChanged()};this.addManagedListener(this.eventService,ue.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_MODEL_UPDATED,function(){i()}),i(),this.ctrlsService.whenReady(function(){var n=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new ah({scrollContainer:n.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return n.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(s){return n.getScrollFeature().setVerticalScrollPosition(s)},onScrollCallback:function(){e.onDragging(e.lastDraggingEvent)}})})},t.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},t.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},t.prototype.onRowGroupChanged=function(){var e=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!B(e)},t.prototype.getContainer=function(){return this.eContainer},t.prototype.isInterestedIn=function(e){return e===z.rvo.RowDrag},t.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?hi.ICON_NOT_ALLOWED:hi.ICON_MOVE},t.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},t.prototype.getRowNodes=function(e){var i=this;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];var n=this.gridOptionsWrapper.isRowDragMultiRow(),s=function(){for(var a=[],t=0;t<arguments.length;t++)a=a.concat(ch(arguments[t]));return a}(this.selectionService.getSelectedNodes()).sort(function(h,O){return i.getRowIndexNumber(h)-i.getRowIndexNumber(O)}),d=e.dragItem.rowNode;return n&&-1!==s.indexOf(d)?(this.isMultiRowDrag=!0,s):(this.isMultiRowDrag=!1,[d])},t.prototype.onDragEnter=function(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent(ue.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(function(i){i.setDragging(!0)}),this.onEnterOrDragging(e)},t.prototype.onDragging=function(e){this.onEnterOrDragging(e)},t.prototype.isFromThisGrid=function(e){return e.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},t.prototype.isDropZoneWithinThisGrid=function(e){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(e.dropZoneTarget)},t.prototype.onEnterOrDragging=function(e){this.dispatchGridEvent(ue.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;var i=this.mouseEventService.getNormalisedPosition(e).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(e,i),this.autoScrollService.check(e.event)},t.prototype.doManagedDrag=function(e,i){var n=this.isFromThisGrid(e),s=this.gridOptionsWrapper.isRowDragManaged(),d=e.dragItem.rowNodes;s&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!n?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(d[0],i):this.moveRows(d,i))},t.prototype.getRowIndexNumber=function(e){return parseInt(Qe(e.getRowIndexString().split("-")),10)},t.prototype.moveRowAndClearHighlight=function(e){var i=this,n=this.clientSideRowModel.getLastHighlightedRowNode(),s=n&&n.highlighted===z.oh5.Below,d=this.mouseEventService.getNormalisedPosition(e).y,h=e.dragItem.rowNodes,O=s?1:0;if(this.isFromThisGrid(e))h.forEach(function(q){q.rowTop<d&&(O-=1)}),this.moveRows(h,d,O);else{var L=this.gridOptionsWrapper.getRowIdFunc(),j=this.clientSideRowModel.getRowIndexAtPixel(d)+1;this.clientSideRowModel.getHighlightPosition(d)===z.oh5.Above&&j--,this.clientSideRowModel.updateRowData({add:h.map(function(q){return q.data}).filter(function(q){return!i.clientSideRowModel.getRowNode(L?L({data:q,level:0,api:i.gridApi,columnApi:i.columnApi}):q.id)}),addIndex:j})}this.clearRowHighlight()},t.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},t.prototype.moveRows=function(e,i,n){void 0===n&&(n=0),this.clientSideRowModel.ensureRowsAtPixel(e,i,n)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},t.prototype.addRowDropZone=function(e){var i=this;if(e.getContainer())if(this.dragAndDropService.findExternalZone(e))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var n={getContainer:e.getContainer};e.fromGrid?(e.fromGrid=void 0,n=e):(e.onDragEnter&&(n.onDragEnter=function(s){e.onDragEnter(i.draggingToRowDragEvent(ue.EVENT_ROW_DRAG_ENTER,s))}),e.onDragLeave&&(n.onDragLeave=function(s){e.onDragLeave(i.draggingToRowDragEvent(ue.EVENT_ROW_DRAG_LEAVE,s))}),e.onDragging&&(n.onDragging=function(s){e.onDragging(i.draggingToRowDragEvent(ue.EVENT_ROW_DRAG_MOVE,s))}),e.onDragStop&&(n.onDragStop=function(s){e.onDragStop(i.draggingToRowDragEvent(ue.EVENT_ROW_DRAG_END,s))})),this.dragAndDropService.addDropTarget(Sa({isInterestedIn:function(s){return s===z.rvo.RowDrag},getIconName:function(){return hi.ICON_MOVE},external:!0},n))}else ye(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},t.prototype.getRowDropZone=function(e){var i=this,n=this.getContainer.bind(this),s=this.onDragEnter.bind(this),d=this.onDragLeave.bind(this),h=this.onDragging.bind(this),O=this.onDragStop.bind(this);return e?{getContainer:n,onDragEnter:e.onDragEnter?function(L){s(L),e.onDragEnter(i.draggingToRowDragEvent(ue.EVENT_ROW_DRAG_ENTER,L))}:s,onDragLeave:e.onDragLeave?function(L){d(L),e.onDragLeave(i.draggingToRowDragEvent(ue.EVENT_ROW_DRAG_LEAVE,L))}:d,onDragging:e.onDragging?function(L){h(L),e.onDragging(i.draggingToRowDragEvent(ue.EVENT_ROW_DRAG_MOVE,L))}:h,onDragStop:e.onDragStop?function(L){O(L),e.onDragStop(i.draggingToRowDragEvent(ue.EVENT_ROW_DRAG_END,L))}:O,fromGrid:!0}:{getContainer:n,onDragEnter:s,onDragLeave:d,onDragging:h,onDragStop:O,fromGrid:!0}},t.prototype.draggingToRowDragEvent=function(e,i){var h,O,n=this.mouseEventService.getNormalisedPosition(i).y,d=-1;switch(n>this.paginationProxy.getCurrentPageHeight()||(d=this.rowModel.getRowIndexAtPixel(n),h=this.rowModel.getRow(d)),i.vDirection){case z.HO_.Down:O="down";break;case z.HO_.Up:O="up";break;default:O=null}return{type:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:i.event,node:i.dragItem.rowNode,nodes:i.dragItem.rowNodes,overIndex:d,overNode:h,y:n,vDirection:O}},t.prototype.dispatchGridEvent=function(e,i){var n=this.draggingToRowDragEvent(e,i);this.eventService.dispatchEvent(n)},t.prototype.onDragLeave=function(e){this.dispatchGridEvent(ue.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(e)&&(this.isMultiRowDrag=!1)},t.prototype.onDragStop=function(e){this.dispatchGridEvent(ue.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gridOptionsWrapper.isRowDragManaged()&&(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)},t.prototype.stopDragging=function(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(function(i){i.setDragging(!1)})},vi([Q("dragAndDropService")],t.prototype,"dragAndDropService",void 0),vi([Q("rowModel")],t.prototype,"rowModel",void 0),vi([Q("paginationProxy")],t.prototype,"paginationProxy",void 0),vi([Q("columnModel")],t.prototype,"columnModel",void 0),vi([Q("focusService")],t.prototype,"focusService",void 0),vi([Q("sortController")],t.prototype,"sortController",void 0),vi([Q("filterManager")],t.prototype,"filterManager",void 0),vi([Q("selectionService")],t.prototype,"selectionService",void 0),vi([Q("mouseEventService")],t.prototype,"mouseEventService",void 0),vi([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),vi([it("rangeService")],t.prototype,"rangeService",void 0),vi([Q("columnApi")],t.prototype,"columnApi",void 0),vi([Q("gridApi")],t.prototype,"gridApi",void 0),vi([be],t.prototype,"postConstruct",null),t}(Ze),Zg=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bi=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s};!function(a){a.ANIMATION_ON="ag-row-animation",a.ANIMATION_OFF="ag-row-no-animation"}(z.SJN||(z.SJN={}));var Sc="ag-selectable",hh="ag-force-vertical-scroll",ph="ag-column-moving",fh=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.angularApplyTriggered=!1,e}return Zg(t,a),t.prototype.getScrollFeature=function(){return this.bodyScrollFeature},t.prototype.getBodyViewportElement=function(){return this.eBodyViewport},t.prototype.setComp=function(e,i,n,s,d){this.comp=e,this.eGridBody=i,this.eBodyViewport=n,this.eTop=s,this.eBottom=d,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new Ea(this.comp)),this.bodyScrollFeature=this.createManagedBean(new zg(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.ctrlsService.registerGridBodyCtrl(this),this.addEventListeners(),this.addFocusListeners([s,n,d]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.$scope&&this.addAngularApplyCheck()},t.prototype.getComp=function(){return this.comp},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,ue.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_PINNED_ROW_DATA_CHANGED,this.setFloatingHeights.bind(this))},t.prototype.addFocusListeners=function(e){var i=this;e.forEach(function(n){i.addManagedListener(n,"focusin",function(){n.classList.add("ag-has-focus")}),i.addManagedListener(n,"focusout",function(s){n.contains(s.relatedTarget)||n.classList.remove("ag-has-focus")})})},t.prototype.setColumnMovingCss=function(e){this.comp.setColumnMovingCss(e?ph:null,e)},t.prototype.setCellTextSelection=function(e){void 0===e&&(e=!1),this.comp.setCellSelectableCss(e?Sc:null,e)},t.prototype.onScrollVisibilityChanged=function(){var e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e)},t.prototype.onGridColumnsChanged=function(){var e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e?e.length:0)},t.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(e){if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})},t.prototype.addStopEditingWhenGridLosesFocus=function(){var e=this;if(this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var i=function(s){var d=s.relatedTarget;if(null!==$s(d)){var h=n.some(function(L){return L.contains(d)})&&e.mouseEventService.isElementInThisGrid(d);if(!h){var O=e.popupService;h=O.getActivePopups().some(function(L){return L.contains(d)})||O.isElementWithinCustomPopup(d)}h||e.rowRenderer.stopEditing()}else e.rowRenderer.stopEditing()},n=[this.eBodyViewport,this.eBottom,this.eTop];n.forEach(function(s){return e.addManagedListener(s,"focusout",i)})}},t.prototype.updateRowCount=function(){var e=this.headerNavigationService.getHeaderRowCount(),i=this.paginationProxy.getType(),n=-1;i===ae.ROW_MODEL_TYPE_CLIENT_SIDE&&(n=0,this.paginationProxy.forEachNode(function(d){d.group||n++})),this.comp.setRowCount(-1===n?-1:e+n)},t.prototype.registerBodyViewportResizeListener=function(e){this.comp.registerBodyViewportResizeListener(e)},t.prototype.setVerticalScrollPaddingVisible=function(e){this.comp.setPinnedTopBottomOverflowY(e?"scroll":"hidden")},t.prototype.isVerticalScrollShowing=function(){var e=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return this.comp.setAlwaysVerticalScrollClass(e?hh:null,e),e||ef(this.eBodyViewport)},t.prototype.setupRowAnimationCssClass=function(){var e=this,i=function(){var n=e.gridOptionsWrapper.isAnimateRows()&&!e.rowContainerHeightService.isStretching();e.comp.setRowAnimationCssOnBodyViewport(n?z.SJN.ANIMATION_ON:z.SJN.ANIMATION_OFF,n)};i(),this.addManagedListener(this.eventService,ue.EVENT_HEIGHT_SCALE_CHANGED,i)},t.prototype.getGridBodyElement=function(){return this.eGridBody},t.prototype.addBodyViewportListener=function(){var e=this;this.addManagedListener(this.eBodyViewport,"contextmenu",function(n){e.gridOptionsWrapper.isPreventDefaultOnContextMenu()&&n.preventDefault();var s=n.target;(s===e.eBodyViewport||s===e.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&e.contextMenuFactory&&e.contextMenuFactory.onContextMenu(n,null,null,null,null,e.eGridBody)}),this.addManagedListener(this.eBodyViewport,"wheel",this.onWheel.bind(this))},t.prototype.onWheel=function(e){!this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()||this.popupService.hasAnchoredPopup()&&e.preventDefault()},t.prototype.getGui=function(){return this.eGridBody},t.prototype.scrollVertically=function(e){var i=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(i+e),this.eBodyViewport.scrollTop-i},t.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new dh(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},t.prototype.getRowDragFeature=function(){return this.rowDragFeature},t.prototype.setFloatingHeights=function(){var e=this.pinnedRowModel,i=e.getPinnedTopTotalHeight();i&&(i+=1);var n=e.getPinnedBottomTotalHeight();n&&(n+=1),this.comp.setTopHeight(i),this.comp.setBottomHeight(n),this.comp.setTopDisplay(i?"inherit":"none"),this.comp.setBottomDisplay(n?"inherit":"none")},t.prototype.sizeColumnsToFit=function(e){var i=this,s=this.isVerticalScrollShowing()?this.gridOptionsWrapper.getScrollbarWidth():0,h=Ol(this.eBodyViewport)-s;h>0?this.columnModel.sizeColumnsToFit(h,"sizeColumnsToFit"):void 0===e?window.setTimeout(function(){i.sizeColumnsToFit(100)},0):100===e?window.setTimeout(function(){i.sizeColumnsToFit(500)},100):500===e?window.setTimeout(function(){i.sizeColumnsToFit(-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},t.prototype.addScrollEventListener=function(e){this.eBodyViewport.addEventListener("scroll",e)},t.prototype.removeScrollEventListener=function(e){this.eBodyViewport.removeEventListener("scroll",e)},t.prototype.requestAngularApply=function(){var e=this;this.angularApplyTriggered||(this.angularApplyTriggered=!0,window.setTimeout(function(){e.angularApplyTriggered=!1,e.$scope.$apply()},0))},t.prototype.addAngularApplyCheck=function(){var e=this;this.addManagedListener(this.eventService,ue.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return e.requestAngularApply()}),this.addManagedListener(this.eventService,ue.EVENT_VIRTUAL_COLUMNS_CHANGED,function(){return e.requestAngularApply()})},bi([Q("rowContainerHeightService")],t.prototype,"rowContainerHeightService",void 0),bi([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),bi([Q("columnModel")],t.prototype,"columnModel",void 0),bi([Q("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),bi([it("contextMenuFactory")],t.prototype,"contextMenuFactory",void 0),bi([Q("headerNavigationService")],t.prototype,"headerNavigationService",void 0),bi([Q("paginationProxy")],t.prototype,"paginationProxy",void 0),bi([Q("dragAndDropService")],t.prototype,"dragAndDropService",void 0),bi([Q("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),bi([Q("rowRenderer")],t.prototype,"rowRenderer",void 0),bi([Q("popupService")],t.prototype,"popupService",void 0),bi([Q("mouseEventService")],t.prototype,"mouseEventService",void 0),bi([Q("$scope")],t.prototype,"$scope",void 0),t}(Ze),qg=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),gr=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Kg='<div class="ag-root ag-unselectable" role="grid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+z.hA6.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+z.hA6.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+z.hA6.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+z.hA6.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <ag-row-container ref="leftContainer" name="'+z.hA6.LEFT+'"></ag-row-container>\n            <ag-row-container ref="centerContainer" name="'+z.hA6.CENTER+'"></ag-row-container>\n            <ag-row-container ref="rightContainer" name="'+z.hA6.RIGHT+'"></ag-row-container>\n            <ag-row-container ref="fullWidthContainer" name="'+z.hA6.FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+z.hA6.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+z.hA6.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+z.hA6.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+z.hA6.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',gh=function(a){function t(){return a.call(this,Kg)||this}return qg(t,a),t.prototype.init=function(){var e=this,i=function(s,d){var h=s+"px";d.style.minHeight=h,d.style.height=h},n={setRowAnimationCssOnBodyViewport:function(s,d){return e.setRowAnimationCssOnBodyViewport(s,d)},setColumnCount:function(s){return gf(e.getGui(),s)},setRowCount:function(s){return ff(e.getGui(),s)},setTopHeight:function(s){return i(s,e.eTop)},setBottomHeight:function(s){return i(s,e.eBottom)},setTopDisplay:function(s){return e.eTop.style.display=s},setBottomDisplay:function(s){return e.eBottom.style.display=s},setColumnMovingCss:function(s,d){return e.addOrRemoveCssClass(ph,d)},updateLayoutClasses:function(s,d){var h=e.eBodyViewport.classList;h.toggle(z.LBn.AUTO_HEIGHT,d.autoHeight),h.toggle(z.LBn.NORMAL,d.normal),h.toggle(z.LBn.PRINT,d.print),e.addOrRemoveCssClass(z.LBn.AUTO_HEIGHT,d.autoHeight),e.addOrRemoveCssClass(z.LBn.NORMAL,d.normal),e.addOrRemoveCssClass(z.LBn.PRINT,d.print)},setAlwaysVerticalScrollClass:function(s,d){return e.eBodyViewport.classList.toggle(hh,d)},registerBodyViewportResizeListener:function(s){var d=e.resizeObserverService.observeResize(e.eBodyViewport,s);e.addDestroyFunc(function(){return d()})},setPinnedTopBottomOverflowY:function(s){return e.eTop.style.overflowY=e.eBottom.style.overflowY=s},setCellSelectableCss:function(s,d){[e.eTop,e.eBodyViewport,e.eBottom].forEach(function(h){return h.classList.toggle(Sc,d)})}};this.ctrl=this.createManagedBean(new fh),this.ctrl.setComp(n,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&pf(this.getGui(),!0)},t.prototype.setRowAnimationCssOnBodyViewport=function(e,i){var n=this.eBodyViewport.classList;n.toggle(z.SJN.ANIMATION_ON,i),n.toggle(z.SJN.ANIMATION_OFF,!i)},t.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},gr([Q("resizeObserverService")],t.prototype,"resizeObserverService",void 0),gr([it("rangeService")],t.prototype,"rangeService",void 0),gr([He("eBodyViewport")],t.prototype,"eBodyViewport",void 0),gr([He("eTop")],t.prototype,"eTop",void 0),gr([He("eBottom")],t.prototype,"eBottom",void 0),gr([He("gridHeader")],t.prototype,"headerRootComp",void 0),gr([be],t.prototype,"init",null),t}(pt),Yg=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ac=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},mh=function(a,t){return function(e,i){t(e,i,a)}},vh=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.expressionToFunctionCache={},e}return Yg(t,a),t.prototype.setBeans=function(e){this.logger=e.create("ExpressionService")},t.prototype.evaluate=function(e,i){return"function"==typeof e?e(i):"string"==typeof e?this.evaluateExpression(e,i):void console.error("AG Grid: value should be either a string or a function",e)},t.prototype.evaluateExpression=function(e,i){try{return this.createExpressionFunction(e)(i.value,i.context,i.oldValue,i.newValue,i.value,i.node,i.data,i.colDef,i.rowIndex,i.api,i.columnApi,i.getValue,i.column,i.columnGroup)}catch(d){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",i),console.log("Exception = "+d),null}},t.prototype.createExpressionFunction=function(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];var i=this.createFunctionBody(e),n=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",i);return this.expressionToFunctionCache[e]=n,n},t.prototype.createFunctionBody=function(e){return e.indexOf("return")>=0?e:"return "+e+";"},Ac([mh(0,Et("loggerFactory"))],t.prototype,"setBeans",null),Ac([je("expressionService")],t)}(Ze),Qg=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Rc=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Jg=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.templateCache={},e.waitingCallbacks={},e}return Qg(t,a),t.prototype.getTemplate=function(e,i){var n=this.templateCache[e];if(n)return n;var s=this.waitingCallbacks[e],d=this;if(!s){this.waitingCallbacks[e]=s=[];var h=new XMLHttpRequest;h.onload=function(){d.handleHttpResult(this,e)},h.open("GET",e),h.send()}return i&&s.push(i),null},t.prototype.handleHttpResult=function(e,i){if(200===e.status&&null!==e.response){this.templateCache[i]=e.response||e.responseText;for(var n=this.waitingCallbacks[i],s=0;s<n.length;s++)(0,n[s])();if(this.$scope){var h=this;window.setTimeout(function(){h.$scope.$apply()},0)}}else console.warn("AG Grid: Unable to get template error "+e.status+" - "+i)},Rc([Q("$scope")],t.prototype,"$scope",void 0),Rc([je("templateService")],t)}(Ze),Xg=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Pi=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},em=function(a,t){var e="function"==typeof Symbol&&a[Symbol.iterator];if(!e)return a;var n,d,i=e.call(a),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(h){d={error:h}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},so=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}var e;return Xg(t,a),e=t,t.addKeyboardModeEvents=function(i,n){var s=e.instancesMonitored.get(i);s&&s.length>0?-1===s.indexOf(n)&&s.push(n):(e.instancesMonitored.set(i,[n]),i.addEventListener("keydown",e.toggleKeyboardMode),i.addEventListener("mousedown",e.toggleKeyboardMode))},t.removeKeyboardModeEvents=function(i,n){var s=e.instancesMonitored.get(i),d=[];s&&s.length&&(d=function(){for(var a=[],t=0;t<arguments.length;t++)a=a.concat(em(arguments[t]));return a}(s).filter(function(h){return h!==n}),e.instancesMonitored.set(i,d)),0===d.length&&(i.removeEventListener("keydown",e.toggleKeyboardMode),i.removeEventListener("mousedown",e.toggleKeyboardMode))},t.toggleKeyboardMode=function(i){var n=e.keyboardModeActive,s="keydown"===i.type;if(!(s&&(i.ctrlKey||i.metaKey||i.altKey)||n&&s||!n&&!s)){e.keyboardModeActive=s;var d=i.target.ownerDocument;if(d){var h=e.instancesMonitored.get(d);h&&h.forEach(function(O){O.dispatchEvent({type:s?ue.EVENT_KEYBOARD_FOCUS:ue.EVENT_MOUSE_FOCUS})})}}},t.prototype.init=function(){var i=this,n=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,ue.EVENT_COLUMN_PIVOT_MODE_CHANGED,n),this.addManagedListener(this.eventService,ue.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_GROUP_OPENED,n),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_ROW_GROUP_CHANGED,n),this.ctrlsService.whenReady(function(s){i.gridCtrl=s.gridCtrl;var d=i.gridOptionsWrapper.getDocument();e.addKeyboardModeEvents(d,i.gridCtrl),i.addDestroyFunc(function(){return i.unregisterGridCompController(i.gridCtrl)})})},t.prototype.unregisterGridCompController=function(i){var n=this.gridOptionsWrapper.getDocument();e.removeKeyboardModeEvents(n,i)},t.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var i=this.focusedCellPosition.column,n=this.columnModel.getGridColumn(i.getId());i!==n&&this.clearFocusedCell()}},t.prototype.isKeyboardMode=function(){return e.keyboardModeActive},t.prototype.getFocusCellToUseAfterRefresh=function(){var i=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(i.activeElement,hr.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},t.prototype.getFocusHeaderToUseAfterRefresh=function(){var i=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(i.activeElement,to.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},t.prototype.isDomDataMissingInHierarchy=function(i,n){for(var s=i;s;){if(this.gridOptionsWrapper.getDomData(s,n))return!1;s=s.parentNode}return!0},t.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},t.prototype.getFocusedCell=function(){return this.focusedCellPosition},t.prototype.setFocusedCell=function(i,n,s,d){void 0===d&&(d=!1);var h=this.columnModel.getGridColumn(n);h?(this.focusedCellPosition=h?{rowIndex:i,rowPinned:H(s),column:h}:null,this.onCellFocused(d)):this.focusedCellPosition=null},t.prototype.isCellFocused=function(i){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===i.column&&this.isRowFocused(i.rowIndex,i.rowPinned)},t.prototype.isRowNodeFocused=function(i){return this.isRowFocused(i.rowIndex,i.rowPinned)},t.prototype.isHeaderWrapperFocused=function(i){if(null==this.focusedHeaderPosition)return!1;var n=i.getColumnGroupChild(),s=i.getRowIndex(),d=i.getPinned(),h=this.focusedHeaderPosition,O=h.column;return n===O&&s===h.headerRowIndex&&d==O.getPinned()},t.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},t.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},t.prototype.setFocusedHeader=function(i,n){this.focusedHeaderPosition={headerRowIndex:i,column:n}},t.prototype.focusHeaderPosition=function(i){var n=i.direction,s=i.fromTab,h=i.event,O=i.headerPosition;if(i.allowUserOverride){var J,L=this.gridOptionsWrapper,j=this.getFocusedHeader(),q=this.headerNavigationService.getHeaderRowCount();s?(J=L.getTabToNextHeaderFunc())&&(O=J({backwards:"Before"===n,previousHeaderPosition:j,nextHeaderPosition:O,headerRowCount:q,api:L.getApi(),columnApi:L.getColumnApi()})):(J=L.getNavigateToNextHeaderFunc())&&h&&(O=J({key:h.key,previousHeaderPosition:j,nextHeaderPosition:O,headerRowCount:q,event:h,api:L.getApi(),columnApi:L.getColumnApi()}))}return!!O&&(-1===O.headerRowIndex?this.focusGridView(O.column):(this.headerNavigationService.scrollToColumn(O.column,n),this.ctrlsService.getHeaderRowContainerCtrl(O.column.getPinned()).focusHeader(O.headerRowIndex,O.column,h)))},t.prototype.focusFirstHeader=function(){var i=this.columnModel.getAllDisplayedColumns()[0];return!!i&&(i.getParent()&&(i=this.columnModel.getColumnGroupAtLevel(i,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:i}}))},t.prototype.focusLastHeader=function(i){var n=this.headerNavigationService.getHeaderRowCount()-1,s=Qe(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:n,column:s},event:i})},t.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},t.prototype.isRowFocused=function(i,n){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===i&&this.focusedCellPosition.rowPinned===H(n)},t.prototype.findFocusableElements=function(i,n,s){void 0===s&&(s=!1);var h=ae.FOCUSABLE_EXCLUDE;n&&(h+=", "+n),s&&(h+=', [tabindex="-1"]');var J,O=Array.prototype.slice.apply(i.querySelectorAll(ae.FOCUSABLE_SELECTOR)),L=Array.prototype.slice.apply(i.querySelectorAll(h));return L.length?(J=L,O.filter(function(re){return-1===J.indexOf(re)})):O},t.prototype.focusInto=function(i,n,s){void 0===n&&(n=!1),void 0===s&&(s=!1);var d=this.findFocusableElements(i,null,s),h=n?Qe(d):d[0];return!!h&&(h.focus(),!0)},t.prototype.findNextFocusableElement=function(i,n,s){void 0===i&&(i=this.eGridDiv);var d=this.findFocusableElements(i,n?':not([tabindex="-1"])':null),O=this.gridOptionsWrapper.getDocument().activeElement,j=(n?d.findIndex(function(q){return q.contains(O)}):d.indexOf(O))+(s?-1:1);return j<0||j>=d.length?null:d[j]},t.prototype.isFocusUnderManagedComponent=function(i){var n=this.gridOptionsWrapper.getDocument(),s=i.querySelectorAll("."+mn.FOCUS_MANAGED_CLASS);if(!s.length)return!1;for(var d=0;d<s.length;d++)if(s[d].contains(n.activeElement))return!0;return!1},t.prototype.findTabbableParent=function(i,n){void 0===n&&(n=5);for(var s=0;i&&null===$s(i)&&++s<=n;)i=i.parentElement;return null===$s(i)?null:i},t.prototype.onCellFocused=function(i){var n={type:ue.EVENT_CELL_FOCUSED,forceBrowserFocus:i,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var s=n.rowIndex=this.focusedCellPosition.rowIndex,d=n.rowPinned=this.focusedCellPosition.rowPinned;n.column=this.focusedCellPosition.column;var h=this.rowRenderer.getRowByPosition({rowIndex:s,rowPinned:d});h&&(n.isFullWidthCell=h.isFullWidth())}this.eventService.dispatchEvent(n)},t.prototype.focusGridView=function(i,n){if(this.gridOptionsWrapper.isSuppressCellFocus())return n?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var s=n?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!s)return!1;var d=s.rowIndex,h=s.rowPinned,O=this.getFocusedHeader();return!i&&O&&(i=O.column),!(null==d||!i)&&(this.navigationService.ensureCellVisible({rowIndex:d,column:i,rowPinned:h}),this.setFocusedCell(d,i,H(h),!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:d,rowPinned:h,column:i}),!0)},t.prototype.focusNextGridCoreContainer=function(i){return!!this.gridCtrl.focusNextInnerContainer(i)||(i||this.gridCtrl.forceFocusOutOfContainer(),!1)},t.AG_KEYBOARD_FOCUS="ag-keyboard-focus",t.keyboardModeActive=!1,t.instancesMonitored=new Map,Pi([Q("eGridDiv")],t.prototype,"eGridDiv",void 0),Pi([Q("columnModel")],t.prototype,"columnModel",void 0),Pi([Q("headerNavigationService")],t.prototype,"headerNavigationService",void 0),Pi([Q("columnApi")],t.prototype,"columnApi",void 0),Pi([Q("gridApi")],t.prototype,"gridApi",void 0),Pi([Q("rowRenderer")],t.prototype,"rowRenderer",void 0),Pi([Q("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Pi([it("rangeService")],t.prototype,"rangeService",void 0),Pi([Q("navigationService")],t.prototype,"navigationService",void 0),Pi([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),Pi([be],t.prototype,"init",null),e=Pi([je("focusService")],t)}(Ze),im=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rs=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},En=(()=>(function(a){a[a.vertical=0]="vertical",a[a.horizontal=1]="horizontal"}(En||(En={})),En))(),nm=0,yh=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.popupList=[],e}return im(t,a),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){e.gridCtrl=i.gridCtrl,e.addManagedListener(e.gridCtrl,ue.EVENT_KEYBOARD_FOCUS,function(){e.popupList.forEach(function(n){return n.element.classList.add(so.AG_KEYBOARD_FOCUS)})}),e.addManagedListener(e.gridCtrl,ue.EVENT_MOUSE_FOCUS,function(){e.popupList.forEach(function(n){return n.element.classList.remove(so.AG_KEYBOARD_FOCUS)})})})},t.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCtrl.getGui()},t.prototype.positionPopupForMenu=function(e){var i=e.eventSource.getBoundingClientRect(),n=this.getParentRect(),s=this.keepXYWithinBounds(e.ePopup,i.top-n.top,En.vertical),d=e.ePopup.clientWidth>0?e.ePopup.clientWidth:200;e.ePopup.style.minWidth=d+"px";var L,O=n.right-n.left-d;function j(){return i.right-n.left-2}function q(){return i.left-n.left-d}this.gridOptionsWrapper.isEnableRtl()?((L=q())<0&&(L=j()),L>O&&(L=0)):((L=j())>O&&(L=q()),L<0&&(L=0)),e.ePopup.style.left=L+"px",e.ePopup.style.top=s+"px"},t.prototype.positionPopupUnderMouseEvent=function(e){var i=e.ePopup,n=e.nudgeX,s=e.nudgeY,d=this.calculatePointerAlign(e.mouseEvent);this.positionPopup({ePopup:i,x:d.x,y:d.y,nudgeX:n,nudgeY:s,keepWithinBounds:!0}),this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)},t.prototype.calculatePointerAlign=function(e){var i=this.getParentRect();return{x:e.clientX-i.left,y:e.clientY-i.top}},t.prototype.positionPopupUnderComponent=function(e){var i=e.eventSource.getBoundingClientRect(),n=e.alignSide||"left",s=this.getParentRect(),d=i.left-s.left;"right"===n&&(d-=e.ePopup.offsetWidth-i.width),this.positionPopup({ePopup:e.ePopup,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:d,y:i.top-s.top+i.height,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)},t.prototype.positionPopupOverComponent=function(e){var i=e.eventSource.getBoundingClientRect(),n=this.getParentRect();this.positionPopup({ePopup:e.ePopup,nudgeX:e.nudgeX,nudgeY:e.nudgeY,x:i.left-n.left,y:i.top-n.top,keepWithinBounds:e.keepWithinBounds}),this.callPostProcessPopup(e.type,e.ePopup,e.eventSource,null,e.column,e.rowNode)},t.prototype.callPostProcessPopup=function(e,i,n,s,d,h){var O=this.gridOptionsWrapper.getPostProcessPopupFunc();O&&O({column:d,rowNode:h,ePopup:i,type:e,eventSource:n,mouseEvent:s})},t.prototype.positionPopup=function(e){var i=e.ePopup,s=e.nudgeX,d=e.nudgeY,h=e.x,O=e.y;s&&(h+=s),d&&(O+=d),e.keepWithinBounds&&(h=this.keepXYWithinBounds(i,h,En.horizontal),O=this.keepXYWithinBounds(i,O,En.vertical)),i.style.left=h+"px",i.style.top=O+"px"},t.prototype.getActivePopups=function(){return this.popupList.map(function(e){return e.element})},t.prototype.getPopupList=function(){return this.popupList},t.prototype.getParentRect=function(){var e=this.gridOptionsWrapper.getDocument(),i=this.getPopupParent();i===e.body&&(i=e.documentElement);var n=getComputedStyle(i),s=i.getBoundingClientRect();return{top:s.top+parseFloat(n.borderTopWidth)||0,left:s.left+parseFloat(n.borderLeftWidth)||0,right:s.right+parseFloat(n.borderRightWidth)||0,bottom:s.bottom+parseFloat(n.borderBottomWidth)||0}},t.prototype.keepXYWithinBounds=function(e,i,n){var s=n===En.vertical,d=s?"clientHeight":"clientWidth",h=s?"top":"left",O=s?"offsetHeight":"offsetWidth",L=s?"scrollTop":"scrollLeft",j=this.gridOptionsWrapper.getDocument(),q=j.documentElement,J=this.getPopupParent(),re=J.getBoundingClientRect(),me=j.documentElement.getBoundingClientRect(),Ae=J===j.body,Pe=e[O],Ve=Ae?(s?Lo:kr)(q)+q[L]:J[d];Ae&&(Ve-=Math.abs(me[h]-re[h]));var $e=Ve-Pe;return Math.min(Math.max(i,0),Math.abs($e))},t.prototype.keepPopupPositionedRelativeTo=function(e){var i=this,n=this.getPopupParent(),s=n.getBoundingClientRect(),d=e.element.getBoundingClientRect(),h=s.top-d.top,O=s.left-d.left,L=h,j=O,q=e.ePopup.style.top,J=parseInt(q.substring(0,q.length-1),10),re=e.ePopup.style.left,me=parseInt(re.substring(0,re.length-1),10);return new wi(function(Ae){i.getFrameworkOverrides().setInterval(function(){var Pe=n.getBoundingClientRect(),We=e.element.getBoundingClientRect();if(0==We.top&&0==We.left&&0==We.height&&0==We.width)e.hidePopup();else{var $e=Pe.top-We.top;if($e!=L){var Ke=i.keepXYWithinBounds(e.ePopup,J+h-$e,En.vertical);e.ePopup.style.top=Ke+"px"}L=$e;var ot=Pe.left-We.left;if(ot!=j){var mt=i.keepXYWithinBounds(e.ePopup,me+O-ot,En.horizontal);e.ePopup.style.left=mt+"px"}j=ot}},200).then(function(Pe){Ae(function(){null!=Pe&&window.clearInterval(Pe)})})})},t.prototype.addPopup=function(e){var i=this,n=e.modal,s=e.eChild,d=e.closeOnEsc,h=e.closedCallback,O=e.click,L=e.alwaysOnTop,j=e.afterGuiAttached,q=e.positionCallback,J=e.anchorToElement,re=e.ariaLabel,me=this.gridOptionsWrapper.getDocument(),Ae=new wi(function(wt){return wt(function(){})});if(!me)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:Ae};var Pe=this.popupList.findIndex(function(wt){return wt.element===s});if(-1!==Pe){var We=this.popupList[Pe];return{hideFunc:We.hideFunc,stopAnchoringPromise:We.stopAnchoringPromise}}var Ve=this.getPopupParent();null==s.style.top&&(s.style.top="0px"),null==s.style.left&&(s.style.left="0px");var $e=document.createElement("div"),Ke=this.environment.getTheme().theme;Ke&&$e.classList.add(Ke),$e.classList.add("ag-popup"),s.classList.add(this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr","ag-popup-child"),s.hasAttribute("role")||fi(s,"dialog"),Hr(s,re),this.focusService.isKeyboardMode()&&s.classList.add(so.AG_KEYBOARD_FOCUS),$e.appendChild(s),Ve.appendChild($e),L?this.setAlwaysOnTop($e,!0):this.bringPopupToFront($e);var ot=!1,mt=function(wt){$e.contains(me.activeElement)&&wt.key===Ue.ESCAPE&&St({keyboardEvent:wt})},ft=function(wt){return St({mouseEvent:wt})},ut=function(wt){return St({touchEvent:wt})},St=function(wt){void 0===wt&&(wt={});var si=wt.mouseEvent,Yt=wt.touchEvent,Zi=wt.keyboardEvent;i.isEventFromCurrentPopup({mouseEvent:si,touchEvent:Yt},s)||i.isEventSameChainAsOriginalEvent({originalMouseEvent:O,mouseEvent:si,touchEvent:Yt})||ot||(ot=!0,Ve.removeChild($e),me.removeEventListener("keydown",mt),me.removeEventListener("mousedown",ft),me.removeEventListener("touchstart",ut),me.removeEventListener("contextmenu",ft),i.eventService.removeEventListener(ue.EVENT_DRAG_STARTED,ft),h&&h(si||Yt||Zi),i.popupList=i.popupList.filter(function(qi){return qi.element!==s}),Ae&&Ae.then(function(qi){return qi&&qi()}))};return j&&j({hidePopup:St}),window.setTimeout(function(){d&&me.addEventListener("keydown",mt),n&&(me.addEventListener("mousedown",ft),i.eventService.addEventListener(ue.EVENT_DRAG_STARTED,ft),me.addEventListener("touchstart",ut),me.addEventListener("contextmenu",ft))},0),q&&q(),J&&(Ae=this.keepPopupPositionedRelativeTo({element:J,ePopup:s,hidePopup:St})),this.popupList.push({element:s,wrapper:$e,hideFunc:St,stopAnchoringPromise:Ae,instanceId:nm++,isAnchored:!!J}),{hideFunc:St,stopAnchoringPromise:Ae}},t.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(e){return e.isAnchored})},t.prototype.isEventFromCurrentPopup=function(e,i){var d=e.mouseEvent||e.touchEvent;if(!d)return!1;var h=this.popupList.findIndex(function(j){return j.element===i});if(-1===h)return!1;for(var O=h;O<this.popupList.length;O++)if(Yn(this.popupList[O].element,d))return!0;return this.isElementWithinCustomPopup(d.target)},t.prototype.isElementWithinCustomPopup=function(e){for(var i=this.gridOptionsWrapper.getDocument();e&&e!==i.body;){if(e.classList.contains("ag-custom-component-popup")||null===e.parentElement)return!0;e=e.parentElement}return!1},t.prototype.isEventSameChainAsOriginalEvent=function(e){var i=e.originalMouseEvent,n=e.mouseEvent,s=e.touchEvent,d=null;if(n?d=n:s&&(d=s.touches[0]),d&&i){var O=n?n.screenY:0,L=Math.abs(i.screenX-(n?n.screenX:0))<5,j=Math.abs(i.screenY-O)<5;if(L&&j)return!0}return!1},t.prototype.getWrapper=function(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null},t.prototype.setAlwaysOnTop=function(e,i){var n=this.getWrapper(e);!n||(n.classList.toggle("ag-always-on-top",!!i),i&&this.bringPopupToFront(n))},t.prototype.bringPopupToFront=function(e){var i=this.getPopupParent(),n=Array.prototype.slice.call(i.querySelectorAll(".ag-popup")),s=n.length,d=Array.prototype.slice.call(i.querySelectorAll(".ag-popup.ag-always-on-top")),h=d.length,O=this.getWrapper(e);if(O&&!(s<=1)&&i.contains(e)){var L=n.indexOf(O),j=O.querySelectorAll("div"),q=[];for(j.forEach(function(Ae){0!==Ae.scrollTop&&q.push([Ae,Ae.scrollTop])}),h?O.classList.contains("ag-always-on-top")?L!==s-1&&Qe(d).insertAdjacentElement("afterend",O):L!==s-h-1&&d[0].insertAdjacentElement("beforebegin",O):L!==s-1&&Qe(n).insertAdjacentElement("afterend",O);q.length;){var re=q.pop();re[0].scrollTop=re[1]}var me={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:O};this.eventService.dispatchEvent(me)}},rs([Q("environment")],t.prototype,"environment",void 0),rs([Q("focusService")],t.prototype,"focusService",void 0),rs([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),rs([be],t.prototype,"postConstruct",null),rs([je("popupService")],t)}(Ze),rm=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_h=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},om=function(a,t){return function(e,i){t(e,i,a)}},Ch=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return rm(t,a),t.prototype.setBeans=function(e){this.logging=e.isDebug()},t.prototype.create=function(e){return new Aa(e,this.isLogging.bind(this))},t.prototype.isLogging=function(){return this.logging},_h([om(0,Et("gridOptionsWrapper"))],t.prototype,"setBeans",null),_h([je("loggerFactory")],t)}(Ze),Aa=function(){function a(t,e){this.name=t,this.isLoggingFunc=e}return a.prototype.isLogging=function(){return this.isLoggingFunc()},a.prototype.log=function(t){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+t)},a}(),sm=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),os=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},am=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return sm(t,a),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){e.centerRowContainerCon=i.centerRowContainerCtrl})},t.prototype.getPreferredWidthForColumn=function(e,i){var n=this.getHeaderCellForColumn(e);if(!n)return-1;var s=this.rowRenderer.getAllCellsForColumn(e);return i||s.push(n),this.addElementsToContainerAndGetWidth(s)},t.prototype.getPreferredWidthForColumnGroup=function(e){var i=this.getHeaderCellForColumn(e);return i?this.addElementsToContainerAndGetWidth([i]):-1},t.prototype.addElementsToContainerAndGetWidth=function(e){var i=this,n=document.createElement("span");n.style.position="fixed";var s=this.centerRowContainerCon.getContainerElement();s.appendChild(n),e.forEach(function(O){return i.cloneItemIntoDummy(O,n)});var d=n.offsetWidth;return s.removeChild(n),d+this.gridOptionsWrapper.getAutoSizePadding()},t.prototype.getHeaderCellForColumn=function(e){var i=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(n){var s=n.getHtmlElementForColumnHeader(e);null!=s&&(i=s)}),i},t.prototype.cloneItemIntoDummy=function(e,i){var n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";var s=document.createElement("div"),d=s.classList;["ag-header-cell","ag-header-group-cell"].some(function(J){return n.classList.contains(J)})?(d.add("ag-header","ag-header-row"),s.style.position="static"):d.add("ag-row");for(var O=e.parentElement;O;){if(["ag-header-row","ag-row"].some(function(J){return O.classList.contains(J)})){for(var j=0;j<O.classList.length;j++){var q=O.classList[j];"ag-row-position-absolute"!=q&&d.add(q)}break}O=O.parentElement}s.appendChild(n),i.appendChild(s)},os([Q("rowRenderer")],t.prototype,"rowRenderer",void 0),os([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),os([Q("rowCssClassCalculator")],t.prototype,"rowCssClassCalculator",void 0),os([be],t.prototype,"postConstruct",null),os([je("autoWidthCalculator")],t)}(Ze),lm=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wh=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},bh=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return lm(t,a),t.prototype.addResizeBar=function(e){var i=this,n={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e)};return this.dragService.addDragSource(n,!0),function(){return i.dragService.removeDragSource(n)}},t.prototype.onDragStart=function(e,i){this.dragStartX=i.clientX,this.setResizeIcons();var n=i instanceof MouseEvent&&!0===i.shiftKey;e.onResizeStart(n)},t.prototype.setResizeIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!0),e.disableUserSelect(!0)},t.prototype.onDragStop=function(e,i){e.onResizeEnd(this.resizeAmount),this.resetIcons()},t.prototype.resetIcons=function(){var e=this.ctrlsService.getGridCtrl();e.setResizeCursor(!1),e.disableUserSelect(!1)},t.prototype.onDragging=function(e,i){this.resizeAmount=i.clientX-this.dragStartX,e.onResizing(this.resizeAmount)},wh([Q("dragService")],t.prototype,"dragService",void 0),wh([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),wh([je("horizontalResizeService")],t)}(Ze),ss=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mr=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},cm=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return ss(t,a),t.prototype.postConstruct=function(){this.ctrlsService.registerGridCtrl(this)},t.prototype.setComp=function(e,i,n){var s=this;this.view=e,this.eGridHostDiv=i,this.eGui=n,this.mouseEventService.stampTopLevelGridCompWithGridInstance(i),this.createManagedBean(new Ea(this.view)),this.addRtlSupport(),this.addManagedListener(this,ue.EVENT_KEYBOARD_FOCUS,function(){s.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,ue.EVENT_MOUSE_FOCUS,function(){s.view.addOrRemoveKeyboardFocusClass(!1)});var d=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return d()})},t.prototype.showDropZones=function(){return ze.isRegistered(z.GXE.RowGroupingModule)},t.prototype.showSideBar=function(){return ze.isRegistered(z.GXE.SideBarModule)},t.prototype.showStatusBar=function(){return ze.isRegistered(z.GXE.StatusBarModule)},t.prototype.showWatermark=function(){return ze.isRegistered(z.GXE.EnterpriseCoreModule)},t.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:ue.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},t.prototype.addRtlSupport=function(){var e=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)},t.prototype.destroyGridUi=function(){this.view.destroyGridUi()},t.prototype.getGui=function(){return this.eGui},t.prototype.setResizeCursor=function(e){this.view.setCursor(e?"ew-resize":null)},t.prototype.disableUserSelect=function(e){this.view.setUserSelect(e?"none":null)},t.prototype.focusNextInnerContainer=function(e){var i=this.gridOptionsWrapper.getDocument(),n=this.view.getFocusableContainers(),d=n.findIndex(function(h){return h.contains(i.activeElement)})+(e?-1:1);return!(d<=0||d>=n.length)&&this.focusService.focusInto(n[d])},t.prototype.focusInnerElement=function(e){var i=this.view.getFocusableContainers();if(e){if(i.length>1)return this.focusService.focusInto(Qe(i),!0);var n=Qe(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(n,!0))return!0}return this.focusService.focusFirstHeader()},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.view.forceFocusOutOfContainer(e)},mr([Q("columnApi")],t.prototype,"columnApi",void 0),mr([Q("gridApi")],t.prototype,"gridApi",void 0),mr([Q("focusService")],t.prototype,"focusService",void 0),mr([Q("resizeObserverService")],t.prototype,"resizeObserverService",void 0),mr([Q("columnModel")],t.prototype,"columnModel",void 0),mr([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),mr([Q("mouseEventService")],t.prototype,"mouseEventService",void 0),mr([be],t.prototype,"postConstruct",null),t}(Ze),j_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),um=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Eh=function(a){function t(e){var i=a.call(this)||this;i.skipTabGuardFocus=!1;var s=e.eTopGuard,d=e.eBottomGuard,h=e.focusInnerElement,O=e.onFocusIn,L=e.onFocusOut,j=e.shouldStopEventPropagation,q=e.onTabKeyDown,J=e.handleKeyDown,re=e.eFocusableElement;return i.comp=e.comp,i.eTopGuard=s,i.eBottomGuard=d,i.providedFocusInnerElement=h,i.eFocusableElement=re,i.providedFocusIn=O,i.providedFocusOut=L,i.providedShouldStopEventPropagation=j,i.providedOnTabKeyDown=q,i.providedHandleKeyDown=J,i}return j_(t,a),t.prototype.postConstruct=function(){var e=this;this.createManagedBean(new mn(this.eFocusableElement,{shouldStopEventPropagation:function(){return e.shouldStopEventPropagation()},onTabKeyDown:function(i){return e.onTabKeyDown(i)},handleKeyDown:function(i){return e.handleKeyDown(i)},onFocusIn:function(i){return e.onFocusIn(i)},onFocusOut:function(i){return e.onFocusOut(i)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(i){return e.addManagedListener(i,"focus",e.onFocus.bind(e))})},t.prototype.handleKeyDown=function(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)},t.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},t.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},t.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},t.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},t.prototype.onFocus=function(e){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var i=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(i):this.focusInnerElement(i)}},t.prototype.onFocusIn=function(e){this.providedFocusIn&&this.providedFocusIn(e)||this.deactivateTabGuards()},t.prototype.onFocusOut=function(e){this.providedFocusOut&&this.providedFocusOut(e)||this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards()},t.prototype.onTabKeyDown=function(e){var i=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(e);else if(!e.defaultPrevented){var n=this.tabGuardsAreActive();n&&this.deactivateTabGuards();var s=this.getNextFocusableElement(e.shiftKey);n&&setTimeout(function(){return i.activateTabGuards()},0),s&&(s.focus(),e.preventDefault())}},t.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},t.prototype.focusInnerElement=function(e){void 0===e&&(e=!1);var i=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(i.splice(0,1),i.splice(i.length-1,1)),i.length&&i[e?i.length-1:0].focus()},t.prototype.getNextFocusableElement=function(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1);var i=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,i.focus()},um([Q("focusService")],t.prototype,"focusService",void 0),um([be],t.prototype,"postConstruct",null),t}(Ze),U_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Vn=function(a,t){var e="function"==typeof Symbol&&a[Symbol.iterator];if(!e)return a;var n,d,i=e.call(a),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(h){d={error:h}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},as=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return U_(t,a),t.prototype.initialiseTabGuard=function(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var i=[this.eTopGuard,this.eBottomGuard],n={setTabIndex:function(s){i.forEach(function(d){return null!=s?d.setAttribute("tabIndex",s):d.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new Eh({comp:n,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,focusInnerElement:e.focusInnerElement,handleKeyDown:e.handleKeyDown,onTabKeyDown:e.onTabKeyDown,shouldStopEventPropagation:e.shouldStopEventPropagation}))},t.prototype.createTabGuard=function(e){var i=document.createElement("div");return i.classList.add("ag-tab-guard","ag-tab-guard-"+e),fi(i,"presentation"),i},t.prototype.addTabGuards=function(e,i){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",i)},t.prototype.removeAllChildrenExceptTabGuards=function(){var e=[this.eTopGuard,this.eBottomGuard];Ci(this.getFocusableElement()),this.addTabGuards.apply(this,function(){for(var a=[],t=0;t<arguments.length;t++)a=a.concat(Vn(arguments[t]));return a}(e))},t.prototype.forceFocusOutOfContainer=function(e){void 0===e&&(e=!1),this.tabGuardCtrl.forceFocusOutOfContainer(e)},t.prototype.appendChild=function(e,i){qs(e)||(e=e.getGui());var n=this.eBottomGuard;n?n.insertAdjacentElement("beforebegin",e):a.prototype.appendChild.call(this,e,i)},t}(pt),z_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ls=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},hm=function(a){function t(e){var i=a.call(this,void 0)||this;return i.eGridDiv=e,i}return z_(t,a),t.prototype.postConstruct=function(){var e=this;this.logger=this.loggerFactory.create("GridComp");var i={destroyGridUi:function(){return e.destroyBean(e)},setRtlClass:function(s){return e.addCssClass(s)},addOrRemoveKeyboardFocusClass:function(s){return e.addOrRemoveCssClass(so.AG_KEYBOARD_FOCUS,s)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(s){e.getGui().style.userSelect=null!=s?s:"",e.getGui().style.webkitUserSelect=null!=s?s:""},setCursor:function(s){e.getGui().style.cursor=null!=s?s:""}};this.ctrl=this.createManagedBean(new cm);var n=this.createTemplate();this.setTemplate(n),this.ctrl.setComp(i,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(s){return e.ctrl.focusInnerElement(s)}})},t.prototype.insertGridIntoDom=function(){var e=this,i=this.getGui();this.eGridDiv.appendChild(i),this.addDestroyFunc(function(){e.eGridDiv.removeChild(i),e.logger.log("Grid removed from DOM")})},t.prototype.updateLayoutClasses=function(e,i){var n=this.eRootWrapperBody.classList;n.toggle(z.LBn.AUTO_HEIGHT,i.autoHeight),n.toggle(z.LBn.NORMAL,i.normal),n.toggle(z.LBn.PRINT,i.print),this.addOrRemoveCssClass(z.LBn.AUTO_HEIGHT,i.autoHeight),this.addOrRemoveCssClass(z.LBn.NORMAL,i.normal),this.addOrRemoveCssClass(z.LBn.PRINT,i.print)},t.prototype.createTemplate=function(){return'<div class="ag-root-wrapper">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},t.prototype.getFocusableElement=function(){return this.eRootWrapperBody},t.prototype.getFocusableContainers=function(){var e=[this.gridBodyComp.getGui()];return this.sideBarComp&&e.push(this.sideBarComp.getGui()),e.filter(function(i){return No(i)})},ls([Q("loggerFactory")],t.prototype,"loggerFactory",void 0),ls([He("gridBody")],t.prototype,"gridBodyComp",void 0),ls([He("sideBar")],t.prototype,"sideBarComp",void 0),ls([He("rootWrapperBody")],t.prototype,"eRootWrapperBody",void 0),ls([be],t.prototype,"postConstruct",null),t}(as),Sh=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ao=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Dc=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.dragEndFunctions=[],e.dragSources=[],e}return Sh(t,a),t.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},t.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},t.prototype.removeListener=function(e){var i=e.dragSource.eElement;i.removeEventListener("mousedown",e.mouseDownListener),e.touchEnabled&&i.removeEventListener("touchstart",e.touchStartListener,{passive:!0})},t.prototype.removeDragSource=function(e){var i=this.dragSources.find(function(n){return n.dragSource===e});!i||(this.removeListener(i),zt(this.dragSources,i))},t.prototype.isDragging=function(){return this.dragging},t.prototype.addDragSource=function(e,i){var n=this;void 0===i&&(i=!1);var s=this.onMouseDown.bind(this,e);e.eElement.addEventListener("mousedown",s);var d=null,h=this.gridOptionsWrapper.isSuppressTouch();i&&!h&&e.eElement.addEventListener("touchstart",d=function(O){O.cancelable&&O.preventDefault(),n.onTouchStart(e,O)},{passive:!0}),this.dragSources.push({dragSource:e,mouseDownListener:s,touchStartListener:d,touchEnabled:i})},t.prototype.onTouchStart=function(e,i){var n=this;this.currentDragParams=e,this.dragging=!1;var s=i.touches[0];this.touchLastTime=s,this.touchStart=s;var h=function(q){return n.onTouchUp(q,e.eElement)},L=e.eElement,j=[{target:document,type:"touchmove",listener:function(q){q.cancelable&&q.preventDefault()},options:{passive:!1}},{target:L,type:"touchmove",listener:function(q){return n.onTouchMove(q,e.eElement)},options:{passive:!0}},{target:L,type:"touchend",listener:h,options:{passive:!0}},{target:L,type:"touchcancel",listener:h,options:{passive:!0}}];this.addTemporaryEvents(j),0===e.dragStartPixels&&this.onCommonMove(s,this.touchStart,e.eElement)},t.prototype.onMouseDown=function(e,i){var n=this,s=i;if(!(e.skipMouseEvent&&e.skipMouseEvent(i)||s._alreadyProcessedByDragService||(s._alreadyProcessedByDragService=!0,0!==i.button))){this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=i;var d=this.gridOptionsWrapper.getDocument();this.addTemporaryEvents([{target:d,type:"mousemove",listener:function(J){return n.onMouseMove(J,e.eElement)}},{target:d,type:"mouseup",listener:function(J){return n.onMouseUp(J,e.eElement)}},{target:d,type:"contextmenu",listener:function(J){return J.preventDefault()}}]),0===e.dragStartPixels&&this.onMouseMove(i,e.eElement)}},t.prototype.addTemporaryEvents=function(e){e.forEach(function(i){i.target.addEventListener(i.type,i.listener,i.options)}),this.dragEndFunctions.push(function(){e.forEach(function(i){i.target.removeEventListener(i.type,i.listener,i.options)})})},t.prototype.isEventNearStartEvent=function(e,i){var n=this.currentDragParams.dragStartPixels;return Yu(e,i,W(n)?n:4)},t.prototype.getFirstActiveTouch=function(e){for(var i=0;i<e.length;i++)if(e[i].identifier===this.touchStart.identifier)return e[i];return null},t.prototype.onCommonMove=function(e,i,n){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,i))return;this.dragging=!0,this.eventService.dispatchEvent({type:ue.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:n}),this.currentDragParams.onDragStart(i),this.currentDragParams.onDragging(i)}this.currentDragParams.onDragging(e)},t.prototype.onTouchMove=function(e,i){var n=this.getFirstActiveTouch(e.touches);!n||this.onCommonMove(n,this.touchStart,i)},t.prototype.onMouseMove=function(e,i){"mousemove"===e.type&&e.cancelable&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,i)},t.prototype.onTouchUp=function(e,i){var n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,i)},t.prototype.onMouseUp=function(e,i){this.onUpCommon(e,i)},t.prototype.onUpCommon=function(e,i){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:ue.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:i})),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(s){return s()}),this.dragEndFunctions.length=0},ao([Q("loggerFactory")],t.prototype,"loggerFactory",void 0),ao([Q("columnApi")],t.prototype,"columnApi",void 0),ao([Q("gridApi")],t.prototype,"gridApi",void 0),ao([be],t.prototype,"init",null),ao([Xe],t.prototype,"removeAllListeners",null),ao([je("dragService")],t)}(Ze),pm=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ra=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},cs=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}var e;return pm(t,a),e=t,t.prototype.progressSort=function(i,n,s){void 0===s&&(s="api");var d=this.getNextSortDirection(i);this.setSortForColumn(i,d,n,s)},t.prototype.setSortForColumn=function(i,n,s,d){void 0===d&&(d="api"),n!==ae.SORT_ASC&&n!==ae.SORT_DESC&&(n=null),i.setSort(n,d),s&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(i,d),this.updateSortIndex(i),this.dispatchSortChangedEvents()},t.prototype.updateSortIndex=function(i){var n=this.getColumnsWithSortingOrdered(),s=0;n.forEach(function(h){h!==i&&(h.setSortIndex(s),s++)}),i.getSort()&&i.setSortIndex(s),this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(h){return null==h.getSort()}).forEach(function(h){return h.setSortIndex()})},t.prototype.onSortChanged=function(){this.dispatchSortChangedEvents()},t.prototype.isSortActive=function(){var n=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(s){return!!s.getSort()});return n&&n.length>0},t.prototype.dispatchSortChangedEvents=function(){this.eventService.dispatchEvent({type:ue.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.clearSortBarThisColumn=function(i,n){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(s){s!==i&&s.setSort(void 0,n)})},t.prototype.getNextSortDirection=function(i){var n;if(n=i.getColDef().sortingOrder?i.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():e.DEFAULT_SORTING_ORDER,!Array.isArray(n)||n.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+n),null;var O,s=n.indexOf(i.getSort());return e.DEFAULT_SORTING_ORDER.indexOf(O=s<0||s==n.length-1?n[0]:n[s+1])<0?(console.warn("AG Grid: invalid sort type "+O),null):O},t.prototype.getColumnsWithSortingOrdered=function(){var i=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),n=i.filter(function(d){return!!d.getSort()}),s={};return i.forEach(function(d,h){return s[d.getId()]=h}),n.sort(function(d,h){var O=d.getSortIndex(),L=h.getSortIndex();return null!=O&&null!=L?O-L:null==O&&null==L?s[d.getId()]>s[h.getId()]?1:-1:null==L?-1:1}),n},t.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(i){return{sort:i.getSort(),colId:i.getId()}})},t.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(i){return{sort:i.getSort(),column:i}})},t.DEFAULT_SORTING_ORDER=[ae.SORT_ASC,ae.SORT_DESC,null],Ra([Q("columnModel")],t.prototype,"columnModel",void 0),Ra([Q("columnApi")],t.prototype,"columnApi",void 0),Ra([Q("gridApi")],t.prototype,"gridApi",void 0),e=Ra([je("sortController")],t)}(Ze),lo=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Da=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},fm=function(a){function t(){var i=null!==a&&a.apply(this,arguments)||this;return i.gridInstanceId=e.gridInstanceSequence.next(),i}var e;return lo(t,a),e=t,t.prototype.stampTopLevelGridCompWithGridInstance=function(i){i[e.GRID_DOM_KEY]=this.gridInstanceId},t.prototype.getRenderedCellForEvent=function(i){return ul(this.gridOptionsWrapper,i,Ln.DOM_DATA_KEY_CELL_CTRL)},t.prototype.isEventFromThisGrid=function(i){return this.isElementInThisGrid(i.target)},t.prototype.isElementInThisGrid=function(i){for(var n=i;n;){var s=n[e.GRID_DOM_KEY];if(W(s))return s===this.gridInstanceId;n=n.parentElement}return!1},t.prototype.getCellPositionForEvent=function(i){var n=this.getRenderedCellForEvent(i);return n?n.getCellPosition():null},t.prototype.getNormalisedPosition=function(i){var d,h,n=this.gridOptionsWrapper.getDomLayout()===ae.DOM_LAYOUT_NORMAL;if(null!=i.clientX||null!=i.clientY?(d=i.clientX,h=i.clientY):(d=i.x,h=i.y),n){var O=this.ctrlsService.getGridBodyCtrl(),L=O.getScrollFeature().getVScrollPosition();d+=O.getScrollFeature().getHScrollPosition().left,h+=L.top}return{x:d,y:h}},t.gridInstanceSequence=new Wr,t.GRID_DOM_KEY="__ag_grid_instance",Da([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),e=Da([je("mouseEventService")],t)}(Ze),Z_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xa=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},gm=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return Z_(t,a),t.prototype.getNextCellToFocus=function(e,i){for(var n=i,s=!1;!s;){switch(e){case Ue.UP:n=this.getCellAbove(n);break;case Ue.DOWN:n=this.getCellBelow(n);break;case Ue.RIGHT:n=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(n):this.getCellToRight(n);break;case Ue.LEFT:n=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,console.warn("AG Grid: unknown key for navigation "+e)}s=!n||this.isCellGoodToFocusOn(n)}return n},t.prototype.isCellGoodToFocusOn=function(e){var n,i=e.column;switch(e.rowPinned){case ae.PINNED_TOP:n=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case ae.PINNED_BOTTOM:n=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:n=this.rowModel.getRow(e.rowIndex)}return!!n&&!i.isSuppressNavigable(n)},t.prototype.getCellToLeft=function(e){if(!e)return null;var i=this.columnModel.getDisplayedColBefore(e.column);return i?{rowIndex:e.rowIndex,column:i,rowPinned:e.rowPinned}:null},t.prototype.getCellToRight=function(e){if(!e)return null;var i=this.columnModel.getDisplayedColAfter(e.column);return i?{rowIndex:e.rowIndex,column:i,rowPinned:e.rowPinned}:null},t.prototype.getRowBelow=function(e){var i=e.rowIndex,n=e.rowPinned;if(this.isLastRowInContainer(e))switch(n){case ae.PINNED_BOTTOM:return null;case ae.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(ae.PINNED_BOTTOM)?{rowIndex:0,rowPinned:ae.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(ae.PINNED_BOTTOM)?{rowIndex:0,rowPinned:ae.PINNED_BOTTOM}:null}return{rowIndex:i+1,rowPinned:n}},t.prototype.getCellBelow=function(e){if(!e)return null;var i=this.getRowBelow(e);return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null},t.prototype.isLastRowInContainer=function(e){var i=e.rowPinned,n=e.rowIndex;return i===ae.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=n:i===ae.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=n:this.paginationProxy.getPageLastRow()<=n},t.prototype.getRowAbove=function(e){var i=e.rowIndex,n=e.rowPinned;return(n?0===i:i===this.paginationProxy.getPageFirstRow())?n===ae.PINNED_TOP?null:n&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(ae.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:i-1,rowPinned:n}},t.prototype.getCellAbove=function(e){if(!e)return null;var i=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return i?{rowIndex:i.rowIndex,column:e.column,rowPinned:i.rowPinned}:null},t.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},t.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:ae.PINNED_TOP}},t.prototype.getNextTabbedCell=function(e,i){return i?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)},t.prototype.getNextTabbedCellForwards=function(e){var i=this.columnModel.getAllDisplayedColumns(),n=e.rowIndex,s=e.rowPinned,d=this.columnModel.getDisplayedColAfter(e.column);if(!d){d=i[0];var h=this.getRowBelow(e);if(E(h)||!h.rowPinned&&!this.paginationProxy.isRowInPage(h))return null;n=h?h.rowIndex:null,s=h?h.rowPinned:null}return{rowIndex:n,column:d,rowPinned:s}},t.prototype.getNextTabbedCellBackwards=function(e){var i=this.columnModel.getAllDisplayedColumns(),n=e.rowIndex,s=e.rowPinned,d=this.columnModel.getDisplayedColBefore(e.column);if(!d){d=Qe(i);var h=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(E(h)||!h.rowPinned&&!this.paginationProxy.isRowInPage(h))return null;n=h?h.rowIndex:null,s=h?h.rowPinned:null}return{rowIndex:n,column:d,rowPinned:s}},xa([Q("columnModel")],t.prototype,"columnModel",void 0),xa([Q("rowModel")],t.prototype,"rowModel",void 0),xa([Q("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),xa([Q("paginationProxy")],t.prototype,"paginationProxy",void 0),xa([je("cellNavigationService")],t)}(Ze),q_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),co=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},mm=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return q_(t,a),t.prototype.formatValue=function(e,i,n,s,d,h){void 0===h&&(h=!0);var L,O=null,j=e.getColDef();if(d?L=d:h&&(L=i&&i.rowPinned&&j.pinnedRowValueFormatter?j.pinnedRowValueFormatter:j.valueFormatter),L){var q={value:s,node:i,data:i?i.data:null,colDef:j,column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};q.$scope=n,O=this.expressionService.evaluate(L,q)}else if(j.refData)return j.refData[s]||"";return null==O&&Array.isArray(s)&&(O=s.join(", ")),O},co([Q("expressionService")],t.prototype,"expressionService",void 0),co([je("valueFormatterService")],t)}(Ze),K_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vm=function(a){function t(e){return a.call(this,e,"ag-radio-button","radio")||this}return K_(t,a),t.prototype.isSelected=function(){return this.eInput.checked},t.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},t.prototype.addInputListeners=function(){a.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,ue.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},t.prototype.onChange=function(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)},t}(ro),ym=["mouseover","mouseout","mouseenter","mouseleave"],Y_=["touchstart","touchend","touchmove","touchcancel"],xc=function(){function a(){this.isOutsideAngular=function(t){return ii(ym,t)}}return a.prototype.setTimeout=function(t,e){window.setTimeout(t,e)},a.prototype.setInterval=function(t,e){return new wi(function(i){i(window.setInterval(t,e))})},a.prototype.addEventListener=function(t,e,i,n){var s=ii(Y_,e);t.addEventListener(e,i,{capture:!!n,passive:s})},a.prototype.dispatchEvent=function(t,e,i){e()},a.prototype.frameworkComponent=function(t){return null},a.prototype.isFrameworkComponent=function(t){return!1},a}(),Ah=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uo=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Rh=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return Ah(t,a),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ue.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},t.prototype.onDisplayedColumnsChanged=function(){this.update()},t.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},t.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},t.prototype.updateImpl=function(){var e=this.ctrlsService.getCenterRowContainerCtrl();if(e){var i={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(i)}},t.prototype.setScrollsVisible=function(e){this.horizontalScrollShowing===e.horizontalScrollShowing&&this.verticalScrollShowing===e.verticalScrollShowing||(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:ue.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},t.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},uo([Q("columnApi")],t.prototype,"columnApi",void 0),uo([Q("gridApi")],t.prototype,"gridApi",void 0),uo([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),uo([be],t.prototype,"postConstruct",null),uo([je("scrollVisibleService")],t)}(Ze),_m=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Dh=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},xh=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return _m(t,a),t.prototype.processAllCellClasses=function(e,i,n,s){this.processClassRules(e.cellClassRules,i,n,s),this.processStaticCellClasses(e,i,n)},t.prototype.processClassRules=function(e,i,n,s){if(null!=e){for(var d=Object.keys(e),h={},O={},L=function(J){var Ae,re=d[J],me=e[re];"string"==typeof me?Ae=j.expressionService.evaluate(me,i):"function"==typeof me&&(Ae=me(i)),re.split(" ").forEach(function(Pe){null==Pe||""==Pe.trim()||(Ae?h[Pe]=!0:O[Pe]=!0)})},j=this,q=0;q<d.length;q++)L(q);s&&Object.keys(O).forEach(s),Object.keys(h).forEach(n)}},t.prototype.getStaticCellClasses=function(e,i){var s,n=e.cellClass;return n?("string"==typeof(s="function"==typeof n?n(i):n)&&(s=[s]),s||[]):[]},t.prototype.processStaticCellClasses=function(e,i,n){this.getStaticCellClasses(e,i).forEach(function(d){n(d)})},Dh([Q("expressionService")],t.prototype,"expressionService",void 0),Dh([je("stylingService")],t)}(Ze),Sn=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),An=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Oh=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return Sn(t,a),t.prototype.setMouseOver=function(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:ue.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:ue.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.isHovered=function(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0},An([Q("columnApi")],t.prototype,"columnApi",void 0),An([Q("gridApi")],t.prototype,"gridApi",void 0),An([je("columnHoverService")],t)}(Ze),Cm=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Oc=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},wm=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.executeNextFuncs=[],e.executeLaterFuncs=[],e.active=!1,e.animationThreadCount=0,e}return Cm(t,a),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){return e.gridBodyCtrl=i.gridBodyCtrl})},t.prototype.isActive=function(){return this.active},t.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},t.prototype.finish=function(){!this.active||(this.flush(),this.active=!1)},t.prototype.executeNextVMTurn=function(e){this.active?this.executeNextFuncs.push(e):e()},t.prototype.executeLaterVMTurn=function(e){this.active?this.executeLaterFuncs.push(e):e()},t.prototype.ensureAnimationCssClassPresent=function(){var e=this;this.animationThreadCount++;var i=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){e.animationThreadCount===i&&e.gridBodyCtrl.setColumnMovingCss(!1)})},t.prototype.flush=function(){var e=this.executeNextFuncs;this.executeNextFuncs=[];var i=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==e.length||0!==i.length)&&(window.setTimeout(function(){return e.forEach(function(n){return n()})},0),window.setTimeout(function(){return i.forEach(function(n){return n()})},300))},Oc([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),Oc([be],t.prototype,"postConstruct",null),Oc([je("columnAnimationService")],t)}(Ze),vr=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Tc=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},yr=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}var e;return vr(t,a),e=t,t.prototype.createAutoGroupColumns=function(i){var n=this,s=[],d=this.gridOptionsWrapper.isTreeData(),h=this.gridOptionsWrapper.isGroupMultiAutoColumn();return d&&h&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),h=!1),h?i.forEach(function(O,L){s.push(n.createOneAutoGroupColumn(O,L))}):s.push(this.createOneAutoGroupColumn()),s},t.prototype.createOneAutoGroupColumn=function(i,n){var d,s=this.generateDefaultColDef(i);d=i?ae.GROUP_AUTO_COLUMN_ID+"-"+i.getId():e.GROUP_AUTO_COLUMN_BUNDLE_ID,P(s,this.gridOptionsWrapper.getAutoGroupColumnDef()),(s=this.columnFactory.mergeColDefs(s)).colId=d,this.gridOptionsWrapper.isTreeData()||E(s.field)&&E(s.valueGetter)&&E(s.filterValueGetter)&&(s.filter=!1),n&&n>0&&(s.headerCheckboxSelection=!1);var L=new lt(s,null,d,!0);return this.context.createBean(L),L},t.prototype.generateDefaultColDef=function(i){var n=this.gridOptionsWrapper.getAutoGroupColumnDef(),d={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(n&&(n.cellRenderer||n.cellRendererFramework||n.cellRendererSelector)||(d.cellRenderer="agGroupCellRenderer"),i){var O=i.getColDef();Object.assign(d,{headerName:this.columnModel.getDisplayNameForColumn(i,"header"),headerValueGetter:O.headerValueGetter}),(O.cellRenderer||O.cellRendererFramework)&&Object.assign(d,{cellRendererParams:{innerRenderer:O.cellRenderer,innerRendererFramework:O.cellRendererFramework,innerRendererParams:O.cellRendererParams}}),d.showRowGroup=i.getColId()}else d.showRowGroup=!0;return d},t.GROUP_AUTO_COLUMN_BUNDLE_ID=ae.GROUP_AUTO_COLUMN_ID,Tc([Q("columnModel")],t.prototype,"columnModel",void 0),Tc([Q("columnFactory")],t.prototype,"columnFactory",void 0),e=Tc([je("autoGroupColService")],t)}(Ze),Q_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),us=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Fc=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.currentPage=0,e.topDisplayedRowIndex=0,e.bottomDisplayedRowIndex=0,e.pixelOffset=0,e.masterRowCount=0,e}return Q_(t,a),t.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,ue.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},t.prototype.ensureRowHeightsValid=function(e,i,n,s){var d=this.rowModel.ensureRowHeightsValid(e,i,this.getPageFirstRow(),this.getPageLastRow());return d&&this.calculatePages(),d},t.prototype.onModelUpdated=function(e){this.calculatePages(),this.eventService.dispatchEvent({type:ue.EVENT_PAGINATION_CHANGED,animate:!!e&&e.animate,newData:!!e&&e.newData,newPage:!!e&&e.newPage,keepRenderedRows:!!e&&e.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi})},t.prototype.onPaginationPageSizeChanged=function(){this.calculatePages(),this.eventService.dispatchEvent({type:ue.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi})},t.prototype.goToPage=function(e){this.active&&this.currentPage!==e&&(this.currentPage=e,this.onModelUpdated({type:ue.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi}))},t.prototype.getPixelOffset=function(){return this.pixelOffset},t.prototype.getRow=function(e){return this.rowModel.getRow(e)},t.prototype.getRowNode=function(e){return this.rowModel.getRowNode(e)},t.prototype.getRowIndexAtPixel=function(e){return this.rowModel.getRowIndexAtPixel(e)},t.prototype.getCurrentPageHeight=function(){return E(this.topRowBounds)||E(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},t.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},t.prototype.isRowPresent=function(e){return!!this.rowModel.isRowPresent(e)&&e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex},t.prototype.isEmpty=function(){return this.rowModel.isEmpty()},t.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},t.prototype.getNodesInRangeForSelection=function(e,i){return this.rowModel.getNodesInRangeForSelection(e,i)},t.prototype.forEachNode=function(e){return this.rowModel.forEachNode(e)},t.prototype.getType=function(){return this.rowModel.getType()},t.prototype.getRowBounds=function(e){var i=this.rowModel.getRowBounds(e);return i.rowIndex=e,i},t.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},t.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},t.prototype.getRowCount=function(){return this.rowModel.getRowCount()},t.prototype.getPageForIndex=function(e){return Math.floor(e/this.pageSize)},t.prototype.goToPageWithIndex=function(e){if(this.active){var i=this.getPageForIndex(e);this.goToPage(i)}},t.prototype.isRowInPage=function(e){return!this.active||this.getPageForIndex(e.rowIndex)===this.currentPage},t.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},t.prototype.getCurrentPage=function(){return this.currentPage},t.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},t.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},t.prototype.goToFirstPage=function(){this.goToPage(0)},t.prototype.goToLastPage=function(){var e=this.rowModel.getRowCount(),i=Math.floor(e/this.pageSize);this.goToPage(i)},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getTotalPages=function(){return this.totalPages},t.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},t.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(W(this.topRowBounds)?this.topRowBounds.rowTop:0)},t.prototype.setPixelOffset=function(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:ue.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},t.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},t.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!Ll(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var n=this.pageSize*(this.currentPage+1)-1;if(n>e&&(n=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),n===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var s=this.rowModel.getTopLevelRowDisplayedIndex(n+1);this.bottomDisplayedRowIndex=s-1}}},t.prototype.getMasterRowCount=function(){return this.masterRowCount},t.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!Ll(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}else this.setZeroRows()},t.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},us([Q("rowModel")],t.prototype,"rowModel",void 0),us([Q("columnApi")],t.prototype,"columnApi",void 0),us([Q("gridApi")],t.prototype,"gridApi",void 0),us([be],t.prototype,"postConstruct",null),us([je("paginationProxy")],t)}(Ze),bm=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Pc=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Th=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return bm(t,a),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){e.centerRowContainerCon=i.centerRowContainerCtrl,e.addManagedListener(e.eventService,ue.EVENT_BODY_HEIGHT_CHANGED,e.onBodyHeightChanged.bind(e)),e.addManagedListener(e.eventService,ue.EVENT_SCROLL_VISIBILITY_CHANGED,e.onScrollVisibilityChanged.bind(e)),e.checkPageSize()})},t.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},t.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},t.prototype.onBodyHeightChanged=function(){this.checkPageSize()},t.prototype.checkPageSize=function(){if(!this.notActive()){var e=this.gridOptionsWrapper.getRowHeightAsNumber(),i=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(i>0){var n=Math.floor(i/e);this.gridOptionsWrapper.setProperty("paginationPageSize",n)}}},Pc([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),Pc([be],t.prototype,"postConstruct",null),Pc([je("paginationAutoPageSizeService")],t)}(Ze),Em=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Fh=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Ph=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.cacheVersion=0,e}return Em(t,a),t.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},t.prototype.onDataChanged=function(){this.neverExpires||this.expire()},t.prototype.expire=function(){this.cacheVersion++},t.prototype.setValue=function(e,i,n){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[i]=n)},t.prototype.getValue=function(e,i){if(this.active&&e.__cacheVersion===this.cacheVersion)return e.__cacheData[i]},Fh([be],t.prototype,"init",null),Fh([je("valueCache")],t)}(Ze),Sm=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Oa=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Am=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return Sm(t,a),t.prototype.init=function(){this.rowModel.getType()===ae.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,ue.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},t.prototype.onCellValueChanged=function(e){e.source!==ae.SOURCE_PASTE&&this.doChangeDetection(e.node,e.column)},t.prototype.doChangeDetection=function(e,i){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!e.isRowPinned()){var n=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),s=new qr(n,this.clientSideRowModel.getRootNode());s.addParentNode(e.parent,[i]),this.clientSideRowModel.doAggregate(s)}this.rowRenderer.refreshCells()}},Oa([Q("rowModel")],t.prototype,"rowModel",void 0),Oa([Q("rowRenderer")],t.prototype,"rowRenderer",void 0),Oa([be],t.prototype,"init",null),Oa([je("changeDetectionService")],t)}(Ze),Rm=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ho=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Dm=function(a,t){return function(e,i){t(e,i,a)}},Mh=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.consuming=!1,e}return Rm(t,a),t.prototype.setBeans=function(e){this.logger=e.create("AlignedGridsService")},t.prototype.init=function(){this.addManagedListener(this.eventService,ue.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},t.prototype.fireEvent=function(e){if(!this.consuming){var i=this.gridOptionsWrapper.getAlignedGrids();i&&i.forEach(function(n){if(n.api){var s=n.api.__getAlignedGridService();e(s)}})}},t.prototype.onEvent=function(e){this.consuming=!0,e(),this.consuming=!1},t.prototype.fireColumnEvent=function(e){this.fireEvent(function(i){i.onColumnEvent(e)})},t.prototype.fireScrollEvent=function(e){"horizontal"===e.direction&&this.fireEvent(function(i){i.onScrollEvent(e)})},t.prototype.onScrollEvent=function(e){var i=this;this.onEvent(function(){i.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left)})},t.prototype.getMasterColumns=function(e){var i=[];return e.columns?e.columns.forEach(function(n){i.push(n)}):e.column&&i.push(e.column),i},t.prototype.getColumnIds=function(e){var i=[];return e.columns?e.columns.forEach(function(n){i.push(n.getColId())}):e.column&&i.push(e.column.getColId()),i},t.prototype.onColumnEvent=function(e){var i=this;this.onEvent(function(){switch(e.type){case ue.EVENT_COLUMN_MOVED:case ue.EVENT_COLUMN_VISIBLE:case ue.EVENT_COLUMN_PINNED:case ue.EVENT_COLUMN_RESIZED:i.processColumnEvent(e);break;case ue.EVENT_COLUMN_GROUP_OPENED:i.processGroupOpenedEvent(e);break;case ue.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},t.prototype.processGroupOpenedEvent=function(e){var i=e.columnGroup,n=null;if(i){var s=i.getGroupId();n=this.columnModel.getProvidedColumnGroup(s)}i&&!n||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+i.isExpanded()),this.columnModel.setColumnGroupOpened(n,i.isExpanded(),"alignedGridChanged"))},t.prototype.processColumnEvent=function(e){var i=this,n=e.column,s=null;if(n&&(s=this.columnModel.getPrimaryColumn(n.getColId())),!n||s){var d=this.getMasterColumns(e);switch(e.type){case ue.EVENT_COLUMN_MOVED:var h=e,L=e.columnApi.getColumnState().map(function(Pe){return{colId:Pe.colId}});this.columnModel.applyColumnState({state:L,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" toIndex = "+h.toIndex);break;case ue.EVENT_COLUMN_VISIBLE:var j=e;L=e.columnApi.getColumnState().map(function(Ve){return{colId:Ve.colId,hide:Ve.hide}}),this.columnModel.applyColumnState({state:L},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" visible = "+j.visible);break;case ue.EVENT_COLUMN_PINNED:var q=e;L=e.columnApi.getColumnState().map(function(Ve){return{colId:Ve.colId,pinned:Ve.pinned}}),this.columnModel.applyColumnState({state:L},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+e.type+" pinned = "+q.pinned);break;case ue.EVENT_COLUMN_RESIZED:var J=e;d.forEach(function(Pe){i.logger.log("onColumnEvent-> processing "+e.type+" actualWidth = "+Pe.getActualWidth());var We=[{key:Pe.getColId(),newWidth:Pe.getActualWidth()}];i.columnModel.setColumnWidths(We,!1,J.finished,"alignedGridChanged")})}var me=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),Ae=this.gridOptionsWrapper.getAlignedGrids();Ae&&Ae.forEach(function(Pe){Pe.api&&Pe.api.setAlwaysShowVerticalScroll(me)})}},ho([Q("columnModel")],t.prototype,"columnModel",void 0),ho([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),ho([Dm(0,Et("loggerFactory"))],t.prototype,"setBeans",null),ho([be],t.prototype,"init",null),ho([je("alignedGridsService")],t)}(Ze),ds=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),xm=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},J_=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return ds(t,a),t.prototype.adaptFunction=function(e,i){var n=this.componentMetadataProvider.retrieve(e);return n&&n.functionAdapter?n.functionAdapter(i):null},t.prototype.adaptCellRendererFunction=function(e){return function(){function n(){}return n.prototype.refresh=function(s){return!1},n.prototype.getGui=function(){return this.eGui},n.prototype.init=function(s){var d=e(s),h=typeof d;this.eGui="string"!==h&&"number"!==h&&"boolean"!==h?null!=d?d:Wt("<span></span>"):Wt("<span>"+d+"</span>")},n}()},t.prototype.doesImplementIComponent=function(e){return!!e&&e.prototype&&"getGui"in e.prototype},xm([Q("componentMetadataProvider")],t.prototype,"componentMetadataProvider",void 0),xm([je("agComponentUtils")],t)}(Ze),Ih=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Mc=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Om=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return Ih(t,a),t.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},t.prototype.retrieve=function(e){return this.componentMetaData[e]},Mc([Q("agComponentUtils")],t.prototype,"agComponentUtils",void 0),Mc([be],t.prototype,"postConstruct",null),Mc([je("componentMetadataProvider")],t)}(Ze),Tm=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Fm=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Pm={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},Lh={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},hs={},Bc=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return Tm(t,a),t.prototype.getSassVariable=function(e,i){var n="ag-theme-"+(e.match("material")?"material":e.match("balham")?"balham":e.match("alpine")?"alpine":"custom"),s=Pm[n][i],d=0;hs[e]||(hs[e]={});var h=hs[e][i];if(null!=h)return h;if(Lh[i]){var O=Lh[i],L=document.createElement("div");L.classList.add(e),L.style.position="absolute";var j=O.reduce(function(J,re){var me=document.createElement("div");return me.style.position="static",me.classList.add(re),J.appendChild(me),me},L);if(document.body){document.body.appendChild(L);var q=-1!==i.toLowerCase().indexOf("height")?"height":"width";d=parseInt(window.getComputedStyle(j)[q],10),document.body.removeChild(L)}}return hs[e][i]=d||s,hs[e][i]},t.prototype.isThemeDark=function(){var e=this.getTheme().theme;return!!e&&e.indexOf("dark")>=0},t.prototype.chartMenuPanelWidth=function(){var e=this.getTheme().themeFamily;return this.getSassVariable(e,"chartMenuPanelWidth")},t.prototype.getTheme=function(){for(var e=/\bag-(material|(?:theme-([\w\-]*)))\b/,i=this.eGridDiv,n=null;i&&!(n=e.exec(i.className));)i=i.parentElement||void 0;if(!n)return{};var s=n[0];if(void 0===n[2]){var h=s.replace("ag-","ag-theme-");ye(function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+s+" with "+h+".")},"using-old-theme")}return{theme:s,el:i,themeFamily:s.replace(/-dark$/,"")}},Fm([Q("eGridDiv")],t.prototype,"eGridDiv",void 0),Fm([je("environment")],t)}(Ze),Mm=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fo=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Nh=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.createTasksP1={list:[],sorted:!1},e.createTasksP2={list:[],sorted:!1},e.destroyTasks=[],e.ticking=!1,e.scrollGoingDown=!0,e.lastScrollTop=0,e.taskCount=0,e.cancelledTasks=new Set,e}return Mm(t,a),t.prototype.setScrollTop=function(e){this.scrollGoingDown=e>this.lastScrollTop,this.lastScrollTop=e},t.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},t.prototype.isOn=function(){return this.useAnimationFrame},t.prototype.verifyAnimationFrameOn=function(e){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+e+" called but animation frames are off")},t.prototype.createTask=function(e,i,n){this.verifyAnimationFrameOn(n);var s={task:e,index:i,createOrder:++this.taskCount};this.addTaskToList(this[n],s),this.schedule()},t.prototype.cancelTask=function(e){this.cancelledTasks.add(e)},t.prototype.addTaskToList=function(e,i){e.list.push(i),e.sorted=!1},t.prototype.sortTaskList=function(e){if(!e.sorted){var i=this.scrollGoingDown?1:-1;e.list.sort(function(n,s){return n.index!==s.index?i*(s.index-n.index):s.createOrder-n.createOrder}),e.sorted=!0}},t.prototype.addDestroyTask=function(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()},t.prototype.executeFrame=function(e){this.verifyAnimationFrameOn("executeFrame");for(var i=this.createTasksP1,n=i.list,s=this.createTasksP2,d=s.list,h=this.destroyTasks,O=(new Date).getTime(),L=(new Date).getTime()-O,j=e<=0,q=this.ctrlsService.getGridBodyCtrl();j||L<e;){if(!q.getScrollFeature().executeAnimationFrameScroll()){var re=void 0;if(n.length)this.sortTaskList(i),re=n.pop().task;else if(d.length)this.sortTaskList(s),re=d.pop().task;else{if(!h.length){this.cancelledTasks.clear();break}re=h.pop()}this.cancelledTasks.has(re)||re()}L=(new Date).getTime()-O}n.length||d.length||h.length?this.requestFrame():this.stopTicking()},t.prototype.stopTicking=function(){this.ticking=!1},t.prototype.flushAllFrames=function(){!this.useAnimationFrame||this.executeFrame(-1)},t.prototype.schedule=function(){!this.useAnimationFrame||this.ticking||(this.ticking=!0,this.requestFrame())},t.prototype.requestFrame=function(){var e=this.executeFrame.bind(this,60),n=this.gridOptionsWrapper.getDocument().defaultView||window;n.requestAnimationFrame?n.requestAnimationFrame(e):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(e):n.setTimeout(e,0)},t.prototype.isQueueEmpty=function(){return!this.ticking},t.prototype.debounce=function(e){var i=this,n=!1;return function(){i.isOn()?n||(n=!0,i.addDestroyTask(function(){n=!1,e()})):i.getFrameworkOverrides().setTimeout(e,0)}},fo([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),fo([be],t.prototype,"init",null),fo([je("animationFrameService")],t)}(Ze),ps=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),fs=function(){return fs=Object.assign||function(a){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a},fs.apply(this,arguments)},yi=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},kc=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.timeLastPageEventProcessed=0,e}return ps(t,a),t.prototype.postConstruct=function(){var e=this;this.ctrlsService.whenReady(function(i){e.gridBodyCon=i.gridBodyCtrl})},t.prototype.handlePageScrollingKey=function(e){var i=e.key,n=e.altKey,s=e.ctrlKey||e.metaKey,d=this.mouseEventService.getCellPositionForEvent(e);if(!d)return!1;var h=!1;switch(i){case Ue.PAGE_HOME:case Ue.PAGE_END:!s&&!n&&(this.onHomeOrEndKey(i),h=!0);break;case Ue.LEFT:case Ue.RIGHT:s&&!n&&(this.onCtrlLeftOrRight(i,d),h=!0);break;case Ue.UP:case Ue.DOWN:s&&!n&&(this.onCtrlUpOrDown(i,d),h=!0);break;case Ue.PAGE_DOWN:!s&&!n&&(this.onPageDown(d),h=!0);break;case Ue.PAGE_UP:!s&&!n&&(this.onPageUp(d),h=!0)}return h&&e.preventDefault(),h},t.prototype.isTimeSinceLastPageEventToRecent=function(){return(new Date).getTime()-this.timeLastPageEventProcessed<100},t.prototype.setTimeLastPageEventProcessed=function(){this.timeLastPageEventProcessed=(new Date).getTime()},t.prototype.navigateTo=function(e){var i=e.scrollIndex,n=e.scrollType,s=e.scrollColumn,d=e.focusIndex,h=e.focusColumn;W(s)&&!s.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(s),W(i)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(i,n),this.animationFrameService.flushAllFrames(),this.focusService.setFocusedCell(d,h,null,!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:d,rowPinned:null,column:h})},t.prototype.onPageDown=function(e){if(!this.isTimeSinceLastPageEventToRecent()){var n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),s=this.getViewportHeight(),d=this.paginationProxy.getPixelOffset(),L=this.paginationProxy.getRowIndexAtPixel(n.top+s+d),j=this.paginationProxy.getRow(e.rowIndex).rowTop,J=this.paginationProxy.getRowIndexAtPixel(j+s-d+d),re=this.paginationProxy.getPageLastRow();J===e.rowIndex&&(L=J=e.rowIndex+1),J>re&&(J=re),L>re&&(L=re),this.isRowTallerThanView(J)&&(L=J),this.navigateTo({scrollIndex:L,scrollType:"top",scrollColumn:null,focusIndex:J,focusColumn:e.column}),this.setTimeLastPageEventProcessed()}},t.prototype.onPageUp=function(e){if(!this.isTimeSinceLastPageEventToRecent()){var n=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),s=this.getViewportHeight(),d=this.paginationProxy.getPixelOffset(),L=this.paginationProxy.getRowIndexAtPixel(n.top+d),j=this.paginationProxy.getRow(e.rowIndex),J=this.paginationProxy.getRowIndexAtPixel(j.rowTop+j.rowHeight-s-d+d),re=this.paginationProxy.getPageFirstRow();J===e.rowIndex&&(L=J=e.rowIndex-1),J<re&&(J=re),L<re&&(L=re);var me="bottom";this.isRowTallerThanView(J)&&(L=J,me="top"),this.navigateTo({scrollIndex:L,scrollType:me,scrollColumn:null,focusIndex:J,focusColumn:e.column}),this.setTimeLastPageEventProcessed()}},t.prototype.getViewportHeight=function(){var i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),n=this.gridOptionsWrapper.getScrollbarWidth(),s=i.bottom-i.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(s-=n),s},t.prototype.isRowTallerThanView=function(e){var i=this.paginationProxy.getRow(e);if(!i)return!1;var n=i.rowHeight;return"number"==typeof n&&n>this.getViewportHeight()},t.prototype.getIndexToFocus=function(e,i){var n=e;if(i){var s=this.paginationProxy.getRow(e);s&&s.stub&&(n-=1)}return n},t.prototype.onCtrlUpOrDown=function(e,i){var n=e===Ue.UP,s=n?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:i.column,focusIndex:this.getIndexToFocus(s,!n),focusColumn:i.column})},t.prototype.onCtrlLeftOrRight=function(e,i){var n=e===Ue.LEFT,s=this.columnModel.getAllDisplayedColumns(),h=n!==this.gridOptionsWrapper.isEnableRtl()?s[0]:Qe(s);this.navigateTo({scrollIndex:i.rowIndex,scrollType:null,scrollColumn:h,focusIndex:i.rowIndex,focusColumn:h})},t.prototype.onHomeOrEndKey=function(e){var i=e===Ue.PAGE_HOME,n=this.columnModel.getAllDisplayedColumns(),s=i?n[0]:Qe(n),d=i?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:d,scrollType:null,scrollColumn:s,focusIndex:this.getIndexToFocus(d,!i),focusColumn:s})},t.prototype.onTabKeyDown=function(e,i){var n=i.shiftKey;if(this.tabToNextCellCommon(e,n,i))i.preventDefault();else if(n){var d=e.getRowPosition(),h=d.rowIndex;(d.rowPinned?0===h:h===this.paginationProxy.getPageFirstRow())&&(i.preventDefault(),this.focusService.focusLastHeader(i))}else e instanceof Ln&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(n)&&i.preventDefault()},t.prototype.tabToNextCell=function(e,i){var n=this.focusService.getFocusedCell();if(!n)return!1;var s=this.getCellByPosition(n);return!!(s||(s=this.rowRenderer.getRowByPosition(n),s&&s.isFullWidth()))&&this.tabToNextCellCommon(s,e,i)},t.prototype.tabToNextCellCommon=function(e,i,n){var s=e.isEditing();if(!s&&e instanceof Ln){var h=e.getRowCtrl();h&&(s=h.isEditing())}return(s?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(e,i,n):this.moveToNextEditingCell(e,i,n):this.moveToNextCellNotEditing(e,i))||!!this.focusService.getFocusedHeader()},t.prototype.moveToNextEditingCell=function(e,i,n){void 0===n&&(n=null);var s=e.getCellPosition();e.stopEditing();var d=this.findNextCellToFocusOn(s,i,!0);return null!=d&&(d.startEditing(null,null,!0,n),d.focusCell(!1),!0)},t.prototype.moveToNextEditingRow=function(e,i,n){void 0===n&&(n=null);var s=e.getCellPosition(),d=this.findNextCellToFocusOn(s,i,!0);if(null==d)return!1;var h=d.getCellPosition(),O=this.isCellEditable(s),L=this.isCellEditable(h),j=h&&s.rowIndex===h.rowIndex&&s.rowPinned===h.rowPinned;return O&&e.setFocusOutOnEditor(),j||(e.getRowCtrl().stopEditing(),d.getRowCtrl().startRowEditing(void 0,void 0,void 0,n)),L?(d.setFocusInOnEditor(),d.focusCell()):d.focusCell(!0),!0},t.prototype.moveToNextCellNotEditing=function(e,i){var s,n=this.columnModel.getAllDisplayedColumns();s=e instanceof hr?fs(fs({},e.getRowPosition()),{column:i?n[0]:Qe(n)}):e.getCellPosition();var d=this.findNextCellToFocusOn(s,i,!1);if(d instanceof Ln)d.focusCell(!0);else if(d)return this.tryToFocusFullWidthRow(d.getRowPosition(),i);return W(d)},t.prototype.findNextCellToFocusOn=function(e,i,n){for(var s=e;;){e!==s&&(e=s),i||(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextTabbedCell(s,i);var d=this.gridOptionsWrapper.getTabToNextCellFunc();if(W(d)){var O=d({backwards:i,editing:n,previousCellPosition:e,nextCellPosition:s||null,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()});W(O)?(O.floating&&(ye(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),O.rowPinned=O.floating),s={rowIndex:O.rowIndex,column:O.column,rowPinned:O.rowPinned}):s=null}if(!s)return null;if(s.rowIndex<0){var L=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:L+s.rowIndex,column:s.column}}),null}var j=this.gridOptionsWrapper.isFullRowEdit();if(!n||j||this.isCellEditable(s)){this.ensureCellVisible(s);var J=this.getCellByPosition(s);if(!J){var re=this.rowRenderer.getRowByPosition(s);if(!re||!re.isFullWidth())continue;return re}if(!J.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(s),J}}},t.prototype.isCellEditable=function(e){var i=this.lookupRowNodeForCell(e);return!!i&&e.column.isCellEditable(i)},t.prototype.getCellByPosition=function(e){var i=this.rowRenderer.getRowByPosition(e);return i?i.getCellCtrl(e.column):null},t.prototype.lookupRowNodeForCell=function(e){return e.rowPinned===ae.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned===ae.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)},t.prototype.navigateToNextCell=function(e,i,n,s){for(var d=n,h=!1;d&&(d===n||!this.isValidNavigateCell(d));)this.gridOptionsWrapper.isEnableRtl()?i===Ue.LEFT&&(d=this.getLastCellOfColSpan(d)):i===Ue.RIGHT&&(d=this.getLastCellOfColSpan(d)),h=E(d=this.cellNavigationService.getNextCellToFocus(i,d));if(h&&e&&e.key===Ue.UP&&(d={rowIndex:-1,rowPinned:null,column:n.column}),s){var O=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(W(O)){var j=O({key:i,previousCellPosition:n,nextCellPosition:d||null,event:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()});W(j)?(j.floating&&(ye(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),j.rowPinned=j.floating),d={rowPinned:j.rowPinned,rowIndex:j.rowIndex,column:j.column}):d=null}}if(d){if(d.rowIndex<0){var q=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:q+d.rowIndex,column:n.column},event:e||void 0})}var J=this.getNormalisedPosition(d);J?this.focusPosition(J):this.tryToFocusFullWidthRow(d)}},t.prototype.getNormalisedPosition=function(e){this.ensureCellVisible(e);var i=this.getCellByPosition(e);return i?(e=i.getCellPosition(),this.ensureCellVisible(e),e):null},t.prototype.tryToFocusFullWidthRow=function(e,i){void 0===i&&(i=!1);var n=this.columnModel.getAllDisplayedColumns(),s=this.rowRenderer.getRowByPosition(e);if(!s||!s.isFullWidth())return!1;var d={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(i?Qe(n):n[0])};return this.focusPosition(d),!0},t.prototype.focusPosition=function(e){this.focusService.setFocusedCell(e.rowIndex,e.column,e.rowPinned,!0),this.rangeService&&this.rangeService.setRangeToCell(e)},t.prototype.isValidNavigateCell=function(e){return!!this.rowPositionUtils.getRowNode(e)},t.prototype.getLastCellOfColSpan=function(e){var i=this.getCellByPosition(e);if(!i)return e;var n=i.getColSpanningList();return 1===n.length?e:{rowIndex:e.rowIndex,column:Qe(n),rowPinned:e.rowPinned}},t.prototype.ensureCellVisible=function(e){E(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},yi([Q("mouseEventService")],t.prototype,"mouseEventService",void 0),yi([Q("paginationProxy")],t.prototype,"paginationProxy",void 0),yi([Q("focusService")],t.prototype,"focusService",void 0),yi([Q("animationFrameService")],t.prototype,"animationFrameService",void 0),yi([it("rangeService")],t.prototype,"rangeService",void 0),yi([Q("columnModel")],t.prototype,"columnModel",void 0),yi([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),yi([Q("rowRenderer")],t.prototype,"rowRenderer",void 0),yi([Q("headerNavigationService")],t.prototype,"headerNavigationService",void 0),yi([Q("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),yi([Q("cellNavigationService")],t.prototype,"cellNavigationService",void 0),yi([Q("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),yi([be],t.prototype,"postConstruct",null),yi([je("navigationService")],t)}(Ze),Bh=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ln=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Ta=function(a,t){return function(e,i){t(e,i,a)}},Im=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.scrollY=0,e.uiBodyHeight=0,e}return Bh(t,a),t.prototype.agWire=function(e){this.logger=e.create("RowContainerHeightService")},t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ue.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Dl(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},t.prototype.isStretching=function(){return this.stretching},t.prototype.getDivStretchOffset=function(){return this.divStretchOffset},t.prototype.updateOffset=function(){if(this.stretching){var i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,n=this.getUiBodyHeight();(i!==this.scrollY||n!==this.uiBodyHeight)&&(this.scrollY=i,this.uiBodyHeight=n,this.calculateOffset())}},t.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var e=this.scrollY/this.maxScrollY,i=e*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+i+" ("+this.pixelsToShave+" * "+e+")"),this.setDivStretchOffset(i)},t.prototype.setUiContainerHeight=function(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:ue.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},t.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},t.prototype.setDivStretchOffset=function(e){var i="number"==typeof e?Math.floor(e):null;this.divStretchOffset!==i&&(this.divStretchOffset=i,this.eventService.dispatchEvent({type:ue.EVENT_HEIGHT_SCALE_CHANGED}))},t.prototype.setModelHeight=function(e){this.modelHeight=e,this.stretching=null!=e&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},t.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},t.prototype.getRealPixelPosition=function(e){return e-this.divStretchOffset},t.prototype.getUiBodyHeight=function(){var i=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return i.bottom-i.top},t.prototype.getScrollPositionForPixel=function(e){if(this.pixelsToShave<=0)return e;var i=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(e/i)},ln([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),ln([Ta(0,Et("loggerFactory"))],t.prototype,"agWire",null),ln([be],t.prototype,"postConstruct",null),ln([je("rowContainerHeightService")],t)}(Ze),X_=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),gs=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Gc=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return X_(t,a),t.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},t.prototype.updateSelectableAfterGrouping=function(e){this.isRowSelectableFunc&&this.recurseDown(e.childrenAfterGroup,function(n){return n.childrenAfterGroup})},t.prototype.updateSelectableAfterFiltering=function(e){this.isRowSelectableFunc&&this.recurseDown(e.childrenAfterGroup,function(n){return n.childrenAfterFilter})},t.prototype.recurseDown=function(e,i){var n=this;!e||e.forEach(function(s){var d;s.group&&(s.hasChildren()&&n.recurseDown(i(s),i),d=n.groupSelectsChildren?W((i(s)||[]).find(function(O){return!0===O.selectable})):!!n.isRowSelectableFunc&&n.isRowSelectableFunc(s),s.setRowSelectable(d))})},gs([be],t.prototype,"init",null),gs([je("selectableService")],t)}(Ze),Lm=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Mi=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Nm=function(a){function t(){var e=a.call(this)||this;return e.previousAndFirstButtonsDisabled=!1,e.nextButtonDisabled=!1,e.lastButtonDisabled=!1,e}return Lm(t,a),t.prototype.postConstruct=function(){var e=this,i=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",qt(i?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",qt(i?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",qt(i?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",qt(i?"first":"last",this.gridOptionsWrapper)),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,ue.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(d){var h=d.el,O=d.fn;e.addManagedListener(h,"click",O),e.addManagedListener(h,"keydown",function(L){(L.key===Ue.ENTER||L.key===Ue.SPACE)&&(L.preventDefault(),O())})}),this.onPaginationChanged()):this.setDisplayed(!1)},t.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},t.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},t.prototype.setCurrentPageLabel=function(){var e=this.paginationProxy.getTotalPages()>0,i=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(e?i+1:0)},t.prototype.formatNumber=function(e){var i=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();if(i)return i({value:e});var n=this.gridOptionsWrapper.getLocaleTextFunc();return Zu(e,n("thousandSeparator",","),n("decimalSeparator","."))},t.prototype.getTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),i=e("page","Page"),n=e("to","to"),s=e("of","of"),d=e("firstPage","First Page"),h=e("previousPage","Previous Page"),O=e("nextPage","Next Page"),L=e("lastPage","Last Page"),j=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+j+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+j+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+j+'-to">'+n+'</span>\n                    <span id="ag-'+j+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+j+'-of">'+s+'</span>\n                    <span id="ag-'+j+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+d+'" tabindex="0"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+h+'" tabindex="0"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+j+'-start-page">'+i+'</span>\n                        <span id="ag-'+j+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+j+'-of-page">'+s+'</span>\n                        <span id="ag-'+j+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+O+'" tabindex="0"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+L+'" tabindex="0"></div>\n                </span>\n            </div>'},t.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},t.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},t.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},t.prototype.enableOrDisableButtons=function(){var e=this.paginationProxy.getCurrentPage(),i=this.paginationProxy.isLastPageFound(),n=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===e,this.btFirst.classList.toggle("ag-disabled",this.previousAndFirstButtonsDisabled),Go(this.btFirst,this.previousAndFirstButtonsDisabled),this.btPrevious.classList.toggle("ag-disabled",this.previousAndFirstButtonsDisabled),Go(this.btPrevious,this.previousAndFirstButtonsDisabled);var s=this.isZeroPagesToDisplay();this.nextButtonDisabled=i&&e===n-1||s,this.btNext.classList.toggle("ag-disabled",this.nextButtonDisabled),Go(this.btNext,this.nextButtonDisabled),this.lastButtonDisabled=!i||s||e===n-1,this.btLast.classList.toggle("ag-disabled",this.lastButtonDisabled),Go(this.btLast,this.lastButtonDisabled)},t.prototype.updateRowLabels=function(){var d,h,e=this.paginationProxy.getCurrentPage(),i=this.paginationProxy.getPageSize(),n=this.paginationProxy.isLastPageFound(),s=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?d=h=0:(h=(d=i*e+1)+i-1,n&&h>s&&(h=s)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(d),this.lbLastRowOnPage.innerHTML=this.rowNodeBlockLoader.isLoading()?"?":this.formatNumber(h)},t.prototype.isZeroPagesToDisplay=function(){var e=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages();return e&&0===i},t.prototype.setTotalLabels=function(){var e=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.getTotalPages(),n=e?this.paginationProxy.getMasterRowCount():null;if(1===n){var s=this.paginationProxy.getRow(0);if(s&&s.group&&!s.groupData&&!s.aggData)return void this.setTotalLabelsToZero()}if(e)this.lbTotal.innerHTML=this.formatNumber(i),this.lbRecordCount.innerHTML=this.formatNumber(n);else{var h=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=h,this.lbRecordCount.innerHTML=h}},t.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},Mi([Q("paginationProxy")],t.prototype,"paginationProxy",void 0),Mi([Q("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Mi([He("btFirst")],t.prototype,"btFirst",void 0),Mi([He("btPrevious")],t.prototype,"btPrevious",void 0),Mi([He("btNext")],t.prototype,"btNext",void 0),Mi([He("btLast")],t.prototype,"btLast",void 0),Mi([He("lbRecordCount")],t.prototype,"lbRecordCount",void 0),Mi([He("lbFirstRowOnPage")],t.prototype,"lbFirstRowOnPage",void 0),Mi([He("lbLastRowOnPage")],t.prototype,"lbLastRowOnPage",void 0),Mi([He("lbCurrent")],t.prototype,"lbCurrent",void 0),Mi([He("lbTotal")],t.prototype,"lbTotal",void 0),Mi([be],t.prototype,"postConstruct",null),t}(pt),Bm=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Hh=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.polyfillFunctions=[],e}return Bm(t,a),t.prototype.observeResize=function(e,i){var J,n=this,d=this.gridOptionsWrapper.getDocument().defaultView||window,h=Fe(i,50),j=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return d.ResizeObserver&&!j?((J=new d.ResizeObserver(h)).observe(e),function(){return J.disconnect()}):function(){var J=Tl(e),re=Nu(e),me=!0,Ae=function(){if(me){var Pe=Tl(e),We=Nu(e);(Pe!==J||We!==re)&&(J=Pe,re=We,i()),n.doNextPolyfillTurn(Ae)}};return Ae(),function(){return me=!1}}()},t.prototype.doNextPolyfillTurn=function(e){this.polyfillFunctions.push(e),this.schedulePolyfill()},t.prototype.schedulePolyfill=function(){var e=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var n=e.polyfillFunctions;e.polyfillScheduled=!1,e.polyfillFunctions=[],n.forEach(function(s){return s()})},50))},t=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s}([je("resizeObserverService")],t),t}(Ze),Wn=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_r=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Cr=(()=>(function(a){a[a.Loading=0]="Loading",a[a.NoRows=1]="NoRows"}(Cr||(Cr={})),Cr))(),km=function(a){function t(){var e=a.call(this,t.TEMPLATE)||this;return e.inProgress=!1,e.destroyRequested=!1,e}return Wn(t,a),t.prototype.updateLayoutClasses=function(e,i){var n=this.eOverlayWrapper.classList;n.toggle(z.LBn.AUTO_HEIGHT,i.autoHeight),n.toggle(z.LBn.NORMAL,i.normal),n.toggle(z.LBn.PRINT,i.print)},t.prototype.postConstruct=function(){this.createManagedBean(new Ea(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,ue.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},t.prototype.setWrapperTypeClass=function(e){var i=this.eOverlayWrapper.classList;i.toggle("ag-overlay-loading-wrapper",e===Cr.Loading),i.toggle("ag-overlay-no-rows-wrapper",e===Cr.NoRows)},t.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var e={api:this.gridOptionsWrapper.getApi()},n=this.userComponentFactory.getLoadingOverlayCompDetails(e).newAgStackInstance();this.showOverlay(n,Cr.Loading)}},t.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var e={api:this.gridOptionsWrapper.getApi()},n=this.userComponentFactory.getNoRowsOverlayCompDetails(e).newAgStackInstance();this.showOverlay(n,Cr.NoRows)}},t.prototype.showOverlay=function(e,i){var n=this;this.inProgress||(this.setWrapperTypeClass(i),this.destroyActiveOverlay(),this.inProgress=!0,e&&e.then(function(s){n.inProgress=!1,n.eOverlayWrapper.appendChild(s.getGui()),n.activeOverlay=s,n.destroyRequested&&(n.destroyRequested=!1,n.destroyActiveOverlay())}),this.setDisplayed(!0))},t.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:!this.activeOverlay||(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),Ci(this.eOverlayWrapper))},t.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1)},t.prototype.destroy=function(){this.destroyActiveOverlay(),a.prototype.destroy.call(this)},t.prototype.showOrHideOverlay=function(){var e=this.paginationProxy.isEmpty(),i=this.gridOptionsWrapper.isSuppressNoRowsOverlay();e&&!i?this.showNoRowsOverlay():this.hideOverlay()},t.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},t.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&this.hideOverlay()},t.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',_r([Q("userComponentFactory")],t.prototype,"userComponentFactory",void 0),_r([Q("paginationProxy")],t.prototype,"paginationProxy",void 0),_r([Q("gridApi")],t.prototype,"gridApi",void 0),_r([Q("columnModel")],t.prototype,"columnModel",void 0),_r([He("eOverlayWrapper")],t.prototype,"eOverlayWrapper",void 0),_r([be],t.prototype,"postConstruct",null),t}(pt),Gm=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$n=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Vh=function(a){function t(e){void 0===e&&(e={});var i=a.call(this,t.getTemplate(e))||this;i.suppressEnabledCheckbox=!0,i.suppressOpenCloseIcons=!1;var s=e.enabled,d=e.items,h=e.suppressEnabledCheckbox,O=e.suppressOpenCloseIcons;return i.title=e.title,i.cssIdentifier=e.cssIdentifier||"default",i.enabled=null==s||s,i.items=d||[],i.alignItems=e.alignItems||"center",null!=h&&(i.suppressEnabledCheckbox=h),null!=O&&(i.suppressOpenCloseIcons=O),i}return Gm(t,a),t.getTemplate=function(e){var i=e.cssIdentifier||"default";return'<div class="ag-group ag-'+i+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+i+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+i+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+i+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+i+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+i+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(e.direction||"vertical")+" ag-"+i+'-group-container"></div>\n        </div>'},t.prototype.postConstruct=function(){if(this.items.length){var e=this.items;this.items=[],this.addItems(e)}var i=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(i("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},t.prototype.setupExpandContract=function(){var e=this;this.eGroupClosedIcon.appendChild(ki("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(ki("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return e.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(i){switch(i.key){case Ue.ENTER:case Ue.SPACE:i.preventDefault(),e.toggleGroupExpand();break;case Ue.RIGHT:case Ue.LEFT:i.preventDefault(),e.toggleGroupExpand(i.key===Ue.RIGHT)}})},t.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Di(this.eTitleBar,this.expanded)},t.prototype.refreshChildDisplay=function(){var e=!this.suppressOpenCloseIcons;Pt(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),Pt(this.eGroupOpenedIcon,e&&this.expanded),Pt(this.eGroupClosedIcon,e&&!this.expanded)},t.prototype.isExpanded=function(){return this.expanded},t.prototype.setAlignItems=function(e){return this.alignItems!==e&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=e,this.addCssClass("ag-group-item-alignment-"+this.alignItems),this},t.prototype.toggleGroupExpand=function(e){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),Pt(this.eContainer,!0),this):(this.expanded===(e=null!=e?e:!this.expanded)||(this.expanded=e,this.refreshAriaStatus(),this.refreshChildDisplay(),Pt(this.eContainer,e),this.dispatchEvent({type:this.expanded?t.EVENT_EXPANDED:t.EVENT_COLLAPSED})),this)},t.prototype.addItems=function(e){var i=this;e.forEach(function(n){return i.addItem(n)})},t.prototype.addItem=function(e){var i=this.eContainer,n=e instanceof pt?e.getGui():e;n.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),i.appendChild(n),this.items.push(n)},t.prototype.hideItem=function(e,i){this.items[i].classList.toggle("ag-hidden",e)},t.prototype.setTitle=function(e){return this.eTitle.innerText=e,this},t.prototype.addCssClassToTitleBar=function(e){this.eTitleBar.classList.add(e)},t.prototype.setEnabled=function(e,i){return this.enabled=e,this.refreshDisabledStyles(),this.toggleGroupExpand(e),i||this.cbGroupEnabled.setValue(e),this},t.prototype.isEnabled=function(){return this.enabled},t.prototype.onEnableChange=function(e){var i=this;return this.cbGroupEnabled.onValueChange(function(n){i.setEnabled(n,!0),e(n)}),this},t.prototype.hideEnabledCheckbox=function(e){return this.suppressEnabledCheckbox=e,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},t.prototype.hideOpenCloseIcons=function(e){return this.suppressOpenCloseIcons=e,e&&this.toggleGroupExpand(!0),this},t.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},t.EVENT_EXPANDED="expanded",t.EVENT_COLLAPSED="collapsed",$n([He("eTitleBar")],t.prototype,"eTitleBar",void 0),$n([He("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),$n([He("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),$n([He("eToolbar")],t.prototype,"eToolbar",void 0),$n([He("cbGroupEnabled")],t.prototype,"cbGroupEnabled",void 0),$n([He("eTitle")],t.prototype,"eTitle",void 0),$n([He("eContainer")],t.prototype,"eContainer",void 0),$n([be],t.prototype,"postConstruct",null),t}(pt),Hm=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Vm=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},$h=function(a){function t(e,i){var n=a.call(this)||this;return n.element=e,n.dragStartPosition={x:0,y:0},n.position={x:0,y:0},n.lastSize={width:-1,height:-1},n.positioned=!1,n.resizersAdded=!1,n.resizeListeners=[],n.boundaryEl=null,n.isResizing=!1,n.isMoving=!1,n.resizable={},n.movable=!1,n.currentResizer=null,n.config=Object.assign({},{popup:!1},i),n}return Hm(t,a),t.prototype.center=function(){var e=this.offsetParent,i=e.clientHeight,s=e.clientWidth/2-this.getWidth()/2,d=i/2-this.getHeight()/2;this.offsetElement(s,d)},t.prototype.initialisePosition=function(){var e=this.config,i=e.centered,n=e.forcePopupParentAsOffsetParent,s=e.minWidth,d=e.width,h=e.minHeight,O=e.height,L=e.x,j=e.y;this.offsetParent||this.setOffsetParent();var q=0,J=0,re=!!this.element.offsetParent;if(re){var me=this.findBoundaryElement(),Ae=window.getComputedStyle(me);if(null!=Ae.minWidth){var Pe=me.offsetWidth-this.element.offsetWidth;J=parseInt(Ae.minWidth,10)-Pe}if(null!=Ae.minHeight){var We=me.offsetHeight-this.element.offsetHeight;q=parseInt(Ae.minHeight,10)-We}}if(this.minHeight=h||q,this.minWidth=s||J,d&&this.setWidth(d),O&&this.setHeight(O),(!d||!O)&&this.refreshSize(),i)this.center();else if(L||j)this.offsetElement(L,j);else if(re&&n&&this.boundaryEl){var Ve=parseFloat(this.boundaryEl.style.top),$e=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN($e)?0:$e,isNaN(Ve)?0:Ve)}this.positioned=!!this.offsetParent},t.prototype.isPositioned=function(){return this.positioned},t.prototype.getPosition=function(){return this.position},t.prototype.setMovable=function(e,i){if(this.config.popup&&e!==this.movable){this.movable=e;var n=this.moveElementDragListener||{eElement:i,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(n),this.moveElementDragListener=n):(this.dragService.removeDragSource(n),this.moveElementDragListener=void 0)}},t.prototype.setResizable=function(e){var i=this;if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),"boolean"==typeof e){if(!1===e)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(function(n){var d=!!e[n],h=i.getResizerElement(n),O={dragStartPixels:0,eElement:h,onDragStart:function(L){return i.onResizeStart(L,n)},onDragging:i.onResize.bind(i),onDragStop:function(L){return i.onResizeEnd(L,n)}};(!!i.resizable[n]!==d||!i.isAlive()&&!d)&&(d?(i.dragService.addDragSource(O),i.resizeListeners.push(O),h.style.pointerEvents="all"):h.style.pointerEvents="none")})},t.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},t.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var e=this.lastSize,i=e.height,n=e.width;-1!==n&&(this.element.style.width=n+"px"),-1!==i&&(this.element.style.height=i+"px")},t.prototype.getHeight=function(){return this.element.offsetHeight},t.prototype.setHeight=function(e){var i=this.config.popup,n=this.element,s=!1;if("string"==typeof e&&-1!==e.indexOf("%"))Gr(n,e),e=Lo(n),s=!0;else if(this.positioned){var d=this.element.getBoundingClientRect(),h=this.offsetParent.getBoundingClientRect();e=Math.max(this.minHeight,e);var O=this.offsetParent.clientHeight,L=i?this.position.y:d.top;O&&e+L>O+(i?0:h.top)&&(e=O-L)}this.getHeight()!==e&&(s?(n.style.maxHeight="unset",n.style.minHeight="unset"):i?Gr(n,e):(n.style.height=e+"px",n.style.flex="0 0 auto",this.lastSize.height="number"==typeof e?e:parseFloat(e)))},t.prototype.getWidth=function(){return this.element.offsetWidth},t.prototype.setWidth=function(e){var i=this.element,n=this.config.popup,s=!1;if("string"==typeof e&&-1!==e.indexOf("%"))Qi(i,e),e=kr(i),s=!0;else if(this.positioned){e=Math.max(this.minWidth,e);var d=this.offsetParent.clientWidth,h=n?this.position.x:this.element.getBoundingClientRect().left;d&&e+h>d&&(e=d-h)}this.getWidth()!==e&&(s?(i.style.maxWidth="unset",i.style.minWidth="unset"):this.config.popup?Qi(i,e):(i.style.width=e+"px",i.style.flex=" unset",this.lastSize.width="number"==typeof e?e:parseFloat(e)))},t.prototype.offsetElement=function(e,i){void 0===e&&(e=0),void 0===i&&(i=0);var n=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:n,x:e,y:i,keepWithinBounds:!0}),this.setPosition(parseFloat(n.style.left),parseFloat(n.style.top))},t.prototype.setPosition=function(e,i){this.position.x=e,this.position.y=i},t.prototype.updateDragStartPosition=function(e,i){this.dragStartPosition={x:e,y:i}},t.prototype.calculateMouseMovement=function(e){var i=e.e,s=e.isTop,h=e.topBuffer,O=i.clientX-this.dragStartPosition.x,L=i.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(i,!!e.isLeft,!!e.anywhereWithin,O)?0:O,movementY:this.shouldSkipY(i,!!s,h,L)?0:L}},t.prototype.shouldSkipX=function(e,i,n,s){var d=this.element.getBoundingClientRect(),h=this.offsetParent.getBoundingClientRect(),O=this.boundaryEl.getBoundingClientRect(),L=this.config.popup?this.position.x:d.left,j=L<=0&&h.left>=e.clientX||h.right<=e.clientX&&h.right<=O.right;return!!j||(i?s<0&&e.clientX>L+h.left||s>0&&e.clientX<L+h.left:n?s<0&&e.clientX>O.right||s>0&&e.clientX<L+h.left:s<0&&e.clientX>O.right||s>0&&e.clientX<O.right)},t.prototype.shouldSkipY=function(e,i,n,s){void 0===n&&(n=0);var d=this.element.getBoundingClientRect(),h=this.offsetParent.getBoundingClientRect(),O=this.boundaryEl.getBoundingClientRect(),L=this.config.popup?this.position.y:d.top,j=L<=0&&h.top>=e.clientY||h.bottom<=e.clientY&&h.bottom<=O.bottom;return!!j||(i?s<0&&e.clientY>L+h.top+n||s>0&&e.clientY<L+h.top:s<0&&e.clientY>O.bottom||s>0&&e.clientY<O.bottom)},t.prototype.createResizeMap=function(){var e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}},t.prototype.addResizers=function(){if(!this.resizersAdded){var e=this.element;if(e){var n=(new DOMParser).parseFromString('<div class="ag-resizer-wrapper">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',"text/html").body;e.appendChild(n.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},t.prototype.removeResizers=function(){this.resizerMap=void 0;var e=this.element.querySelector(".ag-resizer-wrapper");e&&this.element.removeChild(e),this.resizersAdded=!1},t.prototype.getResizerElement=function(e){return this.resizerMap[e].element},t.prototype.onResizeStart=function(e,i){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!i.match(/top/i),isRight:!!i.match(/right/i),isBottom:!!i.match(/bottom/i),isLeft:!!i.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[i].element.classList.add("ag-active");var n=this.config;!n.popup&&!n.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.getSiblings=function(){var i=this.element.parentElement;return i?Array.prototype.slice.call(i.children).filter(function(n){return!n.classList.contains("ag-hidden")}):null},t.prototype.getMinSizeOfSiblings=function(){for(var e=this.getSiblings()||[],i=0,n=0,s=0;s<e.length;s++){var d=e[s];if(d!==this.element){var O=this.minHeight||0,L=this.minWidth||0;if(d.style.flex&&"0 0 auto"!==d.style.flex){var j=window.getComputedStyle(d);j.minHeight&&(O=parseInt(j.minHeight,10)),j.minWidth&&(L=parseInt(j.minWidth,10))}else O=d.offsetHeight,L=d.offsetWidth;i+=O,n+=L}}return{height:i,width:n}},t.prototype.applySizeToSiblings=function(e){var i=null,n=this.getSiblings();if(n){for(var s=0;s<n.length;s++){var d=n[s];d!==i&&(e?d.style.height=d.offsetHeight+"px":d.style.width=d.offsetWidth+"px",d.style.flex="0 0 auto",d===this.element&&(i=n[s+1]))}i&&(i.style.removeProperty("height"),i.style.removeProperty("min-height"),i.style.removeProperty("max-height"),i.style.flex="1 1 auto")}},t.prototype.onResize=function(e){if(this.isResizing&&this.currentResizer){var i=this.config,n=i.popup,s=i.forcePopupParentAsOffsetParent,d=this.currentResizer,h=d.isTop,j=d.isLeft,q=d.isRight||j,J=d.isBottom||h,re=this.calculateMouseMovement({e,isLeft:j,isTop:h}),me=re.movementX,Ae=re.movementY,Pe=this.position.x,We=this.position.y,Ve=0,$e=0;if(q&&me){var Ke=j?-1:1,ot=this.getWidth(),mt=ot+me*Ke,ft=!1;j&&(Pe+(Ve=ot-mt)<=0||mt<=this.minWidth)&&(ft=!0,Ve=0),ft||this.setWidth(mt)}if(J&&Ae){Ke=h?-1:1;var ut=this.getHeight(),St=ut+Ae*Ke,wt=!1;h?(We+($e=ut-St)<=0||St<=this.minHeight)&&(wt=!0,$e=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&ut<St&&this.getMinSizeOfSiblings().height+St>this.element.parentElement.offsetHeight&&(wt=!0),wt||this.setHeight(St)}this.updateDragStartPosition(e.clientX,e.clientY),((n||s)&&Ve||$e)&&this.offsetElement(Pe+Ve,We+$e)}},t.prototype.onResizeEnd=function(e,i){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var n={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.element.classList.remove("ag-resizing"),this.resizerMap[i].element.classList.remove("ag-active"),this.dispatchEvent(n)},t.prototype.refreshSize=function(){var e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))},t.prototype.onMoveStart=function(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)},t.prototype.onMove=function(e){if(this.isMoving){var d,i=this.position,n=i.x,s=i.y;this.config.calculateTopBuffer&&(d=this.config.calculateTopBuffer());var h=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:d});this.offsetElement(n+h.movementX,s+h.movementY),this.updateDragStartPosition(e.clientX,e.clientY)}},t.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},t.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},t.prototype.findBoundaryElement=function(){for(var e=this.element;e;){if("static"!==window.getComputedStyle(e).position)return e;e=e.parentElement}return this.element},t.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}},t.prototype.destroy=function(){a.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},Vm([Q("popupService")],t.prototype,"popupService",void 0),Vm([Q("dragService")],t.prototype,"dragService",void 0),t}(Ze),jn=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Fa=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},ms=function(a){function t(e){var i=a.call(this,t.getTemplate(e))||this;return i.closable=!0,i.config=e,i}return jn(t,a),t.getTemplate=function(e){var i=e&&e.cssIdentifier||"default";return'<div class="ag-panel ag-'+i+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+i+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+i+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+i+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+i+'-panel-content-wrapper"></div>\n        </div>'},t.prototype.postConstruct=function(){var e=this,i=this.config,n=i.component,s=i.closable,d=i.hideTitleBar,h=i.title,O=i.minWidth,L=void 0===O?250:O,j=i.width,q=i.minHeight,J=void 0===q?250:q,re=i.height,me=i.centered,Ae=i.popup,Pe=i.x,We=i.y;this.positionableFeature=new $h(this.getGui(),{minWidth:L,width:j,minHeight:J,height:re,centered:me,x:Pe,y:We,popup:Ae,calculateTopBuffer:function(){return e.positionableFeature.getHeight()-e.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var Ve=this.getGui();n&&this.setBodyComponent(n),d?this.eTitleBar.classList.add("ag-hidden"):(h&&this.setTitle(h),this.setClosable(null!=s?s:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function($e){var Ke=e.gridOptionsWrapper.getDocument();if(Ve.contains($e.relatedTarget)||Ve.contains(Ke.activeElement)||e.eTitleBarButtons.contains($e.target))$e.preventDefault();else{var ot=e.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");ot&&ot.focus()}}),(!Ae||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},t.prototype.renderComponent=function(){var e=this,i=this.getGui();i.focus(),this.close=function(){i.parentElement.removeChild(i),e.destroy()}},t.prototype.getHeight=function(){return this.positionableFeature.getHeight()},t.prototype.setHeight=function(e){this.positionableFeature.setHeight(e)},t.prototype.getWidth=function(){return this.positionableFeature.getWidth()},t.prototype.setWidth=function(e){this.positionableFeature.setWidth(e)},t.prototype.setClosable=function(e){if(e!==this.closable&&(this.closable=e),e){var i=this.closeButtonComp=new pt(t.CLOSE_BTN_TEMPLATE);this.getContext().createBean(i);var n=i.getGui(),s=qt("close",this.gridOptionsWrapper);s.classList.add("ag-panel-title-bar-button-icon"),n.appendChild(s),this.addTitleBarButton(i),i.addManagedListener(n,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((n=this.closeButtonComp.getGui()).parentElement.removeChild(n),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},t.prototype.setBodyComponent=function(e){e.setParentComponent(this),this.eContentWrapper.appendChild(e.getGui())},t.prototype.addTitleBarButton=function(e,i){var n=this.eTitleBarButtons,s=n.children,d=s.length;null==i&&(i=d),i=Math.max(0,Math.min(i,d)),e.addCssClass("ag-panel-title-bar-button");var h=e.getGui();0===i?n.insertAdjacentElement("afterbegin",h):i===d?n.insertAdjacentElement("beforeend",h):s[i-1].insertAdjacentElement("afterend",h),e.setParentComponent(this)},t.prototype.getBodyHeight=function(){return Io(this.eContentWrapper)},t.prototype.getBodyWidth=function(){return Ol(this.eContentWrapper)},t.prototype.setTitle=function(e){this.eTitle.innerText=e},t.prototype.onBtClose=function(){this.close()},t.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var e=this.getGui();e&&e.offsetParent&&this.close(),a.prototype.destroy.call(this)},t.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',Fa([He("eContentWrapper")],t.prototype,"eContentWrapper",void 0),Fa([He("eTitleBar")],t.prototype,"eTitleBar",void 0),Fa([He("eTitleBarButtons")],t.prototype,"eTitleBarButtons",void 0),Fa([He("eTitle")],t.prototype,"eTitle",void 0),Fa([be],t.prototype,"postConstruct",null),t}(pt),$m=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Hc=function(){return Hc=Object.assign||function(a){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a},Hc.apply(this,arguments)},Un=function(a){function t(e){var i=a.call(this,Hc(Hc({},e),{popup:!0}))||this;return i.isMaximizable=!1,i.isMaximized=!1,i.maximizeListeners=[],i.resizeListenerDestroy=null,i.lastPosition={x:0,y:0,width:0,height:0},i}return $m(t,a),t.prototype.postConstruct=function(){var e=this,i=this.getGui(),n=this.config,s=n.movable,d=n.resizable,h=n.maximizable;this.addCssClass("ag-dialog"),a.prototype.postConstruct.call(this),this.addManagedListener(i,"focusin",function(O){i.contains(O.relatedTarget)||e.popupService.bringPopupToFront(i)}),s&&this.setMovable(s),h&&this.setMaximizable(h),d&&this.setResizable(d)},t.prototype.renderComponent=function(){var e=this.getGui(),i=this.config,n=i.alwaysOnTop,s=i.modal,d=i.title,h=this.gridOptionsWrapper.getLocaleTextFunc(),O=this.popupService.addPopup({modal:s,eChild:e,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:n,ariaLabel:d||h("ariaLabelDialog","Dialog")});O&&(this.close=O.hideFunc)},t.prototype.toggleMaximize=function(){var e=this.positionableFeature.getPosition();if(this.isMaximized){var i=this.lastPosition,n=i.x,s=i.y,h=i.height;this.setWidth(i.width),this.setHeight(h),this.positionableFeature.offsetElement(n,s)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},t.prototype.refreshMaximizeIcon=function(){Pt(this.maximizeIcon,!this.isMaximized),Pt(this.minimizeIcon,this.isMaximized)},t.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(e){return e()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},t.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),a.prototype.destroy.call(this)},t.prototype.setResizable=function(e){this.positionableFeature.setResizable(e)},t.prototype.setMovable=function(e){this.positionableFeature.setMovable(e,this.eTitleBar)},t.prototype.setMaximizable=function(e){var i=this;if(!e)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var n=this.eTitleBar;if(n&&e!==this.isMaximizable){var s=this.maximizeButtonComp=this.createBean(new pt('<div class="ag-dialog-button"></span>')),d=s.getGui();d.appendChild(this.maximizeIcon=qt("maximize",this.gridOptionsWrapper)),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),d.appendChild(this.minimizeIcon=qt("minimize",this.gridOptionsWrapper)),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon","ag-hidden"),s.addManagedListener(d,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(s,0),this.maximizeListeners.push(this.addManagedListener(n,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){i.isMaximized=!1,i.refreshMaximizeIcon()})}},function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);n>3&&s&&Object.defineProperty(t,e,s)}([Q("popupService")],t.prototype,"popupService",void 0),t}(ms),jm=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Vc=function(a){function t(e,i,n){return void 0===i&&(i="ag-text-field"),void 0===n&&(n="text"),a.call(this,e,i,n)||this}return jm(t,a),t.prototype.postConstruct=function(){a.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},t.prototype.setValue=function(e,i){var n=a.prototype.setValue.call(this,e,i);return this.eInput.value!==e&&(this.eInput.value=W(e)?e:""),n},t.prototype.preventDisallowedCharacters=function(){var e=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(n){n.key&&!e.test(n.key)&&n.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(n){var s,d=null===(s=n.clipboardData)||void 0===s?void 0:s.getData("text");d&&d.split("").some(function(h){return!e.test(h)})&&n.preventDefault()})},t}(vn),Um=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Wc=function(a){function t(e){return a.call(this,e,"ag-text-area",null,"textarea")||this}return Um(t,a),t.prototype.setValue=function(e,i){var n=a.prototype.setValue.call(this,e,i);return this.eInput.value=e,n},t.prototype.setCols=function(e){return this.eInput.cols=e,this},t.prototype.setRows=function(e){return this.eInput.rows=e,this},t}(vn),Uh=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Pa=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},zh=function(a){function t(e){var i=a.call(this,e,t.TEMPLATE)||this;return i.labelAlignment="top",i}return Uh(t,a),t.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},t.prototype.onValueChange=function(e){var i=this,n=Vi.EVENT_CHANGED;return this.addManagedListener(this.eText,n,function(){var s=parseFloat(i.eText.getValue());i.eSlider.setValue(s.toString(),!0),e(s||0)}),this.addManagedListener(this.eSlider,n,function(){var s=i.eSlider.getValue();i.eText.setValue(s,!0),e(parseFloat(s))}),this},t.prototype.setSliderWidth=function(e){return this.eSlider.setWidth(e),this},t.prototype.setTextFieldWidth=function(e){return this.eText.setWidth(e),this},t.prototype.setMinValue=function(e){return this.eSlider.setMinValue(e),this.eText.setMin(e),this},t.prototype.setMaxValue=function(e){return this.eSlider.setMaxValue(e),this.eText.setMax(e),this},t.prototype.getValue=function(){return this.eText.getValue()},t.prototype.setValue=function(e){return this.getValue()===e||(this.eText.setValue(e,!0),this.eSlider.setValue(e,!0),this.dispatchEvent({type:Vi.EVENT_CHANGED})),this},t.prototype.setStep=function(e){return this.eSlider.setStep(e),this.eText.setStep(e),this},t.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',Pa([He("eLabel")],t.prototype,"eLabel",void 0),Pa([He("eSlider")],t.prototype,"eSlider",void 0),Pa([He("eText")],t.prototype,"eText",void 0),Pa([be],t.prototype,"init",null),t}(sr),zm=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cn=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Zm=function(a){function t(e){var i=a.call(this,t.TEMPLATE)||this;return i.H=1,i.S=1,i.B=1,i.A=1,i.isSpectrumDragging=!1,i.isSpectrumHueDragging=!1,i.isSpectrumAlphaDragging=!1,i.colorChanged=!1,i.picker=e.picker,i}return zm(t,a),t.prototype.postConstruct=function(){var e=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(e,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},t.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},t.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},t.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},t.prototype.onSpectrumDraggerDown=function(e){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(e)},t.prototype.onSpectrumDraggerMove=function(e){this.isSpectrumDragging&&this.moveDragger(e)},t.prototype.onSpectrumHueDown=function(e){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(e)},t.prototype.onSpectrumHueMove=function(e){this.isSpectrumHueDragging&&this.moveHueSlider(e)},t.prototype.onSpectrumAlphaDown=function(e){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(e)},t.prototype.onSpectrumAlphaMove=function(e){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(e)},t.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},t.prototype.moveDragger=function(e){var i=this.spectrumValRect;if(i){var n=e.clientX-i.left,s=e.clientY-i.top;n=Math.max(n,0),n=Math.min(n,i.width),s=Math.max(s,0),s=Math.min(s,i.height),this.setSpectrumValue(n/i.width,1-s/i.height)}},t.prototype.moveHueSlider=function(e){var i=this.spectrumHueRect;if(i){var n=this.spectrumHueSlider,s=n.getBoundingClientRect(),d=e.clientX-i.left;d=Math.max(d,0),d=Math.min(d,i.width),this.H=1-d/i.width,n.style.left=d+s.width/2+"px",this.update()}},t.prototype.moveAlphaSlider=function(e){var i=this.spectrumAlphaRect;if(i){var n=this.spectrumAlphaSlider,s=n.getBoundingClientRect(),d=e.clientX-i.left;d=Math.max(d,0),d=Math.min(d,i.width),this.A=d/i.width,n.style.left=d+s.width/2+"px",this.update()}},t.prototype.update=function(){var e=Xn.fromHSB(360*this.H,this.S,this.B,this.A),i=Xn.fromHSB(360*this.H,1,1),n=e.toRgbaString(),s=this.picker;Xn.fromString(s.getValue()).toRgbaString()!==n&&(this.colorChanged=!0),s.setValue(n),this.spectrumColor.style.backgroundColor=i.toRgbaString(),this.spectrumDragger.style.backgroundColor=n},t.prototype.setSpectrumValue=function(e,i){var n=this.spectrumValRect||this.refreshSpectrumRect();if(n){var s=this.spectrumDragger,d=s.getBoundingClientRect();e=Math.max(0,e),e=Math.min(1,e),i=Math.max(0,i),i=Math.min(1,i),this.S=e,this.B=i,s.style.left=e*n.width-d.width/2+"px",s.style.top=(1-i)*n.height-d.height/2+"px",this.update()}},t.prototype.initRecentColors=function(){var i=t.recentColors.map(function(n,s){return'<div class="ag-recent-color" id='+s+' style="background-color: '+n+'; width: 15px; height: 15px;" recent-color="'+n+'"></div>'});this.recentColors.innerHTML=i.join("")},t.prototype.setValue=function(e){var i=Xn.fromString(e),n=function(a,t){var e="function"==typeof Symbol&&a[Symbol.iterator];if(!e)return a;var n,d,i=e.call(a),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(h){d={error:h}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s}(i.toHSB(),3),s=n[0],d=n[1],h=n[2];this.H=(isNaN(s)?0:s)/360,this.A=i.a;var O=this.spectrumHueRect||this.refreshHueRect(),L=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-O.width+"px",this.spectrumAlphaSlider.style.left=this.A*L.width+"px",this.setSpectrumValue(d,h)},t.prototype.onRecentColorClick=function(e){var i=e.target;if(W(i.id)){var n=parseInt(i.id,10);this.setValue(t.recentColors[n]),this.destroy()}},t.prototype.addRecentColor=function(){var i=Xn.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),n=t.recentColors;!this.colorChanged||n[0]===i||(n=n.filter(function(s){return s!=i}),(n=[i].concat(n)).length>t.maxRecentColors&&(n=n.slice(0,t.maxRecentColors)),t.recentColors=n)},t.prototype.destroy=function(){this.addRecentColor(),a.prototype.destroy.call(this)},t.maxRecentColors=8,t.recentColors=[],t.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',cn([He("spectrumColor")],t.prototype,"spectrumColor",void 0),cn([He("spectrumVal")],t.prototype,"spectrumVal",void 0),cn([He("spectrumDragger")],t.prototype,"spectrumDragger",void 0),cn([He("spectrumHue")],t.prototype,"spectrumHue",void 0),cn([He("spectrumHueSlider")],t.prototype,"spectrumHueSlider",void 0),cn([He("spectrumAlpha")],t.prototype,"spectrumAlpha",void 0),cn([He("spectrumAlphaSlider")],t.prototype,"spectrumAlphaSlider",void 0),cn([He("recentColors")],t.prototype,"recentColors",void 0),cn([be],t.prototype,"postConstruct",null),t}(pt),$c=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Zh=function(a){function t(e){var i=a.call(this,e,"ag-color-picker","colorPicker")||this;return e&&e.color&&(i.value=e.color),i}return $c(t,a),t.prototype.postConstruct=function(){a.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},t.prototype.showPicker=function(){var e=this,i=this.getGui().getBoundingClientRect(),n=this.createBean(new Un({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:i.right-190,y:i.top-250}));this.isPickerDisplayed=!0,n.addCssClass("ag-color-dialog"),Di(this.eWrapper,!0);var s=this.createBean(new Zm({picker:this}));return s.addDestroyFunc(function(){n.isAlive()&&e.destroyBean(n)}),n.setParentComponent(this),n.setBodyComponent(s),s.setValue(this.getValue()),n.addDestroyFunc(function(){e.isDestroyingPicker?e.isDestroyingPicker=!1:(e.isDestroyingPicker=!0,s.isAlive()&&e.destroyBean(s)),e.isAlive()&&(Di(e.eWrapper,!1),e.getFocusableElement().focus()),e.isPickerDisplayed=!1}),n},t.prototype.setValue=function(e){return this.value===e?this:(this.eDisplayField.style.backgroundColor=e,a.prototype.setValue.call(this,e))},t.prototype.getValue=function(){return this.value},t}(id),qm=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),qh=function(a){function t(e){return a.call(this,e,"ag-number-field","number")||this}return qm(t,a),t.prototype.postConstruct=function(){var e=this;a.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var i=parseFloat(e.eInput.value),n=isNaN(i)?"":e.normalizeValue(i.toString());e.value!==n&&e.setValue(n)}),this.eInput.step="any"},t.prototype.normalizeValue=function(e){if(""===e)return"";this.precision&&(e=this.adjustPrecision(e));var i=parseFloat(e);return null!=this.min&&i<this.min?e=this.min.toString():null!=this.max&&i>this.max&&(e=this.max.toString()),e},t.prototype.adjustPrecision=function(e){if(this.precision){var i=parseFloat(e).toFixed(this.precision);e=parseFloat(i).toString()}return e},t.prototype.setMin=function(e){return this.min===e||(this.min=e,Bo(this.eInput,"min",e)),this},t.prototype.setMax=function(e){return this.max===e||(this.max=e,Bo(this.eInput,"max",e)),this},t.prototype.setPrecision=function(e){return this.precision=e,this},t.prototype.setStep=function(e){return this.step===e||(this.step=e,Bo(this.eInput,"step",e)),this},t.prototype.setValue=function(e,i){return(e=this.adjustPrecision(e))!=this.normalizeValue(e)?this:a.prototype.setValue.call(this,e,i)},t}(Vc),Kh=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),jc=function(a){function t(e){return a.call(this,e,"ag-range-field","range")||this}return Kh(t,a),t.prototype.postConstruct=function(){a.prototype.postConstruct.call(this);var e=this.config,i=e.min,n=e.max,s=e.step;null!=i&&this.setMinValue(i),null!=n&&this.setMaxValue(n),this.setStep(s||1)},t.prototype.addInputListeners=function(){var e=this;this.addManagedListener(this.eInput,"input",function(i){e.setValue(i.target.value)})},t.prototype.setMinValue=function(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this},t.prototype.setMaxValue=function(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this},t.prototype.setStep=function(e){return this.eInput.setAttribute("step",e.toString()),this},t.prototype.setValue=function(e,i){null!=this.min&&(e=Math.max(parseFloat(e),this.min).toString()),null!=this.max&&(e=Math.min(parseFloat(e),this.max).toString());var n=a.prototype.setValue.call(this,e,i);return this.eInput.value=e,n},t}(vn),Km=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),vs=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Uc=function(a){function t(e){var i=a.call(this,e,t.TEMPLATE)||this;return i.radius=0,i.offsetX=0,i.offsetY=0,i}return Km(t,a),t.prototype.postConstruct=function(){var e=this;a.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(i){e.parentCircleRect=e.eParentCircle.getBoundingClientRect()},onDragging:function(i){return e.calculateAngleDrag(i)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(i){(null==i||""===i)&&(i="0"),i=e.eAngleValue.normalizeValue(i);var n=parseFloat(i);n>180&&(n-=360),e.setValue(n)}),this.updateNumberInput(),W(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,Vi.EVENT_CHANGED,function(){var i=e.gridOptionsWrapper.getDocument();e.eAngleValue.getInputElement().contains(i.activeElement)||e.updateNumberInput()})},t.prototype.updateNumberInput=function(){var e=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(e.toString())},t.prototype.positionChildCircle=function(e){var i=this.parentCircleRect||{width:24,height:24},n=this.eChildCircle,d=i.height/2;n.style.left=i.width/2+8*Math.cos(e)+"px",n.style.top=d+8*Math.sin(e)+"px"},t.prototype.calculatePolar=function(){var e=this.offsetX,i=this.offsetY,n=Math.atan2(i,e);this.degrees=this.toDegrees(n),this.radius=Math.sqrt(e*e+i*i),this.positionChildCircle(n)},t.prototype.calculateCartesian=function(){var e=this.toRadians(this.getValue()),i=this.getRadius();this.setOffsetX(Math.cos(e)*i).setOffsetY(Math.sin(e)*i)},t.prototype.setOffsetX=function(e){return this.offsetX!==e&&(this.offsetX=e,this.calculatePolar()),this},t.prototype.setOffsetY=function(e){return this.offsetY!==e&&(this.offsetY=e,this.calculatePolar()),this},t.prototype.calculateAngleDrag=function(e){var i=this.parentCircleRect,j=Math.atan2(e.clientY-i.top-i.height/2,e.clientX-i.left-i.width/2);this.setValue(j,!0)},t.prototype.toDegrees=function(e){return e/Math.PI*180},t.prototype.toRadians=function(e){return e/180*Math.PI},t.prototype.normalizeNegativeValue=function(e){return e<0?360+e:e},t.prototype.normalizeAngle180=function(e){return(e%=2*Math.PI)<-Math.PI?e+=2*Math.PI:e>=Math.PI&&(e-=2*Math.PI),e},t.prototype.getRadius=function(){return this.radius},t.prototype.setRadius=function(e){return this.radius===e||(this.radius=e,this.calculateCartesian()),this},t.prototype.onValueChange=function(e){var i=this;return this.addManagedListener(this,Vi.EVENT_CHANGED,function(){e(i.degrees)}),this},t.prototype.getValue=function(e){return e?this.toRadians(this.degrees):this.degrees},t.prototype.setValue=function(e,i){var n;return n=i?e:this.normalizeAngle180(this.toRadians(e)),e=this.toDegrees(n),this.degrees!==e&&(this.degrees=Math.floor(e),this.calculateCartesian(),this.positionChildCircle(n),this.dispatchEvent({type:Vi.EVENT_CHANGED})),this},t.prototype.setWidth=function(e){return Qi(this.getGui(),e),this},t.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),a.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',vs([He("eLabel")],t.prototype,"eLabel",void 0),vs([He("eParentCircle")],t.prototype,"eParentCircle",void 0),vs([He("eChildCircle")],t.prototype,"eChildCircle",void 0),vs([He("eAngleValue")],t.prototype,"eAngleValue",void 0),vs([Q("dragService")],t.prototype,"dragService",void 0),t}(sr),zc=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ym=function(a){function t(e){return a.call(this,e,"ag-toggle-button")||this}return zc(t,a),t.prototype.setValue=function(e,i){return a.prototype.setValue.call(this,e,i),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},t}(ro),Yh=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ia=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},K=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return Yh(t,a),t.prototype.getFirstRow=function(){var i,e=0;return this.pinnedRowModel.getPinnedTopRowCount()?i=ae.PINNED_TOP:this.rowModel.getRowCount()?(i=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(i=ae.PINNED_BOTTOM),void 0===i?null:{rowIndex:e,rowPinned:i}},t.prototype.getLastRow=function(){var e,i=null,n=this.pinnedRowModel.getPinnedBottomRowCount(),s=this.pinnedRowModel.getPinnedTopRowCount();return n?(i=ae.PINNED_BOTTOM,e=n-1):this.rowModel.getRowCount()?(i=null,e=this.paginationProxy.getPageLastRow()):s&&(i=ae.PINNED_TOP,e=s-1),void 0===e?null:{rowIndex:e,rowPinned:i}},t.prototype.getRowNode=function(e){switch(e.rowPinned){case ae.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case ae.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},t.prototype.sameRow=function(e,i){return!e&&!i||!(e&&!i||!e&&i)&&e.rowIndex===i.rowIndex&&e.rowPinned==i.rowPinned},t.prototype.before=function(e,i){switch(e.rowPinned){case ae.PINNED_TOP:if(i.rowPinned!==ae.PINNED_TOP)return!0;break;case ae.PINNED_BOTTOM:if(i.rowPinned!==ae.PINNED_BOTTOM)return!1;break;default:if(W(i.rowPinned))return i.rowPinned!==ae.PINNED_TOP}return e.rowIndex<i.rowIndex},Ia([Q("rowModel")],t.prototype,"rowModel",void 0),Ia([Q("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),Ia([Q("paginationProxy")],t.prototype,"paginationProxy",void 0),Ia([je("rowPositionUtils")],t)}(Ze),eC=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Qm=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return eC(t,a),t.prototype.createId=function(e){return this.createIdFromValues(e.rowIndex,e.column,e.rowPinned)},t.prototype.createIdFromValues=function(e,i,n){return e+"."+(null==n?"null":n)+"."+i.getId()},t.prototype.equals=function(e,i){return e.column===i.column&&e.rowPinned===i.rowPinned&&e.rowIndex===i.rowIndex},t=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s}([je("cellPositionUtils")],t),t}(Ze),tC=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),La=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Jm=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return tC(t,a),t.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},t.prototype.isEmpty=function(e){return B(e===ae.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},t.prototype.isRowsToRender=function(e){return!this.isEmpty(e)},t.prototype.getRowAtPixel=function(e,i){var n=i===ae.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(B(n))return 0;for(var s=0;s<n.length;s++){var d=n[s];if(d.rowTop+d.rowHeight-1>=e)return s}return n.length-1},t.prototype.setPinnedTopRowData=function(e){this.pinnedTopRows=this.createNodesFromData(e,!0),this.eventService.dispatchEvent({type:ue.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.setPinnedBottomRowData=function(e){this.pinnedBottomRows=this.createNodesFromData(e,!1),this.eventService.dispatchEvent({type:ue.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.createNodesFromData=function(e,i){var n=this,s=[];if(e){var d=0;e.forEach(function(h,O){var L=new gt(n.beans);L.data=h,L.id=(i?gt.ID_PREFIX_TOP_PINNED:gt.ID_PREFIX_BOTTOM_PINNED)+O,L.rowPinned=i?ae.PINNED_TOP:ae.PINNED_BOTTOM,L.setRowTop(d),L.setRowHeight(n.gridOptionsWrapper.getRowHeightForNode(L).height),L.setRowIndex(O),d+=L.rowHeight,s.push(L)})}return s},t.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},t.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},t.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},t.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},t.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},t.prototype.getPinnedTopRow=function(e){return this.pinnedTopRows[e]},t.prototype.getPinnedBottomRow=function(e){return this.pinnedBottomRows[e]},t.prototype.forEachPinnedTopRow=function(e){B(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)},t.prototype.forEachPinnedBottomRow=function(e){B(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)},t.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},t.prototype.getTotalHeight=function(e){if(!e||0===e.length)return 0;var i=Qe(e);return i.rowTop+i.rowHeight},La([Q("columnApi")],t.prototype,"columnApi",void 0),La([Q("gridApi")],t.prototype,"gridApi",void 0),La([Q("beans")],t.prototype,"beans",void 0),La([be],t.prototype,"init",null),La([je("pinnedRowModel")],t)}(Ze),Qh=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Na=function(t){this.cellValueChanges=t},Jh=function(a){function t(e,i,n){var s=a.call(this,e)||this;return s.initialRange=i,s.finalRange=n,s}return Qh(t,a),t}(Na),Xm=function(){function a(t){this.actionStack=[],this.maxStackSize=t||a.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return a.prototype.pop=function(){return this.actionStack.pop()},a.prototype.push=function(t){!(t.cellValueChanges&&t.cellValueChanges.length>0)||(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))},a.prototype.clear=function(){this.actionStack=[]},a.prototype.getCurrentStackSize=function(){return this.actionStack.length},a.DEFAULT_STACK_SIZE=10,a}(),Ba=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wr=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},iC=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.cellValueChanges=[],e.activeCellEdit=null,e.activeRowEdit=null,e.isPasting=!1,e.isFilling=!1,e.onCellValueChanged=function(i){var n={column:i.column,rowIndex:i.rowIndex,rowPinned:i.rowPinned},s=null!==e.activeCellEdit&&e.cellPositionUtils.equals(e.activeCellEdit,n),d=null!==e.activeRowEdit&&e.rowPositionUtils.sameRow(e.activeRowEdit,n);if(s||d||e.isPasting||e.isFilling){var q=i.oldValue,J=i.value,re={rowPinned:i.rowPinned,rowIndex:i.rowIndex,columnId:i.column.getColId(),newValue:J,oldValue:q};e.cellValueChanges.push(re)}},e.clearStacks=function(){e.undoStack.clear(),e.redoStack.clear()},e}return Ba(t,a),t.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var e=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();e<=0||(this.undoStack=new Xm(e),this.redoStack=new Xm(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,ue.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,ue.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,ue.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,ue.EVENT_ROW_DRAG_END,this.clearStacks))}},t.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},t.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},t.prototype.undo=function(){if(this.undoStack){var e=this.undoStack.pop();!e||!e.cellValueChanges||(this.processAction(e,function(i){return i.oldValue}),e instanceof Jh?this.processRangeAndCellFocus(e.cellValueChanges,e.initialRange):this.processRangeAndCellFocus(e.cellValueChanges),this.redoStack.push(e))}},t.prototype.redo=function(){if(this.redoStack){var e=this.redoStack.pop();!e||!e.cellValueChanges||(this.processAction(e,function(i){return i.newValue}),e instanceof Jh?this.processRangeAndCellFocus(e.cellValueChanges,e.finalRange):this.processRangeAndCellFocus(e.cellValueChanges),this.undoStack.push(e))}},t.prototype.processAction=function(e,i){var n=this;e.cellValueChanges.forEach(function(s){var O=s.columnId,j=n.getRowNode({rowIndex:s.rowIndex,rowPinned:s.rowPinned});!j.displayed||j.setDataValue(O,i(s))})},t.prototype.processRangeAndCellFocus=function(e,i){var n;if(i){var s=i.startRow,d=i.endRow;return n={rowPinned:s.rowPinned,rowIndex:s.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(n),void this.gridApi.addCellRange({rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:d.rowIndex,rowEndPinned:d.rowPinned,columnStart:i.startColumn,columns:i.columns})}var O=e[0],J=this.getRowNode({rowIndex:O.rowIndex,rowPinned:O.rowPinned});this.setLastFocusedCell(n={rowPinned:O.rowPinned,rowIndex:J.rowIndex,columnId:O.columnId})},t.prototype.setLastFocusedCell=function(e){var i=e.rowIndex,n=e.columnId,s=e.rowPinned;this.gridApi.ensureIndexVisible(i),this.gridApi.ensureColumnVisible(n),ze.isRegistered(z.GXE.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusService.setFocusedCell(i,n,s,!0)},t.prototype.addRowEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,ue.EVENT_ROW_EDITING_STARTED,function(i){e.activeRowEdit={rowIndex:i.rowIndex,rowPinned:i.rowPinned}}),this.addManagedListener(this.eventService,ue.EVENT_ROW_EDITING_STOPPED,function(){var i=new Na(e.cellValueChanges);e.pushActionsToUndoStack(i),e.activeRowEdit=null})},t.prototype.addCellEditingListeners=function(){var e=this;this.addManagedListener(this.eventService,ue.EVENT_CELL_EDITING_STARTED,function(i){e.activeCellEdit={column:i.column,rowIndex:i.rowIndex,rowPinned:i.rowPinned}}),this.addManagedListener(this.eventService,ue.EVENT_CELL_EDITING_STOPPED,function(){if(e.activeCellEdit=null,!e.activeRowEdit&&!e.isPasting&&!e.isFilling){var n=new Na(e.cellValueChanges);e.pushActionsToUndoStack(n)}})},t.prototype.addPasteListeners=function(){var e=this;this.addManagedListener(this.eventService,ue.EVENT_PASTE_START,function(){e.isPasting=!0}),this.addManagedListener(this.eventService,ue.EVENT_PASTE_END,function(){var i=new Na(e.cellValueChanges);e.pushActionsToUndoStack(i),e.isPasting=!1})},t.prototype.addFillListeners=function(){var e=this;this.addManagedListener(this.eventService,ue.EVENT_FILL_START,function(){e.isFilling=!0}),this.addManagedListener(this.eventService,ue.EVENT_FILL_END,function(i){var n=new Jh(e.cellValueChanges,i.initialRange,i.finalRange);e.pushActionsToUndoStack(n),e.isFilling=!1})},t.prototype.pushActionsToUndoStack=function(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()},t.prototype.getRowNode=function(e){switch(e.rowPinned){case ae.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case ae.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}},wr([Q("focusService")],t.prototype,"focusService",void 0),wr([Q("gridApi")],t.prototype,"gridApi",void 0),wr([Q("rowModel")],t.prototype,"rowModel",void 0),wr([Q("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),wr([Q("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),wr([Q("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),wr([be],t.prototype,"init",null),wr([je("undoRedoService")],t)}(Ze),nC=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Xh=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},ev=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return nC(t,a),t.prototype.findHeader=function(e,i){var n;if(n=e.column instanceof Jt?this.columnModel["getDisplayedGroup"+i](e.column):this.columnModel["getDisplayedCol"+i](e.column))return{column:n,headerRowIndex:e.headerRowIndex}},t.prototype.findColAtEdgeForHeaderRow=function(e,i){var n=this.columnModel.getAllDisplayedColumns(),s=n["start"===i?0:n.length-1];if(s){var h=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()).getRowType(e);return h==z.A6C.COLUMN_GROUP?{headerRowIndex:e,column:this.columnModel.getColumnGroupAtLevel(s,e)}:{headerRowIndex:null==h?-1:e,column:s}}},Xh([Q("columnModel")],t.prototype,"columnModel",void 0),Xh([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),Xh([je("headerPositionUtils")],t)}(Ze),oC=function(){function a(){}return a.prototype.buildColumnDefs=function(t,e,i){var n=this,s=[],d={};return t.forEach(function(h){for(var L=!0,j=n.createDefFromColumn(h,e,i),q=h.getOriginalParent();q;){var J=null;if(q.isPadding())q=q.getOriginalParent();else{var re=d[q.getGroupId()];if(re){re.children.push(j),L=!1;break}(J=n.createDefFromGroup(q))&&(J.children=[j],d[J.groupId]=J,j=J,q=q.getOriginalParent())}}L&&s.push(j)}),s},a.prototype.createDefFromGroup=function(t){var e=M(t.getColGroupDef(),["children"]);return e&&(e.groupId=t.getGroupId()),e},a.prototype.createDefFromColumn=function(t,e,i){var n=M(t.getColDef());return n.colId=t.getColId(),n.width=t.getActualWidth(),n.rowGroup=t.isRowGroupActive(),n.rowGroupIndex=t.isRowGroupActive()?e.indexOf(t):null,n.pivot=t.isPivotActive(),n.pivotIndex=t.isPivotActive()?i.indexOf(t):null,n.aggFunc=t.isValueActive()?t.getAggFunc():null,n.hide=!t.isVisible()||void 0,n.pinned=t.isPinned()?t.getPinned():null,n.sort=t.getSort()?t.getSort():null,n.sortIndex=null!=t.getSortIndex()?t.getSortIndex():null,n},a=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s}([je("columnDefFactory")],a),a}(),ep=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},br=function(){function a(){}return a.prototype.getInitialRowClasses=function(t){var e=[];return W(t.extraCssClass)&&e.push(t.extraCssClass),e.push("ag-row"),e.push(t.rowFocused?"ag-row-focus":"ag-row-no-focus"),t.fadeRowIn&&e.push("ag-opacity-zero"),e.push(t.rowIsEven?"ag-row-even":"ag-row-odd"),t.rowNode.isRowPinned()&&e.push("ag-row-pinned"),t.rowNode.isSelected()&&e.push("ag-row-selected"),t.rowNode.footer&&e.push("ag-row-footer"),e.push("ag-row-level-"+t.rowLevel),t.rowNode.stub&&e.push("ag-row-loading"),t.fullWidthRow&&e.push("ag-full-width-row"),t.expandable&&(e.push("ag-row-group"),e.push(t.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),t.rowNode.dragging&&e.push("ag-row-dragging"),Bi(e,this.processClassesFromGridOptions(t.rowNode,t.scope)),Bi(e,this.preProcessRowClassRules(t.rowNode,t.scope)),e.push(t.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),t.firstRowOnPage&&e.push("ag-row-first"),t.lastRowOnPage&&e.push("ag-row-last"),t.fullWidthRow&&(t.pinned===ae.PINNED_LEFT&&e.push("ag-cell-last-left-pinned"),t.pinned===ae.PINNED_RIGHT&&e.push("ag-cell-first-right-pinned")),e},a.prototype.processClassesFromGridOptions=function(t,e){var i=[],n=function(L){"string"==typeof L?i.push(L):Array.isArray(L)&&L.forEach(function(j){return i.push(j)})},s=this.gridOptionsWrapper.getRowClass();if(s){if("function"==typeof s)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];n(s)}var d=this.gridOptionsWrapper.getRowClassFunc();return d&&n(d({data:t.data,node:t,rowIndex:t.rowIndex,$scope:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),i},a.prototype.preProcessRowClassRules=function(t,e){var i=[];return this.processRowClassRules(t,e,function(n){i.push(n)},function(n){}),i},a.prototype.processRowClassRules=function(t,e,i,n){var s={data:t.data,node:t,rowIndex:t.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),$scope:e,context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),s,i,n)},a.prototype.calculateRowLevel=function(t){return t.group?t.level:t.parent?t.parent.level+1:0},ep([Q("stylingService")],a.prototype,"stylingService",void 0),ep([Q("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),ep([je("rowCssClassCalculator")],a)}(),Zc=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Be=function(a){function t(e){var i=a.call(this)||this;return i.state=t.STATE_WAITING_TO_LOAD,i.version=0,i.id=e,i}return Zc(t,a),t.prototype.getId=function(){return this.id},t.prototype.load=function(){this.state=t.STATE_LOADING,this.loadFromDatasource()},t.prototype.getVersion=function(){return this.version},t.prototype.setStateWaitingToLoad=function(){this.version++,this.state=t.STATE_WAITING_TO_LOAD},t.prototype.getState=function(){return this.state},t.prototype.pageLoadFailed=function(e){this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},t.prototype.success=function(e,i){this.successCommon(e,i)},t.prototype.pageLoaded=function(e,i,n){this.successCommon(e,{rowData:i,rowCount:n})},t.prototype.isRequestMostRecentAndLive=function(e){var i=e===this.version,n=this.isAlive();return i&&n},t.prototype.successCommon=function(e,i){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state=t.STATE_LOADED,this.processServerResult(i))},t.prototype.dispatchLoadCompleted=function(e){void 0===e&&(e=!0),this.dispatchEvent({type:t.EVENT_LOAD_COMPLETE,success:e,block:this})},t.EVENT_LOAD_COMPLETE="loadComplete",t.STATE_WAITING_TO_LOAD="needsLoading",t.STATE_LOADING="loading",t.STATE_LOADED="loaded",t.STATE_FAILED="failed",t}(Ze),qc=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ys=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},tv=function(a,t){return function(e,i){t(e,i,a)}},ka=function(a){function t(){var i=null!==a&&a.apply(this,arguments)||this;return i.activeBlockLoadsCount=0,i.blocks=[],i.active=!0,i}var e;return qc(t,a),e=t,t.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var i=this.gridOptionsWrapper.getBlockLoadDebounceMillis();i&&i>0&&(this.checkBlockToLoadDebounce=ct.debounce(this.performCheckBlocksToLoad.bind(this),i))},t.prototype.setBeans=function(i){this.logger=i.create("RowNodeBlockLoader")},t.prototype.addBlock=function(i){this.blocks.push(i),i.addEventListener(Be.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},t.prototype.removeBlock=function(i){ct.removeFromArray(this.blocks,i)},t.prototype.destroy=function(){a.prototype.destroy.call(this),this.active=!1},t.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:e.BLOCK_LOADER_FINISHED_EVENT})},t.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},t.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var i=null;this.blocks.forEach(function(n){n.getState()===Be.STATE_WAITING_TO_LOAD&&(i=n)}),i&&(i.load(),this.activeBlockLoadsCount++,this.printCacheStatus())}},t.prototype.getBlockState=function(){var i={};return this.blocks.forEach(function(n){var s=n.getBlockStateJson();i[s.id]=s.state}),i},t.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},t.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},t.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",ys([be],t.prototype,"postConstruct",null),ys([tv(0,Et("loggerFactory"))],t.prototype,"setBeans",null),e=ys([je("rowNodeBlockLoader")],t)}(Ze),go=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Er=function(){function a(){}return a.prototype.doFullSort=function(t,e){var n=t.map(function(s,d){return{currentPos:d,rowNode:s}});return n.sort(this.compareRowNodes.bind(this,e)),n.map(function(s){return s.rowNode})},a.prototype.compareRowNodes=function(t,e,i){for(var n=e.rowNode,s=i.rowNode,d=0,h=t.length;d<h;d++){var J,O=t[d],L=O.sort===ae.SORT_DESC,j=this.getValue(n,O.column),q=this.getValue(s,O.column),re=this.getComparator(O,n);if(J=re?re(j,q,n,s,L):ct.defaultComparator(j,q,this.gridOptionsWrapper.isAccentedSort()),!isNaN(J)&&0!==J)return O.sort===ae.SORT_ASC?J:-1*J}return e.currentPos-i.currentPos},a.prototype.getComparator=function(t,e){var i=t.column,n=i.getColDef().comparator;if(null!=n)return n;if(e.rowGroupColumn)return e.rowGroupColumn.getColDef().comparator;if(i.getColDef().showRowGroup){var s=!e.group&&i.getColDef().field;if(s){var d=this.columnModel.getPrimaryColumn(s);if(d)return d.getColDef().comparator}}},a.prototype.getValue=function(t,e){return this.valueService.getValue(e,t,!1,!1)},go([Q("gridOptionsWrapper")],a.prototype,"gridOptionsWrapper",void 0),go([Q("valueService")],a.prototype,"valueService",void 0),go([Q("columnModel")],a.prototype,"columnModel",void 0),go([je("rowNodeSorter")],a)}(),tp=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Kc=function(a){function t(){var i=null!==a&&a.apply(this,arguments)||this;return i.ready=!1,i.readyCallbacks=[],i}var e;return tp(t,a),e=t,t.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollCtrl&&null!=this.gridHeaderCtrl,this.ready){var i=this.createReadyParams();this.readyCallbacks.forEach(function(n){return n(i)}),this.readyCallbacks.length=0}},t.prototype.whenReady=function(i){this.ready?i(this.createReadyParams()):this.readyCallbacks.push(i)},t.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},t.prototype.registerFakeHScrollCtrl=function(i){this.fakeHScrollCtrl=i,this.checkReady()},t.prototype.registerGridHeaderCtrl=function(i){this.gridHeaderCtrl=i,this.checkReady()},t.prototype.registerCenterRowContainerCtrl=function(i){this.centerRowContainerCtrl=i,this.checkReady()},t.prototype.registerLeftRowContainerCtrl=function(i){this.leftRowContainerCtrl=i,this.checkReady()},t.prototype.registerRightRowContainerCtrl=function(i){this.rightRowContainerCtrl=i,this.checkReady()},t.prototype.registerTopCenterRowContainerCtrl=function(i){this.topCenterRowContainerCtrl=i,this.checkReady()},t.prototype.registerTopLeftRowContainerCon=function(i){this.topLeftRowContainerCtrl=i,this.checkReady()},t.prototype.registerTopRightRowContainerCtrl=function(i){this.topRightRowContainerCtrl=i,this.checkReady()},t.prototype.registerBottomCenterRowContainerCtrl=function(i){this.bottomCenterRowContainerCtrl=i,this.checkReady()},t.prototype.registerBottomLeftRowContainerCtrl=function(i){this.bottomLeftRowContainerCtrl=i,this.checkReady()},t.prototype.registerBottomRightRowContainerCtrl=function(i){this.bottomRightRowContainerCtrl=i,this.checkReady()},t.prototype.registerHeaderContainer=function(i,n){switch(n){case ae.PINNED_LEFT:this.leftHeaderRowContainerCtrl=i;break;case ae.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=i;break;default:this.centerHeaderRowContainerCtrl=i}this.checkReady()},t.prototype.registerGridBodyCtrl=function(i){this.gridBodyCtrl=i,this.checkReady()},t.prototype.registerGridCtrl=function(i){this.gridCtrl=i,this.checkReady()},t.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},t.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},t.prototype.getGridCtrl=function(){return this.gridCtrl},t.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},t.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},t.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},t.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},t.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},t.prototype.getHeaderRowContainerCtrl=function(i){switch(i){case ae.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case ae.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},t.NAME="ctrlsService",t=e=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s}([je(e.NAME)],t),t}(Ze),ip=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),rv=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.registry={},e}return ip(t,a),t.prototype.register=function(e){this.registry[e.controllerName]=e.controllerClass},t.prototype.getInstance=function(e){var i=this.registry[e];if(null!=i)return new i},t=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s}([je("ctrlsFactory")],t),t}(Ze),ov=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ga=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},sv=function(a){function t(){return a.call(this)||this}return ov(t,a),t.prototype.setComp=function(e,i,n,s){this.view=e,this.eViewport=n,this.eContainer=s,this.eGui=i,this.addManagedListener(this.eventService,ue.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged();var d=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,ue.EVENT_DISPLAYED_COLUMNS_CHANGED,d),this.addManagedListener(this.eventService,ue.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,d),this.addManagedListener(this.gridOptionsWrapper,et.PROP_DOM_LAYOUT,d),this.setFakeHScrollSpacerWidths(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()),this.ctrlsService.registerFakeHScrollCtrl(this)},t.prototype.addActiveListenerToggles=function(){var e=this;["mouseenter","mousedown","touchstart"].forEach(function(s){return e.addManagedListener(e.eGui,s,function(){return e.view.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","mouseup","touchend"].forEach(function(s){return e.addManagedListener(e.eGui,s,function(){return e.view.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},t.prototype.postConstruct=function(){this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=Pu()},t.prototype.onScrollVisibilityChanged=function(){this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},t.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var e=this;this.addManagedListener(this.eventService,ue.EVENT_BODY_SCROLL,function(i){"horizontal"===i.direction&&e.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)}),this.addManagedListener(this.eventService,ue.EVENT_BODY_SCROLL_END,function(){return e.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)})},t.prototype.setFakeHScrollSpacerWidths=function(){var e=this.scrollVisibleService.isVerticalScrollShowing(),i=this.columnModel.getDisplayedColumnsRightWidth(),n=!this.enableRtl&&e,s=this.gridOptionsWrapper.getScrollbarWidth();n&&(i+=s),this.view.setRightSpacerFixedWidth(i),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",i<=s);var d=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&e&&(d+=s),this.view.setLeftSpacerFixedWidth(d),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",d<=s)},t.prototype.setScrollVisible=function(){var e=this.scrollVisibleService.isHorizontalScrollShowing(),i=this.invisibleScrollbar,n=this.gridOptionsWrapper.isSuppressHorizontalScroll(),s=e&&this.gridOptionsWrapper.getScrollbarWidth()||0,h=n?0:0===s&&i?15:s;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",i),this.view.setHeight(h),this.view.setViewportHeight(h),this.view.setContainerHeight(h)},t.prototype.getViewport=function(){return this.eViewport},t.prototype.getContainer=function(){return this.eContainer},Ga([Q("scrollVisibleService")],t.prototype,"scrollVisibleService",void 0),Ga([Q("columnModel")],t.prototype,"columnModel",void 0),Ga([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),Ga([be],t.prototype,"postConstruct",null),t}(Ze),av=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_s=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},lv=function(a){function t(){return a.call(this,t.TEMPLATE)||this}return av(t,a),t.prototype.postConstruct=function(){var e=this,i={addOrRemoveCssClass:function(s,d){return e.addOrRemoveCssClass(s,d)},setHeight:function(s){return Gr(e.getGui(),s)},setContainerHeight:function(s){return Gr(e.eContainer,s)},setViewportHeight:function(s){return Gr(e.eViewport,s)},setRightSpacerFixedWidth:function(s){return Qi(e.eRightSpacer,s)},setLeftSpacerFixedWidth:function(s){return Qi(e.eLeftSpacer,s)},includeLeftSpacerScrollerCss:function(s,d){return e.eLeftSpacer.classList.toggle(s,d)},includeRightSpacerScrollerCss:function(s,d){return e.eRightSpacer.classList.toggle(s,d)}};this.createManagedBean(new sv).setComp(i,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new dc(function(s){return e.eContainer.style.width=s+"px"}))},t.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',_s([He("eLeftSpacer")],t.prototype,"eLeftSpacer",void 0),_s([He("eRightSpacer")],t.prototype,"eRightSpacer",void 0),_s([He("eViewport")],t.prototype,"eViewport",void 0),_s([He("eContainer")],t.prototype,"eContainer",void 0),_s([be],t.prototype,"postConstruct",null),t}(pt),np=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Yc=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},sC=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return np(t,a),t.prototype.postConstruct=function(){var e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,ue.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,ue.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedListener(this.gridOptionsWrapper,et.PROP_DOM_LAYOUT,e)},t.prototype.checkContainerWidths=function(){var e=this.gridOptionsWrapper.getDomLayout()===ae.DOM_LAYOUT_PRINT,i=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),n=e?0:this.columnModel.getDisplayedColumnsRightWidth();i!=this.leftWidth&&(this.leftWidth=i,this.eventService.dispatchEvent({type:ue.EVENT_LEFT_PINNED_WIDTH_CHANGED})),n!=this.rightWidth&&(this.rightWidth=n,this.eventService.dispatchEvent({type:ue.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},t.prototype.getPinnedRightWidth=function(){return this.rightWidth},t.prototype.getPinnedLeftWidth=function(){return this.leftWidth},Yc([Q("columnModel")],t.prototype,"columnModel",void 0),Yc([be],t.prototype,"postConstruct",null),Yc([je("pinnedWidthService")],t)}(Ze),rp=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Cs=function(a){function t(e){var i=a.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return i.params=e,i}return rp(t,a),t.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),t.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},t.prototype.addKeyDownListener=function(){var e=this,i=this.getGui(),n=this.params;this.addManagedListener(i,"keydown",function(d){Nl(e.gridOptionsWrapper,d,n.node,n.column,!0)||n.onKeyDown(d)})},t.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);n>3&&s&&Object.defineProperty(t,e,s)}([be],t.prototype,"postConstruct",null),t}(zo),sp=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ha=function(){return Ha=Object.assign||function(a){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a},Ha.apply(this,arguments)},ap=function(a){function t(e,i,n,s,d,h){var O=a.call(this)||this;O.scope=null,O.rendererVersion=0,O.editorVersion=0,O.scope=e,O.beans=i,O.column=n.getColumn(),O.rowNode=n.getRowNode(),O.rowCtrl=n.getRowCtrl(),O.eRow=d,O.setTemplate('<div comp-id="'+O.getCompId()+'"/>');var L=O.getGui();O.forceWrapper=n.isForceWrapper(),O.refreshWrapper(!1);var j=function(J,re,me){var Ae=me||L;null!=re&&""!=re?Ae.setAttribute(J,re):Ae.removeAttribute(J)},q={addOrRemoveCssClass:function(J,re){return O.addOrRemoveCssClass(J,re)},setUserStyles:function(J){return nr(L,J)},getFocusableElement:function(){return O.getFocusableElement()},setTabIndex:function(J){return j("tabindex",J.toString())},setRole:function(J){return fi(L,J)},setColId:function(J){return j("col-id",J)},setTitle:function(J){return j("title",J)},setIncludeSelection:function(J){return O.includeSelection=J},setIncludeRowDrag:function(J){return O.includeRowDrag=J},setIncludeDndSource:function(J){return O.includeDndSource=J},setRenderDetails:function(J,re,me){return O.setRenderDetails(J,re,me)},setEditDetails:function(J,re,me){return O.setEditDetails(J,re,me)},getCellEditor:function(){return O.cellEditor||null},getCellRenderer:function(){return O.cellRenderer||null},getParentOfValue:function(){return O.getParentOfValue()}};return O.cellCtrl=n,n.setComp(q,O.scope,O.getGui(),O.eCellWrapper,s,h),O}return sp(t,a),t.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},t.prototype.setRenderDetails=function(e,i,n){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var d=this.isUsingAngular1Template(),h=this.refreshWrapper(!1);e?!n&&!h&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),d?this.insertValueUsingAngular1Template():this.insertValueWithoutCellRenderer(i))}},t.prototype.setEditDetails=function(e,i,n){e?this.createCellEditorInstance(e,i,n):this.destroyEditor()},t.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},t.prototype.refreshWrapper=function(e){var i=this.includeRowDrag||this.includeDndSource||this.includeSelection,n=i||this.forceWrapper,s=n&&null==this.eCellWrapper;s&&(this.eCellWrapper=Wt('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var d=!n&&null!=this.eCellWrapper;d&&(Yi(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!n);var h=!e&&n,O=h&&null==this.eCellValue;O&&(this.eCellValue=Wt('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var L=!h&&null!=this.eCellValue;L&&(Yi(this.eCellValue),this.eCellValue=void 0);var j=s||d||O||L;return j&&this.removeControls(),!e&&i&&this.addControls(),j},t.prototype.addControls=function(){var e=this.eCellValue.id="cell-"+this.getCompId(),i=[];this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue)),i.push(this.checkboxSelectionComp.getCheckboxId())),i.push(e),Ml(this.getGui(),i.join(" "))},t.prototype.createCellEditorInstance=function(e,i,n){var s=this,d=this.editorVersion,h=e.newAgStackInstance();if(h){var O=e.params;h.then(function(j){return s.afterCellEditorCreated(d,j,O,i,n)}),E(this.cellEditor)&&O.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},t.prototype.insertValueWithoutCellRenderer=function(e){var i=this.getParentOfValue();Ci(i);var n=null!=e?pn(e):null;null!=n&&(i.innerHTML=n)},t.prototype.insertValueUsingAngular1Template=function(){var d,e=this,i=this.column.getColDef(),n=i.template,s=i.templateUrl;null!=n?d=n:null!=s&&(d=this.beans.templateService.getTemplate(s,function(){return e.cellCtrl.refreshCell({forceRefresh:!0})})),null!=d&&(this.getParentOfValue().innerHTML=d,this.updateAngular1ScopeAndCompile())},t.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},t.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),Yi(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},t.prototype.destroyEditor=function(){var e=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Yi(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},t.prototype.refreshCellRenderer=function(e){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==e.componentClass)return!1;var i=this.cellRenderer.refresh(e.params);return!0===i||void 0===i},t.prototype.createCellRendererInstance=function(e){var i=this,n=this.beans.gridOptionsWrapper.isAngularCompileRows(),s=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),h=this.rendererVersion,O=e.componentClass,L=function(){if(i.rendererVersion===h&&i.isAlive()){var q=e.newAgStackInstance(),J=i.afterCellRendererCreated.bind(i,h,O);q&&q.then(J)}};n||s||!this.firstRender?L():this.beans.animationFrameService.createTask(L,this.rowNode.rowIndex,"createTasksP2")},t.prototype.isUsingAngular1Template=function(){var e=this.column.getColDef();return null!=e.template||null!=e.templateUrl},t.prototype.getCtrl=function(){return this.cellCtrl},t.prototype.getRowCtrl=function(){return this.rowCtrl},t.prototype.getCellRenderer=function(){return this.cellRenderer},t.prototype.getCellEditor=function(){return this.cellEditor},t.prototype.afterCellRendererCreated=function(e,i,n){if(this.isAlive()&&e===this.rendererVersion){if(this.cellRenderer=n,this.cellRendererClass=i,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var d=this.getParentOfValue();Ci(d),d.appendChild(this.cellRendererGui),this.updateAngular1ScopeAndCompile()}}else this.beans.context.destroyBean(n)},t.prototype.afterCellEditorCreated=function(e,i,n,s,d){if(e!==this.editorVersion)this.beans.context.destroyBean(i);else{if(i.isCancelBeforeStart&&i.isCancelBeforeStart())return this.beans.context.destroyBean(i),void this.cellCtrl.stopEditing();if(!i.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(i);this.cellEditor=i,this.cellEditorGui=i.getGui(),s||void 0!==i.isPopup&&i.isPopup()?(s||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(n,d)):this.addInCellEditor(),i.afterGuiAttached&&i.afterGuiAttached()}},t.prototype.addInCellEditor=function(){var e=this.getGui(),i=this.beans.gridOptionsWrapper.getDocument();e.contains(i.activeElement)&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},t.prototype.addPopupCellEditor=function(e,i){var n=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var s=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new Cs(e));var d=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&d.appendChild(this.cellEditorGui);var h=this.beans.popupService,O=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),L=null!=i?i:s.getPopupPosition?s.getPopupPosition():"over",j={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:d,keepWithinBounds:!0},q="under"===L?h.positionPopupUnderComponent.bind(h,j):h.positionPopupOverComponent.bind(h,j),J=this.beans.gridOptionsWrapper.getLocaleTextFunc(),re=h.addPopup({modal:O,eChild:d,closeOnEsc:!0,closedCallback:function(){n.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:q,ariaLabel:J("ariaLabelCellEditor","Cell Editor")});re&&(this.hideEditorPopup=re.hideFunc)},t.prototype.detach=function(){this.eRow.removeChild(this.getGui())},t.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),this.angularCompiledElement&&(this.angularCompiledElement.remove(),this.angularCompiledElement=void 0),a.prototype.destroy.call(this)},t.prototype.clearParentOfValue=function(){var e=this.getGui(),i=this.beans.gridOptionsWrapper.getDocument();e.contains(i.activeElement)&&e.focus({preventScroll:!0}),Ci(this.getParentOfValue())},t.prototype.updateAngular1ScopeAndCompile=function(){if(this.beans.gridOptionsWrapper.isAngularCompileRows()&&this.scope){this.scope.data=Ha({},this.rowNode.data),this.angularCompiledElement&&this.angularCompiledElement.remove();var e=this.getParentOfValue();this.angularCompiledElement=this.beans.$compile(e.children)(this.scope),this.beans.ctrlsService.getGridBodyCtrl().requestAngularApply()}},t}(pt),cv=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),uv=function(a){function t(e,i,n){var s=a.call(this)||this;s.cellComps={},s.beans=i,s.rowCtrl=e,s.setTemplate('<div comp-id="'+s.getCompId()+'" style="'+s.getInitialStyle()+'"/>');var d=s.getGui(),h=d.style;return e.setComp({setDomOrder:function(L){return s.domOrder=L},setCellCtrls:function(L){return s.setCellCtrls(L)},showFullWidth:function(L){return s.showFullWidth(L)},getFullWidthCellRenderer:function(){return s.getFullWidthCellRenderer()},addOrRemoveCssClass:function(L,j){return s.addOrRemoveCssClass(L,j)},setUserStyles:function(L){return nr(d,L)},setTop:function(L){return h.top=L},setTransform:function(L){return h.transform=L},setRowIndex:function(L){return d.setAttribute("row-index",L)},setRole:function(L){return fi(d,L)},setRowId:function(L){return d.setAttribute("row-id",L)},setRowBusinessKey:function(L){return d.setAttribute("row-business-key",L)},setTabIndex:function(L){return d.setAttribute("tabindex",L.toString())}},s.getGui(),n),s}return cv(t,a),t.prototype.getInitialStyle=function(){var e=this.rowCtrl.getInitialTransform(),i=this.rowCtrl.getInitialRowTop();return e?"transform: "+e:"top: "+i},t.prototype.showFullWidth=function(e){var i=this,s=e.newAgStackInstance();!s||s.then(function(d){if(i.isAlive()){var h=d.getGui();i.getGui().appendChild(h),i.rowCtrl.setupDetailRowAutoHeight(h),i.setFullWidthRowComp(d)}else i.beans.context.destroyBean(d)})},t.prototype.setCellCtrls=function(e){var i=this,n=Object.assign({},this.cellComps);e.forEach(function(d){var h=d.getInstanceId();null==i.cellComps[h]?i.newCellComp(d):n[h]=null});var s=$(n).filter(function(d){return null!=d});this.destroyCells(s),this.ensureDomOrder(e)},t.prototype.ensureDomOrder=function(e){var i=this;if(this.domOrder){var n=[];e.forEach(function(s){var d=i.cellComps[s.getInstanceId()];d&&n.push(d.getGui())}),zs(this.getGui(),n)}},t.prototype.newCellComp=function(e){var i=new ap(this.rowCtrl.getScope(),this.beans,e,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[e.getInstanceId()]=i,this.getGui().appendChild(i.getGui())},t.prototype.destroy=function(){a.prototype.destroy.call(this),this.destroyAllCells()},t.prototype.destroyAllCells=function(){var e=$(this.cellComps).filter(function(i){return null!=i});this.destroyCells(e)},t.prototype.setFullWidthRowComp=function(e){var i=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=e,this.addDestroyFunc(function(){i.fullWidthCellRenderer=i.beans.context.destroyBean(i.fullWidthCellRenderer)})},t.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},t.prototype.destroyCells=function(e){var i=this;e.forEach(function(n){if(n){var s=n.getCtrl().getInstanceId();i.cellComps[s]===n&&(n.detach(),n.destroy(),i.cellComps[s]=null)}})},t}(pt),dv=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Va=function(){return Va=Object.assign||function(a){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a},Va.apply(this,arguments)},zn=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Wa=function(a){function t(){var e=a.call(this,function(){var a=pt.elementGettingCreated.getAttribute("name"),t=Jr.getRowContainerCssClasses(a);return a===z.hA6.CENTER?'<div class="'+t.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+t.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+t.container+'" ref="eContainer" role="rowgroup"></div>\n                </div>\n            </div>':a===z.hA6.TOP_CENTER||a===z.hA6.BOTTOM_CENTER?'<div class="'+t.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+t.container+'" ref="eContainer" role="presentation"></div>\n            </div>':'<div class="'+t.container+'" ref="eContainer" role="presentation"></div>'}())||this;return e.rowComps={},e.name=pt.elementGettingCreated.getAttribute("name"),e.type=function(a){switch(a){case z.hA6.CENTER:case z.hA6.TOP_CENTER:case z.hA6.BOTTOM_CENTER:return z.EDi.CENTER;case z.hA6.LEFT:case z.hA6.TOP_LEFT:case z.hA6.BOTTOM_LEFT:return z.EDi.LEFT;case z.hA6.RIGHT:case z.hA6.TOP_RIGHT:case z.hA6.BOTTOM_RIGHT:return z.EDi.RIGHT;case z.hA6.FULL_WIDTH:case z.hA6.TOP_FULL_WIDTH:case z.hA6.BOTTOM_FULL_WIDTH:return z.EDi.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(e.name),e}return dv(t,a),t.prototype.postConstruct=function(){var e=this,i={setViewportHeight:function(s){return e.eViewport.style.height=s},setRowCtrls:function(s){return e.setRowCtrls(s)},setDomOrder:function(s){e.domOrder=s},setContainerWidth:function(s){return e.eContainer.style.width=s}};this.createManagedBean(new Jr(this.name)).setComp(i,this.eContainer,this.eViewport,this.eWrapper)},t.prototype.preDestroy=function(){this.setRowCtrls([])},t.prototype.setRowCtrls=function(e){var i=this,n=Va({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,e.forEach(function(d){var h=d.getInstanceId(),O=n[h];if(O)i.rowComps[h]=O,delete n[h],i.ensureDomOrder(O.getGui());else{var L=i.newRowComp(d);i.rowComps[h]=L,i.appendRow(L.getGui())}}),$(n).forEach(function(d){i.eContainer.removeChild(d.getGui()),d.destroy()})},t.prototype.appendRow=function(e){this.domOrder?ir(this.eContainer,e,this.lastPlacedElement):this.eContainer.appendChild(e),this.lastPlacedElement=e},t.prototype.ensureDomOrder=function(e){this.domOrder&&(Fl(this.eContainer,e,this.lastPlacedElement),this.lastPlacedElement=e)},t.prototype.newRowComp=function(e){return Jr.getPinned(this.name),new uv(e,this.beans,this.type)},zn([Q("beans")],t.prototype,"beans",void 0),zn([He("eViewport")],t.prototype,"eViewport",void 0),zn([He("eContainer")],t.prototype,"eContainer",void 0),zn([He("eWrapper")],t.prototype,"eWrapper",void 0),zn([be],t.prototype,"postConstruct",null),zn([Xe],t.prototype,"preDestroy",null),t}(pt),pv=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),$a=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Zn=function(a){function t(){var e=null!==a&&a.apply(this,arguments)||this;return e.events=[],e}return pv(t,a),t.prototype.postConstruct=function(){this.rowModel.getType()==ae.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.dispatchExpanded=function(e){var i=this;null!=this.clientSideRowModel?(this.events.push(e),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){i.clientSideRowModel&&i.clientSideRowModel.onRowGroupOpened(),i.events.forEach(function(s){return i.eventService.dispatchEvent(s)}),i.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(e)},$a([Q("animationFrameService")],t.prototype,"animationFrameService",void 0),$a([Q("rowModel")],t.prototype,"rowModel",void 0),$a([be],t.prototype,"postConstruct",null),$a([je("rowNodeEventThrottle")],t)}(Ze),lp=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),mo=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},cp=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return lp(t,a),t.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},t.prototype.showMenuAfterMouseEvent=function(e,i){var n=this;this.showPopup(e,function(s){n.popupService.positionPopupUnderMouseEvent({column:e,type:"columnMenu",mouseEvent:i,ePopup:s})},i.target)},t.prototype.showMenuAfterButtonClick=function(e,i,n){var s=this;this.showPopup(e,function(d){s.popupService.positionPopupUnderComponent({type:n,eventSource:i,ePopup:d,keepWithinBounds:!0,column:e})},i)},t.prototype.showPopup=function(e,i,n){var s=this,d=this.filterManager.getOrCreateFilterWrapper(e,"COLUMN_MENU");if(!d)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var h=document.createElement("div");fi(h,"presentation"),h.classList.add("ag-menu"),this.tabListener=this.addManagedListener(h,"keydown",function(re){return s.trapFocusWithin(re,h)}),d.guiPromise.then(function(re){return h.appendChild(re)});var O,L=n||this.ctrlsService.getGridBodyCtrl().getGui(),q=this.gridOptionsWrapper.getLocaleTextFunc(),J=this.popupService.addPopup({modal:!0,eChild:h,closeOnEsc:!0,closedCallback:function(re){e.setMenuVisible(!1,"contextMenu");var me=re instanceof KeyboardEvent;if(s.tabListener&&(s.tabListener=s.tabListener()),me&&n&&No(n)){var Ae=s.focusService.findTabbableParent(n);Ae&&Ae.focus()}},positionCallback:function(){return i(h)},anchorToElement:L,ariaLabel:q("ariaLabelColumnMenu","Column Menu")});J&&(this.hidePopup=O=J.hideFunc),d.filterPromise.then(function(re){i(h),re.afterGuiAttached&&re.afterGuiAttached({container:"columnMenu",hidePopup:O})}),e.setMenuVisible(!0,"contextMenu")},t.prototype.trapFocusWithin=function(e,i){e.key!==Ue.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(i,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(i,e.shiftKey))},t.prototype.isMenuEnabled=function(e){return e.isFilterAllowed()},mo([Q("filterManager")],t.prototype,"filterManager",void 0),mo([Q("popupService")],t.prototype,"popupService",void 0),mo([Q("focusService")],t.prototype,"focusService",void 0),mo([Q("ctrlsService")],t.prototype,"ctrlsService",void 0),mo([je("menuFactory")],t)}(Ze),fv=function(a,t){var e="function"==typeof Symbol&&a[Symbol.iterator];if(!e)return a;var n,d,i=e.call(a),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(h){d={error:h}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},ws=function(){for(var a=[],t=0;t<arguments.length;t++)a=a.concat(fv(arguments[t]));return a},Sr=function(){function a(t,e,i){e?(this.gridOptions=e,(new ji).create(t,e,function(n){var s=new hm(t);n.createBean(s)},void 0,i)):console.error("AG Grid: no gridOptions provided to the grid")}return a.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},a}(),ji=function(){function a(){}return a.prototype.create=function(t,e,i,n,s){var d=this,h=!!e.debug,O=this.getRegisteredModules(s),L=this.createBeansList(e.rowModelType,O),j=this.createProvidedBeans(t,e,s);if(L){var q={providedBeanInstances:j,beanClasses:L,debug:h},J=new Aa("AG Grid",function(){return e.debug}),re=new Aa("Context",function(){return q.debug}),me=new ke(q,re),Ae=me.getBean("beans");this.registerModuleUserComponents(Ae,O),this.registerStackComponents(Ae,O),this.registerControllers(Ae,O),i(me),Ae.ctrlsService.whenReady(function(){d.setColumnsAndData(Ae),d.dispatchGridReadyEvent(Ae,e);var Pe=ze.isRegistered(z.GXE.EnterpriseCoreModule);J.log("initialised successfully, enterprise = "+Pe)}),n&&n(me)}},a.prototype.registerControllers=function(t,e){e.forEach(function(i){i.controllers&&i.controllers.forEach(function(n){return t.ctrlsFactory.register(n)})})},a.prototype.registerStackComponents=function(t,e){var i=this.createAgStackComponentsList(e);t.agStackComponentsRegistry.setupComponents(i)},a.prototype.getRegisteredModules=function(t){var e=t?t.modules:null,i=ze.getRegisteredModules(),n=[],s={};function d(h,O){var j;s[(j=O).moduleName]||(s[j.moduleName]=!0,n.push(j),ze.register(j,h)),O.dependantModules&&O.dependantModules.forEach(d.bind(null,h))}return e&&e.forEach(d.bind(null,!0)),i&&i.forEach(d.bind(null,!ze.isPackageBased())),n},a.prototype.registerModuleUserComponents=function(t,e){this.extractModuleEntity(e,function(n){return n.userComponents?n.userComponents:[]}).forEach(function(n){t.userComponentRegistry.registerDefaultComponent(n.componentName,n.componentClass)})},a.prototype.createProvidedBeans=function(t,e,i){var n=i?i.frameworkOverrides:null;E(n)&&(n=new xc);var s={gridOptions:e,eGridDiv:t,$scope:i?i.$scope:null,$compile:i?i.$compile:null,globalEventListener:i?i.globalEventListener:null,frameworkOverrides:n};return i&&i.providedBeanInstances&&Object.assign(s,i.providedBeanInstances),s},a.prototype.createAgStackComponentsList=function(t){var e=[{componentName:"AgCheckbox",componentClass:ro},{componentName:"AgRadioButton",componentClass:vm},{componentName:"AgToggleButton",componentClass:Ym},{componentName:"AgInputTextField",componentClass:Vc},{componentName:"AgInputTextArea",componentClass:Wc},{componentName:"AgInputNumberField",componentClass:qh},{componentName:"AgInputRange",componentClass:jc},{componentName:"AgSelect",componentClass:Ys},{componentName:"AgSlider",componentClass:zh},{componentName:"AgAngleSelect",componentClass:Uc},{componentName:"AgColorPicker",componentClass:Zh},{componentName:"AgGridBody",componentClass:gh},{componentName:"AgHeaderRoot",componentClass:ih},{componentName:"AgPagination",componentClass:Nm},{componentName:"AgOverlayWrapper",componentClass:km},{componentName:"AgGroupComponent",componentClass:Vh},{componentName:"AgPanel",componentClass:ms},{componentName:"AgDialog",componentClass:Un},{componentName:"AgRowContainer",componentClass:Wa},{componentName:"AgFakeHorizontalScroll",componentClass:lv}],i=this.extractModuleEntity(t,function(n){return n.agStackComponents?n.agStackComponents:[]});return e.concat(i)},a.prototype.createBeansList=function(t,e){var i=this.getRowModelClass(t,e);if(i){var n=[i,da,K,Qm,ev,Th,Je,vd,J_,Om,Hh,aa,Im,bh,Jm,Dc,Du,Le,et,yh,oc,nh,gl,fr,Fc,Ag,vh,Ns,Jg,Mh,kc,Ph,rh,Ch,Bs,am,cp,hi,Td,so,fm,Bc,gm,mm,xh,Rh,cs,Oh,wm,Gc,yr,Am,Nh,iC,_l,oC,br,ka,Er,Kc,sC,Zn,rv],s=this.extractModuleEntity(e,function(h){return h.beans?h.beans:[]});n.push.apply(n,ws(s));var d=[];return n.forEach(function(h){d.indexOf(h)<0&&d.push(h)}),d}},a.prototype.extractModuleEntity=function(t,e){return[].concat.apply([],ws(t.map(e)))},a.prototype.setColumnsAndData=function(t){var e=t.gridOptionsWrapper.getColumnDefs();t.columnModel.setColumnDefs(e||[],"gridInitializing"),t.rowModel.start()},a.prototype.dispatchGridReadyEvent=function(t,e){t.eventService.dispatchEvent({type:ue.EVENT_GRID_READY,api:e.api,columnApi:e.columnApi})},a.prototype.getRowModelClass=function(t,e){t||(t=ae.ROW_MODEL_TYPE_CLIENT_SIDE);var i={};e.forEach(function(s){v(s.rowModels,function(d,h){i[d]=h})});var n=i[t];if(W(n))return n;t===ae.ROW_MODEL_TYPE_INFINITE&&console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+z.GXE.InfiniteRowModelModule+" is registered.';"),console.error("AG Grid: could not find matching row model for rowModelType "+t),t===ae.ROW_MODEL_TYPE_VIEWPORT&&console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+z.GXE.ViewportRowModelModule+" is registered.';"),t===ae.ROW_MODEL_TYPE_SERVER_SIDE&&console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+z.GXE.ServerSideRowModelModule+" is registered.';"),t===ae.ROW_MODEL_TYPE_CLIENT_SIDE&&console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+z.GXE.ClientSideRowModelModule+" is registered.';")},a}();var mv=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ua=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s};!function(a){function t(e){var i=a.call(this,t.getTemplate(e.cssClass))||this;return i.items=[],i.tabbedItemScrollMap=new Map,i.params=e,e.items&&e.items.forEach(function(n){return i.addItem(n)}),i}mv(t,a),t.prototype.postConstruct=function(){this.createManagedBean(new mn(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},t.getTemplate=function(e){return'<div class="ag-tabs '+e+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(e?e+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(e?e+"-body":"")+'"></div>\n        </div>'},t.prototype.handleKeyDown=function(e){var i=this.gridOptionsWrapper.getDocument();switch(e.key){case Ue.RIGHT:case Ue.LEFT:if(!this.eHeader.contains(i.activeElement))return;var n=this.items.indexOf(this.activeItem),s=e.key===Ue.RIGHT?Math.min(n+1,this.items.length-1):Math.max(n-1,0);if(n===s)return;e.preventDefault();var d=this.items[s];this.showItemWrapper(d),d.eHeaderButton.focus();break;case Ue.UP:case Ue.DOWN:e.stopPropagation()}},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var i=this,n=i.focusService,s=i.eHeader,d=i.eBody,h=i.activeItem,L=this.gridOptionsWrapper.getDocument().activeElement;if(e.preventDefault(),s.contains(L))n.focusInto(d,e.shiftKey);else if(n.isFocusUnderManagedComponent(d))h.eHeaderButton.focus();else{var j=n.findNextFocusableElement(d,!1,e.shiftKey);j?j.focus():h.eHeaderButton.focus()}}},t.prototype.setAfterAttachedParams=function(e){this.afterAttachedParams=e},t.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},t.prototype.addItem=function(e){var i=document.createElement("span");fi(i,"tab"),i.setAttribute("tabIndex","-1"),i.appendChild(e.title),i.classList.add("ag-tab"),this.eHeader.appendChild(i),Hr(i,e.titleLabel);var n={tabbedItem:e,eHeaderButton:i};this.items.push(n),i.addEventListener("click",this.showItemWrapper.bind(this,n))},t.prototype.showItem=function(e){var i=this.items.find(function(n){return n.tabbedItem===e});i&&this.showItemWrapper(i)},t.prototype.showItemWrapper=function(e){var i=this,n=e.tabbedItem,s=e.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:n}),this.activeItem!==e?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),Ci(this.eBody),n.bodyPromise.then(function(d){i.eBody.appendChild(d);var h=!i.focusService.isKeyboardMode();if(i.focusService.focusInto(i.eBody,!1,h),n.afterAttachedCallback&&n.afterAttachedCallback(i.afterAttachedParams),i.params.keepScrollPosition){var O=n.getScrollableContainer&&n.getScrollableContainer()||d;i.lastScrollListener=i.addManagedListener(O,"scroll",function(){i.tabbedItemScrollMap.set(n.name,O.scrollTop)});var L=i.tabbedItemScrollMap.get(n.name);void 0!==L&&setTimeout(function(){O.scrollTop=L},0)}}),this.activeItem&&this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),s.classList.add("ag-tab-selected"),this.activeItem=e):Ne(this.params.onActiveItemClicked)},Ua([Q("focusService")],t.prototype,"focusService",void 0),Ua([He("eHeader")],t.prototype,"eHeader",void 0),Ua([He("eBody")],t.prototype,"eBody",void 0),Ua([be],t.prototype,"postConstruct",null)}(pt);!function(a){a.Applied="Applied",a.StoreNotFound="StoreNotFound",a.StoreLoading="StoreLoading",a.StoreWaitingToLoad="StoreWaitingToLoad",a.StoreLoadingFailed="StoreLoadingFailed",a.StoreWrongType="StoreWrongType",a.Cancelled="Cancelled"}(z.Qk6||(z.Qk6={}));var up=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bs=function(){return bs=Object.assign||function(a){for(var t,e=1,i=arguments.length;e<i;e++)for(var n in t=arguments[e])Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);return a},bs.apply(this,arguments)},Ar=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},vo=function(a){function t(e){void 0===e&&(e=1);var i=a.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return i.level=e,i.menuItems=[],i}return up(t,a),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(i){return e.onTabKeyDown(i)},handleKeyDown:function(i){return e.handleKeyDown(i)}})},t.prototype.onTabKeyDown=function(e){var i=this.getParentComponent(),n=i&&i.getGui();n&&n.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)},t.prototype.handleKeyDown=function(e){switch(e.key){case Ue.UP:case Ue.RIGHT:case Ue.DOWN:case Ue.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case Ue.ESCAPE:var i=this.findTopMenu();i&&this.focusService.focusInto(i.getGui())}},t.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},t.prototype.addMenuItems=function(e){var i=this;null!=e&&e.forEach(function(n){"separator"===n?i.addSeparator():"string"==typeof n?console.warn("AG Grid: unrecognised menu item "+n):i.addItem(n)})},t.prototype.addItem=function(e){var i=this,n=this.createManagedBean(new yo(bs(bs({},e),{isAnotherSubMenuOpen:function(){return i.menuItems.some(function(s){return s.isSubMenuOpen()})}})));n.setParentComponent(this),hf(n.getGui(),this.level),this.menuItems.push(n),this.appendChild(n.getGui()),this.addManagedListener(n,yo.EVENT_MENU_ITEM_SELECTED,function(s){i.dispatchEvent(s)}),this.addManagedListener(n,yo.EVENT_MENU_ITEM_ACTIVATED,function(s){i.activeMenuItem&&i.activeMenuItem!==s.menuItem&&i.activeMenuItem.deactivate(),i.activeMenuItem=s.menuItem})},t.prototype.activateFirstItem=function(){var e=this.menuItems.filter(function(i){return!i.isDisabled()})[0];!e||e.activate()},t.prototype.addSeparator=function(){this.appendChild(Wt('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},t.prototype.findTopMenu=function(){var e=this.getParentComponent();if(!e&&this instanceof t)return this;for(;;){var i=e&&e.getParentComponent&&e.getParentComponent();if(!i||!(i instanceof t||i instanceof yo))break;e=i}return e instanceof t?e:void 0},t.prototype.handleNavKey=function(e){switch(e){case Ue.UP:case Ue.DOWN:var i=this.findNextItem(e===Ue.UP);return void(i&&i!==this.activeMenuItem&&i.activate())}e===(this.gridOptionsWrapper.isEnableRtl()?Ue.RIGHT:Ue.LEFT)?this.closeIfIsChild():this.openChild()},t.prototype.closeIfIsChild=function(e){var i=this.getParentComponent();i&&i instanceof yo&&(e&&e.preventDefault(),i.closeSubMenu(),i.getGui().focus())},t.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},t.prototype.findNextItem=function(e){var i=this.menuItems.filter(function(O){return!O.isDisabled()});if(i.length){if(!this.activeMenuItem)return e?Qe(i):i[0];e&&i.reverse();for(var n,s=!1,d=0;d<i.length;d++){var h=i[d];if(s){n=h;break}h===this.activeMenuItem&&(s=!0)}return n||this.activeMenuItem}},t.prototype.destroy=function(){this.clearActiveItem(),a.prototype.destroy.call(this)},Ar([Q("focusService")],t.prototype,"focusService",void 0),Ar([be],t.prototype,"postConstruct",null),t}(as),za=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),dp=function(a){function t(e){var i=a.call(this)||this;return i.wrappedComponent=e,i.setTemplateFromElement(e.getGui()),i}return za(t,a),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onTabKeyDown:function(i){return e.onTabKeyDown(i)},handleKeyDown:function(i){return e.handleKeyDown(i)}})},t.prototype.handleKeyDown=function(e){e.key===Ue.ESCAPE&&this.closePanel()},t.prototype.onTabKeyDown=function(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())},t.prototype.closePanel=function(){var e=this.parentComponent;e.closeSubMenu(),setTimeout(function(){return e.getGui().focus()},0)},function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);n>3&&s&&Object.defineProperty(t,e,s)}([be],t.prototype,"postConstruct",null),t}(as),_v=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),hp=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},yo=function(a){function t(e){var i=a.call(this)||this;return i.params=e,i.isActive=!1,i.subMenuIsOpen=!1,i.setTemplate('<div class="'+i.getClassName()+'" tabindex="-1" role="treeitem"></div>'),i}return _v(t,a),t.prototype.init=function(){var e=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var i=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),Go(i,!0)):(this.addGuiEventListener("click",function(n){return e.onItemSelected(n)}),this.addGuiEventListener("keydown",function(n){(n.key===Ue.ENTER||n.key===Ue.SPACE)&&(n.preventDefault(),e.onItemSelected(n))}),this.addGuiEventListener("mousedown",function(n){n.stopPropagation(),n.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return e.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return e.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(n){return e.addCssClass(n)})},t.prototype.isDisabled=function(){return!!this.params.disabled},t.prototype.openSubMenu=function(e){var i=this;if(void 0===e&&(e=!1),this.closeSubMenu(),this.params.subMenu){var s,n=Wt('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var d=uf(this.getGui()),h=isNaN(d)?1:d+1,O=this.createBean(new vo(h));O.setParentComponent(this),O.addMenuItems(this.params.subMenu),n.appendChild(O.getGui()),this.addManagedListener(O,t.EVENT_MENU_ITEM_SELECTED,function(Ve){return i.dispatchEvent(Ve)}),O.addGuiEventListener("mouseenter",function(){return i.cancelDeactivate()}),s=function(){return i.destroyBean(O)},e&&setTimeout(function(){return O.activateFirstItem()},0)}else{var L=this.params.subMenu,j=this.createBean(new dp(L));j.setParentComponent(this);var q=j.getGui(),J="mouseenter",re=function(){return i.cancelDeactivate()};q.addEventListener(J,re),s=function(){return q.removeEventListener(J,re)},n.appendChild(q),L.afterGuiAttached&&setTimeout(function(){return L.afterGuiAttached()},0)}var me=this.getGui(),Ae=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:me,ePopup:n}),Pe=this.gridOptionsWrapper.getLocaleTextFunc(),We=this.popupService.addPopup({modal:!0,eChild:n,positionCallback:Ae,anchorToElement:me,ariaLabel:Pe("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,Di(me,!0),this.hideSubMenu=function(){We&&We.hideFunc(),i.subMenuIsOpen=!1,Di(me,!1),s()}}},t.prototype.closeSubMenu=function(){!this.hideSubMenu||(this.hideSubMenu(),this.hideSubMenu=null,Di(this.getGui(),!1))},t.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},t.prototype.activate=function(e){var i=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),e&&this.params.subMenu&&window.setTimeout(function(){i.isAlive()&&i.isActive&&i.openSubMenu()},300),this.onItemActivated())},t.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},t.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var e=Wt('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?e.appendChild(qt("check",this.gridOptionsWrapper)):this.params.icon&&(qs(this.params.icon)?e.appendChild(this.params.icon):"string"==typeof this.params.icon?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}},t.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var e=Wt('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addTooltip=function(){!this.params.tooltip||(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new Bl(this)))},t.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},t.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var e=Wt('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(e)}},t.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var e=Wt('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),i=this.getGui();if(this.params.subMenu){var n=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";Di(i,!1),e.appendChild(qt(n,this.gridOptionsWrapper))}i.appendChild(e)}},t.prototype.onItemSelected=function(e){this.params.action?this.params.action():this.openSubMenu(e&&"keydown"===e.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:t.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:e})},t.prototype.onItemActivated=function(){this.dispatchEvent({type:t.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},t.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},t.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},t.prototype.onMouseEnter=function(){var e=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return e.activate(!0)},t.ACTIVATION_DELAY):this.activate(!0)},t.prototype.onMouseLeave=function(){var e=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return e.deactivate()},t.ACTIVATION_DELAY):this.deactivate()},t.prototype.getClassName=function(e){var i=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return e?i+"-"+e:i},t.EVENT_MENU_ITEM_SELECTED="menuItemSelected",t.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",t.ACTIVATION_DELAY=80,hp([Q("popupService")],t.prototype,"popupService",void 0),hp([be],t.prototype,"init",null),t}(pt),pp=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Es=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},wv=(function(a){function t(e,i,n){void 0===e&&(e="default"),void 0===i&&(i="listbox");var s=a.call(this,t.getTemplate(e))||this;return s.cssIdentifier=e,s.ariaRole=i,s.listName=n,s.renderedRows=new Map,s.rowHeight=20,s.isDestroyed=!1,s}pp(t,a),t.prototype.postConstruct=function(){var e=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(i){return e.onFocusIn(i)},onFocusOut:function(i){return e.onFocusOut(i)},focusInnerElement:function(i){return e.focusInnerElement(i)},onTabKeyDown:function(i){return e.onTabKeyDown(i)},handleKeyDown:function(i){return e.handleKeyDown(i)}}),this.setAriaProperties()},t.prototype.setAriaProperties=function(){var i=this.gridOptionsWrapper.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),n=this.eContainer;fi(n,this.ariaRole),Hr(n,i)},t.prototype.addResizeObserver=function(){var e=this.drawVirtualRows.bind(this),i=this.resizeObserverService.observeResize(this.getGui(),e);this.addDestroyFunc(i)},t.prototype.focusInnerElement=function(e){this.focusRow(e?this.model.getRowCount()-1:0)},t.prototype.onFocusIn=function(e){var i=e.target;return i.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=df(i)-1),!1},t.prototype.onFocusOut=function(e){return this.getFocusableElement().contains(e.relatedTarget)||(this.lastFocusedRowIndex=null),!1},t.prototype.handleKeyDown=function(e){switch(e.key){case Ue.UP:case Ue.DOWN:this.navigate(e.key===Ue.UP)&&e.preventDefault()}},t.prototype.onTabKeyDown=function(e){this.navigate(e.shiftKey)?e.preventDefault():this.focusService.focusInto(this.getGui(),!e.shiftKey)},t.prototype.navigate=function(e){if(null==this.lastFocusedRowIndex)return!1;var i=this.lastFocusedRowIndex+(e?-1:1);return!(i<0||i>=this.model.getRowCount()||(this.focusRow(i),0))},t.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},t.prototype.focusRow=function(e){var i=this;this.ensureIndexVisible(e),window.setTimeout(function(){var n=i.renderedRows.get(e);n&&n.eDiv.focus()},10)},t.prototype.getComponentAt=function(e){var i=this.renderedRows.get(e);return i&&i.rowComponent},t.getTemplate=function(e){return'\n            <div class="ag-virtual-list-viewport ag-'+e+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+e+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},t.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},t.prototype.ensureIndexVisible=function(e){var i=this.model.getRowCount();if("number"!=typeof e||e<0||e>=i)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+e);else{var n=e*this.rowHeight,s=n+this.rowHeight,d=this.getGui(),h=d.scrollTop,O=d.offsetHeight,q=h+O<s;h>n?d.scrollTop=n:q&&(d.scrollTop=s-O)}},t.prototype.setComponentCreator=function(e){this.componentCreator=e},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getScrollTop=function(){return this.getGui().scrollTop},t.prototype.setRowHeight=function(e){this.rowHeight=e,this.refresh()},t.prototype.refresh=function(){var e=this;if(null!=this.model&&!this.isDestroyed){var i=this.model.getRowCount();this.eContainer.style.height=i*this.rowHeight+"px",Ie(function(){return e.eContainer.clientHeight>=i*e.rowHeight},function(){e.isDestroyed||(e.clearVirtualRows(),e.drawVirtualRows())})}},t.prototype.clearVirtualRows=function(){var e=this;this.renderedRows.forEach(function(i,n){return e.removeRow(n)})},t.prototype.drawVirtualRows=function(){var e=this.getGui(),i=e.scrollTop,n=i+e.offsetHeight,s=Math.floor(i/this.rowHeight),d=Math.floor(n/this.rowHeight);this.ensureRowsRendered(s,d)},t.prototype.ensureRowsRendered=function(e,i){var n=this;this.renderedRows.forEach(function(d,h){(h<e||h>i)&&h!==n.lastFocusedRowIndex&&n.removeRow(h)});for(var s=e;s<=i;s++)this.renderedRows.has(s)||s<this.model.getRowCount()&&this.insertRow(s)},t.prototype.insertRow=function(e){var i=this,n=this.model.getRow(e),s=document.createElement("div");if(s.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),fi(s,"tree"===this.ariaRole?"treeitem":"option"),Wu(s,this.model.getRowCount()),$u(s,e+1),s.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var d=this.model.isRowSelected(e);Ho(s,!!d),yf(s,d)}s.style.height=this.rowHeight+"px",s.style.top=this.rowHeight*e+"px";var h=this.componentCreator(n,s);h.addGuiEventListener("focusin",function(){return i.lastFocusedRowIndex=e}),s.appendChild(h.getGui()),this.renderedRows.has(e-1)?this.renderedRows.get(e-1).eDiv.insertAdjacentElement("afterend",s):this.renderedRows.has(e+1)?this.renderedRows.get(e+1).eDiv.insertAdjacentElement("beforebegin",s):this.eContainer.appendChild(s),this.renderedRows.set(e,{rowComponent:h,eDiv:s})},t.prototype.removeRow=function(e){var i=this.renderedRows.get(e);this.eContainer.removeChild(i.eDiv),this.destroyBean(i.rowComponent),this.renderedRows.delete(e)},t.prototype.addScrollListener=function(){var e=this;this.addGuiEventListener("scroll",function(){return e.drawVirtualRows()})},t.prototype.setModel=function(e){this.model=e},t.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,a.prototype.destroy.call(this))},Es([Q("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Es([Q("focusService")],t.prototype,"focusService",void 0),Es([He("eContainer")],t.prototype,"eContainer",void 0),Es([be],t.prototype,"postConstruct",null)}(as),function(){function a(){}return a.prototype.wrap=function(t,e,i,n){var s=this;void 0===i&&(i=[]);var d=this.createWrapper(t,n);return e.forEach(function(h){s.createMethod(d,h,!0)}),i.forEach(function(h){s.createMethod(d,h,!1)}),d},a.prototype.unwrap=function(t){return t},a.prototype.createMethod=function(t,e,i){t.addMethod(e,this.createMethodProxy(t,e,i))},a.prototype.createMethodProxy=function(t,e,i){return function(){return t.hasMethod(e)?t.callMethod(e,arguments):(i&&console.warn("AG Grid: Framework component is missing the method "+e+"()"),null)}},a}());!function(a){a.InsideBase="insideBase",a.InsideEnd="insideEnd",a.Center="center",a.OutsideEnd="outsideEnd"}(z.nWP||(z.nWP={}));var Rr="undefined"==typeof global?{}:global;Rr.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,Rr.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,Rr.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,Rr.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,Rr.Node="undefined"==typeof Node?{}:Node,Rr.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent;var gp=function(a,t){var e="function"==typeof Symbol&&a[Symbol.iterator];if(!e)return a;var n,d,i=e.call(a),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(h){d={error:h}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s},Qc=function(){for(var a=[],t=0;t<arguments.length;t++)a=a.concat(gp(arguments[t]));return a},Jc=function(){function a(t,e,i,n,s,d,h,O){this.nextId=0,this.allNodesMap={},this.rootNode=t,this.gridOptionsWrapper=e,this.eventService=i,this.columnModel=n,this.gridApi=s,this.columnApi=d,this.beans=O,this.selectionService=h,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=a.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return a.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},a.prototype.getCopyOfNodesMap=function(){return ct.cloneObject(this.allNodesMap)},a.prototype.getRowNode=function(t){return this.allNodesMap[t]},a.prototype.setRowData=function(t){var e=this;if("string"!=typeof t){var i=this.rootNode,n=this.rootNode.sibling;i.childrenAfterFilter=null,i.childrenAfterGroup=null,i.childrenAfterSort=null,i.childrenMapped=null,i.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?i.allLeafChildren=t.map(function(s){return e.createNode(s,e.rootNode,a.TOP_LEVEL)}):(i.allLeafChildren=[],i.childrenAfterGroup=[]),n&&(n.childrenAfterFilter=i.childrenAfterFilter,n.childrenAfterGroup=i.childrenAfterGroup,n.childrenAfterSort=i.childrenAfterSort,n.childrenMapped=i.childrenMapped,n.allLeafChildren=i.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},a.prototype.updateRowData=function(t,e){var i={remove:[],update:[],add:[]},n=[];return this.executeRemove(t,i,n),this.executeUpdate(t,i,n),this.executeAdd(t,i),this.updateSelection(n),e&&ct.sortRowNodesByOrder(this.rootNode.allLeafChildren,e),i},a.prototype.updateSelection=function(t){var e=t.length>0;e&&t.forEach(function(n){n.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),e&&this.eventService.dispatchEvent({type:ue.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},a.prototype.executeAdd=function(t,e){var i=this,n=t.add,s=t.addIndex;if(!ct.missingOrEmpty(n)){var d=n.map(function(q){return i.createNode(q,i.rootNode,a.TOP_LEVEL)});if("number"==typeof s&&s>=0){var O=this.rootNode.allLeafChildren,L=O.slice(0,s),j=O.slice(s,O.length);this.rootNode.allLeafChildren=Qc(L,d,j)}else this.rootNode.allLeafChildren=Qc(this.rootNode.allLeafChildren,d);this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),e.add=d}},a.prototype.executeRemove=function(t,e,i){var n=this,s=t.remove;if(!ct.missingOrEmpty(s)){var d={};s.forEach(function(h){var O=n.lookupRowNode(h);!O||(O.isSelected()&&i.push(O),O.clearRowTopAndRowIndex(),d[O.id]=!0,delete n.allNodesMap[O.id],e.remove.push(O))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(h){return!d[h.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},a.prototype.executeUpdate=function(t,e,i){var n=this,s=t.update;ct.missingOrEmpty(s)||s.forEach(function(d){var h=n.lookupRowNode(d);!h||(h.updateData(d),!h.selectable&&h.isSelected()&&i.push(h),n.setMasterForRow(h,d,a.TOP_LEVEL,!1),e.update.push(h))})},a.prototype.lookupRowNode=function(t){var i,e=this.gridOptionsWrapper.getRowIdFunc();if(e){var n=e({data:t,level:0,api:this.gridApi,columnApi:this.columnApi});if(!(i=this.allNodesMap[n]))return console.error("AG Grid: could not find row id="+n+", data item was not found for this id"),null}else if(!(i=this.rootNode.allLeafChildren.find(function(s){return s.data===t})))return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return i||null},a.prototype.createNode=function(t,e,i){var n=new gt(this.beans);return n.group=!1,this.setMasterForRow(n,t,i,!0),e&&!this.suppressParentsInRowNodes&&(n.parent=e),n.level=i,n.setDataAndId(t,this.nextId.toString()),this.allNodesMap[n.id]&&console.warn("AG Grid: duplicate node id '"+n.id+"' detected from getRowNodeId callback, this could cause issues in your grid."),this.allNodesMap[n.id]=n,this.nextId++,n},a.prototype.setMasterForRow=function(t,e,i,n){if(this.doingTreeData)t.setMaster(!1),n&&(t.expanded=!1);else if(t.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(e))),n){var s=this.columnModel.getRowGroupColumns();t.expanded=!!t.master&&this.isExpanded(i+(s?s.length:0))}},a.prototype.isExpanded=function(t){var e=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===e||t<e},a.TOP_LEVEL=0,a.ROOT_NODE_ID="ROOT_NODE_ID",a}(),bv=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),ui=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Ui=(()=>(function(a){a[a.Normal=0]="Normal",a[a.AfterFilter=1]="AfterFilter",a[a.AfterFilterAndSort=2]="AfterFilterAndSort",a[a.PivotNodes=3]="PivotNodes"}(Ui||(Ui={})),Ui))(),Ev=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return bv(t,a),t.prototype.init=function(){var e=this.refreshModel.bind(this,{step:z.j_r.EVERYTHING}),i=!this.gridOptionsWrapper.isSuppressAnimationFrame(),n=this.refreshModel.bind(this,{step:z.j_r.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:i});this.addManagedListener(this.eventService,ue.EVENT_NEW_COLUMNS_LOADED,n),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:z.j_r.PIVOT})),this.addManagedListener(this.eventService,ue.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_COLUMN_PIVOT_MODE_CHANGED,e);var s=this.refreshModel.bind(this,{step:z.j_r.MAP,keepRenderedRows:!0,animate:i});this.addManagedListener(this.gridOptionsWrapper,et.PROP_GROUP_REMOVE_SINGLE_CHILDREN,s),this.addManagedListener(this.gridOptionsWrapper,et.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,s),this.rootNode=new gt(this.beans),this.nodeManager=new Jc(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.gridApi,this.columnApi,this.selectionService,this.beans)},t.prototype.start=function(){var e=this.gridOptionsWrapper.getRowData();e&&this.setRowData(e)},t.prototype.ensureRowHeightsValid=function(e,i,n,s){var d,h=!1;do{d=!1;for(var O=this.getRowIndexAtPixel(e),L=this.getRowIndexAtPixel(i),j=Math.max(O,n),q=Math.min(L,s),J=j;J<=q;J++){var re=this.getRow(J);if(re.rowHeightEstimated){var me=this.gridOptionsWrapper.getRowHeightForNode(re);re.setRowHeight(me.height),d=!0,h=!0}}d&&this.setRowTopAndRowIndex()}while(d);return h},t.prototype.setRowTopAndRowIndex=function(){for(var e=this.gridOptionsWrapper.getDefaultRowHeight(),i=0,n=new Set,s=this.gridOptionsWrapper.getDomLayout()===ae.DOM_LAYOUT_NORMAL,d=0;d<this.rowsToDisplay.length;d++){var h=this.rowsToDisplay[d];if(null!=h.id&&n.add(h.id),null==h.rowHeight){var O=this.gridOptionsWrapper.getRowHeightForNode(h,s,e);h.setRowHeight(O.height,O.estimated)}h.setRowTop(i),h.setRowIndex(d),i+=h.rowHeight}return n},t.prototype.clearRowTopAndRowIndex=function(e,i){var n=e.isActive(),s=function(h){h&&null!=h.id&&!i.has(h.id)&&h.clearRowTopAndRowIndex()},d=function(h){s(h),s(h.detailNode),s(h.sibling),h.hasChildren()&&h.childrenAfterGroup&&(n&&-1!=h.level&&!h.expanded||h.childrenAfterGroup.forEach(d))};d(this.rootNode)},t.prototype.ensureRowsAtPixel=function(e,i,n){var s=this;void 0===n&&(n=0);var d=this.getRowIndexAtPixel(i),h=this.getRow(d),O=!this.gridOptionsWrapper.isSuppressAnimationFrame();return h!==e[0]&&(e.forEach(function(L){ct.removeFromArray(s.rootNode.allLeafChildren,L)}),e.forEach(function(L,j){ct.insertIntoArray(s.rootNode.allLeafChildren,L,Math.max(d+n,0)+j)}),this.refreshModel({step:z.j_r.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:O}),!0)},t.prototype.highlightRowAtPixel=function(e,i){var n=null!=i?this.getRowIndexAtPixel(i):null,s=null!=n?this.getRow(n):null;if(s&&e&&s!==e&&null!=i){var d=this.getHighlightPosition(i,s);this.lastHighlightedRow&&this.lastHighlightedRow!==s&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),s.setHighlighted(d),this.lastHighlightedRow=s}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},t.prototype.getHighlightPosition=function(e,i){if(!i){var n=this.getRowIndexAtPixel(e);if(!(i=this.getRow(n||0)))return z.oh5.Below}return e-i.rowTop<i.rowHeight/2?z.oh5.Above:z.oh5.Below},t.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},t.prototype.getTopLevelRowCount=function(){return this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode?1:this.rootNode.childrenAfterFilter?this.rootNode.childrenAfterFilter.length:0},t.prototype.getTopLevelRowDisplayedIndex=function(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;var n=this.rootNode.childrenAfterSort[e];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;n.expanded&&n.childrenAfterSort&&n.childrenAfterSort.length>0;)n=n.childrenAfterSort[0];return n.rowIndex},t.prototype.getRowBounds=function(e){if(ct.missing(this.rowsToDisplay))return null;var i=this.rowsToDisplay[e];return i?{rowTop:i.rowTop,rowHeight:i.rowHeight}:null},t.prototype.onRowGroupOpened=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:z.j_r.MAP,keepRenderedRows:!0,animate:e})},t.prototype.onFilterChanged=function(e){if(!e.afterDataChange){var i=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:z.j_r.FILTER,keepRenderedRows:!0,animate:i})}},t.prototype.onSortChanged=function(){var e=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:z.j_r.SORT,keepRenderedRows:!0,animate:e,keepEditingRows:!0})},t.prototype.getType=function(){return ae.ROW_MODEL_TYPE_CLIENT_SIDE},t.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:z.j_r.PIVOT}):this.refreshModel({step:z.j_r.AGGREGATE})},t.prototype.createChangePath=function(e){var i=ct.missingOrEmpty(e),n=new qr(!1,this.rootNode);return(i||this.gridOptionsWrapper.isTreeData())&&n.setInactive(),n},t.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(e){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction()||null==e.rowNodeTransactions)return!1;var i=e.rowNodeTransactions.filter(function(s){return null!=s.add&&s.add.length>0||null!=s.remove&&s.remove.length>0});return null==i||0==i.length},t.prototype.refreshModel=function(e){var i=this;if(!this.isSuppressModelUpdateAfterUpdateTransaction(e)){var n=this.createChangePath(e.rowNodeTransactions);switch(e.step){case z.j_r.EVERYTHING:this.doRowGrouping(e.groupState,e.rowNodeTransactions,e.rowNodeOrder,n,!!e.afterColumnsChanged);case z.j_r.FILTER:this.doFilter(n);case z.j_r.PIVOT:this.doPivot(n);case z.j_r.AGGREGATE:this.doAggregate(n);case z.j_r.SORT:this.doSort(e.rowNodeTransactions,n);case z.j_r.MAP:this.doRowsToDisplay()}var s=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(n,s),this.eventService.dispatchEvent({type:ue.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1}),this.$scope&&window.setTimeout(function(){i.$scope.$apply()},0)}},t.prototype.isEmpty=function(){var e=ct.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return ct.missing(this.rootNode)||e||!this.columnModel.isReady()},t.prototype.isRowsToRender=function(){return ct.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},t.prototype.getNodesInRangeForSelection=function(e,i){var d,n=!i,s=!1,h=[],O=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(L){var j=n&&!s;if(n||(L===i||L===e)&&(n=!0),!L.group||!O){var J=n&&!s,re=L.isParentOfNode(d);(J||re)&&h.push(L)}j&&(L===i||L===e)&&(s=!0,d=L===i?i:e)}),h},t.prototype.setDatasource=function(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")},t.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},t.prototype.getRootNode=function(){return this.rootNode},t.prototype.getRow=function(e){return this.rowsToDisplay[e]},t.prototype.isRowPresent=function(e){return this.rowsToDisplay.indexOf(e)>=0},t.prototype.getRowIndexAtPixel=function(e){if(this.isEmpty())return-1;var i=0,n=this.rowsToDisplay.length-1;if(e<=0)return 0;if(ct.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;for(;;){var d=Math.floor((i+n)/2),h=this.rowsToDisplay[d];if(this.isRowInPixel(h,e))return d;h.rowTop<e?i=d+1:h.rowTop>e&&(n=d-1)}},t.prototype.isRowInPixel=function(e,i){return e.rowTop<=i&&e.rowTop+e.rowHeight>i},t.prototype.forEachLeafNode=function(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(i,n){return e(i,n)})},t.prototype.forEachNode=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,e,Ui.Normal,0)},t.prototype.forEachNodeAfterFilter=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter,e,Ui.AfterFilter,0)},t.prototype.forEachNodeAfterFilterAndSort=function(e){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,e,Ui.AfterFilterAndSort,0)},t.prototype.forEachPivotNode=function(e){this.recursivelyWalkNodesAndCallback([this.rootNode],e,Ui.PivotNodes,0)},t.prototype.recursivelyWalkNodesAndCallback=function(e,i,n,s){if(!e)return s;for(var d=0;d<e.length;d++){var h=e[d];if(i(h,s++),h.hasChildren()){var O=null;switch(n){case Ui.Normal:O=h.childrenAfterGroup;break;case Ui.AfterFilter:O=h.childrenAfterFilter;break;case Ui.AfterFilterAndSort:O=h.childrenAfterSort;break;case Ui.PivotNodes:O=h.leafGroup?null:h.childrenAfterSort}O&&(s=this.recursivelyWalkNodesAndCallback(O,i,n,s))}}return s},t.prototype.doAggregate=function(e){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.expandOrCollapseAll=function(e){var i=this.gridOptionsWrapper.isTreeData();this.rootNode&&function n(h){!h||h.forEach(function(O){(i?ct.exists(O.childrenAfterGroup):O.group)&&(O.expanded=e,n(O.childrenAfterGroup))})}(this.rootNode.childrenAfterGroup),this.refreshModel({step:z.j_r.MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:ue.EVENT_EXPAND_COLLAPSE_ALL,source:e?"expandAll":"collapseAll"})},t.prototype.doSort=function(e,i){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:i})},t.prototype.doRowGrouping=function(e,i,n,s,d){this.groupStage?(i?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:i,rowNodeOrder:n,changedPath:s}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:s,afterColumnsChanged:d}),this.restoreGroupState(e)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(s)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},t.prototype.restoreGroupState=function(e){!e||ct.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(i,n){"boolean"==typeof e[n]&&(i.expanded=e[n])})},t.prototype.doFilter=function(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.doPivot=function(e){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:e})},t.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var e={};return ct.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(i,n){return e[n]=i.expanded}),e},t.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},t.prototype.getRowNode=function(e){if("string"==typeof e&&0==e.indexOf(gt.ID_PREFIX_ROW_GROUP)){var n=void 0;return this.forEachNode(function(s){s.id===e&&(n=s)}),n}return this.nodeManager.getRowNode(e)},t.prototype.setRowData=function(e){var i=this.getGroupState();this.nodeManager.setRowData(e),this.eventService.dispatchEvent({type:ue.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:z.j_r.EVERYTHING,groupState:i,newData:!0})},t.prototype.batchUpdateRowData=function(e,i){var n=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var s=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){n.executeBatchUpdateRowData()},s)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:i})},t.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},t.prototype.executeBatchUpdateRowData=function(){var e=this;this.valueCache.onDataChanged();var i=[],n=[],s=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(h){var O=e.nodeManager.updateRowData(h.rowDataTransaction,void 0);n.push(O),h.callback&&i.push(h.callback.bind(null,O)),"number"==typeof h.rowDataTransaction.addIndex&&(s=!0)}),this.commonUpdateRowData(n,void 0,s),i.length>0&&window.setTimeout(function(){i.forEach(function(h){return h()})},0),n.length>0){var d={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:ue.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:n};this.eventService.dispatchEvent(d)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},t.prototype.updateRowData=function(e,i){this.valueCache.onDataChanged();var n=this.nodeManager.updateRowData(e,i);return this.commonUpdateRowData([n],i,"number"==typeof e.addIndex),n},t.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var i={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var n=0;n<this.rootNode.allLeafChildren.length;n++)i[this.rootNode.allLeafChildren[n].id]=n;return i}},t.prototype.commonUpdateRowData=function(e,i,n){var s=!this.gridOptionsWrapper.isSuppressAnimationFrame();n&&(i=this.createRowNodeOrder()),this.refreshModel({step:z.j_r.EVERYTHING,rowNodeTransactions:e,rowNodeOrder:i,keepRenderedRows:!0,keepEditingRows:!0,animate:s}),this.eventService.dispatchEvent({type:ue.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},t.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},t.prototype.onRowHeightChanged=function(){this.refreshModel({step:z.j_r.MAP,keepRenderedRows:!0,keepEditingRows:!0})},t.prototype.resetRowHeights=function(){var e=!1;this.forEachNode(function(i){i.setRowHeight(i.rowHeight,!0);var n=i.detailNode;n&&n.setRowHeight(n.rowHeight,!0),e=!0}),e&&this.onRowHeightChanged()},ui([Q("columnModel")],t.prototype,"columnModel",void 0),ui([Q("$scope")],t.prototype,"$scope",void 0),ui([Q("selectionService")],t.prototype,"selectionService",void 0),ui([Q("valueCache")],t.prototype,"valueCache",void 0),ui([Q("columnApi")],t.prototype,"columnApi",void 0),ui([Q("gridApi")],t.prototype,"gridApi",void 0),ui([Q("animationFrameService")],t.prototype,"animationFrameService",void 0),ui([Q("beans")],t.prototype,"beans",void 0),ui([Q("filterStage")],t.prototype,"filterStage",void 0),ui([Q("sortStage")],t.prototype,"sortStage",void 0),ui([Q("flattenStage")],t.prototype,"flattenStage",void 0),ui([it("groupStage")],t.prototype,"groupStage",void 0),ui([it("aggregationStage")],t.prototype,"aggregationStage",void 0),ui([it("pivotStage")],t.prototype,"pivotStage",void 0),ui([be],t.prototype,"init",null),ui([je("rowModel")],t)}(Ze),Za=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),qa=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Sv=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return Za(t,a),t.prototype.execute=function(e){var i=e.rowNode;this.filterService.filter(e.changedPath),this.selectableService.updateSelectableAfterFiltering(i)},qa([Q("selectableService")],t.prototype,"selectableService",void 0),qa([Q("filterService")],t.prototype,"filterService",void 0),qa([je("filterStage")],t)}(Ze),Ss=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),_o=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Av=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return Ss(t,a),t.prototype.execute=function(e){var i=this.sortController.getSortOptions(),n=ct.exists(i)&&i.length>0,s=n&&ct.exists(e.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),d=s?this.calculateDirtyNodes(e.rowNodeTransactions):null,h=ct.missingOrEmpty(this.columnModel.getValueColumns()),O=i.some(function(L){return!!L.column.getColDef().showRowGroup});this.sortService.sort(i,n,s,d,e.changedPath,h,O)},t.prototype.calculateDirtyNodes=function(e){var i={},n=function(s){s&&s.forEach(function(d){return i[d.id]=!0})};return e&&e.forEach(function(s){n(s.add),n(s.update),n(s.remove)}),i},_o([Q("sortService")],t.prototype,"sortService",void 0),_o([Q("sortController")],t.prototype,"sortController",void 0),_o([Q("columnModel")],t.prototype,"columnModel",void 0),_o([je("sortStage")],t)}(Ze),mp=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),As=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Rv=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return mp(t,a),t.prototype.execute=function(e){var i=e.rowNode,n=[],s={value:0},d=this.columnModel.isPivotMode(),h=d&&i.leafGroup;return this.recursivelyAddToRowsToDisplay(h?[i]:i.childrenAfterSort,n,s,d,0),!h&&n.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(i),this.addRowNodeToRowsToDisplay(i.sibling,n,s,0)),n},t.prototype.recursivelyAddToRowsToDisplay=function(e,i,n,s,d){if(!ct.missingOrEmpty(e))for(var h=this.gridOptionsWrapper.isGroupHideOpenParents(),O=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),L=!O&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),j=0;j<e.length;j++){var q=e[j],J=q.hasChildren(),me=O&&J&&1===q.childrenAfterGroup.length,Ae=L&&J&&q.leafGroup&&1===q.childrenAfterGroup.length;if(!(s&&!J||h&&q.expanded&&(!s||!q.leafGroup)||me||Ae)&&this.addRowNodeToRowsToDisplay(q,i,n,d),!s||!q.leafGroup)if(J){var $e=me||Ae;(q.expanded||$e)&&(this.recursivelyAddToRowsToDisplay(q.childrenAfterSort,i,n,s,$e?d:d+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(q),this.addRowNodeToRowsToDisplay(q.sibling,i,n,d)))}else if(q.master&&q.expanded){var ot=this.createDetailNode(q);this.addRowNodeToRowsToDisplay(ot,i,n,d)}}},t.prototype.addRowNodeToRowsToDisplay=function(e,i,n,s){var d=this.gridOptionsWrapper.isGroupMultiAutoColumn();i.push(e),e.setUiLevel(d?0:s)},t.prototype.ensureFooterNodeExists=function(e){if(!ct.exists(e.sibling)){var i=new gt(this.beans);Object.keys(e).forEach(function(n){i[n]=e[n]}),i.footer=!0,i.setRowTop(null),i.setRowIndex(null),i.oldRowTop=null,ct.exists(i.id)&&(i.id="rowGroupFooter_"+i.id),i.sibling=e,e.sibling=i}},t.prototype.createDetailNode=function(e){if(ct.exists(e.detailNode))return e.detailNode;var i=new gt(this.beans);return i.detail=!0,i.selectable=!1,i.parent=e,ct.exists(e.id)&&(i.id="detail_"+e.id),i.data=e.data,i.level=e.level+1,e.detailNode=i,i},As([Q("columnModel")],t.prototype,"columnModel",void 0),As([Q("beans")],t.prototype,"beans",void 0),As([je("flattenStage")],t)}(Ze),vp=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ka=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},lC=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return vp(t,a),t.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},t.prototype.sort=function(e,i,n,s,d,h,O){var L=this,j=this.gridOptionsWrapper.isGroupMaintainOrder(),q=this.columnModel.getAllGridColumns().some(function(re){return re.isRowGroupActive()});d&&d.forEachChangedNodeDepthFirst(function(re){L.pullDownGroupDataForHideOpenParents(re.childrenAfterFilter,!0),re.childrenAfterSort=i?j&&q&&!re.leafGroup&&!O?re.childrenAfterFilter.slice(0):n?L.doDeltaSort(re,e,s,d,h):L.rowNodeSorter.doFullSort(re.childrenAfterFilter,e):re.childrenAfterFilter.slice(0),re.sibling&&(re.sibling.childrenAfterSort=re.childrenAfterSort),L.updateChildIndexes(re),L.postSortFunc&&L.postSortFunc(re.childrenAfterSort)}),this.updateGroupDataForHideOpenParents(d)},t.prototype.mapNodeToSortedNode=function(e,i){return{currentPos:i,rowNode:e}},t.prototype.doDeltaSort=function(e,i,n,s,d){var h=e.childrenAfterSort.filter(function(q){var J=!n[q.id],re=d||s&&s.canSkip(q);return J&&re}).map(this.mapNodeToSortedNode.bind(this)),O={};h.forEach(function(q){return O[q.rowNode.id]=q.rowNode});var L=e.childrenAfterFilter.filter(function(q){return!O[q.id]}).map(this.mapNodeToSortedNode.bind(this));return L.sort(this.rowNodeSorter.compareRowNodes.bind(this,i)),(0===L.length?h:0===h.length?L:this.mergeSortedArrays(i,h,L)).map(function(q){return q.rowNode})},t.prototype.mergeSortedArrays=function(e,i,n){for(var s=[],d=0,h=0;d<i.length&&h<n.length;){var O=this.rowNodeSorter.compareRowNodes(e,i[d],n[h]);s.push(O<0?i[d++]:n[h++])}for(;d<i.length;)s.push(i[d++]);for(;h<n.length;)s.push(n[h++]);return s},t.prototype.updateChildIndexes=function(e){if(!ct.missing(e.childrenAfterSort))for(var i=e.childrenAfterSort,n=0;n<i.length;n++){var s=i[n],h=n===e.childrenAfterSort.length-1;s.setFirstChild(0===n),s.setLastChild(h),s.setChildIndex(n)}},t.prototype.updateGroupDataForHideOpenParents=function(e){var i=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData())return ct.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var s=function(d){i.pullDownGroupDataForHideOpenParents(d.childrenAfterSort,!1),d.childrenAfterSort.forEach(function(h){h.hasChildren()&&s(h)})};e&&e.executeFromRootNode(function(d){return s(d)})}},t.prototype.pullDownGroupDataForHideOpenParents=function(e,i){var n=this;!this.gridOptionsWrapper.isGroupHideOpenParents()||ct.missing(e)||e.forEach(function(s){n.columnModel.getGroupDisplayColumns().forEach(function(h){var O=h.getColDef().showRowGroup;if("string"==typeof O){var j=n.columnModel.getPrimaryColumn(O);if(j!==s.rowGroupColumn)if(i)s.setGroupValue(h.getId(),void 0);else{var J=s.getFirstChildOfFirstChild(j);J&&s.setGroupValue(h.getId(),J.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},Ka([Q("columnModel")],t.prototype,"columnModel",void 0),Ka([Q("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),Ka([be],t.prototype,"init",null),Ka([je("sortService")],t)}(Ze),Dv=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Xc=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},yp=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return Dv(t,a),t.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},t.prototype.filter=function(e){var i=this.filterManager.isAnyFilterPresent();this.filterNodes(i,e)},t.prototype.filterNodes=function(e,i){var n=this,s=function(L,j){L.hasChildren()?(L.childrenAfterFilter=e&&!j?L.childrenAfterGroup.filter(function(q){var J=q.childrenAfterFilter&&q.childrenAfterFilter.length>0,re=q.data&&n.filterManager.doesRowPassFilter({rowNode:q});return J||re}):L.childrenAfterGroup,n.setAllChildrenCount(L)):(L.childrenAfterFilter=L.childrenAfterGroup,L.setAllChildrenCount(null)),L.sibling&&(L.sibling.childrenAfterFilter=L.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var d=function(L,j){if(L.childrenAfterGroup)for(var q=0;q<L.childrenAfterGroup.length;q++){var J=L.childrenAfterGroup[q],re=j||n.filterManager.doesRowPassFilter({rowNode:J});J.childrenAfterGroup?d(L.childrenAfterGroup[q],re):s(J,re)}s(L,j)};i.executeFromRootNode(function(L){return d(L,!1)})}else i.forEachChangedNodeDepthFirst(function(L){return s(L,!1)},!0)},t.prototype.setAllChildrenCountTreeData=function(e){var i=0;e.childrenAfterFilter.forEach(function(n){i++,i+=n.allChildrenCount}),e.setAllChildrenCount(i)},t.prototype.setAllChildrenCountGridGrouping=function(e){var i=0;e.childrenAfterFilter.forEach(function(n){n.group?i+=n.allChildrenCount:i++}),e.setAllChildrenCount(i)},t.prototype.setAllChildrenCount=function(e){this.doingTreeData?this.setAllChildrenCountTreeData(e):this.setAllChildrenCountGridGrouping(e)},t.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},Xc([Q("filterManager")],t.prototype,"filterManager",void 0),Xc([be],t.prototype,"postConstruct",null),Xc([je("filterService")],t)}(Ze),xv=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Co=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Ya=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return xv(t,a),t.prototype.postConstruct=function(){this.rowModel.getType()===ae.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},t.prototype.isActive=function(){return this.gridOptionsWrapper.isImmutableData()},t.prototype.setRowData=function(e){var i=this.createTransactionForRowData(e);if(i){var n=function(a,t){var e="function"==typeof Symbol&&a[Symbol.iterator];if(!e)return a;var n,d,i=e.call(a),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(h){d={error:h}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(d)throw d.error}}return s}(i,2),h=this.clientSideRowModel.updateRowData(n[0],n[1]);h&&this.rowRenderer.refreshFullWidthRows(h.update)}},t.prototype.createTransactionForRowData=function(e){var i=this;if(ct.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var n=this.gridOptionsWrapper.getRowIdFunc();if(null!=n){var s={remove:[],update:[],add:[]},d=this.clientSideRowModel.getCopyOfNodesMap(),O=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?void 0:{};return ct.exists(e)&&e.forEach(function(L,j){var q=n({data:L,level:0,api:i.gridApi,columnApi:i.columnApi}),J=d[q];O&&(O[q]=j),J?(J.data!==L&&s.update.push(L),d[q]=void 0):s.add.push(L)}),ct.iterateObject(d,function(L,j){j&&s.remove.push(j.data)}),[s,O]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},Co([Q("rowModel")],t.prototype,"rowModel",void 0),Co([Q("rowRenderer")],t.prototype,"rowRenderer",void 0),Co([Q("columnApi")],t.prototype,"columnApi",void 0),Co([Q("gridApi")],t.prototype,"gridApi",void 0),Co([be],t.prototype,"postConstruct",null),Co([je("immutableService")],t)}(Ze),Ov={moduleName:z.GXE.ClientSideRowModelModule,beans:[Sv,Av,Rv,lC,yp,Ya],rowModels:{clientSide:Ev}},tu=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),iu=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Qa=function(a){function t(e,i,n){var s=a.call(this,e)||this;return s.parentCache=i,s.params=n,s.startRow=e*n.blockSize,s.endRow=s.startRow+n.blockSize,s}return tu(t,a),t.prototype.postConstruct=function(){this.createRowNodes()},t.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},t.prototype.setDataAndId=function(e,i,n){!e.id&&e.alreadyRendered&&(e.alreadyRendered=!1),ct.exists(i)?e.setDataAndId(i,n.toString()):e.setDataAndId(void 0,void 0)},t.prototype.loadFromDatasource=function(){var e=this,i=this.createLoadParams();ct.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){e.params.datasource.getRows(i)},0)},t.prototype.processServerFail=function(){},t.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},t.prototype.forEachNode=function(e,i,n){var s=this;this.rowNodes.forEach(function(d,h){s.startRow+h<n&&e(d,i.next())})},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRow=function(e,i){return void 0===i&&(i=!1),i||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[e-this.startRow]},t.prototype.getStartRow=function(){return this.startRow},t.prototype.getEndRow=function(){return this.endRow},t.prototype.createRowNodes=function(){this.rowNodes=[];for(var e=0;e<this.params.blockSize;e++){var i=this.startRow+e,n=new gt(this.beans);n.setRowHeight(this.params.rowHeight),n.uiLevel=0,n.setRowIndex(i),n.setRowTop(this.params.rowHeight*i),this.rowNodes.push(n)}},t.prototype.processServerResult=function(e){var i=this;this.rowNodes.forEach(function(s,d){i.setDataAndId(s,e.rowData?e.rowData[d]:void 0,i.startRow+d)}),this.parentCache.pageLoaded(this,null!=e.rowCount&&e.rowCount>=0?e.rowCount:void 0)},t.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(e){e.clearRowTopAndRowIndex()})},iu([Q("beans")],t.prototype,"beans",void 0),iu([be],t.prototype,"postConstruct",null),iu([Xe],t.prototype,"destroyRowNodes",null),t}(Be),Tv=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),Ct=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Fv=function(a,t){return function(e,i){t(e,i,a)}},nu=function(a){function t(e){var i=a.call(this)||this;return i.lastRowIndexKnown=!1,i.blocks={},i.blockCount=0,i.rowCount=e.initialRowCount,i.params=e,i}return Tv(t,a),t.prototype.setBeans=function(e){this.logger=e.create("InfiniteCache")},t.prototype.getRow=function(e,i){void 0===i&&(i=!1);var n=Math.floor(e/this.params.blockSize),s=this.blocks[n];if(!s){if(i)return;s=this.createBlock(n)}return s.getRow(e)},t.prototype.createBlock=function(e){var i=this.createBean(new Qa(e,this,this.params));return this.blocks[i.getId()]=i,this.blockCount++,this.purgeBlocksIfNeeded(i),this.params.rowNodeBlockLoader.addBlock(i),i},t.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(i){return i.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(i){return e.destroyBlock(i)})},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.pageLoaded=function(e,i){!this.isAlive()||(this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+i),this.checkRowCount(e,i),this.onCacheUpdated())},t.prototype.purgeBlocksIfNeeded=function(e){var i=this,n=this.getBlocksInOrder().filter(function(L){return L!=e});n.sort(function(L,j){return j.getLastAccessed()-L.getLastAccessed()});var d=this.params.maxBlocksInCache>0,h=d?this.params.maxBlocksInCache-1:null,O=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;n.forEach(function(L,j){if(L.getState()===Qa.STATE_WAITING_TO_LOAD&&j>=O||d&&j>=h){if(i.isBlockCurrentlyDisplayed(L)||i.isBlockFocused(L))return;i.removeBlockFromCache(L)}})},t.prototype.isBlockFocused=function(e){var i=this.focusService.getFocusCellToUseAfterRefresh();if(!i||null!=i.rowPinned)return!1;var n=e.getStartRow(),s=e.getEndRow();return i.rowIndex>=n&&i.rowIndex<s},t.prototype.isBlockCurrentlyDisplayed=function(e){var i=e.getStartRow(),n=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(i,n)},t.prototype.removeBlockFromCache=function(e){!e||this.destroyBlock(e)},t.prototype.checkRowCount=function(e,i){if("number"==typeof i&&i>=0)this.rowCount=i,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var s=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<s&&(this.rowCount=s)}},t.prototype.setRowCount=function(e,i){this.rowCount=e,ct.exists(i)&&(this.lastRowIndexKnown=i),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},t.prototype.forEachNodeDeep=function(e){var i=this,n=new Wr;this.getBlocksInOrder().forEach(function(s){return s.forEachNode(e,n,i.rowCount)})},t.prototype.getBlocksInOrder=function(){return ct.getAllValuesInObject(this.blocks).sort(function(n,s){return n.getId()-s.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)},t.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:ue.EVENT_STORE_UPDATED}))},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,i=[];this.getBlocksInOrder().forEach(function(n){n.getId()*e.params.blockSize>=e.rowCount&&i.push(n)}),i.length>0&&i.forEach(function(n){return e.destroyBlock(n)})},t.prototype.purgeCache=function(){var e=this;this.getBlocksInOrder().forEach(function(i){return e.removeBlockFromCache(i)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},t.prototype.getRowNodesInRange=function(e,i){var n=this,s=[],d=-1,h=!1,O=new Wr;ct.missing(e)&&(h=!0);var L=!1;return this.getBlocksInOrder().forEach(function(q){if(!L){if(h&&d+1!==q.getId())return void(L=!0);d=q.getId(),q.forEachNode(function(J){var re=J===e||J===i;(h||re)&&s.push(J),re&&(h=!h)},O,n.rowCount)}}),L||h?[]:s},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,Ct([Q("rowRenderer")],t.prototype,"rowRenderer",void 0),Ct([Q("focusService")],t.prototype,"focusService",void 0),Ct([Fv(0,Et("loggerFactory"))],t.prototype,"setBeans",null),Ct([Xe],t.prototype,"destroyAllBlocks",null),t}(Ze),Pv=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),un=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},zi=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return Pv(t,a),t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.ensureRowHeightsValid=function(e,i,n,s){return!1},t.prototype.init=function(){var e=this;!this.gridOptionsWrapper.isRowModelInfinite()||(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return e.destroyCache()}),this.verifyProps())},t.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getDefaultGroupOrderComparator()&&ct.doOnce(function(){return console.warn("AG Grid: defaultGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.DefaultGroupOrderComparator")},t.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},t.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,ue.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,ue.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},t.prototype.onFilterChanged=function(){this.reset()},t.prototype.onSortChanged=function(){this.reset()},t.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},t.prototype.isSortModelDifferent=function(){return!ct.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},t.prototype.getType=function(){return ae.ROW_MODEL_TYPE_INFINITE},t.prototype.setDatasource=function(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()},t.prototype.isEmpty=function(){return!this.infiniteCache},t.prototype.isRowsToRender=function(){return!!this.infiniteCache},t.prototype.getNodesInRangeForSelection=function(e,i){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,i):[]},t.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsWrapper.getRowIdFunc()||this.selectionService.reset(),this.resetCache();var n=this.createModelUpdatedEvent();this.eventService.dispatchEvent(n)}},t.prototype.createModelUpdatedEvent=function(){return{type:ue.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},t.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new Wr},this.infiniteCache=this.createBean(new nu(this.cacheParams))},t.prototype.defaultIfInvalid=function(e,i){return e>0?e:i},t.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},t.prototype.onCacheUpdated=function(){var e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)},t.prototype.getRow=function(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)},t.prototype.getRowNode=function(e){var i;return this.forEachNode(function(n){n.id===e&&(i=n)}),i},t.prototype.forEachNode=function(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.getRowIndexAtPixel=function(e){if(0!==this.rowHeight){var i=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return i>n?n:i}return 0},t.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},t.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},t.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},t.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},t.prototype.setRowCount=function(e,i){this.infiniteCache&&this.infiniteCache.setRowCount(e,i)},un([Q("filterManager")],t.prototype,"filterManager",void 0),un([Q("sortController")],t.prototype,"sortController",void 0),un([Q("selectionService")],t.prototype,"selectionService",void 0),un([Q("gridApi")],t.prototype,"gridApi",void 0),un([Q("columnApi")],t.prototype,"columnApi",void 0),un([Q("rowRenderer")],t.prototype,"rowRenderer",void 0),un([Q("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),un([be],t.prototype,"init",null),un([Xe],t.prototype,"destroyDatasource",null),un([je("rowModel")],t)}(Ze),Mv={moduleName:z.GXE.InfiniteRowModelModule,rowModels:{infinite:zi}},ru=function(){function a(){}return a.prototype.setBeans=function(t){this.beans=t},a.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return(null==t||!t.length)&&(t=this.getDefaultFileName()),-1===t.indexOf(".")?t+"."+e:t},a.prototype.getData=function(t){var e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)},a}(),_p=function(){function a(t){this.groupColumns=[];var i=t.valueService,n=t.gridOptionsWrapper,s=t.processCellCallback,d=t.processHeaderCallback,h=t.processGroupHeaderCallback,O=t.processRowGroupCallback;this.columnModel=t.columnModel,this.valueService=i,this.gridOptionsWrapper=n,this.processCellCallback=s,this.processHeaderCallback=d,this.processGroupHeaderCallback=h,this.processRowGroupCallback=O}return a.prototype.prepare=function(t){this.groupColumns=t.filter(function(e){return!!e.getColDef().showRowGroup})},a.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return null!=e?e:""},a.prototype.extractRowCellValue=function(t,e,i,n,s){var O,d=this.gridOptionsWrapper.isGroupMultiAutoColumn()?s.rowGroupIndex:0;O=s&&s.group&&(e===d&&-1!==this.groupColumns.indexOf(t)||0===e&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(s):this.valueService.getValue(t,s);var L=this.processCell(i,s,t,O,this.processCellCallback,n);return null!=L?L:""},a.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},a.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var e=[t.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;t.parent;)e.push((t=t.parent).key);return e.reverse().join(" -> ")},a.prototype.processCell=function(t,e,i,n,s,d){return s?s({accumulatedRowIndex:t,column:i,node:e,value:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:d}):null!=n?n:""},a}(),Ja=function(){function a(){}return a.download=function(t,e){var i=document.defaultView||window;if(i){var n=document.createElement("a"),s=i.URL.createObjectURL(e);n.setAttribute("href",s),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:i})),document.body.removeChild(n),i.setTimeout(function(){i.URL.revokeObjectURL(s)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},a}(),Rs=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),cC=function(a){function t(e){var i=a.call(this,e)||this;i.isFirstLine=!0,i.result="";var s=e.columnSeparator;return i.suppressQuotes=e.suppressQuotes,i.columnSeparator=s,i}return Rs(t,a),t.prototype.addCustomContent=function(e){var i=this;!e||("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(function(n){i.beginNewLine(),n.forEach(function(s,d){0!==d&&(i.result+=i.columnSeparator),i.result+=i.putInQuotes(s.data.value||""),s.mergeAcross&&i.appendEmptyCells(s.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,i,n){0!=i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(n)},t.prototype.appendEmptyCells=function(e){for(var i=1;i<=e;i++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,i){0!=i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,i,n){0!=i&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,i,i,ae.EXPORT_TYPE_CSV,n))},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null==e?'""':("string"==typeof e?i=e:"function"==typeof e.toString?i=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),i=""),'"'+i.replace(/"/g,'""')+'"');var i},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(_p),uC=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),wo=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s},Cp=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return uC(t,a),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getMergedParams=function(e){var i=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},i,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var i=this.getMergedParams(e),n=this.getData(i),s=new Blob(["\ufeff",n],{type:"text/plain"});return Ja.download(this.getFileName(i.fileName),s),n},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e){var i=this.getMergedParams(e);return this.getData(i)},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var i=this;return new cC({columnModel:i.columnModel,valueService:i.valueService,gridOptionsWrapper:i.gridOptionsWrapper,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,processRowGroupCallback:e.processRowGroupCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},wo([Q("columnModel")],t.prototype,"columnModel",void 0),wo([Q("valueService")],t.prototype,"valueService",void 0),wo([Q("gridSerializer")],t.prototype,"gridSerializer",void 0),wo([Q("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),wo([be],t.prototype,"postConstruct",null),wo([je("csvCreator")],t)}(ru),Iv=function(){var a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var s in n)n.hasOwnProperty(s)&&(i[s]=n[s])})(t,e)};return function(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),bo=function(a,t,e,i){var d,n=arguments.length,s=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(a,t,e,i);else for(var h=a.length-1;h>=0;h--)(d=a[h])&&(s=(n<3?d(s):n>3?d(t,e,s):d(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s};!function(a){a[a.HEADER_GROUPING=0]="HEADER_GROUPING",a[a.HEADER=1]="HEADER",a[a.BODY=2]="BODY"}(z.aCu||(z.aCu={}));var wp=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return Iv(t,a),t.prototype.serialize=function(e,i){void 0===i&&(i={});var n=this.getColumnsToExport(i.allColumns,i.columnKeys);return ct.compose(this.prepareSession(n),this.prependContent(i),this.exportColumnGroups(i,n),this.exportHeaders(i,n),this.processPinnedTopRows(i,n),this.processRows(i,n),this.processPinnedBottomRows(i,n),this.appendContent(i))(e).parse()},t.prototype.processRow=function(e,i,n,s){var d=this,h=i.shouldRowBeSkipped||function(){return!1},O=this.gridOptionsWrapper,L=O.getContext(),j=O.getApi(),q=O.getColumnApi(),J=O.isGroupRemoveSingleChildren(),re=O.isGroupHideOpenParents(),me=O.isGroupRemoveLowestSingleChildren(),Ae=this.columnModel.isPivotMode()?s.leafGroup:!s.group,Ve=1===s.allChildrenCount&&(J||me&&s.leafGroup);(i.skipGroups||i.skipRowGroups)&&i.skipGroups&&ct.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups");var $e={rowIndex:s.rowIndex,rowPinned:s.rowPinned};if(!(!Ae&&(i.skipRowGroups||Ve||re)||i.onlySelected&&!s.isSelected()||i.rowNodes&&!i.rowNodes.some(function(ut){return d.rowPositionUtils.sameRow(ut,$e)})||i.skipPinnedTop&&"top"===s.rowPinned||i.skipPinnedBottom&&"bottom"===s.rowPinned)&&(-1!==s.level||s.leafGroup)&&!h({node:s,api:j,context:L})){var mt=e.onNewBodyRow();if(n.forEach(function(ut,St){mt.onColumn(ut,St,s)}),i.getCustomContentBelowRow){var ft=i.getCustomContentBelowRow({node:s,api:j,columnApi:q,context:L});ft&&e.addCustomContent(ft)}}},t.prototype.appendContent=function(e){return function(i){var n=e.customFooter||e.appendContent;return n&&(e.customFooter&&ct.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),i.addCustomContent(n)),i}},t.prototype.prependContent=function(e){return function(i){var n=e.customHeader||e.prependContent;return n&&(e.customHeader&&ct.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),i.addCustomContent(n)),i}},t.prototype.prepareSession=function(e){return function(i){return i.prepare(e),i}},t.prototype.exportColumnGroups=function(e,i){var n=this;return function(s){if(e.skipColumnGroupHeaders)e.columnGroups&&ct.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var d=new pl,h=n.displayedGroupCreator.createDisplayedGroups(i,n.columnModel.getGridBalancedTree(),d,null);n.recursivelyAddHeaderGroups(h,s,e.processGroupHeaderCallback)}return s}},t.prototype.exportHeaders=function(e,i){return function(n){if(e.skipHeader||e.skipColumnHeaders)e.skipHeader&&ct.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var s=n.onNewHeaderRow();i.forEach(function(d,h){s.onColumn(d,h,void 0)})}return n}},t.prototype.processPinnedTopRows=function(e,i){var n=this;return function(s){var d=n.processRow.bind(n,s,e,i);return n.pinnedRowModel.forEachPinnedTopRow(d),s}},t.prototype.processRows=function(e,i){var n=this;return function(s){var d=n.rowModel,h=d.getType(),O=h===ae.ROW_MODEL_TYPE_CLIENT_SIDE,L=h===ae.ROW_MODEL_TYPE_SERVER_SIDE,j=!O&&e.onlySelected,q=n.processRow.bind(n,s,e,i);return n.columnModel.isPivotMode()?O?d.forEachPivotNode(q):d.forEachNode(q):e.onlySelectedAllPages||j?n.selectionService.getSelectedNodes().forEach(q):O||L?d.forEachNodeAfterFilterAndSort(q):d.forEachNode(q),s}},t.prototype.processPinnedBottomRows=function(e,i){var n=this;return function(s){var d=n.processRow.bind(n,s,e,i);return n.pinnedRowModel.forEachPinnedBottomRow(d),s}},t.prototype.getColumnsToExport=function(e,i){void 0===e&&(e=!1);var n=this.columnModel.isPivotMode();return i&&i.length?this.columnModel.getGridColumns(i):e&&!n?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([ae.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},t.prototype.recursivelyAddHeaderGroups=function(e,i,n){var s=[];e.forEach(function(d){!d.getChildren||d.getChildren().forEach(function(O){return s.push(O)})}),e.length>0&&e[0]instanceof Jt&&this.doAddHeaderHeader(i,e,n),s&&s.length>0&&this.recursivelyAddHeaderGroups(s,i,n)},t.prototype.doAddHeaderHeader=function(e,i,n){var s=this,d=e.onNewHeaderGroupingRow(),h=0;i.forEach(function(O){var j,L=O;j=n?n({columnGroup:L,api:s.gridOptionsWrapper.getApi(),columnApi:s.gridOptionsWrapper.getColumnApi(),context:s.gridOptionsWrapper.getContext()}):s.columnModel.getDisplayNameForColumnGroup(L,"header");var q=L.getLeafColumns().reduce(function(J,re,me,Ae){var Pe=ct.last(J);return"open"===re.getColumnGroupShow()?(!Pe||null!=Pe[1])&&J.push(Pe=[me]):Pe&&null==Pe[1]&&(Pe[1]=me-1),me===Ae.length-1&&Pe&&null==Pe[1]&&(Pe[1]=me),J},[]);d.onColumn(j||"",h++,L.getLeafColumns().length-1,q)})},bo([Q("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),bo([Q("columnModel")],t.prototype,"columnModel",void 0),bo([Q("rowModel")],t.prototype,"rowModel",void 0),bo([Q("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),bo([Q("selectionService")],t.prototype,"selectionService",void 0),bo([Q("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),bo([je("gridSerializer")],t)}(Ze),bp={moduleName:z.GXE.CsvExportModule,beans:[Cp,wp]},Sp=(function(){function a(){}a.createHeader=function(t){void 0===t&&(t={});var n=["version"];return t.version||(t.version="1.0"),t.encoding&&n.push("encoding"),t.standalone&&n.push("standalone"),"<?xml "+n.map(function(d){return d+'="'+t[d]+'"'}).join(" ")+" ?>"},a.createXml=function(t,e){var i=this,n="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach(function(d){Object.keys(d.map).forEach(function(h){n+=i.returnAttributeIfPopulated(d.prefix+h,d.map[h],e)})}),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach(function(d){n+=i.returnAttributeIfPopulated(d,t.properties.rawMap[d],e)}));var s="<"+t.name+n;return t.children||null!=t.textNode?null!=t.textNode?s+">"+t.textNode+"</"+t.name+">\r\n":(s+=">\r\n",t.children&&t.children.forEach(function(d){s+=i.createXml(d,e)}),s+"</"+t.name+">\r\n"):s+"/>\r\n"},a.returnAttributeIfPopulated=function(t,e,i){if(!e&&""!==e&&0!==e)return"";var n=e;return"boolean"==typeof e&&i&&(n=i(e))," "+t+'="'+n+'"'}}(),new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]));!function(){function a(){}a.addFolders=function(t){t.forEach(this.addFolder.bind(this))},a.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1})},a.addFile=function(t,e,i){void 0===i&&(i=!1),this.files.push({path:t,created:new Date,content:e,isBase64:i})},a.getContent=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream(),i=this.buildUint8Array(e);return this.clearStream(),new Blob([i],{type:t})},a.clearStream=function(){this.folders=[],this.files=[]},a.buildFileStream=function(t){var e,i;void 0===t&&(t="");var n=this.folders.concat(this.files),s=n.length,d="",h=0,O=0;try{for(var L=function(a){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&a[t],i=0;if(e)return e.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&i>=a.length&&(a=void 0),{value:a&&a[i++],done:!a}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),j=L.next();!j.done;j=L.next()){var J=this.getHeader(j.value,h),re=J.fileHeader,me=J.folderHeader,Ae=J.content;h+=re.length+Ae.length,O+=me.length,t+=re+Ae,d+=me}}catch(We){e={error:We}}finally{try{j&&!j.done&&(i=L.return)&&i.call(L)}finally{if(e)throw e.error}}return t+d+this.buildFolderEnd(s,O,h)},a.getHeader=function(t,e){var i=t.content,n=t.path,s=t.created,d=t.isBase64,O=ct.decToHex,L=(0,ct.utf8_encode)(n),j=L!==n,q=this.convertTime(s),J=this.convertDate(s),re="";if(j){var me=O(1,1)+O(this.getFromCrc32Table(L),4)+L;re="up"+O(me.length,2)+me}var Ae=i?this.getConvertedContent(i,d):{size:0,content:""},Pe=Ae.size,We=Ae.content,Ve="\n\0"+(j?"\0\b":"\0\0")+"\0\0"+O(q,2)+O(J,2)+O(Pe?this.getFromCrc32Table(We):0,4)+O(Pe,4)+O(Pe,4)+O(L.length,2)+O(re.length,2);return{fileHeader:"PK\x03\x04"+Ve+L+re,folderHeader:"PK\x01\x02\x14\0"+Ve+"\0\0\0\0\0\0"+(i?"\0\0\0\0":"\x10\0\0\0")+O(e,4)+L+re,content:We||""}},a.getConvertedContent=function(t,e){return void 0===e&&(e=!1),e&&(t=t.split(";base64,")[1]),{size:(t=e?atob(t):t).length,content:t}},a.buildFolderEnd=function(t,e,i){var n=ct.decToHex;return"PK\x05\x06\0\0\0\0"+n(t,2)+n(t,2)+n(e,4)+n(i,4)+"\0\0"},a.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),i=0;i<e.length;i++)e[i]=t.charCodeAt(i);return e},a.getFromCrc32Table=function(t){if(!t.length)return 0;for(var e=t.length,i=new Uint8Array(e),n=0;n<e;n++)i[n]=t.charCodeAt(n);var s=-1;for(n=0;n<e;n++)s=s>>>8^Sp[255&(s^i[n])];return-1^s},a.convertTime=function(t){var e=t.getHours();return e<<=6,e|=t.getMinutes(),(e<<=5)|t.getSeconds()/2},a.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,(e<<=5)|t.getDate()},a.folders=[],a.files=[]}();ze.register(Ov,!1),ze.register(Mv,!1),ze.register(bp,!1),z.j_S=wi,z.Nk3=wv,z.plv=On,z.rjZ=Sr,z.vA3=xc},5793:Te=>{function z(w){this.ms=(w=w||{}).min||100,this.max=w.max||1e4,this.factor=w.factor||2,this.jitter=w.jitter>0&&w.jitter<=1?w.jitter:0,this.attempts=0}Te.exports=z,z.prototype.duration=function(){var w=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var H=Math.random(),W=Math.floor(H*this.jitter*w);w=0==(1&Math.floor(10*H))?w-W:w+W}return 0|Math.min(w,this.max)},z.prototype.reset=function(){this.attempts=0},z.prototype.setMin=function(w){this.ms=w},z.prototype.setMax=function(w){this.max=w},z.prototype.setJitter=function(w){this.jitter=w}},2915:()=>{ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],function(Te,z,w){"use strict";var H=Te("../lib/dom"),W=Te("../lib/lang"),E=Te("../lib/event"),r=Te("../keyboard/hash_handler").HashHandler,F=Te("../lib/keys");H.importCssString('.ace_search {background-color: #ddd;color: #666;border: 1px solid #cbcbcb;border-top: 0 none;overflow: hidden;margin: 0;padding: 4px 6px 0 4px;position: absolute;top: 0;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {margin: 0 20px 4px 0;overflow: hidden;line-height: 1.9;}.ace_replace_form {margin-right: 0;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {border-radius: 3px 0 0 3px;background-color: white;color: black;border: 1px solid #cbcbcb;border-right: 0 none;box-sizing: border-box!important;outline: 0;padding: 0;font-size: inherit;margin: 0;line-height: inherit;padding: 0 6px;min-width: 17em;vertical-align: top;}.ace_searchbtn {border: 1px solid #cbcbcb;line-height: inherit;display: inline-block;padding: 0 6px;background: #fff;border-right: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;margin: 0;position: relative;box-sizing: content-box!important;color: #666;}.ace_searchbtn:last-child {border-radius: 0 3px 3px 0;border-right: 1px solid #cbcbcb;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn:hover {background-color: #eef1f6;}.ace_searchbtn.prev, .ace_searchbtn.next {padding: 0px 0.7em}.ace_searchbtn.prev:after, .ace_searchbtn.next:after {content: "";border: solid 2px #888;width: 0.5em;height: 0.5em;border-width:  2px 0 0 2px;display:inline-block;transform: rotate(-45deg);}.ace_searchbtn.next:after {border-width: 0 2px 2px 0 ;}.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;font: 16px/16px Arial;padding: 0;height: 14px;width: 14px;top: 9px;right: 7px;position: absolute;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;box-sizing:    border-box!important;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;clear: both;}.ace_search_counter {float: left;font-family: arial;padding: 0 8px;}',"ace_searchbox");var _='<div class="ace_search right">    <span action="hide" class="ace_searchbtn_close"></span>    <div class="ace_search_form">        <input class="ace_search_field" placeholder="Search for" spellcheck="false"></input>        <span action="findPrev" class="ace_searchbtn prev"></span>        <span action="findNext" class="ace_searchbtn next"></span>        <span action="findAll" class="ace_searchbtn" title="Alt-Enter">All</span>    </div>    <div class="ace_replace_form">        <input class="ace_search_field" placeholder="Replace with" spellcheck="false"></input>        <span action="replaceAndFindNext" class="ace_searchbtn">Replace</span>        <span action="replaceAll" class="ace_searchbtn">All</span>    </div>    <div class="ace_search_options">        <span action="toggleReplace" class="ace_button" title="Toggel Replace mode"            style="float:left;margin-top:-2px;padding:0 5px;">+</span>        <span class="ace_search_counter"></span>        <span action="toggleRegexpMode" class="ace_button" title="RegExp Search">.*</span>        <span action="toggleCaseSensitive" class="ace_button" title="CaseSensitive Search">Aa</span>        <span action="toggleWholeWords" class="ace_button" title="Whole Word Search">\\b</span>        <span action="searchInSelection" class="ace_button" title="Search In Selection">S</span>    </div></div>'.replace(/> +/g,">"),m=function(f,y,C){var S=H.createElement("div");S.innerHTML=_,this.element=S.firstChild,this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(f)};(function(){this.setEditor=function(f){f.searchBox=this,f.renderer.scroller.appendChild(this.element),this.editor=f},this.setSession=function(f){this.searchRange=null,this.$syncOptions(!0)},this.$initElements=function(f){this.searchBox=f.querySelector(".ace_search_form"),this.replaceBox=f.querySelector(".ace_replace_form"),this.searchOption=f.querySelector("[action=searchInSelection]"),this.replaceOption=f.querySelector("[action=toggleReplace]"),this.regExpOption=f.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=f.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=f.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=f.querySelector(".ace_search_counter")},this.$init=function(){var f=this.element;this.$initElements(f);var y=this;E.addListener(f,"mousedown",function(C){setTimeout(function(){y.activeInput.focus()},0),E.stopPropagation(C)}),E.addListener(f,"click",function(C){var g=(C.target||C.srcElement).getAttribute("action");g&&y[g]?y[g]():y.$searchBarKb.commands[g]&&y.$searchBarKb.commands[g].exec(y),E.stopPropagation(C)}),E.addCommandKeyListener(f,function(C,S,g){var v=F.keyCodeToString(g),A=y.$searchBarKb.findKeyCommand(S,v);A&&A.exec&&(A.exec(y),E.stopEvent(C))}),this.$onChange=W.delayedCall(function(){y.find(!1,!1)}),E.addListener(this.searchInput,"input",function(){y.$onChange.schedule(20)}),E.addListener(this.searchInput,"focus",function(){y.activeInput=y.searchInput,y.searchInput.value&&y.highlight()}),E.addListener(this.replaceInput,"focus",function(){y.activeInput=y.replaceInput,y.searchInput.value&&y.highlight()})},this.$closeSearchBarKb=new r([{bindKey:"Esc",name:"closeSearchBar",exec:function(f){f.searchBox.hide()}}]),this.$searchBarKb=new r,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(f){var y=f.isReplace=!f.isReplace;f.replaceBox.style.display=y?"":"none",f.replaceOption.checked=!1,f.$syncOptions(),f.searchInput.focus()},"Ctrl-H|Command-Option-F":function(f){f.replaceOption.checked=!0,f.$syncOptions(),f.replaceInput.focus()},"Ctrl-G|Command-G":function(f){f.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(f){f.findPrev()},esc:function(f){setTimeout(function(){f.hide()})},Return:function(f){f.activeInput==f.replaceInput&&f.replace(),f.findNext()},"Shift-Return":function(f){f.activeInput==f.replaceInput&&f.replace(),f.findPrev()},"Alt-Return":function(f){f.activeInput==f.replaceInput&&f.replaceAll(),f.findAll()},Tab:function(f){(f.activeInput==f.replaceInput?f.searchInput:f.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(f){f.regExpOption.checked=!f.regExpOption.checked,f.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(f){f.caseSensitiveOption.checked=!f.caseSensitiveOption.checked,f.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(f){f.wholeWordOption.checked=!f.wholeWordOption.checked,f.$syncOptions()}},{name:"toggleReplace",exec:function(f){f.replaceOption.checked=!f.replaceOption.checked,f.$syncOptions()}},{name:"searchInSelection",exec:function(f){f.searchOption.checked=!f.searchRange,f.setSearchRange(f.searchOption.checked&&f.editor.getSelectionRange()),f.$syncOptions()}}]),this.setSearchRange=function(f){this.searchRange=f,f?this.searchRangeMarker=this.editor.session.addMarker(f,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},this.$syncOptions=function(f){H.setCssClass(this.replaceOption,"checked",this.searchRange),H.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",H.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),H.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),H.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked),this.replaceBox.style.display=this.replaceOption.checked?"":"none",this.find(!1,!1,f)},this.highlight=function(f){this.editor.session.highlight(f||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(f,y,C){var g=!this.editor.find(this.searchInput.value,{skipCurrent:f,backwards:y,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:C,range:this.searchRange})&&this.searchInput.value;H.setCssClass(this.searchBox,"ace_nomatch",g),this.editor._emit("findSearchBox",{match:!g}),this.highlight(),this.updateCounter()},this.updateCounter=function(){var f=this.editor,y=f.$search.$options.re,C=0,S=0;if(y){var g=this.searchRange?f.session.getTextRange(this.searchRange):f.getValue(),v=f.session.doc.positionToIndex(f.selection.anchor);this.searchRange&&(v-=f.session.doc.positionToIndex(this.searchRange.start));for(var D,A=y.lastIndex=0;(D=y.exec(g))&&(C++,(A=D.index)<=v&&S++,!(C>999||!D[0]&&(y.lastIndex=A+=1,A>=g.length))););}this.searchCounter.textContent=S+" of "+(C>999?"999+":C)},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.findAll=function(){var y=!this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked})&&this.searchInput.value;H.setCssClass(this.searchBox,"ace_nomatch",y),this.editor._emit("findSearchBox",{match:!y}),this.highlight(),this.hide()},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},this.show=function(f,y){this.active=!0,this.editor.on("changeSession",this.setSession),this.element.style.display="",this.replaceOption.checked=y,f&&(this.searchInput.value=f),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},this.isFocused=function(){var f=document.activeElement;return f==this.searchInput||f==this.replaceInput}}).call(m.prototype),z.SearchBox=m,z.Search=function(f,y){(f.searchBox||new m(f)).show(f.session.getTextRange(),y)}}),ace.acequire(["ace/ext/searchbox"],function(){})},8873:(Te,z,w)=>{(function(){var W=function(){return this}();!W&&"undefined"!=typeof window&&(W=window);var E=function(m,f,y){"string"==typeof m?(2==arguments.length&&(y=f),E.modules[m]||(E.payloads[m]=y,E.modules[m]=null)):E.original?E.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};E.modules={},E.payloads={};var m,f,B=function(m,f,y){if("string"==typeof f){var C=R(m,f);if(null!=C)return y&&y(),C}else if("[object Array]"===Object.prototype.toString.call(f)){for(var S=[],g=0,v=f.length;g<v;++g){var A=R(m,f[g]);if(null==A&&r.original)return;S.push(A)}return y&&y.apply(null,S)||!0}},r=function(m,f){var y=B("",m,f);return null==y&&r.original?r.original.apply(this,arguments):y},F=function(m,f){if(-1!==f.indexOf("!")){var y=f.split("!");return F(m,y[0])+"!"+F(m,y[1])}if("."==f.charAt(0))for(f=m.split("/").slice(0,-1).join("/")+"/"+f;-1!==f.indexOf(".")&&S!=f;){var S=f;f=f.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return f},R=function(m,f){f=F(m,f);var y=E.modules[f];if(!y){if("function"==typeof(y=E.payloads[f])){var C={},S={id:f,uri:"",exports:C,packaged:!0},v=y(function(A,D){return B(f,A,D)},C,S);E.modules[f]=C=v||S.exports,delete E.payloads[f]}y=E.modules[f]=C||y}return y};f=W,(m="ace")&&(W[m]||(W[m]={}),f=W[m]),(!f.define||!f.define.packaged)&&(E.original=f.define,f.define=E,f.define.packaged=!0),(!f.acequire||!f.acequire.packaged)&&(r.original=f.acequire,f.acequire=r,f.acequire.packaged=!0)})(),ace.define("ace/lib/regexp",["require","exports","module"],function(H,W,E){"use strict";var m,B={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},r=void 0===B.exec.call(/()??/,"")[1],F=(B.test.call(m=/^/g,""),!m.lastIndex);function R(m){return(m.global?"g":"")+(m.ignoreCase?"i":"")+(m.multiline?"m":"")+(m.extended?"x":"")+(m.sticky?"y":"")}function _(m,f,y){if(Array.prototype.indexOf)return m.indexOf(f,y);for(var C=y||0;C<m.length;C++)if(m[C]===f)return C;return-1}F&&r||(RegExp.prototype.exec=function(m){var y,C,f=B.exec.apply(this,arguments);if("string"==typeof m&&f){if(!r&&f.length>1&&_(f,"")>-1&&(C=RegExp(this.source,B.replace.call(R(this),"g","")),B.replace.call(m.slice(f.index),C,function(){for(var g=1;g<arguments.length-2;g++)void 0===arguments[g]&&(f[g]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var S=1;S<f.length;S++)(y=this._xregexp.captureNames[S-1])&&(f[y]=f[S]);!F&&this.global&&!f[0].length&&this.lastIndex>f.index&&this.lastIndex--}return f},F||(RegExp.prototype.test=function(m){var f=B.exec.call(this,m);return f&&this.global&&!f[0].length&&this.lastIndex>f.index&&this.lastIndex--,!!f}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(H,W,E){function B(){}Function.prototype.bind||(Function.prototype.bind=function(se){var de=this;if("function"!=typeof de)throw new TypeError("Function.prototype.bind called on incompatible "+de);var fe=_.call(arguments,1),Re=function(){if(this instanceof Re){var te=de.apply(this,fe.concat(_.call(arguments)));return Object(te)===te?te:this}return de.apply(se,fe.concat(_.call(arguments)))};return de.prototype&&(B.prototype=de.prototype,Re.prototype=new B,B.prototype=null),Re});var y,C,S,g,v,r=Function.prototype.call,R=Object.prototype,_=Array.prototype.slice,m=r.bind(R.toString),f=r.bind(R.hasOwnProperty);if((v=f(R,"__defineGetter__"))&&(y=r.bind(R.__defineGetter__),C=r.bind(R.__defineSetter__),S=r.bind(R.__lookupGetter__),g=r.bind(R.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function ge(fe){var Re=new Array(fe+2);return Re[0]=Re[1]=0,Re}var de,se=[];if(se.splice.apply(se,ge(20)),se.splice.apply(se,ge(26)),de=se.length,se.splice(5,0,"XXX"),de+1==se.length)return!0}()){var A=Array.prototype.splice;Array.prototype.splice=function(ge,se){return arguments.length?A.apply(this,[void 0===ge?0:ge,void 0===se?this.length-ge:se].concat(_.call(arguments,2))):[]}}else Array.prototype.splice=function(ge,se){var de=this.length;ge>0?ge>de&&(ge=de):null==ge?ge=0:ge<0&&(ge=Math.max(de+ge,0)),ge+se<de||(se=de-ge);var fe=this.slice(ge,ge+se),Re=_.call(arguments,2),te=Re.length;if(ge===de)te&&this.push.apply(this,Re);else{var he=Math.min(se,de-ge),Fe=ge+he,Ie=Fe+te-he,Me=de-Fe,Ne=de-he;if(Ie<Fe)for(var De=0;De<Me;++De)this[Ie+De]=this[Fe+De];else if(Ie>Fe)for(De=Me;De--;)this[Ie+De]=this[Fe+De];if(te&&ge===Ne)this.length=Ne,this.push.apply(this,Re);else for(this.length=Ne+te,De=0;De<te;++De)this[ge+De]=Re[De]}return fe};Array.isArray||(Array.isArray=function(se){return"[object Array]"==m(se)});var N,de,D=Object("a"),M="a"!=D[0]||!(0 in D);function x(ge){try{return Object.defineProperty(ge,"sentinel",{}),"sentinel"in ge}catch(se){}}if(Array.prototype.forEach||(Array.prototype.forEach=function(se){var de=Ce(this),fe=M&&"[object String]"==m(this)?this.split(""):de,Re=arguments[1],te=-1,he=fe.length>>>0;if("[object Function]"!=m(se))throw new TypeError;for(;++te<he;)te in fe&&se.call(Re,fe[te],te,de)}),Array.prototype.map||(Array.prototype.map=function(se){var de=Ce(this),fe=M&&"[object String]"==m(this)?this.split(""):de,Re=fe.length>>>0,te=Array(Re),he=arguments[1];if("[object Function]"!=m(se))throw new TypeError(se+" is not a function");for(var Fe=0;Fe<Re;Fe++)Fe in fe&&(te[Fe]=se.call(he,fe[Fe],Fe,de));return te}),Array.prototype.filter||(Array.prototype.filter=function(se){var he,de=Ce(this),fe=M&&"[object String]"==m(this)?this.split(""):de,Re=fe.length>>>0,te=[],Fe=arguments[1];if("[object Function]"!=m(se))throw new TypeError(se+" is not a function");for(var Ie=0;Ie<Re;Ie++)Ie in fe&&se.call(Fe,he=fe[Ie],Ie,de)&&te.push(he);return te}),Array.prototype.every||(Array.prototype.every=function(se){var de=Ce(this),fe=M&&"[object String]"==m(this)?this.split(""):de,Re=fe.length>>>0,te=arguments[1];if("[object Function]"!=m(se))throw new TypeError(se+" is not a function");for(var he=0;he<Re;he++)if(he in fe&&!se.call(te,fe[he],he,de))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(se){var de=Ce(this),fe=M&&"[object String]"==m(this)?this.split(""):de,Re=fe.length>>>0,te=arguments[1];if("[object Function]"!=m(se))throw new TypeError(se+" is not a function");for(var he=0;he<Re;he++)if(he in fe&&se.call(te,fe[he],he,de))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(se){var de=Ce(this),fe=M&&"[object String]"==m(this)?this.split(""):de,Re=fe.length>>>0;if("[object Function]"!=m(se))throw new TypeError(se+" is not a function");if(!Re&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var he,te=0;if(arguments.length>=2)he=arguments[1];else for(;;){if(te in fe){he=fe[te++];break}if(++te>=Re)throw new TypeError("reduce of empty array with no initial value")}for(;te<Re;te++)te in fe&&(he=se.call(void 0,he,fe[te],te,de));return he}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(se){var de=Ce(this),fe=M&&"[object String]"==m(this)?this.split(""):de,Re=fe.length>>>0;if("[object Function]"!=m(se))throw new TypeError(se+" is not a function");if(!Re&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var te,he=Re-1;if(arguments.length>=2)te=arguments[1];else for(;;){if(he in fe){te=fe[he--];break}if(--he<0)throw new TypeError("reduceRight of empty array with no initial value")}do{he in this&&(te=se.call(void 0,te,fe[he],he,de))}while(he--);return te}),(!Array.prototype.indexOf||-1!=[0,1].indexOf(1,2))&&(Array.prototype.indexOf=function(se){var de=M&&"[object String]"==m(this)?this.split(""):Ce(this),fe=de.length>>>0;if(!fe)return-1;var Re=0;for(arguments.length>1&&(Re=Se(arguments[1])),Re=Re>=0?Re:Math.max(0,fe+Re);Re<fe;Re++)if(Re in de&&de[Re]===se)return Re;return-1}),(!Array.prototype.lastIndexOf||-1!=[0,1].lastIndexOf(0,-3))&&(Array.prototype.lastIndexOf=function(se){var de=M&&"[object String]"==m(this)?this.split(""):Ce(this),fe=de.length>>>0;if(!fe)return-1;var Re=fe-1;for(arguments.length>1&&(Re=Math.min(Re,Se(arguments[1]))),Re=Re>=0?Re:fe-Math.abs(Re);Re>=0;Re--)if(Re in de&&se===de[Re])return Re;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(se){return se.__proto__||(se.constructor?se.constructor.prototype:R)}),Object.getOwnPropertyDescriptor||(Object.getOwnPropertyDescriptor=function(se,de){if("object"!=typeof se&&"function"!=typeof se||null===se)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+se);if(f(se,de)){var fe;if(fe={enumerable:!0,configurable:!0},v){var he=se.__proto__;se.__proto__=R;var Re=S(se,de),te=g(se,de);if(se.__proto__=he,Re||te)return Re&&(fe.get=Re),te&&(fe.set=te),fe}return fe.value=se[de],fe}}),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(se){return Object.keys(se)}),Object.create||(N=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var ge={};for(var se in ge)ge[se]=null;return ge.constructor=ge.hasOwnProperty=ge.propertyIsEnumerable=ge.isPrototypeOf=ge.toLocaleString=ge.toString=ge.valueOf=ge.__proto__=null,ge},Object.create=function(se,de){var fe;if(null===se)fe=N();else{if("object"!=typeof se)throw new TypeError("typeof prototype["+typeof se+"] != 'object'");var Re=function(){};Re.prototype=se,(fe=new Re).__proto__=se}return void 0!==de&&Object.defineProperties(fe,de),fe}),Object.defineProperty){var I=x({}),k="undefined"==typeof document||x(document.createElement("div"));if(!I||!k)var $=Object.defineProperty}Object.defineProperty&&!$||(Object.defineProperty=function(se,de,fe){if("object"!=typeof se&&"function"!=typeof se||null===se)throw new TypeError("Object.defineProperty called on non-object: "+se);if("object"!=typeof fe&&"function"!=typeof fe||null===fe)throw new TypeError("Property description must be an object: "+fe);if($)try{return $.call(Object,se,de,fe)}catch(te){}if(f(fe,"value"))if(v&&(S(se,de)||g(se,de))){var Re=se.__proto__;se.__proto__=R,delete se[de],se[de]=fe.value,se.__proto__=Re}else se[de]=fe.value;else{if(!v)throw new TypeError("getters & setters can not be defined on this javascript engine");f(fe,"get")&&y(se,de,fe.get),f(fe,"set")&&C(se,de,fe.set)}return se}),Object.defineProperties||(Object.defineProperties=function(se,de){for(var fe in de)f(de,fe)&&Object.defineProperty(se,fe,de[fe]);return se}),Object.seal||(Object.seal=function(se){return se}),Object.freeze||(Object.freeze=function(se){return se});try{Object.freeze(function(){})}catch(ge){Object.freeze=(de=Object.freeze,function(Re){return"function"==typeof Re?Re:de(Re)})}if(Object.preventExtensions||(Object.preventExtensions=function(se){return se}),Object.isSealed||(Object.isSealed=function(se){return!1}),Object.isFrozen||(Object.isFrozen=function(se){return!1}),Object.isExtensible||(Object.isExtensible=function(se){if(Object(se)===se)throw new TypeError;for(var de="";f(se,de);)de+="?";se[de]=!0;var fe=f(se,de);return delete se[de],fe}),!Object.keys){var X=!0,ie=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ee=ie.length;for(var ce in{toString:null})X=!1;Object.keys=function(se){if("object"!=typeof se&&"function"!=typeof se||null===se)throw new TypeError("Object.keys called on a non-object");var de=[];for(var fe in se)f(se,fe)&&de.push(fe);if(X)for(var Re=0,te=ee;Re<te;Re++){var he=ie[Re];f(se,he)&&de.push(he)}return de}}Date.now||(Date.now=function(){return(new Date).getTime()});var _e="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";if(!String.prototype.trim||_e.trim()){_e="["+_e+"]";var xe=new RegExp("^"+_e+_e+"*"),we=new RegExp(_e+_e+"*$");String.prototype.trim=function(){return String(this).replace(xe,"").replace(we,"")}}function Se(ge){return(ge=+ge)!=ge?ge=0:0!==ge&&ge!==1/0&&ge!==-1/0&&(ge=(ge>0||-1)*Math.floor(Math.abs(ge))),ge}var Ce=function(ge){if(null==ge)throw new TypeError("can't convert "+ge+" to object");return Object(ge)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(H,W,E){"use strict";H("./regexp"),H("./es5-shim")}),ace.define("ace/lib/dom",["require","exports","module"],function(H,W,E){"use strict";W.getDocumentHead=function(r){return r||(r=document),r.head||r.getElementsByTagName("head")[0]||r.documentElement},W.createElement=function(r,F){return document.createElementNS?document.createElementNS(F||"http://www.w3.org/1999/xhtml",r):document.createElement(r)},W.hasCssClass=function(r,F){return-1!==(r.className+"").split(/\s+/g).indexOf(F)},W.addCssClass=function(r,F){W.hasCssClass(r,F)||(r.className+=" "+F)},W.removeCssClass=function(r,F){for(var R=r.className.split(/\s+/g);;){var _=R.indexOf(F);if(-1==_)break;R.splice(_,1)}r.className=R.join(" ")},W.toggleCssClass=function(r,F){for(var R=r.className.split(/\s+/g),_=!0;;){var m=R.indexOf(F);if(-1==m)break;_=!1,R.splice(m,1)}return _&&R.push(F),r.className=R.join(" "),_},W.setCssClass=function(r,F,R){R?W.addCssClass(r,F):W.removeCssClass(r,F)},W.hasCssString=function(r,F){var _,R=0;if((F=F||document).createStyleSheet&&(_=F.styleSheets)){for(;R<_.length;)if(_[R++].owningElement.id===r)return!0}else if(_=F.getElementsByTagName("style"))for(;R<_.length;)if(_[R++].id===r)return!0;return!1},W.importCssString=function(F,R,_){if(_=_||document,R&&W.hasCssString(R,_))return null;var m;R&&(F+="\n/*# sourceURL=ace/css/"+R+" */"),_.createStyleSheet?((m=_.createStyleSheet()).cssText=F,R&&(m.owningElement.id=R)):((m=W.createElement("style")).appendChild(_.createTextNode(F)),R&&(m.id=R),W.getDocumentHead(_).appendChild(m))},W.importCssStylsheet=function(r,F){if(F.createStyleSheet)F.createStyleSheet(r);else{var R=W.createElement("link");R.rel="stylesheet",R.href=r,W.getDocumentHead(F).appendChild(R)}},W.getInnerWidth=function(r){return parseInt(W.computedStyle(r,"paddingLeft"),10)+parseInt(W.computedStyle(r,"paddingRight"),10)+r.clientWidth},W.getInnerHeight=function(r){return parseInt(W.computedStyle(r,"paddingTop"),10)+parseInt(W.computedStyle(r,"paddingBottom"),10)+r.clientHeight},W.scrollbarWidth=function(r){var F=W.createElement("ace_inner");F.style.width="100%",F.style.minWidth="0px",F.style.height="200px",F.style.display="block";var R=W.createElement("ace_outer"),_=R.style;_.position="absolute",_.left="-10000px",_.overflow="hidden",_.width="200px",_.minWidth="0px",_.height="150px",_.display="block",R.appendChild(F);var m=r.documentElement;m.appendChild(R);var f=F.offsetWidth;_.overflow="scroll";var y=F.offsetWidth;return f==y&&(y=R.clientWidth),m.removeChild(R),f-y},"undefined"!=typeof document?(void 0!==window.pageYOffset?(W.getPageScrollTop=function(){return window.pageYOffset},W.getPageScrollLeft=function(){return window.pageXOffset}):(W.getPageScrollTop=function(){return document.body.scrollTop},W.getPageScrollLeft=function(){return document.body.scrollLeft}),W.computedStyle=window.getComputedStyle?function(r,F){return F?(window.getComputedStyle(r,"")||{})[F]||"":window.getComputedStyle(r,"")||{}}:function(r,F){return F?r.currentStyle[F]:r.currentStyle},W.setInnerHtml=function(r,F){var R=r.cloneNode(!1);return R.innerHTML=F,r.parentNode.replaceChild(R,r),R},"textContent"in document.documentElement?(W.setInnerText=function(r,F){r.textContent=F},W.getInnerText=function(r){return r.textContent}):(W.setInnerText=function(r,F){r.innerText=F},W.getInnerText=function(r){return r.innerText}),W.getParentWindow=function(r){return r.defaultView||r.parentWindow}):W.importCssString=function(){}}),ace.define("ace/lib/oop",["require","exports","module"],function(H,W,E){"use strict";W.inherits=function(B,r){B.super_=r,B.prototype=Object.create(r.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}})},W.mixin=function(B,r){for(var F in r)B[F]=r[F];return B},W.implement=function(B,r){W.mixin(B,r)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(H,W,E){"use strict";H("./fixoldbrowsers");var B=H("./oop"),r=function(){var R,_,F={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(_ in F.FUNCTION_KEYS)R=F.FUNCTION_KEYS[_].toLowerCase(),F[R]=parseInt(_,10);for(_ in F.PRINTABLE_KEYS)R=F.PRINTABLE_KEYS[_].toLowerCase(),F[R]=parseInt(_,10);return B.mixin(F,F.MODIFIER_KEYS),B.mixin(F,F.PRINTABLE_KEYS),B.mixin(F,F.FUNCTION_KEYS),F.enter=F.return,F.escape=F.esc,F.del=F.delete,F[173]="-",function(){for(var m=["cmd","ctrl","alt","shift"],f=Math.pow(2,m.length);f--;)F.KEY_MODS[f]=m.filter(function(y){return f&F.KEY_MODS[y]}).join("-")+"-"}(),F.KEY_MODS[0]="",F.KEY_MODS[-1]="input-",F}();B.mixin(W,r),W.keyCodeToString=function(F){var R=r[F];return"string"!=typeof R&&(R=String.fromCharCode(F)),R.toLowerCase()}}),ace.define("ace/lib/useragent",["require","exports","module"],function(H,W,E){"use strict";if(W.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},W.getOS=function(){return W.isMac?W.OS.MAC:W.isLinux?W.OS.LINUX:W.OS.WINDOWS},"object"==typeof navigator){var B=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),r=navigator.userAgent;W.isWin="win"==B,W.isMac="mac"==B,W.isLinux="linux"==B,W.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),W.isOldIE=W.isIE&&W.isIE<9,W.isGecko=W.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,W.isOldGecko=W.isGecko&&parseInt((r.match(/rv:(\d+)/)||[])[1],10)<4,W.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),W.isWebKit=parseFloat(r.split("WebKit/")[1])||void 0,W.isChrome=parseFloat(r.split(" Chrome/")[1])||void 0,W.isAIR=r.indexOf("AdobeAIR")>=0,W.isIPad=r.indexOf("iPad")>=0,W.isChromeOS=r.indexOf(" CrOS ")>=0,W.isIOS=/iPad|iPhone|iPod/.test(r)&&!window.MSStream,W.isIOS&&(W.isMac=!0)}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(H,W,E){"use strict";var B=H("./keys"),r=H("./useragent"),F=null,R=0;W.addListener=function(C,S,g){if(C.addEventListener)return C.addEventListener(S,g,!1);if(C.attachEvent){var v=function(){g.call(C,window.event)};g._wrapper=v,C.attachEvent("on"+S,v)}},W.removeListener=function(C,S,g){if(C.removeEventListener)return C.removeEventListener(S,g,!1);C.detachEvent&&C.detachEvent("on"+S,g._wrapper||g)},W.stopEvent=function(C){return W.stopPropagation(C),W.preventDefault(C),!1},W.stopPropagation=function(C){C.stopPropagation?C.stopPropagation():C.cancelBubble=!0},W.preventDefault=function(C){C.preventDefault?C.preventDefault():C.returnValue=!1},W.getButton=function(C){return"dblclick"==C.type?0:"contextmenu"==C.type||r.isMac&&C.ctrlKey&&!C.altKey&&!C.shiftKey?2:C.preventDefault?C.button:{1:0,2:2,4:1}[C.button]},W.capture=function(C,S,g){function v(A){S&&S(A),g&&g(A),W.removeListener(document,"mousemove",S,!0),W.removeListener(document,"mouseup",v,!0),W.removeListener(document,"dragstart",v,!0)}return W.addListener(document,"mousemove",S,!0),W.addListener(document,"mouseup",v,!0),W.addListener(document,"dragstart",v,!0),v},W.addTouchMoveListener=function(C,S){var g,v;W.addListener(C,"touchstart",function(A){var M=A.touches[0];g=M.clientX,v=M.clientY}),W.addListener(C,"touchmove",function(A){var D=A.touches;if(!(D.length>1)){var M=D[0];A.wheelX=g-M.clientX,A.wheelY=v-M.clientY,g=M.clientX,v=M.clientY,S(A)}})},W.addMouseWheelListener=function(C,S){"onmousewheel"in C?W.addListener(C,"mousewheel",function(g){void 0!==g.wheelDeltaX?(g.wheelX=-g.wheelDeltaX/8,g.wheelY=-g.wheelDeltaY/8):(g.wheelX=0,g.wheelY=-g.wheelDelta/8),S(g)}):"onwheel"in C?W.addListener(C,"wheel",function(g){switch(g.deltaMode){case g.DOM_DELTA_PIXEL:g.wheelX=.35*g.deltaX||0,g.wheelY=.35*g.deltaY||0;break;case g.DOM_DELTA_LINE:case g.DOM_DELTA_PAGE:g.wheelX=5*(g.deltaX||0),g.wheelY=5*(g.deltaY||0)}S(g)}):W.addListener(C,"DOMMouseScroll",function(g){g.axis&&g.axis==g.HORIZONTAL_AXIS?(g.wheelX=5*(g.detail||0),g.wheelY=0):(g.wheelX=0,g.wheelY=5*(g.detail||0)),S(g)})},W.addMultiMouseDownListener=function(C,S,g,v){var D,M,T,A=0,N={2:"dblclick",3:"tripleclick",4:"quadclick"};function x(k){if(0!==W.getButton(k)?A=0:k.detail>1?++A>4&&(A=1):A=1,r.isIE){var $=Math.abs(k.clientX-D)>5||Math.abs(k.clientY-M)>5;(!T||$)&&(A=1),T&&clearTimeout(T),T=setTimeout(function(){T=null},S[A-1]||600),1==A&&(D=k.clientX,M=k.clientY)}if(k._clicks=A,g[v]("mousedown",k),A>4)A=0;else if(A>1)return g[v](N[A],k)}function I(k){A=2,T&&clearTimeout(T),T=setTimeout(function(){T=null},S[A-1]||600),g[v]("mousedown",k),g[v](N[A],k)}Array.isArray(C)||(C=[C]),C.forEach(function(k){W.addListener(k,"mousedown",x),r.isOldIE&&W.addListener(k,"dblclick",I)})};var _=r.isMac&&r.isOpera&&!("KeyboardEvent"in window)?function(C){return 0|(C.metaKey?1:0)|(C.altKey?2:0)|(C.shiftKey?4:0)|(C.ctrlKey?8:0)}:function(C){return 0|(C.ctrlKey?1:0)|(C.altKey?2:0)|(C.shiftKey?4:0)|(C.metaKey?8:0)};function m(C,S,g){var v=_(S);if(!r.isMac&&F){if(S.getModifierState&&(S.getModifierState("OS")||S.getModifierState("Win"))&&(v|=8),F.altGr){if(3==(3&v))return;F.altGr=0}if(18===g||17===g){var A="location"in S?S.location:S.keyLocation;17===g&&1===A?1==F[g]&&(R=S.timeStamp):18===g&&3===v&&2===A&&S.timeStamp-R<50&&(F.altGr=!0)}}if(g in B.MODIFIER_KEYS&&(g=-1),8&v&&g>=91&&g<=93&&(g=-1),v||13!==g||3!==(A="location"in S?S.location:S.keyLocation)||(C(S,v,-g),!S.defaultPrevented)){if(r.isChromeOS&&8&v){if(C(S,v,g),S.defaultPrevented)return;v&=-9}return!!(v||g in B.FUNCTION_KEYS||g in B.PRINTABLE_KEYS)&&C(S,v,g)}}function f(){F=Object.create(null)}W.getModifierString=function(C){return B.KEY_MODS[_(C)]},W.addCommandKeyListener=function(C,S){var g=W.addListener;if(r.isOldGecko||r.isOpera&&!("KeyboardEvent"in window)){var v=null;g(C,"keydown",function(D){v=D.keyCode}),g(C,"keypress",function(D){return m(S,D,v)})}else{var A=null;g(C,"keydown",function(D){F[D.keyCode]=(F[D.keyCode]||0)+1;var M=m(S,D,D.keyCode);return A=D.defaultPrevented,M}),g(C,"keypress",function(D){A&&(D.ctrlKey||D.altKey||D.shiftKey||D.metaKey)&&(W.stopEvent(D),A=null)}),g(C,"keyup",function(D){F[D.keyCode]=null}),F||(f(),g(window,"focus",f))}},"object"==typeof window&&window.postMessage&&!r.isOldIE&&(W.nextTick=function(C,S){S=S||window;var g="zero-timeout-message-1";W.addListener(S,"message",function v(A){A.data==g&&(W.stopPropagation(A),W.removeListener(S,"message",v),C())}),S.postMessage(g,"*")}),W.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),W.nextFrame=W.nextFrame?W.nextFrame.bind(window):function(C){setTimeout(C,17)}}),ace.define("ace/lib/lang",["require","exports","module"],function(H,W,E){"use strict";W.last=function(F){return F[F.length-1]},W.stringReverse=function(F){return F.split("").reverse().join("")},W.stringRepeat=function(F,R){for(var _="";R>0;)1&R&&(_+=F),(R>>=1)&&(F+=F);return _};var B=/^\s\s*/,r=/\s\s*$/;W.stringTrimLeft=function(F){return F.replace(B,"")},W.stringTrimRight=function(F){return F.replace(r,"")},W.copyObject=function(F){var R={};for(var _ in F)R[_]=F[_];return R},W.copyArray=function(F){for(var R=[],_=0,m=F.length;_<m;_++)R[_]=F[_]&&"object"==typeof F[_]?this.copyObject(F[_]):F[_];return R},W.deepCopy=function F(R){if("object"!=typeof R||!R)return R;var _;if(Array.isArray(R)){_=[];for(var m=0;m<R.length;m++)_[m]=F(R[m]);return _}if("[object Object]"!==Object.prototype.toString.call(R))return R;for(var m in _={},R)_[m]=F(R[m]);return _},W.arrayToMap=function(F){for(var R={},_=0;_<F.length;_++)R[F[_]]=1;return R},W.createMap=function(F){var R=Object.create(null);for(var _ in F)R[_]=F[_];return R},W.arrayRemove=function(F,R){for(var _=0;_<=F.length;_++)R===F[_]&&F.splice(_,1)},W.escapeRegExp=function(F){return F.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},W.escapeHTML=function(F){return F.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},W.getMatchOffsets=function(F,R){var _=[];return F.replace(R,function(m){_.push({offset:arguments[arguments.length-2],length:m.length})}),_},W.deferredCall=function(F){var R=null,_=function(){R=null,F()},m=function(f){return m.cancel(),R=setTimeout(_,f||0),m};return m.schedule=m,m.call=function(){return this.cancel(),F(),m},m.cancel=function(){return clearTimeout(R),R=null,m},m.isPending=function(){return R},m},W.delayedCall=function(F,R){var _=null,m=function(){_=null,F()},f=function(y){null==_&&(_=setTimeout(m,y||R))};return f.delay=function(y){_&&clearTimeout(_),_=setTimeout(m,y||R)},f.schedule=f,f.call=function(){this.cancel(),F()},f.cancel=function(){_&&clearTimeout(_),_=null},f.isPending=function(){return _},f}}),ace.define("ace/keyboard/textinput_ios",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/lib/keys"],function(H,W,E){"use strict";var B=H("../lib/event"),r=H("../lib/useragent"),F=H("../lib/dom"),R=H("../lib/lang"),_=H("../lib/keys"),m=_.KEY_MODS,f=r.isChrome<18,y=r.isIE;W.TextInput=function(S,g){var A=F.createElement("textarea");A.className=r.isIOS?"ace_text-input ace_text-input-ios":"ace_text-input",r.isTouchPad&&A.setAttribute("x-palm-disable-auto-cap",!0),A.setAttribute("wrap","off"),A.setAttribute("autocorrect","off"),A.setAttribute("autocapitalize","off"),A.setAttribute("spellcheck",!1),A.style.opacity="0",S.insertBefore(A,S.firstChild);var D="\n aaaa a\n",M=!1,T=!1,N=!1,x=!1,I="",k=!0;try{var $=document.activeElement===A}catch(De){}B.addListener(A,"blur",function(De){g.onBlur(De),$=!1}),B.addListener(A,"focus",function(De){$=!0,g.onFocus(De),U()}),this.focus=function(){if(I)return A.focus();A.style.position="fixed",A.focus()},this.blur=function(){A.blur()},this.isFocused=function(){return $};var P=R.delayedCall(function(){$&&U(k)}),V=R.delayedCall(function(){x||(A.value=D,$&&U())});function U(De){if(!x){if(x=!0,ce)ke=0,Ye=De?0:A.value.length-1;else var ke=4,Ye=5;try{A.setSelectionRange(ke,Ye)}catch(rt){}x=!1}}function X(){x||(A.value=D,r.isWebKit&&V.schedule())}r.isWebKit||g.addEventListener("changeSelection",function(){g.selection.isEmpty()!=k&&(k=!k,P.schedule())}),X(),$&&g.onFocus();var ce=null;this.setInputHandler=function(De){ce=De},this.getInputHandler=function(){return ce};var _e=!1,xe=function(De){4===A.selectionStart&&5===A.selectionEnd||(ce&&(De=ce(De),ce=null),N?(U(),De&&g.onPaste(De),N=!1):De==D.substr(0)&&4===A.selectionStart?g.execCommand(_e?"del":"backspace",{source:"ace"}):M||(De.substring(0,9)==D&&De.length>D.length?De=De.substr(9):De.substr(0,4)==D.substr(0,4)?De=De.substr(4,De.length-D.length+1):De.charAt(De.length-1)==D.charAt(0)&&(De=De.slice(0,-1)),De==D.charAt(0)||De.charAt(De.length-1)==D.charAt(0)&&(De=De.slice(0,-1)),De&&g.onTextInput(De)),M&&(M=!1),_e&&(_e=!1))},we=function(De){x||(xe(A.value),X())},Se=function(De,ke,Ye){var rt=De.clipboardData||window.clipboardData;if(rt&&!f){var be=y||Ye?"Text":"text/plain";try{return ke?!1!==rt.setData(be,ke):rt.getData(be)}catch(Xe){if(!Ye)return Se(Xe,ke,!0)}}},le=function(De,ke){var Ye=g.getCopyText();if(!Ye)return B.preventDefault(De);Se(De,Ye)?(r.isIOS&&(T=ke,A.value="\n aa"+Ye+"a a\n",A.setSelectionRange(4,4+Ye.length),M={value:Ye}),ke?g.onCut():g.onCopy(),r.isIOS||B.preventDefault(De)):(M=!0,A.value=Ye,A.select(),setTimeout(function(){M=!1,X(),U(),ke?g.onCut():g.onCopy()}))};B.addCommandKeyListener(A,g.onCommandKey.bind(g)),B.addListener(A,"select",function(De){!function(De){return 0===De.selectionStart&&De.selectionEnd===De.value.length}(A)?ce&&U(g.selection.isEmpty()):(g.selectAll(),U())}),B.addListener(A,"input",we),B.addListener(A,"cut",function(De){le(De,!0)}),B.addListener(A,"copy",function(De){le(De,!1)}),B.addListener(A,"paste",function(De){var ke=Se(De);"string"==typeof ke?(ke&&g.onPaste(ke,De),r.isIE&&setTimeout(U),B.preventDefault(De)):(A.value="",N=!0)});var te,de=function(){if(x&&g.onCompositionUpdate&&!g.$readOnly){var De=A.value.replace(/\x01/g,"");if(x.lastValue!==De&&(g.onCompositionUpdate(De),x.lastValue&&g.undo(),x.canUndo&&(x.lastValue=De),x.lastValue)){var ke=g.selection.getRange();g.insert(x.lastValue),g.session.markUndoGroup(),x.range=g.selection.getRange(),g.selection.setRange(ke),g.selection.clearSelection()}}},fe=function(De){if(g.onCompositionEnd&&!g.$readOnly){var ke=x;x=!1;var Ye=setTimeout(function(){Ye=null;var be=A.value.replace(/\x01/g,"");x||(be==ke.lastValue?X():!ke.lastValue&&be&&(X(),xe(be)))});ce=function(Xe){return Ye&&clearTimeout(Ye),(Xe=Xe.replace(/\x01/g,""))==ke.lastValue?"":(ke.lastValue&&Ye&&g.undo(),Xe)},g.onCompositionEnd(),g.removeListener("mousedown",fe),"compositionend"==De.type&&ke.range&&g.selection.setRange(ke.range),(r.isChrome&&r.isChrome>=53||r.isWebKit&&r.isWebKit>=603)&&we()}},Re=R.delayedCall(de,50);function he(){clearTimeout(te),te=setTimeout(function(){I&&(A.style.cssText=I,I=""),null==g.renderer.$keepTextAreaAtCursor&&(g.renderer.$keepTextAreaAtCursor=!0,g.renderer.$moveTextAreaToCursor())},0)}B.addListener(A,"compositionstart",function(De){x||!g.onCompositionStart||g.$readOnly||((x={}).canUndo=g.session.$undoManager,g.onCompositionStart(),setTimeout(de,0),g.on("mousedown",fe),x.canUndo&&!g.selection.isEmpty()&&(g.insert(""),g.session.markUndoGroup(),g.selection.clearSelection()),g.session.markUndoGroup())}),r.isGecko?B.addListener(A,"text",function(){Re.schedule()}):(B.addListener(A,"keyup",function(){Re.schedule()}),B.addListener(A,"keydown",function(){Re.schedule()})),B.addListener(A,"compositionend",fe),this.getElement=function(){return A},this.setReadOnly=function(De){A.readOnly=De},this.onContextMenu=function(De){_e=!0,U(g.selection.isEmpty()),g._emit("nativecontextmenu",{target:g,domEvent:De}),this.moveToMouse(De,!0)},this.moveToMouse=function(De,ke){I||(I=A.style.cssText),A.style.cssText=(ke?"z-index:100000;":"")+"height:"+A.style.height+";"+(r.isIE?"opacity:0.1;":"");var Ye=g.container.getBoundingClientRect(),rt=F.computedStyle(g.container),be=Ye.top+(parseInt(rt.borderTopWidth)||0),Xe=Ye.left+(parseInt(Ye.borderLeftWidth)||0),je=Ye.bottom-be-A.clientHeight-2,Q=function(it){A.style.left=it.clientX-Xe-2+"px",A.style.top=Math.min(it.clientY-be-2,je)+"px"};Q(De),"mousedown"==De.type&&(g.renderer.$keepTextAreaAtCursor&&(g.renderer.$keepTextAreaAtCursor=null),clearTimeout(te),r.isWin&&B.capture(g.container,Q,he))},this.onContextMenuClose=he;var Fe=function(De){g.textInput.onContextMenu(De),he()};if(B.addListener(A,"mouseup",Fe),B.addListener(A,"mousedown",function(De){De.preventDefault(),he()}),B.addListener(g.renderer.scroller,"contextmenu",Fe),B.addListener(A,"contextmenu",Fe),r.isIOS){var Ie=null,Me=!1;S.addEventListener("keydown",function(De){Ie&&clearTimeout(Ie),Me=!0}),S.addEventListener("keyup",function(De){Ie=setTimeout(function(){Me=!1},100)});var Ne=function(De){if(document.activeElement===A&&!Me){if(T)return setTimeout(function(){T=!1},100);var ke=A.selectionStart,Ye=A.selectionEnd;if(A.setSelectionRange(4,5),ke==Ye)switch(ke){case 0:g.onCommandKey(null,0,_.up);break;case 1:g.onCommandKey(null,0,_.home);break;case 2:g.onCommandKey(null,m.option,_.left);break;case 4:g.onCommandKey(null,0,_.left);break;case 5:g.onCommandKey(null,0,_.right);break;case 7:g.onCommandKey(null,m.option,_.right);break;case 8:g.onCommandKey(null,0,_.end);break;case 9:g.onCommandKey(null,0,_.down)}else{switch(Ye){case 6:g.onCommandKey(null,m.shift,_.right);break;case 7:g.onCommandKey(null,m.shift|m.option,_.right);break;case 8:g.onCommandKey(null,m.shift,_.end);break;case 9:g.onCommandKey(null,m.shift,_.down)}switch(ke){case 0:g.onCommandKey(null,m.shift,_.up);break;case 1:g.onCommandKey(null,m.shift,_.home);break;case 2:g.onCommandKey(null,m.shift|m.option,_.left);break;case 3:g.onCommandKey(null,m.shift,_.left)}}}};document.addEventListener("selectionchange",Ne),g.on("destroy",function(){document.removeEventListener("selectionchange",Ne)})}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/keyboard/textinput_ios"],function(H,W,E){"use strict";var B=H("../lib/event"),r=H("../lib/useragent"),F=H("../lib/dom"),R=H("../lib/lang"),_=r.isChrome<18,m=r.isIE,f=H("./textinput_ios").TextInput;W.TextInput=function(C,S){if(r.isIOS)return f.call(this,C,S);var g=F.createElement("textarea");g.className="ace_text-input",g.setAttribute("wrap","off"),g.setAttribute("autocorrect","off"),g.setAttribute("autocapitalize","off"),g.setAttribute("spellcheck",!1),g.style.opacity="0",C.insertBefore(g,C.firstChild);var v="\u2028\u2028",A=!1,D=!1,M=!1,T="",N=!0;try{var x=document.activeElement===g}catch(te){}B.addListener(g,"blur",function(te){S.onBlur(te),x=!1}),B.addListener(g,"focus",function(te){x=!0,S.onFocus(te),$()}),this.focus=function(){if(T)return g.focus();var te=g.style.top;g.style.position="fixed",g.style.top="0px",g.focus(),setTimeout(function(){g.style.position="","0px"==g.style.top&&(g.style.top=te)},0)},this.blur=function(){g.blur()},this.isFocused=function(){return x};var I=R.delayedCall(function(){x&&$(N)}),k=R.delayedCall(function(){M||(g.value=v,x&&$())});function $(te){if(!M){if(M=!0,X)var he=0,Fe=te?0:g.value.length-1;else he=te?2:1,Fe=2;try{g.setSelectionRange(he,Fe)}catch(Ie){}M=!1}}function P(){M||(g.value=v,r.isWebKit&&k.schedule())}r.isWebKit||S.addEventListener("changeSelection",function(){S.selection.isEmpty()!=N&&(N=!N,I.schedule())}),P(),x&&S.onFocus();var X=null;this.setInputHandler=function(te){X=te},this.getInputHandler=function(){return X};var ie=!1,ee=function(te){X&&(te=X(te),X=null),D?($(),te&&S.onPaste(te),D=!1):te==v.charAt(0)?S.execCommand(ie?"del":"backspace",{source:"ace"}):(te.substring(0,2)==v?te=te.substr(2):te.charAt(0)==v.charAt(0)?te=te.substr(1):te.charAt(te.length-1)==v.charAt(0)&&(te=te.slice(0,-1)),te.charAt(te.length-1)==v.charAt(0)&&(te=te.slice(0,-1)),te&&S.onTextInput(te)),ie&&(ie=!1)},ce=function(te){M||(ee(g.value),P())},_e=function(te,he,Fe){var Ie=te.clipboardData||window.clipboardData;if(Ie&&!_){var Me=m||Fe?"Text":"text/plain";try{return he?!1!==Ie.setData(Me,he):Ie.getData(Me)}catch(Ne){if(!Fe)return _e(Ne,he,!0)}}},xe=function(te,he){var Fe=S.getCopyText();if(!Fe)return B.preventDefault(te);_e(te,Fe)?(he?S.onCut():S.onCopy(),B.preventDefault(te)):(A=!0,g.value=Fe,g.select(),setTimeout(function(){A=!1,P(),$(),he?S.onCut():S.onCopy()}))},we=function(te){xe(te,!0)},Se=function(te){xe(te,!1)},le=function(te){var he=_e(te);"string"==typeof he?(he&&S.onPaste(he,te),r.isIE&&setTimeout($),B.preventDefault(te)):(g.value="",D=!0)};B.addCommandKeyListener(g,S.onCommandKey.bind(S)),B.addListener(g,"select",function(te){A?A=!1:function(te){return 0===te.selectionStart&&te.selectionEnd===te.value.length}(g)?(S.selectAll(),$()):X&&$(S.selection.isEmpty())}),B.addListener(g,"input",ce),B.addListener(g,"cut",we),B.addListener(g,"copy",Se),B.addListener(g,"paste",le),(!("oncut"in g)||!("oncopy"in g)||!("onpaste"in g))&&B.addListener(C,"keydown",function(te){if((!r.isMac||te.metaKey)&&te.ctrlKey)switch(te.keyCode){case 67:Se(te);break;case 86:le(te);break;case 88:we(te)}});var de,Ce=function(){if(M&&S.onCompositionUpdate&&!S.$readOnly){var te=g.value.replace(/\u2028/g,"");if(M.lastValue!==te&&(S.onCompositionUpdate(te),M.lastValue&&S.undo(),M.canUndo&&(M.lastValue=te),M.lastValue)){var he=S.selection.getRange();S.insert(M.lastValue),S.session.markUndoGroup(),M.range=S.selection.getRange(),S.selection.setRange(he),S.selection.clearSelection()}}},ge=function(te){if(S.onCompositionEnd&&!S.$readOnly){var he=M;M=!1;var Fe=setTimeout(function(){Fe=null;var Me=g.value.replace(/\u2028/g,"");M||(Me==he.lastValue?P():!he.lastValue&&Me&&(P(),ee(Me)))});X=function(Ne){return Fe&&clearTimeout(Fe),(Ne=Ne.replace(/\u2028/g,""))==he.lastValue?"":(he.lastValue&&Fe&&S.undo(),Ne)},S.onCompositionEnd(),S.removeListener("mousedown",ge),"compositionend"==te.type&&he.range&&S.selection.setRange(he.range),(r.isChrome&&r.isChrome>=53||r.isWebKit&&r.isWebKit>=603)&&ce()}},se=R.delayedCall(Ce,50);function fe(){clearTimeout(de),de=setTimeout(function(){T&&(g.style.cssText=T,T=""),null==S.renderer.$keepTextAreaAtCursor&&(S.renderer.$keepTextAreaAtCursor=!0,S.renderer.$moveTextAreaToCursor())},0)}B.addListener(g,"compositionstart",function(te){M||!S.onCompositionStart||S.$readOnly||((M={}).canUndo=S.session.$undoManager,S.onCompositionStart(),setTimeout(Ce,0),S.on("mousedown",ge),M.canUndo&&!S.selection.isEmpty()&&(S.insert(""),S.session.markUndoGroup(),S.selection.clearSelection()),S.session.markUndoGroup())}),r.isGecko?B.addListener(g,"text",function(){se.schedule()}):(B.addListener(g,"keyup",function(){se.schedule()}),B.addListener(g,"keydown",function(){se.schedule()})),B.addListener(g,"compositionend",ge),this.getElement=function(){return g},this.setReadOnly=function(te){g.readOnly=te},this.onContextMenu=function(te){ie=!0,$(S.selection.isEmpty()),S._emit("nativecontextmenu",{target:S,domEvent:te}),this.moveToMouse(te,!0)},this.moveToMouse=function(te,he){T||(T=g.style.cssText),g.style.cssText=(he?"z-index:100000;":"")+"height:"+g.style.height+";"+(r.isIE?"opacity:0.1;":"");var Fe=S.container.getBoundingClientRect(),Ie=F.computedStyle(S.container),Me=Fe.top+(parseInt(Ie.borderTopWidth)||0),Ne=Fe.left+(parseInt(Fe.borderLeftWidth)||0),De=Fe.bottom-Me-g.clientHeight-2,ke=function(Ye){g.style.left=Ye.clientX-Ne-2+"px",g.style.top=Math.min(Ye.clientY-Me-2,De)+"px"};ke(te),"mousedown"==te.type&&(S.renderer.$keepTextAreaAtCursor&&(S.renderer.$keepTextAreaAtCursor=null),clearTimeout(de),r.isWin&&B.capture(S.container,ke,fe))},this.onContextMenuClose=fe;var Re=function(te){S.textInput.onContextMenu(te),fe()};B.addListener(g,"mouseup",Re),B.addListener(g,"mousedown",function(te){te.preventDefault(),fe()}),B.addListener(S.renderer.scroller,"contextmenu",Re),B.addListener(g,"contextmenu",Re)}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(H,W,E){"use strict";H("../lib/dom"),H("../lib/event");var F=H("../lib/useragent");function m(C){C.$clickSelection=null;var S=C.editor;S.setDefaultHandler("mousedown",this.onMouseDown.bind(C)),S.setDefaultHandler("dblclick",this.onDoubleClick.bind(C)),S.setDefaultHandler("tripleclick",this.onTripleClick.bind(C)),S.setDefaultHandler("quadclick",this.onQuadClick.bind(C)),S.setDefaultHandler("mousewheel",this.onMouseWheel.bind(C)),S.setDefaultHandler("touchmove",this.onTouchMove.bind(C)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(v){C[v]=this[v]},this),C.selectByLines=this.extendSelectionBy.bind(C,"getLineRange"),C.selectByWords=this.extendSelectionBy.bind(C,"getWordRange")}function y(C,S){if(C.start.row==C.end.row)var g=2*S.column-C.start.column-C.end.column;else if(C.start.row!=C.end.row-1||C.start.column||C.end.column)g=2*S.row-C.start.row-C.end.row;else g=S.column-4;return g<0?{cursor:C.start,anchor:C.end}:{cursor:C.end,anchor:C.start}}(function(){this.onMouseDown=function(C){var S=C.inSelection(),g=C.getDocumentPosition();this.mousedownEvent=C;var v=this.editor,A=C.getButton();if(0!==A){var M=v.getSelectionRange().isEmpty();return v.$blockScrolling++,(M||1==A)&&v.selection.moveToPosition(g),v.$blockScrolling--,void(2==A&&(v.textInput.onContextMenu(C.domEvent),F.isMozilla||C.preventDefault()))}return this.mousedownEvent.time=Date.now(),!S||v.isFocused()||(v.focus(),!this.$focusTimout||this.$clickSelection||v.inMultiSelectMode)?(this.captureMouse(C),this.startSelect(g,C.domEvent._clicks>1),C.preventDefault()):(this.setState("focusWait"),void this.captureMouse(C))},this.startSelect=function(C,S){C=C||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var g=this.editor;g.$blockScrolling++,this.mousedownEvent.getShiftKey()?g.selection.selectToPosition(C):S||g.selection.moveToPosition(C),S||this.select(),g.renderer.scroller.setCapture&&g.renderer.scroller.setCapture(),g.setStyle("ace_selecting"),this.setState("select"),g.$blockScrolling--},this.select=function(){var C,S=this.editor,g=S.renderer.screenToTextCoordinates(this.x,this.y);if(S.$blockScrolling++,this.$clickSelection){var v=this.$clickSelection.comparePoint(g);if(-1==v)C=this.$clickSelection.end;else if(1==v)C=this.$clickSelection.start;else{var A=y(this.$clickSelection,g);g=A.cursor,C=A.anchor}S.selection.setSelectionAnchor(C.row,C.column)}S.selection.selectToPosition(g),S.$blockScrolling--,S.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(C){var S,g=this.editor,v=g.renderer.screenToTextCoordinates(this.x,this.y),A=g.selection[C](v.row,v.column);if(g.$blockScrolling++,this.$clickSelection){var D=this.$clickSelection.comparePoint(A.start),M=this.$clickSelection.comparePoint(A.end);if(-1==D&&M<=0)S=this.$clickSelection.end,(A.end.row!=v.row||A.end.column!=v.column)&&(v=A.start);else if(1==M&&D>=0)S=this.$clickSelection.start,(A.start.row!=v.row||A.start.column!=v.column)&&(v=A.end);else if(-1==D&&1==M)v=A.end,S=A.start;else{var T=y(this.$clickSelection,v);v=T.cursor,S=T.anchor}g.selection.setSelectionAnchor(S.row,S.column)}g.selection.selectToPosition(v),g.$blockScrolling--,g.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var C=function(C,S,g,v){return Math.sqrt(Math.pow(g-C,2)+Math.pow(v-S,2))}(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),S=Date.now();(C>0||S-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(C){var S=C.getDocumentPosition(),g=this.editor,A=g.session.getBracketRange(S);A?(A.isEmpty()&&(A.start.column--,A.end.column++),this.setState("select")):(A=g.selection.getWordRange(S.row,S.column),this.setState("selectByWords")),this.$clickSelection=A,this.select()},this.onTripleClick=function(C){var S=C.getDocumentPosition(),g=this.editor;this.setState("selectByLines");var v=g.getSelectionRange();v.isMultiLine()&&v.contains(S.row,S.column)?(this.$clickSelection=g.selection.getLineRange(v.start.row),this.$clickSelection.end=g.selection.getLineRange(v.end.row).end):this.$clickSelection=g.selection.getLineRange(S.row),this.select()},this.onQuadClick=function(C){var S=this.editor;S.selectAll(),this.$clickSelection=S.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(C){if(!C.getAccelKey()){C.getShiftKey()&&C.wheelY&&!C.wheelX&&(C.wheelX=C.wheelY,C.wheelY=0);var S=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var g=this.$lastScroll,v=C.domEvent.timeStamp,A=v-g.t,D=C.wheelX/A,M=C.wheelY/A;A<250&&(D=(D+g.vx)/2,M=(M+g.vy)/2);var T=Math.abs(D/M),N=!1;if(T>=1&&S.renderer.isScrollableBy(C.wheelX*C.speed,0)&&(N=!0),T<=1&&S.renderer.isScrollableBy(0,C.wheelY*C.speed)&&(N=!0),N?g.allowed=v:v-g.allowed<250&&(Math.abs(D)<=1.1*Math.abs(g.vx)&&Math.abs(M)<=1.1*Math.abs(g.vy)?(N=!0,g.allowed=v):g.allowed=0),g.t=v,g.vx=D,g.vy=M,N)return S.renderer.scrollBy(C.wheelX*C.speed,C.wheelY*C.speed),C.stop()}},this.onTouchMove=function(C){this.editor._emit("mousewheel",C)}}).call(m.prototype),W.DefaultHandlers=m}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(H,W,E){"use strict";H("./lib/oop");var r=H("./lib/dom");function F(R){this.isOpen=!1,this.$element=null,this.$parentNode=R}(function(){this.$init=function(){return this.$element=r.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(R){r.setInnerText(this.getElement(),R)},this.setHtml=function(R){this.getElement().innerHTML=R},this.setPosition=function(R,_){this.getElement().style.left=R+"px",this.getElement().style.top=_+"px"},this.setClassName=function(R){r.addCssClass(this.getElement(),R)},this.show=function(R,_,m){null!=R&&this.setText(R),null!=_&&null!=m&&this.setPosition(_,m),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(F.prototype),W.Tooltip=F}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(H,W,E){"use strict";var B=H("../lib/dom"),r=H("../lib/oop"),F=H("../lib/event"),R=H("../tooltip").Tooltip;function m(f){R.call(this,f)}r.inherits(m,R),function(){this.setPosition=function(f,y){var C=window.innerWidth||document.documentElement.clientWidth,S=window.innerHeight||document.documentElement.clientHeight,g=this.getWidth(),v=this.getHeight();(f+=15)+g>C&&(f-=f+g-C),(y+=15)+v>S&&(y-=20+v),R.prototype.setPosition.call(this,f,y)}}.call(m.prototype),W.GutterHandler=function(f){var g,v,A,y=f.editor,C=y.renderer.$gutterLayer,S=new m(y.container);function M(){g&&(g=clearTimeout(g)),A&&(S.hide(),A=null,y._signal("hideGutterTooltip",S),y.removeEventListener("mousewheel",M))}function T(N){S.setPosition(N.x,N.y)}f.editor.setDefaultHandler("guttermousedown",function(N){if(y.isFocused()&&0==N.getButton()&&"foldWidgets"!=C.getRegion(N)){var I=N.getDocumentPosition().row,k=y.session.selection;if(N.getShiftKey())k.selectTo(I,0);else{if(2==N.domEvent.detail)return y.selectAll(),N.preventDefault();f.$clickSelection=y.selection.getLineRange(I)}return f.setState("selectByLines"),f.captureMouse(N),N.preventDefault()}}),f.editor.setDefaultHandler("guttermousemove",function(N){if(B.hasCssClass(N.domEvent.target||N.domEvent.srcElement,"ace_fold-widget"))return M();A&&f.$tooltipFollowsMouse&&T(N),v=N,!g&&(g=setTimeout(function(){g=null,v&&!f.isMousePressed?function(){var N=v.getDocumentPosition().row,x=C.$annotations[N];if(!x)return M();if(N==y.session.getLength()){var k=y.renderer.pixelToScreenCoordinates(0,v.y).row,$=v.$pos;if(k>y.session.documentToScreenRow($.row,$.column))return M()}if(A!=x)if(A=x.text.join("<br/>"),S.setHtml(A),S.show(),y._signal("showGutterTooltip",S),y.on("mousewheel",M),f.$tooltipFollowsMouse)T(v);else{var V=v.domEvent.target.getBoundingClientRect(),U=S.getElement().style;U.left=V.right+"px",U.top=V.bottom+"px"}}():M()},50))}),F.addListener(y.renderer.$gutter,"mouseout",function(N){v=null,A&&!g&&(g=setTimeout(function(){g=null,M()},50))}),y.on("changeSession",M)}}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(H,W,E){"use strict";var B=H("../lib/event"),r=H("../lib/useragent"),F=W.MouseEvent=function(R,_){this.domEvent=R,this.editor=_,this.x=this.clientX=R.clientX,this.y=this.clientY=R.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){B.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){B.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var _=this.editor.getSelectionRange();if(_.isEmpty())this.$inSelection=!1;else{var m=this.getDocumentPosition();this.$inSelection=_.contains(m.row,m.column)}return this.$inSelection},this.getButton=function(){return B.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(F.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(H,W,E){"use strict";var B=H("../lib/dom"),r=H("../lib/event"),F=H("../lib/useragent");function f(C){var S=C.editor,g=B.createElement("img");g.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",F.isOpera&&(g.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"),["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(Ce){C[Ce]=this[Ce]},this),S.addEventListener("mousedown",this.onMouseDown.bind(C));var D,M,T,N,x,I,$,P,V,U,X,A=S.container,k=0;function ce(){var Ce=I;(function(Ce,ge){var se=Date.now();U&&ge&&Ce.row==ge.row&&ge&&Ce.column==ge.column?y(X.x,X.y,M,T)>5?U=null:se-U>=200&&(S.renderer.scrollCursorIntoView(),U=null):(S.$blockScrolling+=1,S.moveCursorToPosition(Ce),S.$blockScrolling-=1,U=se,X={x:M,y:T})})(I=S.renderer.screenToTextCoordinates(M,T),Ce),function(Ce,ge){var se=Date.now(),de=S.renderer.layerConfig.lineHeight,fe=S.renderer.layerConfig.characterWidth,Re=S.renderer.scroller.getBoundingClientRect(),te={x:{left:M-Re.left,right:Re.right-M},y:{top:T-Re.top,bottom:Re.bottom-T}},he=Math.min(te.x.left,te.x.right),Fe=Math.min(te.y.top,te.y.bottom),Ie={row:Ce.row,column:Ce.column};he/fe<=2&&(Ie.column+=te.x.left<te.x.right?-3:2),Fe/de<=1&&(Ie.row+=te.y.top<te.y.bottom?-1:1),Ce.row!=Ie.row||Ce.column!=Ie.column&&ge&&Ce.row==ge.row?V?se-V>=200&&S.renderer.scrollCursorIntoView(Ie):V=se:V=null}(I,Ce)}function _e(){x=S.selection.toOrientedRange(),D=S.session.addMarker(x,"ace_selection",S.getSelectionStyle()),S.clearSelection(),S.isFocused()&&S.renderer.$cursorLayer.setBlinking(!1),clearInterval(N),ce(),N=setInterval(ce,20),k=0,r.addListener(document,"mousemove",Se)}function xe(){clearInterval(N),S.session.removeMarker(D),D=null,S.$blockScrolling+=1,S.selection.fromOrientedRange(x),S.$blockScrolling-=1,S.isFocused()&&!P&&S.renderer.$cursorLayer.setBlinking(!S.getReadOnly()),x=null,I=null,k=0,V=null,U=null,r.removeListener(document,"mousemove",Se)}this.onDragStart=function(Ce){if(this.cancelDrag||!A.draggable){var ge=this;return setTimeout(function(){ge.startSelect(),ge.captureMouse(Ce)},0),Ce.preventDefault()}x=S.getSelectionRange();var se=Ce.dataTransfer;se.effectAllowed=S.getReadOnly()?"copy":"copyMove",F.isOpera&&(S.container.appendChild(g),g.scrollTop=0),se.setDragImage&&se.setDragImage(g,0,0),F.isOpera&&S.container.removeChild(g),se.clearData(),se.setData("Text",S.session.getTextRange()),P=!0,this.setState("drag")},this.onDragEnd=function(Ce){A.draggable=!1,P=!1,this.setState(null),S.getReadOnly()||(!$&&"move"==Ce.dataTransfer.dropEffect&&S.session.remove(S.getSelectionRange()),S.renderer.$cursorLayer.setBlinking(!0)),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(Ce){if(!S.getReadOnly()&&le(Ce.dataTransfer))return M=Ce.clientX,T=Ce.clientY,D||_e(),k++,Ce.dataTransfer.dropEffect=$=ye(Ce),r.preventDefault(Ce)},this.onDragOver=function(Ce){if(!S.getReadOnly()&&le(Ce.dataTransfer))return M=Ce.clientX,T=Ce.clientY,D||(_e(),k++),null!==we&&(we=null),Ce.dataTransfer.dropEffect=$=ye(Ce),r.preventDefault(Ce)},this.onDragLeave=function(Ce){if(--k<=0&&D)return xe(),$=null,r.preventDefault(Ce)},this.onDrop=function(Ce){if(I){var ge=Ce.dataTransfer;if(P)switch($){case"move":x=x.contains(I.row,I.column)?{start:I,end:I}:S.moveText(x,I);break;case"copy":x=S.moveText(x,I,!0)}else{var se=ge.getData("Text");x={start:I,end:S.session.insert(I,se)},S.focus(),$=null}return xe(),r.preventDefault(Ce)}},r.addListener(A,"dragstart",this.onDragStart.bind(C)),r.addListener(A,"dragend",this.onDragEnd.bind(C)),r.addListener(A,"dragenter",this.onDragEnter.bind(C)),r.addListener(A,"dragover",this.onDragOver.bind(C)),r.addListener(A,"dragleave",this.onDragLeave.bind(C)),r.addListener(A,"drop",this.onDrop.bind(C));var we=null;function Se(){null==we&&(we=setTimeout(function(){null!=we&&D&&xe()},20))}function le(Ce){var ge=Ce.types;return!ge||Array.prototype.some.call(ge,function(se){return"text/plain"==se||"Text"==se})}function ye(Ce){var ge=["copy","copymove","all","uninitialized"],de=F.isMac?Ce.altKey:Ce.ctrlKey,fe="uninitialized";try{fe=Ce.dataTransfer.effectAllowed.toLowerCase()}catch(te){}var Re="none";return de&&ge.indexOf(fe)>=0?Re="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(fe)>=0?Re="move":ge.indexOf(fe)>=0&&(Re="copy"),Re}}function y(C,S,g,v){return Math.sqrt(Math.pow(g-C,2)+Math.pow(v-S,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(C){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var C=this.editor;C.container.draggable=!0,C.renderer.$cursorLayer.setBlinking(!1),C.setStyle("ace_dragging"),C.renderer.setCursorStyle(F.isWin?"default":"move"),this.setState("dragReady")},this.onMouseDrag=function(C){var S=this.editor.container;F.isIE&&"dragReady"==this.state&&y(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&S.dragDrop(),"dragWait"===this.state&&y(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(S.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(C){if(this.$dragEnabled){this.mousedownEvent=C;var S=this.editor,g=C.inSelection(),v=C.getButton();if(1===(C.domEvent.detail||1)&&0===v&&g){if(C.editor.inMultiSelectMode&&(C.getAccelKey()||C.getShiftKey()))return;this.mousedownEvent.time=Date.now();var D=C.domEvent.target||C.domEvent.srcElement;"unselectable"in D&&(D.unselectable="on"),S.getDragDelay()?(F.isWebKit&&(this.cancelDrag=!0,S.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(C,this.onMouseDrag.bind(this)),C.defaultPrevented=!0}}}}).call(f.prototype),W.DragdropHandler=f}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(H,W,E){"use strict";var B=H("./dom");W.get=function(r,F){var R=new XMLHttpRequest;R.open("GET",r,!0),R.onreadystatechange=function(){4===R.readyState&&F(R.responseText)},R.send(null)},W.loadScript=function(r,F){var R=B.getDocumentHead(),_=document.createElement("script");_.src=r,R.appendChild(_),_.onload=_.onreadystatechange=function(m,f){(f||!_.readyState||"loaded"==_.readyState||"complete"==_.readyState)&&(_=_.onload=_.onreadystatechange=null,f||F())}},W.qualifyURL=function(r){var F=document.createElement("a");return F.href=r,F.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(H,W,E){"use strict";var B={},r=function(){this.propagationStopped=!0},F=function(){this.defaultPrevented=!0};B._emit=B._dispatchEvent=function(R,_){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var m=this._eventRegistry[R]||[],f=this._defaultHandlers[R];if(m.length||f){("object"!=typeof _||!_)&&(_={}),_.type||(_.type=R),_.stopPropagation||(_.stopPropagation=r),_.preventDefault||(_.preventDefault=F),m=m.slice();for(var y=0;y<m.length&&(m[y](_,this),!_.propagationStopped);y++);if(f&&!_.defaultPrevented)return f(_,this)}},B._signal=function(R,_){var m=(this._eventRegistry||{})[R];if(m){m=m.slice();for(var f=0;f<m.length;f++)m[f](_,this)}},B.once=function(R,_){var m=this;_&&this.addEventListener(R,function f(){m.removeEventListener(R,f),_.apply(null,arguments)})},B.setDefaultHandler=function(R,_){var m=this._defaultHandlers;if(m||(m=this._defaultHandlers={_disabled_:{}}),m[R]){var f=m[R],y=m._disabled_[R];y||(m._disabled_[R]=y=[]),y.push(f);var C=y.indexOf(_);-1!=C&&y.splice(C,1)}m[R]=_},B.removeDefaultHandler=function(R,_){var m=this._defaultHandlers;if(m){var f=m._disabled_[R];if(m[R]==_)f&&this.setDefaultHandler(R,f.pop());else if(f){var C=f.indexOf(_);-1!=C&&f.splice(C,1)}}},B.on=B.addEventListener=function(R,_,m){this._eventRegistry=this._eventRegistry||{};var f=this._eventRegistry[R];return f||(f=this._eventRegistry[R]=[]),-1==f.indexOf(_)&&f[m?"unshift":"push"](_),_},B.off=B.removeListener=B.removeEventListener=function(R,_){this._eventRegistry=this._eventRegistry||{};var m=this._eventRegistry[R];if(m){var f=m.indexOf(_);-1!==f&&m.splice(f,1)}},B.removeAllListeners=function(R){this._eventRegistry&&(this._eventRegistry[R]=[])},W.EventEmitter=B}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(H,W,E){var B=H("./oop"),r=H("./event_emitter").EventEmitter,F={setOptions:function(f){Object.keys(f).forEach(function(y){this.setOption(y,f[y])},this)},getOptions:function(f){var y={};return f?Array.isArray(f)||(y=f,f=Object.keys(y)):f=Object.keys(this.$options),f.forEach(function(C){y[C]=this.getOption(C)},this),y},setOption:function(f,y){if(this["$"+f]!==y){var C=this.$options[f];if(!C)return R('misspelled option "'+f+'"');if(C.forwardTo)return this[C.forwardTo]&&this[C.forwardTo].setOption(f,y);C.handlesSet||(this["$"+f]=y),C&&C.set&&C.set.call(this,y)}},getOption:function(f){var y=this.$options[f];return y?y.forwardTo?this[y.forwardTo]&&this[y.forwardTo].getOption(f):y&&y.get?y.get.call(this):this["$"+f]:R('misspelled option "'+f+'"')}};function R(f){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function _(f,y){var C=new Error(f);C.data=y,"object"==typeof console&&console.error&&console.error(C),setTimeout(function(){throw C})}var m=function(){this.$defaultOptions={}};(function(){B.implement(this,r),this.defineOptions=function(f,y,C){return f.$options||(this.$defaultOptions[y]=f.$options={}),Object.keys(C).forEach(function(S){var g=C[S];"string"==typeof g&&(g={forwardTo:g}),g.name||(g.name=S),f.$options[g.name]=g,"initialValue"in g&&(f["$"+g.name]=g.initialValue)}),B.implement(f,F),this},this.resetOptions=function(f){Object.keys(f.$options).forEach(function(y){var C=f.$options[y];"value"in C&&f.setOption(y,C.value)})},this.setDefaultValue=function(f,y,C){var S=this.$defaultOptions[f]||(this.$defaultOptions[f]={});S[y]&&(S.forwardTo?this.setDefaultValue(S.forwardTo,y,C):S[y].value=C)},this.setDefaultValues=function(f,y){Object.keys(y).forEach(function(C){this.setDefaultValue(f,C,y[C])},this)},this.warn=R,this.reportError=_}).call(m.prototype),W.AppConfig=m}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(H,W,E){var B=H("./lib/lang"),F=(H("./lib/oop"),H("./lib/net")),R=H("./lib/app_config").AppConfig;E.exports=W=new R;var _=function(){return this||"undefined"!=typeof window&&window}(),m={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};function f(C){if(_&&_.document){m.packaged=C||H.packaged||E.packaged||_.define&&w.amdD.packaged;for(var S={},g="",v=document.currentScript||document._currentScript,D=(v&&v.ownerDocument||document).getElementsByTagName("script"),M=0;M<D.length;M++){var T=D[M],N=T.src||T.getAttribute("src");if(N){for(var x=T.attributes,I=0,k=x.length;I<k;I++){var $=x[I];0===$.name.indexOf("data-ace-")&&(S[y($.name.replace(/^data-ace-/,""))]=$.value)}var P=N.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);P&&(g=P[1])}}for(var V in g&&(S.base=S.base||g,S.packaged=!0),S.basePath=S.base,S.workerPath=S.workerPath||S.base,S.modePath=S.modePath||S.base,S.themePath=S.themePath||S.base,delete S.base,S)void 0!==S[V]&&W.set(V,S[V])}}function y(C){return C.replace(/-(.)/g,function(S,g){return g.toUpperCase()})}W.get=function(C){if(!m.hasOwnProperty(C))throw new Error("Unknown config key: "+C);return m[C]},W.set=function(C,S){if(!m.hasOwnProperty(C))throw new Error("Unknown config key: "+C);m[C]=S},W.all=function(){return B.copyObject(m)},W.moduleUrl=function(C,S){if(m.$moduleUrls[C])return m.$moduleUrls[C];var g=C.split("/"),v="snippets"==(S=S||g[g.length-2]||"")?"/":"-",A=g[g.length-1];if("worker"==S&&"-"==v){var D=new RegExp("^"+S+"[\\-_]|[\\-_]"+S+"$","g");A=A.replace(D,"")}(!A||A==S)&&g.length>1&&(A=g[g.length-2]);var M=m[S+"Path"];return null==M?M=m.basePath:"/"==v&&(S=v=""),M&&"/"!=M.slice(-1)&&(M+="/"),M+S+v+A+this.get("suffix")},W.setModuleUrl=function(C,S){return m.$moduleUrls[C]=S},W.$loading={},W.loadModule=function(C,S){var g,v;Array.isArray(C)&&(v=C[0],C=C[1]);try{g=H(C)}catch(D){}if(g&&!W.$loading[C])return S&&S(g);if(W.$loading[C]||(W.$loading[C]=[]),W.$loading[C].push(S),!(W.$loading[C].length>1)){var A=function(){H([C],function(D){W._emit("load.module",{name:C,module:D});var M=W.$loading[C];W.$loading[C]=null,M.forEach(function(T){T&&T(D)})})};if(!W.get("packaged"))return A();F.loadScript(W.moduleUrl(C,v),A)}},f(!0),W.init=f}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(H,W,E){"use strict";var B=H("../lib/event"),r=H("../lib/useragent"),F=H("./default_handlers").DefaultHandlers,R=H("./default_gutter_handler").GutterHandler,_=H("./mouse_event").MouseEvent,m=H("./dragdrop_handler").DragdropHandler,f=H("../config"),y=function(C){var S=this;this.editor=C,new F(this),new R(this),new m(this);var g=function(D){(!document.hasFocus||!document.hasFocus()||!C.isFocused()&&document.activeElement==(C.textInput&&C.textInput.getElement()))&&window.focus(),C.focus()},v=C.renderer.getMouseEventTarget();B.addListener(v,"click",this.onMouseEvent.bind(this,"click")),B.addListener(v,"mousemove",this.onMouseMove.bind(this,"mousemove")),B.addMultiMouseDownListener([v,C.renderer.scrollBarV&&C.renderer.scrollBarV.inner,C.renderer.scrollBarH&&C.renderer.scrollBarH.inner,C.textInput&&C.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),B.addMouseWheelListener(C.container,this.onMouseWheel.bind(this,"mousewheel")),B.addTouchMoveListener(C.container,this.onTouchMove.bind(this,"touchmove"));var A=C.renderer.$gutter;B.addListener(A,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),B.addListener(A,"click",this.onMouseEvent.bind(this,"gutterclick")),B.addListener(A,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),B.addListener(A,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),B.addListener(v,"mousedown",g),B.addListener(A,"mousedown",g),r.isIE&&C.renderer.scrollBarV&&(B.addListener(C.renderer.scrollBarV.element,"mousedown",g),B.addListener(C.renderer.scrollBarH.element,"mousedown",g)),C.on("mousemove",function(D){if(!S.state&&!S.$dragDelay&&S.$dragEnabled){var M=C.renderer.screenToTextCoordinates(D.x,D.y),T=C.session.selection.getRange(),N=C.renderer;!T.isEmpty()&&T.insideStart(M.row,M.column)?N.setCursorStyle("default"):N.setCursorStyle("")}})};(function(){this.onMouseEvent=function(C,S){this.editor._emit(C,new _(S,this.editor))},this.onMouseMove=function(C,S){var g=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!g||!g.length||this.editor._emit(C,new _(S,this.editor))},this.onMouseWheel=function(C,S){var g=new _(S,this.editor);g.speed=2*this.$scrollSpeed,g.wheelX=S.wheelX,g.wheelY=S.wheelY,this.editor._emit(C,g)},this.onTouchMove=function(C,S){var g=new _(S,this.editor);g.speed=1,g.wheelX=S.wheelX,g.wheelY=S.wheelY,this.editor._emit(C,g)},this.setState=function(C){this.state=C},this.captureMouse=function(C,S){this.x=C.x,this.y=C.y,this.isMousePressed=!0;var g=this.editor.renderer;g.$keepTextAreaAtCursor&&(g.$keepTextAreaAtCursor=null);var v=this,A=function(N){if(N){if(r.isWebKit&&!N.which&&v.releaseMouse)return v.releaseMouse();v.x=N.clientX,v.y=N.clientY,S&&S(N),v.mouseEvent=new _(N,v.editor),v.$mouseMoved=!0}},D=function(N){clearInterval(T),M(),v[v.state+"End"]&&v[v.state+"End"](N),v.state="",null==g.$keepTextAreaAtCursor&&(g.$keepTextAreaAtCursor=!0,g.$moveTextAreaToCursor()),v.isMousePressed=!1,v.$onCaptureMouseMove=v.releaseMouse=null,N&&v.onMouseEvent("mouseup",N)},M=function(){v[v.state]&&v[v.state](),v.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==C.domEvent.type)return setTimeout(function(){D(C)});v.$onCaptureMouseMove=A,v.releaseMouse=B.capture(this.editor.container,A,D);var T=setInterval(M,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var C=function(S){S&&S.domEvent&&"contextmenu"!=S.domEvent.type||(this.editor.off("nativecontextmenu",C),S&&S.domEvent&&B.stopEvent(S.domEvent))}.bind(this);setTimeout(C,10),this.editor.on("nativecontextmenu",C)}}).call(y.prototype),f.defineOptions(y.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),W.MouseHandler=y}),ace.define("ace/mouse/fold_handler",["require","exports","module"],function(H,W,E){"use strict";W.FoldHandler=function(r){r.on("click",function(F){var R=F.getDocumentPosition(),_=r.session,m=_.getFoldAt(R.row,R.column,1);m&&(F.getAccelKey()?_.removeFold(m):_.expandFold(m),F.stop())}),r.on("gutterclick",function(F){if("foldWidgets"==r.renderer.$gutterLayer.getRegion(F)){var _=F.getDocumentPosition().row,m=r.session;m.foldWidgets&&m.foldWidgets[_]&&r.session.onFoldWidgetClick(_,F),r.isFocused()||r.focus(),F.stop()}}),r.on("gutterdblclick",function(F){if("foldWidgets"==r.renderer.$gutterLayer.getRegion(F)){var _=F.getDocumentPosition().row,m=r.session,f=m.getParentFoldRangeData(_,!0),y=f.range||f.firstRange;if(y){var C=m.getFoldAt(_=y.start.row,m.getLine(_).length,1);C?m.removeFold(C):(m.addFold("...",y),r.renderer.scrollCursorIntoView({row:y.start.row,column:0}))}F.stop()}})}}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(H,W,E){"use strict";var B=H("../lib/keys"),r=H("../lib/event"),F=function(R){this.$editor=R,this.$data={editor:R},this.$handlers=[],this.setDefaultHandler(R.commands)};(function(){this.setDefaultHandler=function(R){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=R,this.addKeyboardHandler(R,0)},this.setKeyboardHandler=function(R){var _=this.$handlers;if(_[_.length-1]!=R){for(;_[_.length-1]&&_[_.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(_[_.length-1]);this.addKeyboardHandler(R,1)}},this.addKeyboardHandler=function(R,_){if(R){"function"==typeof R&&!R.handleKeyboard&&(R.handleKeyboard=R);var m=this.$handlers.indexOf(R);-1!=m&&this.$handlers.splice(m,1),null==_?this.$handlers.push(R):this.$handlers.splice(_,0,R),-1==m&&R.attach&&R.attach(this.$editor)}},this.removeKeyboardHandler=function(R){var _=this.$handlers.indexOf(R);return-1!=_&&(this.$handlers.splice(_,1),R.detach&&R.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var R=this.$data,_=R.editor;return this.$handlers.map(function(m){return m.getStatusText&&m.getStatusText(_,R)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(R,_,m,f){for(var y,C=!1,S=this.$editor.commands,g=this.$handlers.length;g--&&!((y=this.$handlers[g].handleKeyboard(this.$data,R,_,m,f))&&y.command&&(C="null"==y.command||S.exec(y.command,this.$editor,y.args,f),C&&f&&-1!=R&&1!=y.passEvent&&1!=y.command.passEvent&&r.stopEvent(f),C)););return!C&&-1==R&&(y={command:"insertstring"},C=S.exec("insertstring",this.$editor,_)),C&&this.$editor._signal&&this.$editor._signal("keyboardActivity",y),C},this.onCommandKey=function(R,_,m){var f=B.keyCodeToString(m);this.$callKeyboardHandlers(_,f,m,R)},this.onTextInput=function(R){this.$callKeyboardHandlers(-1,R)}}).call(F.prototype),W.KeyBinding=F}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(H,W,E){"use strict";var F=0,R=0,_=!1,f=!1,y=!1,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ye=[18,18,18,18,18,18,18,18,18,6,5,6,8,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,5,5,5,6,8,4,4,11,11,11,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,18,18,18,18,18,18,5,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,4,11,11,11,11,4,4,4,4,0,4,4,18,4,4,11,11,2,2,4,0,4,4,4,2,0,4,4,4,4,4],Ce=[8,8,8,8,8,8,8,8,8,8,8,18,18,18,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,11,11,11,11,11,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function se(te,he,Fe){if(!(R<te)){if(1==te&&1==F&&!f)return void Fe.reverse();for(var Ne,De,ke,Ye,Ie=Fe.length,Me=0;Me<Ie;){if(he[Me]>=te){for(Ne=Me+1;Ne<Ie&&he[Ne]>=te;)Ne++;for(De=Me,ke=Ne-1;De<ke;De++,ke--)Ye=Fe[De],Fe[De]=Fe[ke],Fe[ke]=Ye;Me=Ne}Me++}}}function de(te,he,Fe,Ie){var Ne,De,ke,Ye,Me=he[Ie];switch(Me){case 0:case 1:_=!1;case 4:case 3:return Me;case 2:return _?3:2;case 7:return _=!0,1;case 8:return 4;case 9:return Ie<1||Ie+1>=he.length||2!=(Ne=Fe[Ie-1])&&3!=Ne||2!=(De=he[Ie+1])&&3!=De?4:(_&&(De=3),De==Ne?De:4);case 10:return 2==(Ne=Ie>0?Fe[Ie-1]:5)&&Ie+1<he.length&&2==he[Ie+1]?2:4;case 11:if(Ie>0&&2==Fe[Ie-1])return 2;if(_)return 4;for(Ye=Ie+1,ke=he.length;Ye<ke&&11==he[Ye];)Ye++;return Ye<ke&&2==he[Ye]?2:4;case 12:for(ke=he.length,Ye=Ie+1;Ye<ke&&12==he[Ye];)Ye++;if(Ye<ke){var rt=te[Ie];if(Ne=he[Ye],(rt>=1425&&rt<=2303||64286==rt)&&(1==Ne||7==Ne))return 1}return Ie<1||5==(Ne=he[Ie-1])?4:Fe[Ie-1];case 5:return _=!1,f=!0,F;case 6:return y=!0,4;case 13:case 14:case 16:case 17:case 15:_=!1;case 18:return 4}}function fe(te){var he=te.charCodeAt(0),Fe=he>>8;return 0==Fe?he>191?0:ye[he]:5==Fe?/[\u0591-\u05f4]/.test(te)?1:0:6==Fe?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(te)?12:/[\u0660-\u0669\u066b-\u066c]/.test(te)?3:1642==he?11:/[\u06f0-\u06f9]/.test(te)?2:7:32==Fe&&he<=8287?Ce[255&he]:254==Fe&&he>=65136?7:4}W.L=0,W.R=1,W.EN=2,W.ON_R=3,W.AN=4,W.R_H=5,W.B=6,W.DOT="\xb7",W.doBidiReorder=function(te,he,Fe){if(te.length<2)return{};var Ie=te.split(""),Me=new Array(Ie.length),Ne=new Array(Ie.length),De=[];F=Fe?1:0,function(te,he,Fe,Ie){var Me=F?v:g,Ne=null,De=null,ke=null,Ye=0,rt=null,Xe=-1,je=null,Q=null,it=[];if(!Ie)for(je=0,Ie=[];je<Fe;je++)Ie[je]=fe(te[je]);for(R=F,_=!1,f=!1,y=!1,Q=0;Q<Fe;Q++){if(Ne=Ye,it[Q]=De=de(te,Ie,it,Q),rt=240&(Ye=Me[Ne][De]),he[Q]=ke=Me[Ye&=15][5],rt>0)if(16==rt){for(je=Xe;je<Q;je++)he[je]=1;Xe=-1}else Xe=-1;if(Me[Ye][6])-1==Xe&&(Xe=Q);else if(Xe>-1){for(je=Xe;je<Q;je++)he[je]=ke;Xe=-1}5==Ie[Q]&&(he[Q]=0),R|=ke}if(y)for(je=0;je<Fe;je++)if(6==Ie[je]){he[je]=F;for(var Lt=je-1;Lt>=0&&8==Ie[Lt];Lt--)he[Lt]=F}}(Ie,De,Ie.length,he);for(var ke=0;ke<Me.length;Me[ke]=ke,ke++);for(se(2,De,Me),se(1,De,Me),ke=0;ke<Me.length-1;ke++)3===he[ke]?De[ke]=W.AN:1===De[ke]&&(he[ke]>7&&he[ke]<13||4===he[ke]||18===he[ke])?De[ke]=W.ON_R:ke>0&&"\u0644"===Ie[ke-1]&&/\u0622|\u0623|\u0625|\u0627/.test(Ie[ke])&&(De[ke-1]=De[ke]=W.R_H,ke++);for(Ie[Ie.length-1]===W.DOT&&(De[Ie.length-1]=W.B),ke=0;ke<Me.length;ke++)Ne[ke]=De[Me[ke]];return{logicalFromVisual:Me,bidiLevels:Ne}},W.hasBidiCharacters=function(te,he){for(var Fe=!1,Ie=0;Ie<te.length;Ie++)he[Ie]=fe(te.charAt(Ie)),!Fe&&(1==he[Ie]||7==he[Ie])&&(Fe=!0);return Fe},W.getVisualFromLogicalIdx=function(te,he){for(var Fe=0;Fe<he.logicalFromVisual.length;Fe++)if(he.logicalFromVisual[Fe]==te)return Fe;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang","ace/lib/useragent"],function(H,W,E){"use strict";var B=H("./lib/bidiutil"),r=H("./lib/lang"),F=H("./lib/useragent"),R=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,_=function(m){this.session=m,this.bidiMap={},this.currentRow=null,this.bidiUtil=B,this.charWidths=[],this.EOL="\xac",this.showInvisibles=!0,this.isRtlDir=!1,this.line="",this.wrapIndent=0,this.isLastRow=!1,this.EOF="\xb6",this.seenBidi=!1};(function(){this.isBidiRow=function(m,f,y){return!!this.seenBidi&&(m!==this.currentRow&&(this.currentRow=m,this.updateRowLine(f,y),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(m){this.seenBidi?this.currentRow=null:"insert"==m.action&&R.test(m.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var m=0,f=this.session.$screenRowCache;if(f.length){var y=this.session.$getRowCacheIndex(f,this.currentRow);y>=0&&(m=this.session.$docRowCache[y])}return m},this.getSplitIndex=function(){var m=0,f=this.session.$screenRowCache;if(f.length)for(var y,C=this.session.$getRowCacheIndex(f,this.currentRow);this.currentRow-m>0&&(y=this.session.$getRowCacheIndex(f,this.currentRow-m-1))===C;)C=y,m++;return m},this.updateRowLine=function(m,f){if(void 0===m&&(m=this.getDocumentRow()),this.wrapIndent=0,this.isLastRow=m===this.session.getLength()-1,this.line=this.session.getLine(m),this.session.$useWrapMode){var y=this.session.$wrapData[m];y&&(void 0===f&&(f=this.getSplitIndex()),f>0&&y.length?(this.wrapIndent=y.indent,this.line=f<y.length?this.line.substring(y[f-1],y[y.length-1]):this.line.substring(y[y.length-1])):this.line=this.line.substring(0,y[f]))}var g,C=this.session,S=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(v,A){return"\t"===v||C.isFullWidth(v.charCodeAt(0))?(g="\t"===v?C.getScreenTabSize(A+S):2,S+=g-1,r.stringRepeat(B.DOT,g)):v})},this.updateBidiMap=function(){var m=[],y=this.line+(this.showInvisibles?this.isLastRow?this.EOF:this.EOL:B.DOT);this.bidiMap=B.hasBidiCharacters(y,m)?B.doBidiReorder(y,m,this.isRtlDir):{}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(m){if(this.seenBidi&&this.characterWidth!==m.$characterSize.width){var f=this.characterWidth=m.$characterSize.width,y=m.$measureCharWidth("\u05d4");this.charWidths[B.L]=this.charWidths[B.EN]=this.charWidths[B.ON_R]=f,this.charWidths[B.R]=this.charWidths[B.AN]=y,this.charWidths[B.R_H]=F.isChrome?y:.45*y,this.charWidths[B.B]=0,this.currentRow=null}},this.getShowInvisibles=function(){return this.showInvisibles},this.setShowInvisibles=function(m){this.showInvisibles=m,this.currentRow=null},this.setEolChar=function(m){this.EOL=m},this.setTextDir=function(m){this.isRtlDir=m},this.getPosLeft=function(m){var f=B.getVisualFromLogicalIdx((m-=this.wrapIndent)>0?m-1:0,this.bidiMap),y=this.bidiMap.bidiLevels,C=0;0===m&&y[f]%2!=0&&f++;for(var S=0;S<f;S++)C+=this.charWidths[y[S]];return 0!==m&&y[f]%2==0&&(C+=this.charWidths[y[f]]),this.wrapIndent&&(C+=this.wrapIndent*this.charWidths[B.L]),C},this.getSelections=function(m,f){for(var S,x,y=this.bidiMap,C=y.bidiLevels,g=this.wrapIndent*this.charWidths[B.L],v=[],A=Math.min(m,f)-this.wrapIndent,D=Math.max(m,f)-this.wrapIndent,M=!1,T=!1,N=0,I=0;I<C.length;I++)S=C[I],(M=(x=y.logicalFromVisual[I])>=A&&x<D)&&!T?N=g:!M&&T&&v.push({left:N,width:g-N}),g+=this.charWidths[S],T=M;return M&&I===C.length&&v.push({left:N,width:g-N}),v},this.offsetToCol=function(m){var f=0,y=(m=Math.max(m,0),0),C=0,S=this.bidiMap.bidiLevels,g=this.charWidths[S[C]];for(this.wrapIndent&&(m-=this.wrapIndent*this.charWidths[B.L]);m>y+g/2;){if(y+=g,C===S.length-1){g=0;break}g=this.charWidths[S[++C]]}return C>0&&S[C-1]%2!=0&&S[C]%2==0?(m<y&&C--,f=this.bidiMap.logicalFromVisual[C]):C>0&&S[C-1]%2==0&&S[C]%2!=0?f=1+(m>y?this.bidiMap.logicalFromVisual[C]:this.bidiMap.logicalFromVisual[C-1]):this.isRtlDir&&C===S.length-1&&0===g&&S[C-1]%2==0||!this.isRtlDir&&0===C&&S[C]%2!=0?f=1+this.bidiMap.logicalFromVisual[C]:(C>0&&S[C-1]%2!=0&&0!==g&&C--,f=this.bidiMap.logicalFromVisual[C]),f+this.wrapIndent}}).call(_.prototype),W.BidiHandler=_}),ace.define("ace/range",["require","exports","module"],function(H,W,E){"use strict";var r=function(F,R,_,m){this.start={row:F,column:R},this.end={row:_,column:m}};(function(){this.isEqual=function(F){return this.start.row===F.start.row&&this.end.row===F.end.row&&this.start.column===F.start.column&&this.end.column===F.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(F,R){return 0==this.compare(F,R)},this.compareRange=function(F){var R,_=F.end,m=F.start;return 1==(R=this.compare(_.row,_.column))?1==(R=this.compare(m.row,m.column))?2:0==R?1:0:-1==R?-2:-1==(R=this.compare(m.row,m.column))?-1:1==R?42:0},this.comparePoint=function(F){return this.compare(F.row,F.column)},this.containsRange=function(F){return 0==this.comparePoint(F.start)&&0==this.comparePoint(F.end)},this.intersects=function(F){var R=this.compareRange(F);return-1==R||0==R||1==R},this.isEnd=function(F,R){return this.end.row==F&&this.end.column==R},this.isStart=function(F,R){return this.start.row==F&&this.start.column==R},this.setStart=function(F,R){"object"==typeof F?(this.start.column=F.column,this.start.row=F.row):(this.start.row=F,this.start.column=R)},this.setEnd=function(F,R){"object"==typeof F?(this.end.column=F.column,this.end.row=F.row):(this.end.row=F,this.end.column=R)},this.inside=function(F,R){return 0==this.compare(F,R)&&!(this.isEnd(F,R)||this.isStart(F,R))},this.insideStart=function(F,R){return 0==this.compare(F,R)&&!this.isEnd(F,R)},this.insideEnd=function(F,R){return 0==this.compare(F,R)&&!this.isStart(F,R)},this.compare=function(F,R){return this.isMultiLine()||F!==this.start.row?F<this.start.row?-1:F>this.end.row?1:this.start.row===F?R>=this.start.column?0:-1:this.end.row===F?R<=this.end.column?0:1:0:R<this.start.column?-1:R>this.end.column?1:0},this.compareStart=function(F,R){return this.start.row==F&&this.start.column==R?-1:this.compare(F,R)},this.compareEnd=function(F,R){return this.end.row==F&&this.end.column==R?1:this.compare(F,R)},this.compareInside=function(F,R){return this.end.row==F&&this.end.column==R?1:this.start.row==F&&this.start.column==R?-1:this.compare(F,R)},this.clipRows=function(F,R){if(this.end.row>R)var _={row:R+1,column:0};else this.end.row<F&&(_={row:F,column:0});if(this.start.row>R)var m={row:R+1,column:0};else this.start.row<F&&(m={row:F,column:0});return r.fromPoints(m||this.start,_||this.end)},this.extend=function(F,R){var _=this.compare(F,R);if(0==_)return this;if(-1==_)var m={row:F,column:R};else var f={row:F,column:R};return r.fromPoints(m||this.start,f||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return r.fromPoints(this.start,this.end)},this.collapseRows=function(){return new r(this.start.row,0,0==this.end.column?Math.max(this.start.row,this.end.row-1):this.end.row,0)},this.toScreenRange=function(F){var R=F.documentToScreenPosition(this.start),_=F.documentToScreenPosition(this.end);return new r(R.row,R.column,_.row,_.column)},this.moveBy=function(F,R){this.start.row+=F,this.start.column+=R,this.end.row+=F,this.end.column+=R}}).call(r.prototype),r.fromPoints=function(F,R){return new r(F.row,F.column,R.row,R.column)},r.comparePoints=function(F,R){return F.row-R.row||F.column-R.column},r.comparePoints=function(F,R){return F.row-R.row||F.column-R.column},W.Range=r}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(H,W,E){"use strict";var B=H("./lib/oop"),r=H("./lib/lang"),F=H("./lib/event_emitter").EventEmitter,R=H("./range").Range,_=function(m){this.session=m,this.doc=m.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var f=this;this.lead.on("change",function(y){f._emit("changeCursor"),f.$isEmpty||f._emit("changeSelection"),!f.$keepDesiredColumnOnChange&&y.old.column!=y.value.column&&(f.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){f.$isEmpty||f._emit("changeSelection")})};(function(){B.implement(this,F),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.isEmpty()&&this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(m,f){this.anchor.setPosition(m,f),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(m){if(this.$isEmpty)this.moveCursorTo(this.lead.row,this.lead.column+m);else{var f=this.getSelectionAnchor(),y=this.getSelectionLead(),C=this.isBackwards();(!C||0!==f.column)&&this.setSelectionAnchor(f.row,f.column+m),(C||0!==y.column)&&this.$moveSelection(function(){this.moveCursorTo(y.row,y.column+m)})}},this.isBackwards=function(){var m=this.anchor,f=this.lead;return m.row>f.row||m.row==f.row&&m.column>f.column},this.getRange=function(){var m=this.anchor,f=this.lead;return this.isEmpty()?R.fromPoints(f,f):this.isBackwards()?R.fromPoints(f,m):R.fromPoints(m,f)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var m=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(m,this.doc.getLine(m).length)},this.setRange=this.setSelectionRange=function(m,f){f?(this.setSelectionAnchor(m.end.row,m.end.column),this.selectTo(m.start.row,m.start.column)):(this.setSelectionAnchor(m.start.row,m.start.column),this.selectTo(m.end.row,m.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(m){var f=this.lead;this.$isEmpty&&this.setSelectionAnchor(f.row,f.column),m.call(this)},this.selectTo=function(m,f){this.$moveSelection(function(){this.moveCursorTo(m,f)})},this.selectToPosition=function(m){this.$moveSelection(function(){this.moveCursorToPosition(m)})},this.moveTo=function(m,f){this.clearSelection(),this.moveCursorTo(m,f)},this.moveToPosition=function(m){this.clearSelection(),this.moveCursorToPosition(m)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(m,f){if(void 0===f){var y=m||this.lead;m=y.row,f=y.column}return this.session.getWordRange(m,f)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var m=this.getCursor(),f=this.session.getAWordRange(m.row,m.column);this.setSelectionRange(f)},this.getLineRange=function(m,f){var C,y="number"==typeof m?m:this.lead.row,S=this.session.getFoldLine(y);return S?(y=S.start.row,C=S.end.row):C=y,!0===f?new R(y,0,C,this.session.getLine(C).length):new R(y,0,C+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(m,f,y){var C=m.column,S=m.column+f;return y<0&&(C=m.column-f,S=m.column),this.session.isTabStop(m)&&this.doc.getLine(m.row).slice(C,S).split(" ").length-1==f},this.moveCursorLeft=function(){var f,m=this.lead.getPosition();if(f=this.session.getFoldAt(m.row,m.column,-1))this.moveCursorTo(f.start.row,f.start.column);else if(0===m.column)m.row>0&&this.moveCursorTo(m.row-1,this.doc.getLine(m.row-1).length);else{var y=this.session.getTabSize();this.wouldMoveIntoSoftTab(m,y,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-y):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var f,m=this.lead.getPosition();if(f=this.session.getFoldAt(m.row,m.column,1))this.moveCursorTo(f.end.row,f.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var y=this.session.getTabSize();this.wouldMoveIntoSoftTab(m=this.lead,y,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,y):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var m=this.lead.row,f=this.lead.column,y=this.session.documentToScreenRow(m,f),C=this.session.screenToDocumentPosition(y,0),g=this.session.getDisplayLine(m,null,C.row,C.column).match(/^\s*/);g[0].length!=f&&!this.session.$useEmacsStyleLineStart&&(C.column+=g[0].length),this.moveCursorToPosition(C)},this.moveCursorLineEnd=function(){var m=this.lead,f=this.session.getDocumentLastRowColumnPosition(m.row,m.column);if(this.lead.column==f.column){var y=this.session.getLine(f.row);if(f.column==y.length){var C=y.search(/\s+$/);C>0&&(f.column=C)}}this.moveCursorTo(f.row,f.column)},this.moveCursorFileEnd=function(){var m=this.doc.getLength()-1,f=this.doc.getLine(m).length;this.moveCursorTo(m,f)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var m=this.lead.row,f=this.lead.column,y=this.doc.getLine(m),C=y.substring(f);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var g=this.session.getFoldAt(m,f,1);if(!g)return this.session.nonTokenRe.exec(C)&&(f+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,C=y.substring(f)),f>=y.length?(this.moveCursorTo(m,y.length),this.moveCursorRight(),void(m<this.doc.getLength()-1&&this.moveCursorWordRight())):(this.session.tokenRe.exec(C)&&(f+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(m,f));this.moveCursorTo(g.end.row,g.end.column)},this.moveCursorLongWordLeft=function(){var y,m=this.lead.row,f=this.lead.column;if(y=this.session.getFoldAt(m,f,-1))this.moveCursorTo(y.start.row,y.start.column);else{var C=this.session.getFoldStringAt(m,f,-1);null==C&&(C=this.doc.getLine(m).substring(0,f));var S=r.stringReverse(C);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(S)&&(f-=this.session.nonTokenRe.lastIndex,S=S.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),f<=0)return this.moveCursorTo(m,0),this.moveCursorLeft(),void(m>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(S)&&(f-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(m,f)}},this.$shortWordEndIndex=function(m){var C,y=0,S=/\s/,g=this.session.tokenRe;if(g.lastIndex=0,this.session.tokenRe.exec(m))y=this.session.tokenRe.lastIndex;else{for(;(C=m[y])&&S.test(C);)y++;if(y<1)for(g.lastIndex=0;(C=m[y])&&!g.test(C);)if(g.lastIndex=0,y++,S.test(C)){if(y>2){y--;break}for(;(C=m[y])&&S.test(C);)y++;if(y>2)break}}return g.lastIndex=0,y},this.moveCursorShortWordRight=function(){var m=this.lead.row,f=this.lead.column,y=this.doc.getLine(m),C=y.substring(f),S=this.session.getFoldAt(m,f,1);if(S)return this.moveCursorTo(S.end.row,S.end.column);if(f==y.length){var g=this.doc.getLength();do{m++,C=this.doc.getLine(m)}while(m<g&&/^\s*$/.test(C));/^\s+/.test(C)||(C=""),f=0}var v=this.$shortWordEndIndex(C);this.moveCursorTo(m,f+v)},this.moveCursorShortWordLeft=function(){var y,m=this.lead.row,f=this.lead.column;if(y=this.session.getFoldAt(m,f,-1))return this.moveCursorTo(y.start.row,y.start.column);var C=this.session.getLine(m).substring(0,f);if(0===f){do{m--,C=this.doc.getLine(m)}while(m>0&&/^\s*$/.test(C));f=C.length,/\s+$/.test(C)||(C="")}var S=r.stringReverse(C),g=this.$shortWordEndIndex(S);return this.moveCursorTo(m,f-g)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(m,f){var C,y=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===f&&(0!==m&&(this.session.$bidiHandler.isBidiRow(y.row,this.lead.row)?(C=this.session.$bidiHandler.getPosLeft(y.column),y.column=Math.round(C/this.session.$bidiHandler.charWidths[0])):C=y.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?y.column=this.$desiredColumn:this.$desiredColumn=y.column);var S=this.session.screenToDocumentPosition(y.row+m,y.column,C);0!==m&&0===f&&S.row===this.lead.row&&S.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[S.row]&&(S.row>0||m>0)&&S.row++,this.moveCursorTo(S.row,S.column+f,0===f)},this.moveCursorToPosition=function(m){this.moveCursorTo(m.row,m.column)},this.moveCursorTo=function(m,f,y){var C=this.session.getFoldAt(m,f,1);C&&(m=C.start.row,f=C.start.column),this.$keepDesiredColumnOnChange=!0;var S=this.session.getLine(m);/[\uDC00-\uDFFF]/.test(S.charAt(f))&&S.charAt(f-1)&&(this.lead.row==m&&this.lead.column==f+1?f-=1:f+=1),this.lead.setPosition(m,f),this.$keepDesiredColumnOnChange=!1,y||(this.$desiredColumn=null)},this.moveCursorToScreen=function(m,f,y){var C=this.session.screenToDocumentPosition(m,f);this.moveCursorTo(C.row,C.column,y)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(m){this.setSelectionRange(m,m.cursor==m.start),this.$desiredColumn=m.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(m){var f=this.getRange();return m?(m.start.column=f.start.column,m.start.row=f.start.row,m.end.column=f.end.column,m.end.row=f.end.row):m=f,m.cursor=this.isBackwards()?m.start:m.end,m.desiredColumn=this.$desiredColumn,m},this.getRangeOfMovements=function(m){var f=this.getCursor();try{m(this);var y=this.getCursor();return R.fromPoints(f,y)}catch(C){return R.fromPoints(f,f)}finally{this.moveCursorToPosition(f)}},this.toJSON=function(){if(this.rangeCount)var m=this.ranges.map(function(f){var y=f.clone();return y.isBackwards=f.cursor==f.start,y});else(m=this.getRange()).isBackwards=this.isBackwards();return m},this.fromJSON=function(m){if(null==m.start){if(this.rangeList){this.toSingleRange(m[0]);for(var f=m.length;f--;){var y=R.fromPoints(m[f].start,m[f].end);m[f].isBackwards&&(y.cursor=y.start),this.addRange(y,!0)}return}m=m[0]}this.rangeList&&this.toSingleRange(m),this.setSelectionRange(m,m.isBackwards)},this.isEqual=function(m){if((m.length||this.rangeCount)&&m.length!=this.rangeCount)return!1;if(!m.length||!this.ranges)return this.getRange().isEqual(m);for(var f=this.ranges.length;f--;)if(!this.ranges[f].isEqual(m[f]))return!1;return!0}}).call(_.prototype),W.Selection=_}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(H,W,E){"use strict";var B=H("./config"),r=2e3,F=function(R){for(var _ in this.states=R,this.regExps={},this.matchMappings={},this.states){for(var m=this.states[_],f=[],y=0,C=this.matchMappings[_]={defaultToken:"text"},S="g",g=[],v=0;v<m.length;v++){var A=m[v];if(A.defaultToken&&(C.defaultToken=A.defaultToken),A.caseInsensitive&&(S="gi"),null!=A.regex){A.regex instanceof RegExp&&(A.regex=A.regex.toString().slice(1,-1));var D=A.regex,M=new RegExp("(?:("+D+")|(.))").exec("a").length-2;Array.isArray(A.token)?1==A.token.length||1==M?A.token=A.token[0]:M-1!=A.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:A,groupCount:M-1}),A.token=A.token[0]):(A.tokenArray=A.token,A.token=null,A.onMatch=this.$arrayTokens):"function"==typeof A.token&&!A.onMatch&&(A.onMatch=M>1?this.$applyToken:A.token),M>1&&(/\\\d/.test(A.regex)?D=A.regex.replace(/\\([0-9]+)/g,function(T,N){return"\\"+(parseInt(N,10)+y+1)}):(M=1,D=this.removeCapturingGroups(A.regex)),!A.splitRegex&&"string"!=typeof A.token&&g.push(A)),C[y]=v,y+=M,f.push(D),A.onMatch||(A.onMatch=null)}}f.length||(C[0]=0,f.push("$")),g.forEach(function(T){T.splitRegex=this.createSplitterRegexp(T.regex,S)},this),this.regExps[_]=new RegExp("("+f.join(")|(")+")|($)",S)}};(function(){this.$setMaxTokenCount=function(R){r=0|R},this.$applyToken=function(R){var _=this.splitRegex.exec(R).slice(1),m=this.token.apply(this,_);if("string"==typeof m)return[{type:m,value:R}];for(var f=[],y=0,C=m.length;y<C;y++)_[y]&&(f[f.length]={type:m[y],value:_[y]});return f},this.$arrayTokens=function(R){if(!R)return[];var _=this.splitRegex.exec(R);if(!_)return"text";for(var m=[],f=this.tokenArray,y=0,C=f.length;y<C;y++)_[y+1]&&(m[m.length]={type:f[y],value:_[y+1]});return m},this.removeCapturingGroups=function(R){return R.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(m,f){return f?"(?:":m})},this.createSplitterRegexp=function(R,_){if(-1!=R.indexOf("(?=")){var m=0,f=!1,y={};R.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(C,S,g,v,A,D){return f?f="]"!=A:A?f=!0:v?(m==y.stack&&(y.end=D+1,y.stack=-1),m--):g&&(m++,1!=g.length&&(y.stack=m,y.start=D)),C}),null!=y.end&&/^\)*$/.test(R.substr(y.end))&&(R=R.substring(0,y.start)+R.substr(y.end))}return"^"!=R.charAt(0)&&(R="^"+R),"$"!=R.charAt(R.length-1)&&(R+="$"),new RegExp(R,(_||"").replace("g",""))},this.getLineTokens=function(R,_){if(_&&"string"!=typeof _){var m=_.slice(0);"#tmp"===(_=m[0])&&(m.shift(),_=m.shift())}else m=[];var f=_||"start",y=this.states[f];y||(y=this.states[f="start"]);var C=this.matchMappings[f],S=this.regExps[f];S.lastIndex=0;for(var g,v=[],A=0,D=0,M={type:null,value:""};g=S.exec(R);){var T=C.defaultToken,N=null,x=g[0],I=S.lastIndex;if(I-x.length>A){var k=R.substring(A,I-x.length);M.type==T?M.value+=k:(M.type&&v.push(M),M={type:T,value:k})}for(var $=0;$<g.length-2;$++)if(void 0!==g[$+1]){T=(N=y[C[$]]).onMatch?N.onMatch(x,f,m,R):N.token,N.next&&(f="string"==typeof N.next?N.next:N.next(f,m),(y=this.states[f])||(this.reportError("state doesn't exist",f),y=this.states[f="start"]),C=this.matchMappings[f],A=I,(S=this.regExps[f]).lastIndex=I),N.consumeLineEnd&&(A=I);break}if(x)if("string"==typeof T)N&&!1===N.merge||M.type!==T?(M.type&&v.push(M),M={type:T,value:x}):M.value+=x;else if(T)for(M.type&&v.push(M),M={type:null,value:""},$=0;$<T.length;$++)v.push(T[$]);if(A==R.length)break;if(A=I,D++>r){for(D>2*R.length&&this.reportError("infinite loop with in ace tokenizer",{startState:_,line:R});A<R.length;)M.type&&v.push(M),M={value:R.substring(A,A+=2e3),type:"overflow"};f="start",m=[];break}}return M.type&&v.push(M),m.length>1&&m[0]!==f&&m.unshift("#tmp",f),{tokens:v,state:m.length?m:f}},this.reportError=B.reportError}).call(F.prototype),W.Tokenizer=F}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(H,W,E){"use strict";var B=H("../lib/lang"),r=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(_,m){if(m)for(var f in _){for(var y=_[f],C=0;C<y.length;C++){var S=y[C];(S.next||S.onMatch)&&("string"==typeof S.next&&0!==S.next.indexOf(m)&&(S.next=m+S.next),S.nextState&&0!==S.nextState.indexOf(m)&&(S.nextState=m+S.nextState))}this.$rules[m+f]=y}else for(var f in _)this.$rules[f]=_[f]},this.getRules=function(){return this.$rules},this.embedRules=function(_,m,f,y,C){var S="function"==typeof _?(new _).getRules():_;if(y)for(var g=0;g<y.length;g++)y[g]=m+y[g];else for(var v in y=[],S)y.push(m+v);if(this.addRules(S,m),f){var A=Array.prototype[C?"push":"unshift"];for(g=0;g<y.length;g++)A.apply(this.$rules[y[g]],B.deepCopy(f))}this.$embeds||(this.$embeds=[]),this.$embeds.push(m)},this.getEmbeds=function(){return this.$embeds};var F=function(_,m){return("start"!=_||m.length)&&m.unshift(this.nextState,_),this.nextState},R=function(_,m){return m.shift(),m.shift()||"start"};this.normalizeRules=function(){var _=0,m=this.$rules;Object.keys(m).forEach(function f(y){var C=m[y];C.processed=!0;for(var S=0;S<C.length;S++){var g=C[S],v=null;Array.isArray(g)&&(v=g,g={}),!g.regex&&g.start&&(g.regex=g.start,g.next||(g.next=[]),g.next.push({defaultToken:g.token},{token:g.token+".end",regex:g.end||g.start,next:"pop"}),g.token=g.token+".start",g.push=!0);var A=g.next||g.push;if(A&&Array.isArray(A)){var D=g.stateName;D||("string"!=typeof(D=g.token)&&(D=D[0]||""),m[D]&&(D+=_++)),m[D]=A,g.next=D,f(D)}else"pop"==A&&(g.next=R);if(g.push&&(g.nextState=g.next||g.push,g.next=F,delete g.push),g.rules)for(var M in g.rules)m[M]?m[M].push&&m[M].push.apply(m[M],g.rules[M]):m[M]=g.rules[M];var T="string"==typeof g?g:g.include;if(T&&(v=Array.isArray(T)?T.map(function(x){return m[x]}):m[T]),v){var N=[S,1].concat(v);g.noEscape&&(N=N.filter(function(x){return!x.next})),C.splice.apply(C,N),S--}g.keywordMap&&(g.token=this.createKeywordMapper(g.keywordMap,g.defaultToken||"text",g.caseInsensitive),delete g.defaultToken)}},this)},this.createKeywordMapper=function(_,m,f,y){var C=Object.create(null);return Object.keys(_).forEach(function(S){var g=_[S];f&&(g=g.toLowerCase());for(var v=g.split(y||"|"),A=v.length;A--;)C[v[A]]=S}),Object.getPrototypeOf(C)&&(C.__proto__=null),this.$keywordList=Object.keys(C),_=null,f?function(S){return C[S.toLowerCase()]||m}:function(S){return C[S]||m}},this.getKeywords=function(){return this.$keywords}}).call(r.prototype),W.TextHighlightRules=r}),ace.define("ace/mode/behaviour",["require","exports","module"],function(H,W,E){"use strict";var B=function(){this.$behaviours={}};(function(){this.add=function(r,F,R){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[r]:this.$behaviours[r]={}}this.$behaviours[r][F]=R},this.addBehaviours=function(r){for(var F in r)for(var R in r[F])this.add(F,R,r[F][R])},this.remove=function(r){this.$behaviours&&this.$behaviours[r]&&delete this.$behaviours[r]},this.inherit=function(r,F){if("function"==typeof r)var R=(new r).getBehaviours(F);else R=r.getBehaviours(F);this.addBehaviours(R)},this.getBehaviours=function(r){if(r){for(var F={},R=0;R<r.length;R++)this.$behaviours[r[R]]&&(F[r[R]]=this.$behaviours[r[R]]);return F}return this.$behaviours}}).call(B.prototype),W.Behaviour=B}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(H,W,E){"use strict";var B=H("./range").Range,r=function(F,R,_){this.$session=F,this.$row=R,this.$rowTokens=F.getTokens(R);var m=F.getTokenAt(R,_);this.$tokenIndex=m?m.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var F;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,F||(F=this.$session.getLength()),this.$row>=F)return this.$row=F-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var F=this.$rowTokens,R=this.$tokenIndex,_=F[R].start;if(void 0!==_)return _;for(_=0;R>0;)_+=F[R-=1].value.length;return _},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var F=this.$rowTokens[this.$tokenIndex],R=this.getCurrentTokenColumn();return new B(this.$row,R,this.$row,R+F.value.length)}}).call(r.prototype),W.TokenIterator=r}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(H,W,E){"use strict";var f,B=H("../../lib/oop"),r=H("../behaviour").Behaviour,F=H("../../token_iterator").TokenIterator,R=H("../../lib/lang"),_=["text","paren.rparen","punctuation.operator"],m=["text","paren.rparen","punctuation.operator","comment"],y={},C={'"':'"',"'":"'"},S=function(A){var D=-1;if(A.multiSelect&&(D=A.selection.index,y.rangeCount!=A.multiSelect.rangeCount&&(y={rangeCount:A.multiSelect.rangeCount})),y[D])return f=y[D];f=y[D]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},g=function(A,D,M,T){var N=A.end.row-A.start.row;return{text:M+D+T,selection:[0,A.start.column+1,N,A.end.column+(N?0:1)]}},v=function(A){this.add("braces","insertion",function(D,M,T,N,x){var I=T.getCursorPosition(),k=N.doc.getLine(I.row);if("{"==x){S(T);var $=T.getSelectionRange(),P=N.doc.getTextRange($);if(""!==P&&"{"!==P&&T.getWrapBehavioursEnabled())return g($,P,"{","}");if(v.isSaneInsertion(T,N))return/[\]\}\)]/.test(k[I.column])||T.inMultiSelectMode||A&&A.braces?(v.recordAutoInsert(T,N,"}"),{text:"{}",selection:[1,1]}):(v.recordMaybeInsert(T,N,"{"),{text:"{",selection:[1,1]})}else if("}"==x){if(S(T),"}"==k.substring(I.column,I.column+1)&&null!==N.$findOpeningBracket("}",{column:I.column+1,row:I.row})&&v.isAutoInsertedClosing(I,k,x))return v.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==x||"\r\n"==x){S(T);var X="";if(v.isMaybeInsertedClosing(I,k)&&(X=R.stringRepeat("}",f.maybeInsertedBrackets),v.clearMaybeInsertedClosing()),"}"===k.substring(I.column,I.column+1)){var ie=N.findMatchingBracket({row:I.row,column:I.column+1},"}");if(!ie)return null;var ee=this.$getIndent(N.getLine(ie.row))}else{if(!X)return void v.clearMaybeInsertedClosing();ee=this.$getIndent(k)}var ce=ee+N.getTabString();return{text:"\n"+ce+"\n"+ee+X,selection:[1,ce.length,1,ce.length]}}v.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(D,M,T,N,x){var I=N.doc.getTextRange(x);if(!x.isMultiLine()&&"{"==I){if(S(T),"}"==N.doc.getLine(x.start.row).substring(x.end.column,x.end.column+1))return x.end.column++,x;f.maybeInsertedBrackets--}}),this.add("parens","insertion",function(D,M,T,N,x){if("("==x){S(T);var I=T.getSelectionRange(),k=N.doc.getTextRange(I);if(""!==k&&T.getWrapBehavioursEnabled())return g(I,k,"(",")");if(v.isSaneInsertion(T,N))return v.recordAutoInsert(T,N,")"),{text:"()",selection:[1,1]}}else if(")"==x){S(T);var $=T.getCursorPosition(),P=N.doc.getLine($.row);if(")"==P.substring($.column,$.column+1)&&null!==N.$findOpeningBracket(")",{column:$.column+1,row:$.row})&&v.isAutoInsertedClosing($,P,x))return v.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(D,M,T,N,x){var I=N.doc.getTextRange(x);if(!x.isMultiLine()&&"("==I&&(S(T),")"==N.doc.getLine(x.start.row).substring(x.start.column+1,x.start.column+2)))return x.end.column++,x}),this.add("brackets","insertion",function(D,M,T,N,x){if("["==x){S(T);var I=T.getSelectionRange(),k=N.doc.getTextRange(I);if(""!==k&&T.getWrapBehavioursEnabled())return g(I,k,"[","]");if(v.isSaneInsertion(T,N))return v.recordAutoInsert(T,N,"]"),{text:"[]",selection:[1,1]}}else if("]"==x){S(T);var $=T.getCursorPosition(),P=N.doc.getLine($.row);if("]"==P.substring($.column,$.column+1)&&null!==N.$findOpeningBracket("]",{column:$.column+1,row:$.row})&&v.isAutoInsertedClosing($,P,x))return v.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(D,M,T,N,x){var I=N.doc.getTextRange(x);if(!x.isMultiLine()&&"["==I&&(S(T),"]"==N.doc.getLine(x.start.row).substring(x.start.column+1,x.start.column+2)))return x.end.column++,x}),this.add("string_dquotes","insertion",function(D,M,T,N,x){var I=N.$mode.$quotes||C;if(1==x.length&&I[x]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(x))return;S(T);var k=x,$=T.getSelectionRange(),P=N.doc.getTextRange($);if(""!==P&&(1!=P.length||!I[P])&&T.getWrapBehavioursEnabled())return g($,P,k,k);if(!P){var V=T.getCursorPosition(),U=N.doc.getLine(V.row),X=U.substring(V.column-1,V.column),ie=U.substring(V.column,V.column+1),ee=N.getTokenAt(V.row,V.column),ce=N.getTokenAt(V.row,V.column+1);if("\\"==X&&ee&&/escape/.test(ee.type))return null;var we,_e=ee&&/string|escape/.test(ee.type),xe=!ce||/string|escape/.test(ce.type);if(ie==k)(we=_e!==xe)&&/string\.end/.test(ce.type)&&(we=!1);else{if(_e&&!xe||_e&&xe)return null;var Se=N.$mode.tokenRe;Se.lastIndex=0;var le=Se.test(X);Se.lastIndex=0;var ye=Se.test(X);if(le||ye||ie&&!/[\s;,.})\]\\]/.test(ie))return null;we=!0}return{text:we?k+k:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(D,M,T,N,x){var I=N.doc.getTextRange(x);if(!x.isMultiLine()&&('"'==I||"'"==I)&&(S(T),N.doc.getLine(x.start.row).substring(x.start.column+1,x.start.column+2)==I))return x.end.column++,x})};v.isSaneInsertion=function(A,D){var M=A.getCursorPosition(),T=new F(D,M.row,M.column);if(!this.$matchTokenType(T.getCurrentToken()||"text",_)){var N=new F(D,M.row,M.column+1);if(!this.$matchTokenType(N.getCurrentToken()||"text",_))return!1}return T.stepForward(),T.getCurrentTokenRow()!==M.row||this.$matchTokenType(T.getCurrentToken()||"text",m)},v.$matchTokenType=function(A,D){return D.indexOf(A.type||A)>-1},v.recordAutoInsert=function(A,D,M){var T=A.getCursorPosition(),N=D.doc.getLine(T.row);this.isAutoInsertedClosing(T,N,f.autoInsertedLineEnd[0])||(f.autoInsertedBrackets=0),f.autoInsertedRow=T.row,f.autoInsertedLineEnd=M+N.substr(T.column),f.autoInsertedBrackets++},v.recordMaybeInsert=function(A,D,M){var T=A.getCursorPosition(),N=D.doc.getLine(T.row);this.isMaybeInsertedClosing(T,N)||(f.maybeInsertedBrackets=0),f.maybeInsertedRow=T.row,f.maybeInsertedLineStart=N.substr(0,T.column)+M,f.maybeInsertedLineEnd=N.substr(T.column),f.maybeInsertedBrackets++},v.isAutoInsertedClosing=function(A,D,M){return f.autoInsertedBrackets>0&&A.row===f.autoInsertedRow&&M===f.autoInsertedLineEnd[0]&&D.substr(A.column)===f.autoInsertedLineEnd},v.isMaybeInsertedClosing=function(A,D){return f.maybeInsertedBrackets>0&&A.row===f.maybeInsertedRow&&D.substr(A.column)===f.maybeInsertedLineEnd&&D.substr(0,A.column)==f.maybeInsertedLineStart},v.popAutoInsertedClosing=function(){f.autoInsertedLineEnd=f.autoInsertedLineEnd.substr(1),f.autoInsertedBrackets--},v.clearMaybeInsertedClosing=function(){f&&(f.maybeInsertedBrackets=0,f.maybeInsertedRow=-1)},B.inherits(v,r),W.CstyleBehaviour=v}),ace.define("ace/unicode",["require","exports","module"],function(H,W,E){"use strict";W.packages={},function(r){var F=/\w{4}/g;for(var R in r)W.packages[R]=r[R].replace(F,"\\u$&")}({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(H,W,E){"use strict";var B=H("../tokenizer").Tokenizer,r=H("./text_highlight_rules").TextHighlightRules,F=H("./behaviour/cstyle").CstyleBehaviour,R=H("../unicode"),_=H("../lib/lang"),m=H("../token_iterator").TokenIterator,f=H("../range").Range,y=function(){this.HighlightRules=r};(function(){this.$defaultBehaviour=new F,this.tokenRe=new RegExp("^["+R.packages.L+R.packages.Mn+R.packages.Mc+R.packages.Nd+R.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+R.packages.L+R.packages.Mn+R.packages.Mc+R.packages.Nd+R.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new B(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(C,S,g,v){var A=S.doc,D=!0,M=!0,T=1/0,N=S.getTabSize(),x=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var $=this.lineCommentStart.map(_.escapeRegExp).join("|"),I=this.lineCommentStart[0];else $=_.escapeRegExp(this.lineCommentStart),I=this.lineCommentStart;$=new RegExp("^(\\s*)(?:"+$+") ?"),x=S.getUseSoftTabs();var U=function(le,ye){var Ce=le.match($);if(Ce){var ge=Ce[1].length,se=Ce[0].length;!ee(le,ge,se)&&" "==Ce[0][se-1]&&se--,A.removeInLine(ye,ge,se)}},ie=I+" ",V=function(le,ye){(!D||/\S/.test(le))&&(ee(le,T,T)?A.insertInLine({row:ye,column:T},ie):A.insertInLine({row:ye,column:T},I))},X=function(le,ye){return $.test(le)},ee=function(le,ye,Ce){for(var ge=0;ye--&&" "==le.charAt(ye);)ge++;if(ge%N!=0)return!1;for(ge=0;" "==le.charAt(Ce++);)ge++;return N>2?ge%N!=N-1:ge%N==0}}else{if(!this.blockComment)return!1;I=this.blockComment.start;var k=this.blockComment.end,P=($=new RegExp("^(\\s*)(?:"+_.escapeRegExp(I)+")"),new RegExp("(?:"+_.escapeRegExp(k)+")\\s*$"));V=function(xe,we){X(xe,we)||(!D||/\S/.test(xe))&&(A.insertInLine({row:we,column:xe.length},k),A.insertInLine({row:we,column:T},I))},U=function(xe,we){var Se;(Se=xe.match(P))&&A.removeInLine(we,xe.length-Se[0].length,xe.length),(Se=xe.match($))&&A.removeInLine(we,Se[1].length,Se[0].length)},X=function(xe,we){if($.test(xe))return!0;for(var Se=S.getTokens(we),le=0;le<Se.length;le++)if("comment"===Se[le].type)return!0}}function ce(xe){for(var we=g;we<=v;we++)xe(A.getLine(we),we)}var _e=1/0;ce(function(xe,we){var Se=xe.search(/\S/);-1!==Se?(Se<T&&(T=Se),M&&!X(xe,we)&&(M=!1)):_e>xe.length&&(_e=xe.length)}),T==1/0&&(T=_e,D=!1,M=!1),x&&T%N!=0&&(T=Math.floor(T/N)*N),ce(M?U:V)},this.toggleBlockComment=function(C,S,g,v){var A=this.blockComment;if(A){!A.start&&A[0]&&(A=A[0]);var x,I,M=(D=new m(S,v.row,v.column)).getCurrentToken(),N=S.selection.toOrientedRange();if(M&&/comment/.test(M.type)){for(var k,$;M&&/comment/.test(M.type);){if(-1!=(P=M.value.indexOf(A.start))){var V=D.getCurrentTokenRow(),U=D.getCurrentTokenColumn()+P;k=new f(V,U,V,U+A.start.length);break}M=D.stepBackward()}var D;for(M=(D=new m(S,v.row,v.column)).getCurrentToken();M&&/comment/.test(M.type);){var P;if(-1!=(P=M.value.indexOf(A.end))){V=D.getCurrentTokenRow(),U=D.getCurrentTokenColumn()+P,$=new f(V,U,V,U+A.end.length);break}M=D.stepForward()}$&&S.remove($),k&&(S.remove(k),x=k.start.row,I=-A.start.length)}else I=A.start.length,x=g.start.row,S.insert(g.end,A.end),S.insert(g.start,A.start);N.start.row==x&&(N.start.column+=I),N.end.row==x&&(N.end.column+=I),S.selection.fromOrientedRange(N)}},this.getNextLineIndent=function(C,S,g){return this.$getIndent(S)},this.checkOutdent=function(C,S,g){return!1},this.autoOutdent=function(C,S,g){},this.$getIndent=function(C){return C.match(/^\s*/)[0]},this.createWorker=function(C){return null},this.createModeDelegates=function(C){for(var S in this.$embeds=[],this.$modes={},C)C[S]&&(this.$embeds.push(S),this.$modes[S]=new C[S]);var g=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(S=0;S<g.length;S++)!function(A){var D=g[S],M=A[D];A[g[S]]=function(){return this.$delegator(D,arguments,M)}}(this)},this.$delegator=function(C,S,g){var v=S[0];"string"!=typeof v&&(v=v[0]);for(var A=0;A<this.$embeds.length;A++)if(this.$modes[this.$embeds[A]]){var D=v.split(this.$embeds[A]);if(!D[0]&&D[1]){S[0]=D[1];var M=this.$modes[this.$embeds[A]];return M[C].apply(M,S)}}var T=g.apply(this,S);return g?T:void 0},this.transformAction=function(C,S,g,v,A){if(this.$behaviour){var D=this.$behaviour.getBehaviours();for(var M in D)if(D[M][S]){var T=D[M][S].apply(this,arguments);if(T)return T}}},this.getKeywords=function(C){if(!this.completionKeywords){var S=this.$tokenizer.rules,g=[];for(var v in S)for(var A=S[v],D=0,M=A.length;D<M;D++)if("string"==typeof A[D].token)/keyword|support|storage/.test(A[D].token)&&g.push(A[D].regex);else if("object"==typeof A[D].token)for(var T=0,N=A[D].token.length;T<N;T++)/keyword|support|storage/.test(A[D].token[T])&&(v=A[D].regex.match(/\(.+?\)/g)[T],g.push(v.substr(1,v.length-2)));this.completionKeywords=g}return C?g.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(C,S,g,v){return(this.$keywordList||this.$createKeywordList()).map(function(D){return{name:D,value:D,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(y.prototype),W.Mode=y}),ace.define("ace/apply_delta",["require","exports","module"],function(H,W,E){"use strict";W.applyDelta=function(R,_,m){var f=_.start.row,y=_.start.column,C=R[f]||"";switch(_.action){case"insert":if(1===_.lines.length)R[f]=C.substring(0,y)+_.lines[0]+C.substring(y);else{var g=[f,1].concat(_.lines);R.splice.apply(R,g),R[f]=C.substring(0,y)+R[f],R[f+_.lines.length-1]+=C.substring(y)}break;case"remove":var v=_.end.column,A=_.end.row;f===A?R[f]=C.substring(0,y)+C.substring(v):R.splice(f,A-f+1,C.substring(0,y)+R[A].substring(v))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(H,W,E){"use strict";var B=H("./lib/oop"),r=H("./lib/event_emitter").EventEmitter,F=W.Anchor=function(R,_,m){this.$onChange=this.onChange.bind(this),this.attach(R),void 0===m?this.setPosition(_.row,_.column):this.setPosition(_,m)};(function(){function R(m,f,y){return m.row<f.row||m.row==f.row&&(y?m.column<=f.column:m.column<f.column)}B.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(m){if(!(m.start.row==m.end.row&&m.start.row!=this.row||m.start.row>this.row)){var f=function(m,f,y){var C="insert"==m.action,S=(C?1:-1)*(m.end.row-m.start.row),g=(C?1:-1)*(m.end.column-m.start.column),v=m.start,A=C?v:m.end;return R(f,v,y)?{row:f.row,column:f.column}:R(A,f,!y)?{row:f.row+S,column:f.column+(f.row==A.row?g:0)}:{row:v.row,column:v.column}}(m,{row:this.row,column:this.column},this.$insertRight);this.setPosition(f.row,f.column,!0)}},this.setPosition=function(m,f,y){var C;if(C=y?{row:m,column:f}:this.$clipPositionToDocument(m,f),this.row!=C.row||this.column!=C.column){var S={row:this.row,column:this.column};this.row=C.row,this.column=C.column,this._signal("change",{old:S,value:C})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(m){this.document=m||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(m,f){var y={};return m>=this.document.getLength()?(y.row=Math.max(0,this.document.getLength()-1),y.column=this.document.getLine(y.row).length):m<0?(y.row=0,y.column=0):(y.row=m,y.column=Math.min(this.document.getLine(y.row).length,Math.max(0,f))),f<0&&(y.column=0),y}}).call(F.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(H,W,E){"use strict";var B=H("./lib/oop"),r=H("./apply_delta").applyDelta,F=H("./lib/event_emitter").EventEmitter,R=H("./range").Range,_=H("./anchor").Anchor,m=function(f){this.$lines=[""],0===f.length?this.$lines=[""]:Array.isArray(f)?this.insertMergedLines({row:0,column:0},f):this.insert({row:0,column:0},f)};(function(){B.implement(this,F),this.setValue=function(f){var y=this.getLength()-1;this.remove(new R(0,0,y,this.getLine(y).length)),this.insert({row:0,column:0},f)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(f,y){return new _(this,f,y)},this.$split=0==="aaa".split(/a/).length?function(f){return f.replace(/\r\n|\r/g,"\n").split("\n")}:function(f){return f.split(/\r\n|\r|\n/)},this.$detectNewLine=function(f){var y=f.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=y?y[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(f){this.$newLineMode!==f&&(this.$newLineMode=f,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(f){return"\r\n"==f||"\r"==f||"\n"==f},this.getLine=function(f){return this.$lines[f]||""},this.getLines=function(f,y){return this.$lines.slice(f,y+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(f){return this.getLinesForRange(f).join(this.getNewLineCharacter())},this.getLinesForRange=function(f){var y;if(f.start.row===f.end.row)y=[this.getLine(f.start.row).substring(f.start.column,f.end.column)];else{(y=this.getLines(f.start.row,f.end.row))[0]=(y[0]||"").substring(f.start.column);var C=y.length-1;f.end.row-f.start.row==C&&(y[C]=y[C].substring(0,f.end.column))}return y},this.insertLines=function(f,y){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(f,y)},this.removeLines=function(f,y){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(f,y)},this.insertNewLine=function(f){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(f,["",""])},this.insert=function(f,y){return this.getLength()<=1&&this.$detectNewLine(y),this.insertMergedLines(f,this.$split(y))},this.insertInLine=function(f,y){var C=this.clippedPos(f.row,f.column),S=this.pos(f.row,f.column+y.length);return this.applyDelta({start:C,end:S,action:"insert",lines:[y]},!0),this.clonePos(S)},this.clippedPos=function(f,y){var C=this.getLength();void 0===f?f=C:f<0?f=0:f>=C&&(f=C-1,y=void 0);var S=this.getLine(f);return null==y&&(y=S.length),{row:f,column:y=Math.min(Math.max(y,0),S.length)}},this.clonePos=function(f){return{row:f.row,column:f.column}},this.pos=function(f,y){return{row:f,column:y}},this.$clipPosition=function(f){var y=this.getLength();return f.row>=y?(f.row=Math.max(0,y-1),f.column=this.getLine(y-1).length):(f.row=Math.max(0,f.row),f.column=Math.min(Math.max(f.column,0),this.getLine(f.row).length)),f},this.insertFullLines=function(f,y){var C=0;(f=Math.min(Math.max(f,0),this.getLength()))<this.getLength()?(y=y.concat([""]),C=0):(y=[""].concat(y),f--,C=this.$lines[f].length),this.insertMergedLines({row:f,column:C},y)},this.insertMergedLines=function(f,y){var C=this.clippedPos(f.row,f.column),S={row:C.row+y.length-1,column:(1==y.length?C.column:0)+y[y.length-1].length};return this.applyDelta({start:C,end:S,action:"insert",lines:y}),this.clonePos(S)},this.remove=function(f){var y=this.clippedPos(f.start.row,f.start.column),C=this.clippedPos(f.end.row,f.end.column);return this.applyDelta({start:y,end:C,action:"remove",lines:this.getLinesForRange({start:y,end:C})}),this.clonePos(y)},this.removeInLine=function(f,y,C){var S=this.clippedPos(f,y),g=this.clippedPos(f,C);return this.applyDelta({start:S,end:g,action:"remove",lines:this.getLinesForRange({start:S,end:g})},!0),this.clonePos(S)},this.removeFullLines=function(f,y){f=Math.min(Math.max(0,f),this.getLength()-1);var C=(y=Math.min(Math.max(0,y),this.getLength()-1))==this.getLength()-1&&f>0,S=y<this.getLength()-1,g=C?f-1:f,v=C?this.getLine(g).length:0,A=S?y+1:y,D=S?0:this.getLine(A).length,M=new R(g,v,A,D),T=this.$lines.slice(f,y+1);return this.applyDelta({start:M.start,end:M.end,action:"remove",lines:this.getLinesForRange(M)}),T},this.removeNewLine=function(f){f<this.getLength()-1&&f>=0&&this.applyDelta({start:this.pos(f,this.getLine(f).length),end:this.pos(f+1,0),action:"remove",lines:["",""]})},this.replace=function(f,y){return f instanceof R||(f=R.fromPoints(f.start,f.end)),0===y.length&&f.isEmpty()?f.start:y==this.getTextRange(f)?f.end:(this.remove(f),y?this.insert(f.start,y):f.start)},this.applyDeltas=function(f){for(var y=0;y<f.length;y++)this.applyDelta(f[y])},this.revertDeltas=function(f){for(var y=f.length-1;y>=0;y--)this.revertDelta(f[y])},this.applyDelta=function(f,y){var C="insert"==f.action;(C?f.lines.length<=1&&!f.lines[0]:!R.comparePoints(f.start,f.end))||(C&&f.lines.length>2e4&&this.$splitAndapplyLargeDelta(f,2e4),r(this.$lines,f,y),this._signal("change",f))},this.$splitAndapplyLargeDelta=function(f,y){for(var C=f.lines,S=C.length,g=f.start.row,v=f.start.column,A=0,D=0;;){var M=C.slice(A=D,D+=y-1);if(D>S){f.lines=M,f.start.row=g+A,f.start.column=v;break}M.push(""),this.applyDelta({start:this.pos(g+A,v),end:this.pos(g+D,v=0),action:f.action,lines:M},!0)}},this.revertDelta=function(f){this.applyDelta({start:this.clonePos(f.start),end:this.clonePos(f.end),action:"insert"==f.action?"remove":"insert",lines:f.lines.slice()})},this.indexToPosition=function(f,y){for(var C=this.$lines||this.getAllLines(),S=this.getNewLineCharacter().length,g=y||0,v=C.length;g<v;g++)if((f-=C[g].length+S)<0)return{row:g,column:f+C[g].length+S};return{row:v-1,column:C[v-1].length}},this.positionToIndex=function(f,y){for(var C=this.$lines||this.getAllLines(),S=this.getNewLineCharacter().length,g=0,v=Math.min(f.row,C.length),A=y||0;A<v;++A)g+=C[A].length+S;return g+f.column}}).call(m.prototype),W.Document=m}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(H,W,E){"use strict";var B=H("./lib/oop"),r=H("./lib/event_emitter").EventEmitter,F=function(R,_){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=R;var m=this;this.$worker=function(){if(m.running){for(var f=new Date,y=m.currentLine,C=-1,S=m.doc,g=y;m.lines[y];)y++;var v=S.getLength(),A=0;for(m.running=!1;y<v;){m.$tokenizeRow(y),C=y;do{y++}while(m.lines[y]);if(++A%5==0&&new Date-f>20){m.running=setTimeout(m.$worker,20);break}}m.currentLine=y,-1==C&&(C=y),g<=C&&m.fireUpdateEvent(g,C)}}};(function(){B.implement(this,r),this.setTokenizer=function(R){this.tokenizer=R,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(R){this.doc=R,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(R,_){this._signal("update",{data:{first:R,last:_}})},this.start=function(R){this.currentLine=Math.min(R||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(R){var _=R.start.row,m=R.end.row-_;if(0===m)this.lines[_]=null;else if("remove"==R.action)this.lines.splice(_,m+1,null),this.states.splice(_,m+1,null);else{var f=Array(m+1);f.unshift(_,1),this.lines.splice.apply(this.lines,f),this.states.splice.apply(this.states,f)}this.currentLine=Math.min(_,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(R){return this.lines[R]||this.$tokenizeRow(R)},this.getState=function(R){return this.currentLine==R&&this.$tokenizeRow(R),this.states[R]||"start"},this.$tokenizeRow=function(R){var _=this.doc.getLine(R),f=this.tokenizer.getLineTokens(_,this.states[R-1],R);return this.states[R]+""!=f.state+""?(this.states[R]=f.state,this.lines[R+1]=null,this.currentLine>R+1&&(this.currentLine=R+1)):this.currentLine==R&&(this.currentLine=R+1),this.lines[R]=f.tokens}}).call(F.prototype),W.BackgroundTokenizer=F}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(H,W,E){"use strict";var B=H("./lib/lang"),F=(H("./lib/oop"),H("./range").Range),R=function(_,m,f){this.setRegexp(_),this.clazz=m,this.type=f||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(_){this.regExp+""!=_+""&&(this.regExp=_,this.cache=[])},this.update=function(_,m,f,y){if(this.regExp)for(var S=y.lastRow,g=y.firstRow;g<=S;g++){var v=this.cache[g];null==v&&((v=B.getMatchOffsets(f.getLine(g),this.regExp)).length>this.MAX_RANGES&&(v=v.slice(0,this.MAX_RANGES)),v=v.map(function(D){return new F(g,D.offset,g,D.offset+D.length)}),this.cache[g]=v.length?v:"");for(var A=v.length;A--;)m.drawSingleLineMarker(_,v[A].toScreenRange(f),this.clazz,y)}}}).call(R.prototype),W.SearchHighlight=R}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(H,W,E){"use strict";var B=H("../range").Range;function r(F,R){this.foldData=F,Array.isArray(R)?this.folds=R:R=this.folds=[R];var _=R[R.length-1];this.range=new B(R[0].start.row,R[0].start.column,_.end.row,_.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(m){m.setFoldLine(this)},this)}(function(){this.shiftRow=function(F){this.start.row+=F,this.end.row+=F,this.folds.forEach(function(R){R.start.row+=F,R.end.row+=F})},this.addFold=function(F){if(F.sameRow){if(F.start.row<this.startRow||F.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(F),this.folds.sort(function(R,_){return-R.range.compareEnd(_.start.row,_.start.column)}),this.range.compareEnd(F.start.row,F.start.column)>0?(this.end.row=F.end.row,this.end.column=F.end.column):this.range.compareStart(F.end.row,F.end.column)<0&&(this.start.row=F.start.row,this.start.column=F.start.column)}else if(F.start.row==this.end.row)this.folds.push(F),this.end.row=F.end.row,this.end.column=F.end.column;else{if(F.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(F),this.start.row=F.start.row,this.start.column=F.start.column}F.foldLine=this},this.containsRow=function(F){return F>=this.start.row&&F<=this.end.row},this.walk=function(F,R,_){var y,C,m=0,f=this.folds,g=!0;null==R&&(R=this.end.row,_=this.end.column);for(var v=0;v<f.length;v++){if(-1==(C=(y=f[v]).range.compareStart(R,_)))return void F(null,R,_,m,g);if(!F(null,y.start.row,y.start.column,m,g)&&F(y.placeholder,y.start.row,y.start.column,m)||0===C)return;g=!y.sameRow,m=y.end.column}F(null,R,_,m,g)},this.getNextFoldTo=function(F,R){for(var _,m,f=0;f<this.folds.length;f++){if(-1==(m=(_=this.folds[f]).range.compareEnd(F,R)))return{fold:_,kind:"after"};if(0===m)return{fold:_,kind:"inside"}}return null},this.addRemoveChars=function(F,R,_){var f,y,m=this.getNextFoldTo(F,R);if(m)if(f=m.fold,"inside"==m.kind&&f.start.column!=R&&f.start.row!=F)window.console&&window.console.log(F,R,f);else if(f.start.row==F){var C=(y=this.folds).indexOf(f);for(0===C&&(this.start.column+=_);C<y.length;C++){if((f=y[C]).start.column+=_,!f.sameRow)return;f.end.column+=_}this.end.column+=_}},this.split=function(F,R){var _=this.getNextFoldTo(F,R);if(!_||"inside"==_.kind)return null;var f=this.folds,y=this.foldData,C=f.indexOf(_.fold),S=f[C-1];this.end.row=S.end.row,this.end.column=S.end.column;var g=new r(y,f=f.splice(C,f.length-C));return y.splice(y.indexOf(this)+1,0,g),g},this.merge=function(F){for(var R=F.folds,_=0;_<R.length;_++)this.addFold(R[_]);var m=this.foldData;m.splice(m.indexOf(F),1)},this.toString=function(){var F=[this.range.toString()+": ["];return this.folds.forEach(function(R){F.push("  "+R.toString())}),F.push("]"),F.join("\n")},this.idxToPosition=function(F){for(var R=0,_=0;_<this.folds.length;_++){var m=this.folds[_];if((F-=m.start.column-R)<0)return{row:m.start.row,column:m.start.column+F};if((F-=m.placeholder.length)<0)return m.start;R=m.end.column}return{row:this.end.row,column:this.end.column+F}}}).call(r.prototype),W.FoldLine=r}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(H,W,E){"use strict";var r=H("./range").Range.comparePoints,F=function(){this.ranges=[]};(function(){this.comparePoints=r,this.pointIndex=function(R,_,m){for(var f=this.ranges,y=m||0;y<f.length;y++){var C=f[y],S=r(R,C.end);if(!(S>0)){var g=r(R,C.start);return 0===S?_&&0!==g?-y-2:y:g>0||0===g&&!_?y:-y-1}}return-y-1},this.add=function(R){var _=!R.isEmpty(),m=this.pointIndex(R.start,_);m<0&&(m=-m-1);var f=this.pointIndex(R.end,_,m);return f<0?f=-f-1:f++,this.ranges.splice(m,f-m,R)},this.addList=function(R){for(var _=[],m=R.length;m--;)_.push.apply(_,this.add(R[m]));return _},this.substractPoint=function(R){var _=this.pointIndex(R);if(_>=0)return this.ranges.splice(_,1)},this.merge=function(){for(var f,R=[],_=this.ranges,m=(_=_.sort(function(S,g){return r(S.start,g.start)}))[0],y=1;y<_.length;y++){var C=r((f=m).end,(m=_[y]).start);C<0||0==C&&!f.isEmpty()&&!m.isEmpty()||(r(f.end,m.end)<0&&(f.end.row=m.end.row,f.end.column=m.end.column),_.splice(y,1),R.push(m),m=f,y--)}return this.ranges=_,R},this.contains=function(R,_){return this.pointIndex({row:R,column:_})>=0},this.containsPoint=function(R){return this.pointIndex(R)>=0},this.rangeAtPoint=function(R){var _=this.pointIndex(R);if(_>=0)return this.ranges[_]},this.clipRows=function(R,_){var m=this.ranges;if(m[0].start.row>_||m[m.length-1].start.row<R)return[];var f=this.pointIndex({row:R,column:0});f<0&&(f=-f-1);var y=this.pointIndex({row:_,column:0},f);y<0&&(y=-y-1);for(var C=[],S=f;S<y;S++)C.push(m[S]);return C},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(R){this.session&&this.detach(),this.session=R,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){!this.session||(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(R){if("insert"==R.action)var _=R.start,m=R.end;else m=R.start,_=R.end;for(var f=_.row,C=m.row-f,S=-_.column+m.column,g=this.ranges,v=0,A=g.length;v<A;v++)if(!((D=g[v]).end.row<f)){if(D.start.row>f)break;if(D.start.row==f&&D.start.column>=_.column&&(D.start.column==_.column&&this.$insertRight||(D.start.column+=S,D.start.row+=C)),D.end.row==f&&D.end.column>=_.column){if(D.end.column==_.column&&this.$insertRight)continue;D.end.column==_.column&&S>0&&v<A-1&&D.end.column>D.start.column&&D.end.column==g[v+1].start.column&&(D.end.column-=S),D.end.column+=S,D.end.row+=C}}if(0!=C&&v<A)for(;v<A;v++){var D;(D=g[v]).start.row+=C,D.end.row+=C}}}).call(F.prototype),W.RangeList=F}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(H,W,E){"use strict";H("../range");var r=H("../range_list").RangeList,F=H("../lib/oop"),R=W.Fold=function(C,S){this.foldLine=null,this.placeholder=S,this.range=C,this.start=C.start,this.end=C.end,this.sameRow=C.start.row==C.end.row,this.subFolds=this.ranges=[]};function _(C,S){C.row-=S.row,0==C.row&&(C.column-=S.column)}function f(C,S){0==C.row&&(C.column+=S.column),C.row+=S.row}F.inherits(R,r),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(C){this.foldLine=C,this.subFolds.forEach(function(S){S.setFoldLine(C)})},this.clone=function(){var C=this.range.clone(),S=new R(C,this.placeholder);return this.subFolds.forEach(function(g){S.subFolds.push(g.clone())}),S.collapseChildren=this.collapseChildren,S},this.addSubFold=function(C){if(!this.range.isEqual(C)){if(!this.range.containsRange(C))throw new Error("A fold can't intersect already existing fold"+C.range+this.range);!function(C,S){_(C.start,S),_(C.end,S)}(C,this.start);for(var S=C.start.row,g=C.start.column,v=0,A=-1;v<this.subFolds.length&&1==(A=this.subFolds[v].range.compare(S,g));v++);if(0==A)return this.subFolds[v].addSubFold(C);S=C.range.end.row,g=C.range.end.column;var M=v;for(A=-1;M<this.subFolds.length&&1==(A=this.subFolds[M].range.compare(S,g));M++);if(0==A)throw new Error("A fold can't intersect already existing fold"+C.range+this.range);return this.subFolds.splice(v,M-v,C),C.setFoldLine(this.foldLine),C}},this.restoreRange=function(C){return function(C,S){f(C.start,S),f(C.end,S)}(C,this.start)}}.call(R.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(H,W,E){"use strict";var B=H("../range").Range,r=H("./fold_line").FoldLine,F=H("./fold").Fold,R=H("../token_iterator").TokenIterator;W.Folding=function(){this.getFoldAt=function(m,f,y){var C=this.getFoldLine(m);if(!C)return null;for(var S=C.folds,g=0;g<S.length;g++){var v=S[g];if(v.range.contains(m,f)){if(1==y&&v.range.isEnd(m,f))continue;if(-1==y&&v.range.isStart(m,f))continue;return v}}},this.getFoldsInRange=function(m){var f=m.start,y=m.end,C=this.$foldData,S=[];f.column+=1,y.column-=1;for(var g=0;g<C.length;g++){var v=C[g].range.compareRange(m);if(2!=v){if(-2==v)break;for(var A=C[g].folds,D=0;D<A.length;D++){var M=A[D];if(-2==(v=M.range.compareRange(m)))break;if(2!=v){if(42==v)break;S.push(M)}}}}return f.column-=1,y.column+=1,S},this.getFoldsInRangeList=function(m){if(Array.isArray(m)){var f=[];m.forEach(function(y){f=f.concat(this.getFoldsInRange(y))},this)}else f=this.getFoldsInRange(m);return f},this.getAllFolds=function(){for(var m=[],f=this.$foldData,y=0;y<f.length;y++)for(var C=0;C<f[y].folds.length;C++)m.push(f[y].folds[C]);return m},this.getFoldStringAt=function(m,f,y,C){if(!(C=C||this.getFoldLine(m)))return null;for(var g,v,S={end:{column:0}},A=0;A<C.folds.length;A++){var D=(v=C.folds[A]).range.compareEnd(m,f);if(-1==D){g=this.getLine(v.start.row).substring(S.end.column,v.start.column);break}if(0===D)return null;S=v}return g||(g=this.getLine(v.start.row).substring(S.end.column)),-1==y?g.substring(0,f-S.end.column):1==y?g.substring(f-S.end.column):g},this.getFoldLine=function(m,f){var y=this.$foldData,C=0;for(f&&(C=y.indexOf(f)),-1==C&&(C=0);C<y.length;C++){var S=y[C];if(S.start.row<=m&&S.end.row>=m)return S;if(S.end.row>m)return null}return null},this.getNextFoldLine=function(m,f){var y=this.$foldData,C=0;for(f&&(C=y.indexOf(f)),-1==C&&(C=0);C<y.length;C++){var S=y[C];if(S.end.row>=m)return S}return null},this.getFoldedRowCount=function(m,f){for(var y=this.$foldData,C=f-m+1,S=0;S<y.length;S++){var g=y[S],v=g.end.row,A=g.start.row;if(v>=f){A<f&&(A>=m?C-=f-A:C=0);break}v>=m&&(C-=A>=m?v-A:v-m+1)}return C},this.$addFoldLine=function(m){return this.$foldData.push(m),this.$foldData.sort(function(f,y){return f.start.row-y.start.row}),m},this.addFold=function(m,f){var S,y=this.$foldData,C=!1;m instanceof F?S=m:(S=new F(f,m)).collapseChildren=f.collapseChildren,this.$clipRangeToDocument(S.range);var g=S.start.row,v=S.start.column,A=S.end.row,D=S.end.column;if(!(g<A||g==A&&v<=D-2))throw new Error("The range has to be at least 2 characters width");var M=this.getFoldAt(g,v,1),T=this.getFoldAt(A,D,-1);if(M&&T==M)return M.addSubFold(S);M&&!M.range.isStart(g,v)&&this.removeFold(M),T&&!T.range.isEnd(A,D)&&this.removeFold(T);var N=this.getFoldsInRange(S.range);N.length>0&&(this.removeFolds(N),N.forEach(function($){S.addSubFold($)}));for(var x=0;x<y.length;x++){var I=y[x];if(A==I.start.row){I.addFold(S),C=!0;break}if(g==I.end.row){if(I.addFold(S),C=!0,!S.sameRow){var k=y[x+1];if(k&&k.start.row==A){I.merge(k);break}}break}if(A<=I.start.row)break}return C||(I=this.$addFoldLine(new r(this.$foldData,S))),this.$useWrapMode?this.$updateWrapData(I.start.row,I.start.row):this.$updateRowLengthCache(I.start.row,I.start.row),this.$modified=!0,this._signal("changeFold",{data:S,action:"add"}),S},this.addFolds=function(m){m.forEach(function(f){this.addFold(f)},this)},this.removeFold=function(m){var f=m.foldLine,y=f.start.row,C=f.end.row,S=this.$foldData,g=f.folds;if(1==g.length)S.splice(S.indexOf(f),1);else if(f.range.isEnd(m.end.row,m.end.column))g.pop(),f.end.row=g[g.length-1].end.row,f.end.column=g[g.length-1].end.column;else if(f.range.isStart(m.start.row,m.start.column))g.shift(),f.start.row=g[0].start.row,f.start.column=g[0].start.column;else if(m.sameRow)g.splice(g.indexOf(m),1);else{var v=f.split(m.start.row,m.start.column);(g=v.folds).shift(),v.start.row=g[0].start.row,v.start.column=g[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(y,C):this.$updateRowLengthCache(y,C)),this.$modified=!0,this._signal("changeFold",{data:m,action:"remove"})},this.removeFolds=function(m){for(var f=[],y=0;y<m.length;y++)f.push(m[y]);f.forEach(function(C){this.removeFold(C)},this),this.$modified=!0},this.expandFold=function(m){this.removeFold(m),m.subFolds.forEach(function(f){m.restoreRange(f),this.addFold(f)},this),m.collapseChildren>0&&this.foldAll(m.start.row+1,m.end.row,m.collapseChildren-1),m.subFolds=[]},this.expandFolds=function(m){m.forEach(function(f){this.expandFold(f)},this)},this.unfold=function(m,f){var y,C;if(null==m?(y=new B(0,0,this.getLength(),0),f=!0):y="number"==typeof m?new B(m,0,m,this.getLine(m).length):"row"in m?B.fromPoints(m,m):m,C=this.getFoldsInRangeList(y),f)this.removeFolds(C);else for(var S=C;S.length;)this.expandFolds(S),S=this.getFoldsInRangeList(y);if(C.length)return C},this.isRowFolded=function(m,f){return!!this.getFoldLine(m,f)},this.getRowFoldEnd=function(m,f){var y=this.getFoldLine(m,f);return y?y.end.row:m},this.getRowFoldStart=function(m,f){var y=this.getFoldLine(m,f);return y?y.start.row:m},this.getFoldDisplayLine=function(m,f,y,C,S){null==C&&(C=m.start.row),null==S&&(S=0),null==f&&(f=m.end.row),null==y&&(y=this.getLine(f).length);var g=this.doc,v="";return m.walk(function(A,D,M,T){if(!(D<C)){if(D==C){if(M<S)return;T=Math.max(S,T)}v+=null!=A?A:g.getLine(D).substring(T,M)}},f,y),v},this.getDisplayLine=function(m,f,y,C){var g,S=this.getFoldLine(m);return S?this.getFoldDisplayLine(S,m,f,y,C):(g=this.doc.getLine(m)).substring(C||0,f||g.length)},this.$cloneFoldData=function(){var m=[];return m=this.$foldData.map(function(f){var y=f.folds.map(function(C){return C.clone()});return new r(m,y)})},this.toggleFold=function(m){var C,S,y=this.selection.getRange();if(y.isEmpty()){var g=y.start;if(C=this.getFoldAt(g.row,g.column))return void this.expandFold(C);(S=this.findMatchingBracket(g))?1==y.comparePoint(S)?y.end=S:(y.start=S,y.start.column++,y.end.column--):(S=this.findMatchingBracket({row:g.row,column:g.column+1}))?(1==y.comparePoint(S)?y.end=S:y.start=S,y.start.column++):y=this.getCommentFoldRange(g.row,g.column)||y}else{var v=this.getFoldsInRange(y);if(m&&v.length)return void this.expandFolds(v);1==v.length&&(C=v[0])}if(C||(C=this.getFoldAt(y.start.row,y.start.column)),C&&C.range.toString()==y.toString())this.expandFold(C);else{var A="...";if(!y.isMultiLine()){if((A=this.getTextRange(y)).length<4)return;A=A.trim().substring(0,2)+".."}this.addFold(A,y)}},this.getCommentFoldRange=function(m,f,y){var C=new R(this,m,f),S=C.getCurrentToken(),g=S.type;if(S&&/^comment|string/.test(g)){"comment"==(g=g.match(/comment|string/)[0])&&(g+="|doc-start");var v=new RegExp(g),A=new B;if(1!=y){do{S=C.stepBackward()}while(S&&v.test(S.type));C.stepForward()}if(A.start.row=C.getCurrentTokenRow(),A.start.column=C.getCurrentTokenColumn()+2,C=new R(this,m,f),-1!=y){var D=-1;do{if(S=C.stepForward(),-1==D){var M=this.getState(C.$row);v.test(M)||(D=C.$row)}else if(C.$row>D)break}while(S&&v.test(S.type));S=C.stepBackward()}else S=C.getCurrentToken();return A.end.row=C.getCurrentTokenRow(),A.end.column=C.getCurrentTokenColumn()+S.value.length-2,A}},this.foldAll=function(m,f,y){null==y&&(y=1e5);var C=this.foldWidgets;if(C){f=f||this.getLength();for(var S=m=m||0;S<f;S++)if(null==C[S]&&(C[S]=this.getFoldWidget(S)),"start"==C[S]){var g=this.getFoldWidgetRange(S);if(g&&g.isMultiLine()&&g.end.row<=f&&g.start.row>=m){S=g.end.row;try{var v=this.addFold("...",g);v&&(v.collapseChildren=y)}catch(A){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(m){if(!this.$foldStyles[m])throw new Error("invalid fold style: "+m+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=m){this.$foldStyle=m,"manual"==m&&this.unfold();var f=this.$foldMode;this.$setFolding(null),this.$setFolding(f)}},this.$setFolding=function(m){if(this.$foldMode!=m){if(this.$foldMode=m,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!m||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=m.getFoldWidget.bind(m,this,this.$foldStyle),this.getFoldWidgetRange=m.getFoldWidgetRange.bind(m,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(m,f){var y=this.foldWidgets;if(!y||f&&y[m])return{};for(var S,C=m-1;C>=0;){var g=y[C];if(null==g&&(g=y[C]=this.getFoldWidget(C)),"start"==g){var v=this.getFoldWidgetRange(C);if(S||(S=v),v&&v.end.row>=m)break}C--}return{range:-1!==C&&v,firstRange:S}},this.onFoldWidgetClick=function(m,f){if(!this.$toggleFoldWidget(m,{children:(f=f.domEvent).shiftKey,all:f.ctrlKey||f.metaKey,siblings:f.altKey})){var S=f.target||f.srcElement;S&&/ace_fold-widget/.test(S.className)&&(S.className+=" ace_invalid")}},this.$toggleFoldWidget=function(m,f){if(this.getFoldWidget){var y=this.getFoldWidget(m),C=this.getLine(m),S="end"===y?-1:1,g=this.getFoldAt(m,-1===S?0:C.length,S);if(g)return f.children||f.all?this.removeFold(g):this.expandFold(g),g;var v=this.getFoldWidgetRange(m,!0);if(v&&!v.isMultiLine()&&(g=this.getFoldAt(v.start.row,v.start.column,1))&&v.isEqual(g.range))return this.removeFold(g),g;if(f.siblings){var A=this.getParentFoldRangeData(m);if(A.range)var D=A.range.start.row+1,M=A.range.end.row;this.foldAll(D,M,f.all?1e4:0)}else f.children?(M=v?v.end.row:this.getLength(),this.foldAll(m+1,M,f.all?1e4:0)):v&&(f.all&&(v.collapseChildren=1e4),this.addFold("...",v));return v}},this.toggleFoldWidget=function(m){var f=this.selection.getCursor().row;f=this.getRowFoldStart(f);var y=this.$toggleFoldWidget(f,{});if(!y){var C=this.getParentFoldRangeData(f,!0);if(y=C.range||C.firstRange){var S=this.getFoldAt(f=y.start.row,this.getLine(f).length,1);S?this.removeFold(S):this.addFold("...",y)}}},this.updateFoldWidgets=function(m){var f=m.start.row,y=m.end.row-f;if(0===y)this.foldWidgets[f]=null;else if("remove"==m.action)this.foldWidgets.splice(f,y+1,null);else{var C=Array(y+1);C.unshift(f,1),this.foldWidgets.splice.apply(this.foldWidgets,C)}},this.tokenizerUpdateFoldWidgets=function(m){var f=m.data;f.first!=f.last&&this.foldWidgets.length>f.first&&this.foldWidgets.splice(f.first,this.foldWidgets.length)}}}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(H,W,E){"use strict";var B=H("../token_iterator").TokenIterator,r=H("../range").Range;W.BracketMatch=function(){this.findMatchingBracket=function(R,_){if(0==R.column)return null;var m=_||this.getLine(R.row).charAt(R.column-1);if(""==m)return null;var f=m.match(/([\(\[\{])|([\)\]\}])/);return f?f[1]?this.$findClosingBracket(f[1],R):this.$findOpeningBracket(f[2],R):null},this.getBracketRange=function(R){var f,_=this.getLine(R.row),m=!0,y=_.charAt(R.column-1),C=y&&y.match(/([\(\[\{])|([\)\]\}])/);if(C||(y=_.charAt(R.column),R={row:R.row,column:R.column+1},C=y&&y.match(/([\(\[\{])|([\)\]\}])/),m=!1),!C)return null;if(C[1]){if(!(S=this.$findClosingBracket(C[1],R)))return null;f=r.fromPoints(R,S),m||(f.end.column++,f.start.column--),f.cursor=f.end}else{var S;if(!(S=this.$findOpeningBracket(C[2],R)))return null;f=r.fromPoints(S,R),m||(f.start.column++,f.end.column--),f.cursor=f.start}return f},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(R,_,m){var f=this.$brackets[R],y=1,C=new B(this,_.row,_.column),S=C.getCurrentToken();if(S||(S=C.stepForward()),S){m||(m=new RegExp("(\\.?"+S.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var g=_.column-C.getCurrentTokenColumn()-2,v=S.value;;){for(;g>=0;){var A=v.charAt(g);if(A==f){if(0==(y-=1))return{row:C.getCurrentTokenRow(),column:g+C.getCurrentTokenColumn()}}else A==R&&(y+=1);g-=1}do{S=C.stepBackward()}while(S&&!m.test(S.type));if(null==S)break;g=(v=S.value).length-1}return null}},this.$findClosingBracket=function(R,_,m){var f=this.$brackets[R],y=1,C=new B(this,_.row,_.column),S=C.getCurrentToken();if(S||(S=C.stepForward()),S){m||(m=new RegExp("(\\.?"+S.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var g=_.column-C.getCurrentTokenColumn();;){for(var v=S.value,A=v.length;g<A;){var D=v.charAt(g);if(D==f){if(0==(y-=1))return{row:C.getCurrentTokenRow(),column:g+C.getCurrentTokenColumn()}}else D==R&&(y+=1);g+=1}do{S=C.stepForward()}while(S&&!m.test(S.type));if(null==S)break;g=0}return null}}}}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(H,W,E){"use strict";var B=H("./lib/oop"),r=H("./lib/lang"),F=H("./bidihandler").BidiHandler,R=H("./config"),_=H("./lib/event_emitter").EventEmitter,m=H("./selection").Selection,f=H("./mode/text").Mode,y=H("./range").Range,C=H("./document").Document,S=H("./background_tokenizer").BackgroundTokenizer,g=H("./search_highlight").SearchHighlight,v=function(A,D){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++v.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),("object"!=typeof A||!A.getLine)&&(A=new C(A)),this.$bidiHandler=new F(this),this.setDocument(A),this.selection=new m(this),R.resetOptions(this),this.setMode(D),R._signal("session",this)};v.$uid=0,function(){B.implement(this,_),this.setDocument=function(P){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=P,P.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(P){if(!P)return this.$docRowCache=[],void(this.$screenRowCache=[]);var V=this.$docRowCache.length,U=this.$getRowCacheIndex(this.$docRowCache,P)+1;V>U&&(this.$docRowCache.splice(U,V),this.$screenRowCache.splice(U,V))},this.$getRowCacheIndex=function(P,V){for(var U=0,X=P.length-1;U<=X;){var ie=U+X>>1,ee=P[ie];if(V>ee)U=ie+1;else{if(!(V<ee))return ie;X=ie-1}}return U-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(P){this.$resetRowCache(P.data.start.row)},this.onChange=function(P){this.$modified=!0,this.$bidiHandler.onChange(P),this.$resetRowCache(P.start.row);var V=this.$updateInternalDataOnChange(P);!this.$fromUndo&&this.$undoManager&&!P.ignore&&(this.$deltasDoc.push(P),V&&0!=V.length&&this.$deltasFold.push({action:"removeFolds",folds:V}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(P),this._signal("change",P)},this.setValue=function(P){this.doc.setValue(P),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(P){return this.bgTokenizer.getState(P)},this.getTokens=function(P){return this.bgTokenizer.getTokens(P)},this.getTokenAt=function(P,V){var X,U=this.bgTokenizer.getTokens(P),ie=0;if(null==V){var ee=U.length-1;ie=this.getLine(P).length}else for(ee=0;ee<U.length&&!((ie+=U[ee].value.length)>=V);ee++);return(X=U[ee])?(X.index=ee,X.start=ie-X.value.length,X):null},this.setUndoManager=function(P){if(this.$undoManager=P,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),P){var V=this;this.$syncInformUndoManager=function(){V.$informUndoManager.cancel(),V.$deltasFold.length&&(V.$deltas.push({group:"fold",deltas:V.$deltasFold}),V.$deltasFold=[]),V.$deltasDoc.length&&(V.$deltas.push({group:"doc",deltas:V.$deltasDoc}),V.$deltasDoc=[]),V.$deltas.length>0&&P.execute({action:"aceupdate",args:[V.$deltas,V],merge:V.mergeUndoDeltas}),V.mergeUndoDeltas=!1,V.$deltas=[]},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(P){this.setOption("useSoftTabs",P)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(P){this.setOption("tabSize",P)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(P){return this.$useSoftTabs&&P.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(P){this.setOption("navigateWithinSoftTabs",P)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(P){this.setOption("overwrite",P)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(P,V){this.$decorations[P]||(this.$decorations[P]=""),this.$decorations[P]+=" "+V,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(P,V){this.$decorations[P]=(this.$decorations[P]||"").replace(" "+V,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(P){this.$breakpoints=[];for(var V=0;V<P.length;V++)this.$breakpoints[P[V]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(P,V){void 0===V&&(V="ace_breakpoint"),V?this.$breakpoints[P]=V:delete this.$breakpoints[P],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(P){delete this.$breakpoints[P],this._signal("changeBreakpoint",{})},this.addMarker=function(P,V,U,X){var ie=this.$markerId++,ee={range:P,type:U||"line",renderer:"function"==typeof U?U:null,clazz:V,inFront:!!X,id:ie};return X?(this.$frontMarkers[ie]=ee,this._signal("changeFrontMarker")):(this.$backMarkers[ie]=ee,this._signal("changeBackMarker")),ie},this.addDynamicMarker=function(P,V){if(P.update){var U=this.$markerId++;return P.id=U,P.inFront=!!V,V?(this.$frontMarkers[U]=P,this._signal("changeFrontMarker")):(this.$backMarkers[U]=P,this._signal("changeBackMarker")),P}},this.removeMarker=function(P){var V=this.$frontMarkers[P]||this.$backMarkers[P];V&&V&&(delete(V.inFront?this.$frontMarkers:this.$backMarkers)[P],this._signal(V.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(P){return P?this.$frontMarkers:this.$backMarkers},this.highlight=function(P){if(!this.$searchHighlight){var V=new g(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(V)}this.$searchHighlight.setRegexp(P)},this.highlightLines=function(P,V,U,X){"number"!=typeof V&&(U=V,V=P),U||(U="ace_step");var ie=new y(P,0,V,1/0);return ie.id=this.addMarker(ie,U,"fullLine",X),ie},this.setAnnotations=function(P){this.$annotations=P,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(P){var V=P.match(/^.*?(\r?\n)/m);this.$autoNewLine=V?V[1]:"\n"},this.getWordRange=function(P,V){var U=this.getLine(P),X=!1;if(V>0&&(X=!!U.charAt(V-1).match(this.tokenRe)),X||(X=!!U.charAt(V).match(this.tokenRe)),X)var ie=this.tokenRe;else ie=/^\s+$/.test(U.slice(V-1,V+1))?/\s/:this.nonTokenRe;var ee=V;if(ee>0){do{ee--}while(ee>=0&&U.charAt(ee).match(ie));ee++}for(var ce=V;ce<U.length&&U.charAt(ce).match(ie);)ce++;return new y(P,ee,P,ce)},this.getAWordRange=function(P,V){for(var U=this.getWordRange(P,V),X=this.getLine(U.end.row);X.charAt(U.end.column).match(/[ \t]/);)U.end.column+=1;return U},this.setNewLineMode=function(P){this.doc.setNewLineMode(P)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(P){this.setOption("useWorker",P)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(P){this.bgTokenizer.start(P.data.first),this._signal("tokenizerUpdate",P)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(P,V){if(P&&"object"==typeof P){if(P.getTokenizer)return this.$onChangeMode(P);var U=P,X=P.path}else X=P||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new f),this.$modes[X]&&!U)return this.$onChangeMode(this.$modes[X]),void(V&&V());this.$modeId=X,R.loadModule(["mode",X],function(ie){if(this.$modeId!==X)return V&&V();this.$modes[X]&&!U?this.$onChangeMode(this.$modes[X]):ie&&ie.Mode&&(ie=new ie.Mode(U),U||(this.$modes[X]=ie,ie.$id=X),this.$onChangeMode(ie)),V&&V()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(P,V){if(V||(this.$modeId=P.$id),this.$mode!==P){this.$mode=P,this.$stopWorker(),this.$useWorker&&this.$startWorker();var U=P.getTokenizer();if(void 0!==U.addEventListener){var X=this.onReloadTokenizer.bind(this);U.addEventListener("update",X)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(U);else{this.bgTokenizer=new S(U);var ie=this;this.bgTokenizer.addEventListener("update",function(ee){ie._signal("tokenizerUpdate",ee)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=P.tokenRe,this.nonTokenRe=P.nonTokenRe,V||(P.attachToSession&&P.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(P.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(P){R.warn("Could not load worker",P),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(P){this.$scrollTop===P||isNaN(P)||(this.$scrollTop=P,this._signal("changeScrollTop",P))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(P){this.$scrollLeft===P||isNaN(P)||(this.$scrollLeft=P,this._signal("changeScrollLeft",P))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var P=0;return this.lineWidgets.forEach(function(V){V&&V.screenWidth>P&&(P=V.screenWidth)}),this.lineWidgetWidth=P},this.$computeWidth=function(P){if(this.$modified||P){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var V=this.doc.getAllLines(),U=this.$rowLengthCache,X=0,ie=0,ee=this.$foldData[ie],ce=ee?ee.start.row:1/0,_e=V.length,xe=0;xe<_e;xe++){if(xe>ce){if((xe=ee.end.row+1)>=_e)break;ce=(ee=this.$foldData[ie++])?ee.start.row:1/0}null==U[xe]&&(U[xe]=this.$getStringScreenWidth(V[xe])[0]),U[xe]>X&&(X=U[xe])}this.screenWidth=X}},this.getLine=function(P){return this.doc.getLine(P)},this.getLines=function(P,V){return this.doc.getLines(P,V)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(P){return this.doc.getTextRange(P||this.selection.getRange())},this.insert=function(P,V){return this.doc.insert(P,V)},this.remove=function(P){return this.doc.remove(P)},this.removeFullLines=function(P,V){return this.doc.removeFullLines(P,V)},this.undoChanges=function(P,V){if(P.length){this.$fromUndo=!0;for(var U=null,X=P.length-1;-1!=X;X--){var ie=P[X];"doc"==ie.group?(this.doc.revertDeltas(ie.deltas),U=this.$getUndoSelection(ie.deltas,!0,U)):ie.deltas.forEach(function(ee){this.addFolds(ee.folds)},this)}return this.$fromUndo=!1,U&&this.$undoSelect&&!V&&this.selection.setSelectionRange(U),U}},this.redoChanges=function(P,V){if(P.length){this.$fromUndo=!0;for(var U=null,X=0;X<P.length;X++){var ie=P[X];"doc"==ie.group&&(this.doc.applyDeltas(ie.deltas),U=this.$getUndoSelection(ie.deltas,!1,U))}return this.$fromUndo=!1,U&&this.$undoSelect&&!V&&this.selection.setSelectionRange(U),U}},this.setUndoSelect=function(P){this.$undoSelect=P},this.$getUndoSelection=function(P,V,U){function X(Se){return V?"insert"!==Se.action:"insert"===Se.action}var ee,ce,ie=P[0];ee=X(ie)?y.fromPoints(ie.start,ie.end):y.fromPoints(ie.start,ie.start);for(var xe=1;xe<P.length;xe++)X(ie=P[xe])?(-1==ee.compare((ce=ie.start).row,ce.column)&&ee.setStart(ce),1==ee.compare((ce=ie.end).row,ce.column)&&ee.setEnd(ce)):-1==ee.compare((ce=ie.start).row,ce.column)&&(ee=y.fromPoints(ie.start,ie.start));if(null!=U){0===y.comparePoints(U.start,ee.start)&&(U.start.column+=ee.end.column-ee.start.column,U.end.column+=ee.end.column-ee.start.column);var we=U.compareRange(ee);1==we?ee.setStart(U.start):-1==we&&ee.setEnd(U.end)}return ee},this.replace=function(P,V){return this.doc.replace(P,V)},this.moveText=function(P,V,U){var X=this.getTextRange(P),ie=this.getFoldsInRange(P),ee=y.fromPoints(V,V);if(U||(this.remove(P),(_e=(ce=P.start.row-P.end.row)?-P.end.column:P.start.column-P.end.column)&&(ee.start.row==P.end.row&&ee.start.column>P.end.column&&(ee.start.column+=_e),ee.end.row==P.end.row&&ee.end.column>P.end.column&&(ee.end.column+=_e)),ce&&ee.start.row>=P.end.row&&(ee.start.row+=ce,ee.end.row+=ce)),ee.end=this.insert(ee.start,X),ie.length){var xe=P.start,we=ee.start,ce=we.row-xe.row,_e=we.column-xe.column;this.addFolds(ie.map(function(ye){return(ye=ye.clone()).start.row==xe.row&&(ye.start.column+=_e),ye.end.row==xe.row&&(ye.end.column+=_e),ye.start.row+=ce,ye.end.row+=ce,ye}))}return ee},this.indentRows=function(P,V,U){U=U.replace(/\t/g,this.getTabString());for(var X=P;X<=V;X++)this.doc.insertInLine({row:X,column:0},U)},this.outdentRows=function(P){for(var V=P.collapseRows(),U=new y(0,0,0,0),X=this.getTabSize(),ie=V.start.row;ie<=V.end.row;++ie){var ee=this.getLine(ie);U.start.row=ie,U.end.row=ie;for(var ce=0;ce<X&&" "==ee.charAt(ce);++ce);ce<X&&"\t"==ee.charAt(ce)?(U.start.column=ce,U.end.column=ce+1):(U.start.column=0,U.end.column=ce),this.remove(U)}},this.$moveLines=function(P,V,U){if(P=this.getRowFoldStart(P),V=this.getRowFoldEnd(V),U<0){if((X=this.getRowFoldStart(P+U))<0)return 0;var ie=X-P}else if(U>0){var X;if((X=this.getRowFoldEnd(V+U))>this.doc.getLength()-1)return 0;ie=X-V}else P=this.$clipRowToDocument(P),ie=(V=this.$clipRowToDocument(V))-P+1;var ee=new y(P,0,V,Number.MAX_VALUE),ce=this.getFoldsInRange(ee).map(function(xe){return(xe=xe.clone()).start.row+=ie,xe.end.row+=ie,xe}),_e=0==U?this.doc.getLines(P,V):this.doc.removeFullLines(P,V);return this.doc.insertFullLines(P+ie,_e),ce.length&&this.addFolds(ce),ie},this.moveLinesUp=function(P,V){return this.$moveLines(P,V,-1)},this.moveLinesDown=function(P,V){return this.$moveLines(P,V,1)},this.duplicateLines=function(P,V){return this.$moveLines(P,V,0)},this.$clipRowToDocument=function(P){return Math.max(0,Math.min(P,this.doc.getLength()-1))},this.$clipColumnToRow=function(P,V){return V<0?0:Math.min(this.doc.getLine(P).length,V)},this.$clipPositionToDocument=function(P,V){if(V=Math.max(0,V),P<0)P=0,V=0;else{var U=this.doc.getLength();P>=U?(P=U-1,V=this.doc.getLine(U-1).length):V=Math.min(this.doc.getLine(P).length,V)}return{row:P,column:V}},this.$clipRangeToDocument=function(P){P.start.row<0?(P.start.row=0,P.start.column=0):P.start.column=this.$clipColumnToRow(P.start.row,P.start.column);var V=this.doc.getLength()-1;return P.end.row>V?(P.end.row=V,P.end.column=this.doc.getLine(V).length):P.end.column=this.$clipColumnToRow(P.end.row,P.end.column),P},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(P){if(P!=this.$useWrapMode){if(this.$useWrapMode=P,this.$modified=!0,this.$resetRowCache(0),P){var V=this.getLength();this.$wrapData=Array(V),this.$updateWrapData(0,V-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(P,V){(this.$wrapLimitRange.min!==P||this.$wrapLimitRange.max!==V)&&(this.$wrapLimitRange={min:P,max:V},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(P,V){var U=this.$wrapLimitRange;U.max<0&&(U={min:V,max:V});var X=this.$constrainWrapLimit(P,U.min,U.max);return X!=this.$wrapLimit&&X>1&&(this.$wrapLimit=X,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(P,V,U){return V&&(P=Math.max(V,P)),U&&(P=Math.min(U,P)),P},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(P){this.setWrapLimitRange(P,P)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(P){var V=this.$useWrapMode,U=P.action,X=P.start,ie=P.end,ee=X.row,ce=ie.row,_e=ce-ee,xe=null;if(this.$updating=!0,0!=_e)if("remove"===U){this[V?"$wrapData":"$rowLengthCache"].splice(ee,_e);var we=this.$foldData;xe=this.getFoldsInRange(P),this.removeFolds(xe);var le=0;if(Se=this.getFoldLine(ie.row)){Se.addRemoveChars(ie.row,ie.column,X.column-ie.column),Se.shiftRow(-_e);var ye=this.getFoldLine(ee);ye&&ye!==Se&&(ye.merge(Se),Se=ye),le=we.indexOf(Se)+1}for(;le<we.length;le++)(Se=we[le]).start.row>=ie.row&&Se.shiftRow(-_e);ce=ee}else{var Ce=Array(_e);Ce.unshift(ee,0);var ge=V?this.$wrapData:this.$rowLengthCache;if(ge.splice.apply(ge,Ce),we=this.$foldData,le=0,Se=this.getFoldLine(ee)){var se=Se.range.compareInside(X.row,X.column);0==se?(Se=Se.split(X.row,X.column))&&(Se.shiftRow(_e),Se.addRemoveChars(ce,0,ie.column-X.column)):-1==se&&(Se.addRemoveChars(ee,0,ie.column-X.column),Se.shiftRow(_e)),le=we.indexOf(Se)+1}for(;le<we.length;le++){var Se;(Se=we[le]).start.row>=ee&&Se.shiftRow(_e)}}else _e=Math.abs(P.start.column-P.end.column),"remove"===U&&(xe=this.getFoldsInRange(P),this.removeFolds(xe),_e=-_e),(Se=this.getFoldLine(ee))&&Se.addRemoveChars(ee,X.column,_e);return V&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,V?this.$updateWrapData(ee,ce):this.$updateRowLengthCache(ee,ce),xe},this.$updateRowLengthCache=function(P,V,U){this.$rowLengthCache[P]=null,this.$rowLengthCache[V]=null},this.$updateWrapData=function(P,V){var ce,_e,U=this.doc.getAllLines(),X=this.getTabSize(),ie=this.$wrapData,ee=this.$wrapLimit,xe=P;for(V=Math.min(V,U.length-1);xe<=V;)(_e=this.getFoldLine(xe,_e))?(ce=[],_e.walk(function(we,Se,le,ye){var Ce;if(null!=we){(Ce=this.$getDisplayTokens(we,ce.length))[0]=M;for(var ge=1;ge<Ce.length;ge++)Ce[ge]=T}else Ce=this.$getDisplayTokens(U[Se].substring(ye,le),ce.length);ce=ce.concat(Ce)}.bind(this),_e.end.row,U[_e.end.row].length+1),ie[_e.start.row]=this.$computeWrapSplits(ce,ee,X),xe=_e.end.row+1):(ce=this.$getDisplayTokens(U[xe]),ie[xe]=this.$computeWrapSplits(ce,ee,X),xe++)};var M=3,T=4;function $(P){return!(P<4352)&&(P>=4352&&P<=4447||P>=4515&&P<=4519||P>=4602&&P<=4607||P>=9001&&P<=9002||P>=11904&&P<=11929||P>=11931&&P<=12019||P>=12032&&P<=12245||P>=12272&&P<=12283||P>=12288&&P<=12350||P>=12353&&P<=12438||P>=12441&&P<=12543||P>=12549&&P<=12589||P>=12593&&P<=12686||P>=12688&&P<=12730||P>=12736&&P<=12771||P>=12784&&P<=12830||P>=12832&&P<=12871||P>=12880&&P<=13054||P>=13056&&P<=19903||P>=19968&&P<=42124||P>=42128&&P<=42182||P>=43360&&P<=43388||P>=44032&&P<=55203||P>=55216&&P<=55238||P>=55243&&P<=55291||P>=63744&&P<=64255||P>=65040&&P<=65049||P>=65072&&P<=65106||P>=65108&&P<=65126||P>=65128&&P<=65131||P>=65281&&P<=65376||P>=65504&&P<=65510)}this.$computeWrapSplits=function(P,V,U){if(0==P.length)return[];var X=[],ie=P.length,ee=0,ce=0,_e=this.$wrapAsCode,xe=this.$indentedSoftWrap,we=V<=Math.max(2*U,8)||!1===xe?0:Math.floor(V/2);function le(se){var de=P.slice(ee,se),fe=de.length;de.join("").replace(/12/g,function(){fe-=1}).replace(/2/g,function(){fe-=1}),X.length||(ye=function(){var se=0;if(0===we)return se;if(xe)for(var de=0;de<P.length;de++){var fe=P[de];if(10==fe)se+=1;else{if(11!=fe){if(12==fe)continue;break}se+=U}}return _e&&!1!==xe&&(se+=U),Math.min(se,we)}(),X.indent=ye),X.push(ce+=fe),ee=se}for(var ye=0;ie-ee>V-ye;){var Ce=ee+V-ye;if(P[Ce-1]>=10&&P[Ce]>=10)le(Ce);else if(P[Ce]!=M&&P[Ce]!=T){for(var ge=Math.max(Ce-(V-(V>>2)),ee-1);Ce>ge&&P[Ce]<M;)Ce--;if(_e){for(;Ce>ge&&P[Ce]<M;)Ce--;for(;Ce>ge&&9==P[Ce];)Ce--}else for(;Ce>ge&&P[Ce]<10;)Ce--;Ce>ge?le(++Ce):(2==P[Ce=ee+V]&&Ce--,le(Ce-ye))}else{for(;Ce!=ee-1&&P[Ce]!=M;Ce--);if(Ce>ee){le(Ce);continue}for(Ce=ee+V;Ce<P.length&&P[Ce]==T;Ce++);if(Ce==P.length)break;le(Ce)}}return X},this.$getDisplayTokens=function(P,V){var X,U=[];V=V||0;for(var ie=0;ie<P.length;ie++){var ee=P.charCodeAt(ie);if(9==ee){X=this.getScreenTabSize(U.length+V),U.push(11);for(var ce=1;ce<X;ce++)U.push(12)}else 32==ee?U.push(10):ee>39&&ee<48||ee>57&&ee<64?U.push(9):ee>=4352&&$(ee)?U.push(1,2):U.push(1)}return U},this.$getStringScreenWidth=function(P,V,U){if(0==V)return[0,0];var X,ie;for(null==V&&(V=1/0),U=U||0,ie=0;ie<P.length&&(9==(X=P.charCodeAt(ie))?U+=this.getScreenTabSize(U):X>=4352&&$(X)?U+=2:U+=1,!(U>V));ie++);return[U,ie]},this.lineWidgets=null,this.getRowLength=function(P){if(this.lineWidgets)var V=this.lineWidgets[P]&&this.lineWidgets[P].rowCount||0;else V=0;return this.$useWrapMode&&this.$wrapData[P]?this.$wrapData[P].length+1+V:1+V},this.getRowLineCount=function(P){return this.$useWrapMode&&this.$wrapData[P]?this.$wrapData[P].length+1:1},this.getRowWrapIndent=function(P){if(this.$useWrapMode){var V=this.screenToDocumentPosition(P,Number.MAX_VALUE),U=this.$wrapData[V.row];return U.length&&U[0]<V.column?U.indent:0}return 0},this.getScreenLastRowColumn=function(P){var V=this.screenToDocumentPosition(P,Number.MAX_VALUE);return this.documentToScreenColumn(V.row,V.column)},this.getDocumentLastRowColumn=function(P,V){var U=this.documentToScreenRow(P,V);return this.getScreenLastRowColumn(U)},this.getDocumentLastRowColumnPosition=function(P,V){var U=this.documentToScreenRow(P,V);return this.screenToDocumentPosition(U,Number.MAX_VALUE/10)},this.getRowSplitData=function(P){if(this.$useWrapMode)return this.$wrapData[P]},this.getScreenTabSize=function(P){return this.$tabSize-P%this.$tabSize},this.screenToDocumentRow=function(P,V){return this.screenToDocumentPosition(P,V).row},this.screenToDocumentColumn=function(P,V){return this.screenToDocumentPosition(P,V).column},this.screenToDocumentPosition=function(P,V,U){if(P<0)return{row:0,column:0};var X,ce,ie=0,ee=0,_e=0,xe=0,we=this.$screenRowCache,Se=this.$getRowCacheIndex(we,P),le=we.length;if(le&&Se>=0){_e=we[Se],ie=this.$docRowCache[Se];var ye=P>we[le-1]}else ye=!le;for(var Ce=this.getLength()-1,ge=this.getNextFoldLine(ie),se=ge?ge.start.row:1/0;_e<=P&&!(_e+(xe=this.getRowLength(ie))>P||ie>=Ce);)_e+=xe,++ie>se&&(se=(ge=this.getNextFoldLine(ie=ge.end.row+1,ge))?ge.start.row:1/0),ye&&(this.$docRowCache.push(ie),this.$screenRowCache.push(_e));if(ge&&ge.start.row<=ie)X=this.getFoldDisplayLine(ge),ie=ge.start.row;else{if(_e+xe<=P||ie>Ce)return{row:Ce,column:this.getLine(Ce).length};X=this.getLine(ie),ge=null}var de=0,fe=Math.floor(P-_e);if(this.$useWrapMode){var Re=this.$wrapData[ie];Re&&(ce=Re[fe],fe>0&&Re.length&&(de=Re.indent,X=X.substring(ee=Re[fe-1]||Re[Re.length-1])))}return void 0!==U&&this.$bidiHandler.isBidiRow(_e+fe,ie,fe)&&(V=this.$bidiHandler.offsetToCol(U)),ee+=this.$getStringScreenWidth(X,V-de)[1],this.$useWrapMode&&ee>=ce&&(ee=ce-1),ge?ge.idxToPosition(ee):{row:ie,column:ee}},this.documentToScreenPosition=function(P,V){if(void 0===V)var U=this.$clipPositionToDocument(P.row,P.column);else U=this.$clipPositionToDocument(P,V);var ee,X=0,ie=null;(ee=this.getFoldAt(P=U.row,V=U.column,1))&&(P=ee.start.row,V=ee.start.column);var ce,_e=0,xe=this.$docRowCache,we=this.$getRowCacheIndex(xe,P),Se=xe.length;if(Se&&we>=0){_e=xe[we],X=this.$screenRowCache[we];var le=P>xe[Se-1]}else le=!Se;for(var ye=this.getNextFoldLine(_e),Ce=ye?ye.start.row:1/0;_e<P;){if(_e>=Ce){if((ce=ye.end.row+1)>P)break;Ce=(ye=this.getNextFoldLine(ce,ye))?ye.start.row:1/0}else ce=_e+1;X+=this.getRowLength(_e),_e=ce,le&&(this.$docRowCache.push(_e),this.$screenRowCache.push(X))}var ge="";ye&&_e>=Ce?(ge=this.getFoldDisplayLine(ye,P,V),ie=ye.start.row):(ge=this.getLine(P).substring(0,V),ie=P);var se=0;if(this.$useWrapMode){var de=this.$wrapData[ie];if(de){for(var fe=0;ge.length>=de[fe];)X++,fe++;ge=ge.substring(de[fe-1]||0,ge.length),se=fe>0?de.indent:0}}return{row:X,column:se+this.$getStringScreenWidth(ge)[0]}},this.documentToScreenColumn=function(P,V){return this.documentToScreenPosition(P,V).column},this.documentToScreenRow=function(P,V){return this.documentToScreenPosition(P,V).row},this.getScreenLength=function(){var P=0,V=null;if(this.$useWrapMode)for(var ie=this.$wrapData.length,ee=0,X=0,ce=(V=this.$foldData[X++])?V.start.row:1/0;ee<ie;){var _e=this.$wrapData[ee];P+=_e?_e.length+1:1,++ee>ce&&(ee=V.end.row+1,ce=(V=this.$foldData[X++])?V.start.row:1/0)}else{P=this.getLength();var U=this.$foldData;for(X=0;X<U.length;X++)P-=(V=U[X]).end.row-V.start.row}return this.lineWidgets&&(P+=this.$getWidgetScreenLength()),P},this.$setFontMetrics=function(P){!this.$enableVarChar||(this.$getStringScreenWidth=function(V,U,X){if(0===U)return[0,0];var ie,ee;for(U||(U=1/0),X=X||0,ee=0;ee<V.length&&!((X+="\t"===(ie=V.charAt(ee))?this.getScreenTabSize(X):P.getCharacterWidth(ie))>U);ee++);return[X,ee]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()},this.isFullWidth=$}.call(v.prototype),H("./edit_session/folding").Folding.call(v.prototype),H("./edit_session/bracket_match").BracketMatch.call(v.prototype),R.defineOptions(v.prototype,"session",{wrap:{set:function(A){if(A&&"off"!=A?"free"==A?A=!0:"printMargin"==A?A=-1:"string"==typeof A&&(A=parseInt(A,10)||!1):A=!1,this.$wrap!=A)if(this.$wrap=A,A){var D="number"==typeof A?A:null;this.setWrapLimitRange(D,D),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(A){(A="auto"==A?"text"!=this.$mode.type:"text"!=A)!=this.$wrapAsCode&&(this.$wrapAsCode=A,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(A){this.$useWorker=A,this.$stopWorker(),A&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(A){isNaN(A)||this.$tabSize===A||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=A,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},overwrite:{set:function(A){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(A){this.doc.setNewLineMode(A)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(A){this.setMode(A)},get:function(){return this.$modeId}}}),W.EditSession=v}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(H,W,E){"use strict";var B=H("./lib/lang"),r=H("./lib/oop"),F=H("./range").Range,R=function(){this.$options={}};(function(){this.set=function(m){return r.mixin(this.$options,m),this},this.getOptions=function(){return B.copyObject(this.$options)},this.setOptions=function(m){this.$options=m},this.find=function(m){var f=this.$options,y=this.$matchIterator(m,f);if(!y)return!1;var C=null;return y.forEach(function(S,g,v,A){return C=new F(S,g,v,A),!(g==A&&f.start&&f.start.start&&0!=f.skipCurrent&&C.isEqual(f.start)&&(C=null,1))}),C},this.findAll=function(m){var f=this.$options;if(!f.needle)return[];this.$assembleRegExp(f);var y=f.range,C=y?m.getLines(y.start.row,y.end.row):m.doc.getAllLines(),S=[],g=f.re;if(f.$isMultiLine){var D,v=g.length,A=C.length-v;e:for(var M=g.offset||0;M<=A;M++){for(var T=0;T<v;T++)if(-1==C[M+T].search(g[T]))continue e;var N=C[M],x=C[M+v-1],I=N.length-N.match(g[0])[0].length,k=x.match(g[v-1])[0].length;D&&D.end.row===M&&D.end.column>I||(S.push(D=new F(M,I,M+v-1,k)),v>2&&(M=M+v-2))}}else for(var $=0;$<C.length;$++){var P=B.getMatchOffsets(C[$],g);for(T=0;T<P.length;T++){var V=P[T];S.push(new F($,V.offset,$,V.offset+V.length))}}if(y){var U=y.start.column,X=y.start.column;for($=0,T=S.length-1;$<T&&S[$].start.column<U&&S[$].start.row==y.start.row;)$++;for(;$<T&&S[T].end.column>X&&S[T].end.row==y.end.row;)T--;for(S=S.slice($,T+1),$=0,T=S.length;$<T;$++)S[$].start.row+=y.start.row,S[$].end.row+=y.start.row}return S},this.replace=function(m,f){var y=this.$options,C=this.$assembleRegExp(y);if(y.$isMultiLine)return f;if(C){var S=C.exec(m);if(!S||S[0].length!=m.length)return null;if(f=m.replace(C,f),y.preserveCase){f=f.split("");for(var g=Math.min(m.length,m.length);g--;){var v=m[g];f[g]=v&&v.toLowerCase()!=v?f[g].toUpperCase():f[g].toLowerCase()}f=f.join("")}return f}},this.$assembleRegExp=function(m,f){if(m.needle instanceof RegExp)return m.re=m.needle;var y=m.needle;if(!m.needle)return m.re=!1;m.regExp||(y=B.escapeRegExp(y)),m.wholeWord&&(y=function(m,f){function y(C){return/\w/.test(C)||f.regExp?"\\b":""}return y(m[0])+m+y(m[m.length-1])}(y,m));var C=m.caseSensitive?"gm":"gmi";if(m.$isMultiLine=!f&&/[\n\r]/.test(y),m.$isMultiLine)return m.re=this.$assembleMultilineRegExp(y,C);try{var S=new RegExp(y,C)}catch(g){S=!1}return m.re=S},this.$assembleMultilineRegExp=function(m,f){for(var y=m.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),C=[],S=0;S<y.length;S++)try{C.push(new RegExp(y[S],f))}catch(g){return!1}return C},this.$matchIterator=function(m,f){var y=this.$assembleRegExp(f);if(!y)return!1;var C=1==f.backwards,S=0!=f.skipCurrent,g=f.range,v=f.start;v||(v=g?g[C?"end":"start"]:m.selection.getRange()),v.start&&(v=v[S!=C?"end":"start"]);var A=g?g.start.row:0,D=g?g.end.row:m.getLength()-1;if(C)var M=function(x){var I=v.row;if(!N(I,v.column,x)){for(I--;I>=A;I--)if(N(I,Number.MAX_VALUE,x))return;if(0!=f.wrap)for(I=D,A=v.row;I>=A;I--)if(N(I,Number.MAX_VALUE,x))return}};else M=function(I){var k=v.row;if(!N(k,v.column,I)){for(k+=1;k<=D;k++)if(N(k,0,I))return;if(0!=f.wrap)for(k=A,D=v.row;k<=D;k++)if(N(k,0,I))return}};if(f.$isMultiLine)var T=y.length,N=function(x,I,k){var $=C?x-T+1:x;if(!($<0)){var P=m.getLine($),V=P.search(y[0]);if(!(!C&&V<I||-1===V)){for(var U=1;U<T;U++)if(-1==(P=m.getLine($+U)).search(y[U]))return;var X=P.match(y[T-1])[0].length;if(!(C&&X>I)&&k($,V,$+T-1,X))return!0}}};else N=C?function(I,k,$){var U,P=m.getLine(I),V=[],X=0;for(y.lastIndex=0;U=y.exec(P);){if(X=U.index,!(ie=U[0].length)){if(X>=P.length)break;y.lastIndex=X+=1}if(U.index+ie>k)break;V.push(U.index,ie)}for(var ee=V.length-1;ee>=0;ee-=2){var ie,ce=V[ee-1];if($(I,ce,I,ce+(ie=V[ee])))return!0}}:function(I,k,$){var V,P=m.getLine(I),U=k;for(y.lastIndex=k;V=y.exec(P);){var X=V[0].length;if($(I,U=V.index,I,U+X))return!0;if(!X&&(y.lastIndex=U+=1,U>=P.length))return!1}};return{forEach:M}}}).call(R.prototype),W.Search=R}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(H,W,E){"use strict";var B=H("../lib/keys"),r=H("../lib/useragent"),F=B.KEY_MODS;function R(m,f){this.platform=f||(r.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(m),this.$singleCommand=!0}function _(m,f){R.call(this,m,f),this.$singleCommand=!1}_.prototype=R.prototype,function(){function m(f){return"object"==typeof f&&f.bindKey&&f.bindKey.position||(f.isDefault?-100:0)}this.addCommand=function(f){this.commands[f.name]&&this.removeCommand(f),this.commands[f.name]=f,f.bindKey&&this._buildKeyHash(f)},this.removeCommand=function(f,y){var C=f&&("string"==typeof f?f:f.name);f=this.commands[C],y||delete this.commands[C];var S=this.commandKeyBinding;for(var g in S){var v=S[g];if(v==f)delete S[g];else if(Array.isArray(v)){var A=v.indexOf(f);-1!=A&&(v.splice(A,1),1==v.length&&(S[g]=v[0]))}}},this.bindKey=function(f,y,C){if("object"==typeof f&&f&&(null==C&&(C=f.position),f=f[this.platform]),f){if("function"==typeof y)return this.addCommand({exec:y,bindKey:f,name:y.name||f});f.split("|").forEach(function(S){var g="";if(-1!=S.indexOf(" ")){var v=S.split(/\s+/);S=v.pop(),v.forEach(function(M){var T=this.parseKeys(M);this._addCommandToBinding(g+=(g?" ":"")+(F[T.hashId]+T.key),"chainKeys")},this),g+=" "}var A=this.parseKeys(S);this._addCommandToBinding(g+(F[A.hashId]+A.key),y,C)},this)}},this._addCommandToBinding=function(f,y,C){var g,S=this.commandKeyBinding;if(y)if(!S[f]||this.$singleCommand)S[f]=y;else{Array.isArray(S[f])?-1!=(g=S[f].indexOf(y))&&S[f].splice(g,1):S[f]=[S[f]],"number"!=typeof C&&(C=m(y));var v=S[f];for(g=0;g<v.length&&!(m(v[g])>C);g++);v.splice(g,0,y)}else delete S[f]},this.addCommands=function(f){f&&Object.keys(f).forEach(function(y){var C=f[y];if(C){if("string"==typeof C)return this.bindKey(C,y);"function"==typeof C&&(C={exec:C}),"object"==typeof C&&(C.name||(C.name=y),this.addCommand(C))}},this)},this.removeCommands=function(f){Object.keys(f).forEach(function(y){this.removeCommand(f[y])},this)},this.bindKeys=function(f){Object.keys(f).forEach(function(y){this.bindKey(y,f[y])},this)},this._buildKeyHash=function(f){this.bindKey(f.bindKey,f)},this.parseKeys=function(f){var y=f.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(D){return D}),C=y.pop(),S=B[C];if(B.FUNCTION_KEYS[S])C=B.FUNCTION_KEYS[S].toLowerCase();else{if(!y.length)return{key:C,hashId:-1};if(1==y.length&&"shift"==y[0])return{key:C.toUpperCase(),hashId:-1}}for(var g=0,v=y.length;v--;){var A=B.KEY_MODS[y[v]];if(null==A)return"undefined"!=typeof console&&console.error("invalid modifier "+y[v]+" in "+f),!1;g|=A}return{key:C,hashId:g}},this.findKeyCommand=function(y,C){return this.commandKeyBinding[F[y]+C]},this.handleKeyboard=function(f,y,C,S){if(!(S<0)){var g=F[y]+C,v=this.commandKeyBinding[g];return f.$keyChain&&(f.$keyChain+=" "+g,v=this.commandKeyBinding[f.$keyChain]||v),!v||"chainKeys"!=v&&"chainKeys"!=v[v.length-1]?(f.$keyChain&&(y&&4!=y||1!=C.length?(-1==y||S>0)&&(f.$keyChain=""):f.$keyChain=f.$keyChain.slice(0,-g.length-1)),{command:v}):(f.$keyChain=f.$keyChain||g,{command:"null"})}},this.getStatusText=function(f,y){return y.$keyChain||""}}.call(R.prototype),W.HashHandler=R,W.MultiHashHandler=_}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(H,W,E){"use strict";var B=H("../lib/oop"),r=H("../keyboard/hash_handler").MultiHashHandler,F=H("../lib/event_emitter").EventEmitter,R=function(_,m){r.call(this,m,_),this.byName=this.commands,this.setDefaultHandler("exec",function(f){return f.command.exec(f.editor,f.args||{})})};B.inherits(R,r),function(){B.implement(this,F),this.exec=function(_,m,f){if(Array.isArray(_)){for(var y=_.length;y--;)if(this.exec(_[y],m,f))return!0;return!1}if("string"==typeof _&&(_=this.commands[_]),!_||m&&m.$readOnly&&!_.readOnly||_.isAvailable&&!_.isAvailable(m))return!1;var C={editor:m,command:_,args:f};return C.returnValue=this._emit("exec",C),this._signal("afterExec",C),!1!==C.returnValue},this.toggleRecording=function(_){if(!this.$inReplay)return _&&_._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(m){this.macro.push([m.command,m.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(_){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(_);try{this.$inReplay=!0,this.macro.forEach(function(m){"string"==typeof m?this.exec(m,_):this.exec(m[0],_,m[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(_){return _.map(function(m){return"string"!=typeof m[0]&&(m[0]=m[0].name),m[1]||(m=m[0]),m})}}.call(R.prototype),W.CommandManager=R}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(H,W,E){"use strict";var B=H("../lib/lang"),r=H("../config"),F=H("../range").Range;function R(_,m){return{win:_,mac:m}}W.commands=[{name:"showSettingsMenu",bindKey:R("Ctrl-,","Command-,"),exec:function(_){r.loadModule("ace/ext/settings_menu",function(m){m.init(_),_.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:R("Alt-E","F4"),exec:function(_){r.loadModule("ace/ext/error_marker",function(m){m.showErrorMarker(_,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:R("Alt-Shift-E","Shift-F4"),exec:function(_){r.loadModule("ace/ext/error_marker",function(m){m.showErrorMarker(_,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:R("Ctrl-A","Command-A"),exec:function(_){_.selectAll()},readOnly:!0},{name:"centerselection",bindKey:R(null,"Ctrl-L"),exec:function(_){_.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:R("Ctrl-L","Command-L"),exec:function(_){var m=parseInt(prompt("Enter line number:"),10);isNaN(m)||_.gotoLine(m)},readOnly:!0},{name:"fold",bindKey:R("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(_){_.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:R("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(_){_.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:R("F2","F2"),exec:function(_){_.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:R("Alt-F2","Alt-F2"),exec:function(_){_.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:R(null,"Ctrl-Command-Option-0"),exec:function(_){_.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:R("Alt-0","Command-Option-0"),exec:function(_){_.session.foldAll(),_.session.unfold(_.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:R("Alt-Shift-0","Command-Option-Shift-0"),exec:function(_){_.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:R("Ctrl-K","Command-G"),exec:function(_){_.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:R("Ctrl-Shift-K","Command-Shift-G"),exec:function(_){_.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:R("Alt-K","Ctrl-G"),exec:function(_){_.selection.isEmpty()?_.selection.selectWord():_.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:R("Alt-Shift-K","Ctrl-Shift-G"),exec:function(_){_.selection.isEmpty()?_.selection.selectWord():_.findPrevious()},readOnly:!0},{name:"find",bindKey:R("Ctrl-F","Command-F"),exec:function(_){r.loadModule("ace/ext/searchbox",function(m){m.Search(_)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(_){_.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:R("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(_){_.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:R("Ctrl-Home","Command-Home|Command-Up"),exec:function(_){_.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:R("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(_){_.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:R("Up","Up|Ctrl-P"),exec:function(_,m){_.navigateUp(m.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:R("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(_){_.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:R("Ctrl-End","Command-End|Command-Down"),exec:function(_){_.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:R("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(_){_.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:R("Down","Down|Ctrl-N"),exec:function(_,m){_.navigateDown(m.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:R("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(_){_.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:R("Ctrl-Left","Option-Left"),exec:function(_){_.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:R("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(_){_.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:R("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(_){_.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:R("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(_){_.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:R("Left","Left|Ctrl-B"),exec:function(_,m){_.navigateLeft(m.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:R("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(_){_.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:R("Ctrl-Right","Option-Right"),exec:function(_){_.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:R("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(_){_.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:R("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(_){_.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:R("Shift-Right","Shift-Right"),exec:function(_){_.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:R("Right","Right|Ctrl-F"),exec:function(_,m){_.navigateRight(m.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(_){_.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:R(null,"Option-PageDown"),exec:function(_){_.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:R("PageDown","PageDown|Ctrl-V"),exec:function(_){_.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(_){_.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:R(null,"Option-PageUp"),exec:function(_){_.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(_){_.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:R("Ctrl-Up",null),exec:function(_){_.renderer.scrollBy(0,-2*_.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:R("Ctrl-Down",null),exec:function(_){_.renderer.scrollBy(0,2*_.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(_){_.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(_){_.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:R("Ctrl-Alt-E","Command-Option-E"),exec:function(_){_.commands.toggleRecording(_)},readOnly:!0},{name:"replaymacro",bindKey:R("Ctrl-Shift-E","Command-Shift-E"),exec:function(_){_.commands.replay(_)},readOnly:!0},{name:"jumptomatching",bindKey:R("Ctrl-P","Ctrl-P"),exec:function(_){_.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:R("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(_){_.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:R("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(_){_.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:R(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(_){},readOnly:!0},{name:"cut",exec:function(_){var m=_.getSelectionRange();_._emit("cut",m),_.selection.isEmpty()||(_.session.remove(m),_.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(_,m){_.$handlePaste(m)},scrollIntoView:"cursor"},{name:"removeline",bindKey:R("Ctrl-D","Command-D"),exec:function(_){_.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:R("Ctrl-Shift-D","Command-Shift-D"),exec:function(_){_.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:R("Ctrl-Alt-S","Command-Alt-S"),exec:function(_){_.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:R("Ctrl-/","Command-/"),exec:function(_){_.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:R("Ctrl-Shift-/","Command-Shift-/"),exec:function(_){_.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:R("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(_){_.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:R("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(_){_.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:R("Ctrl-H","Command-Option-F"),exec:function(_){r.loadModule("ace/ext/searchbox",function(m){m.Search(_,!0)})}},{name:"undo",bindKey:R("Ctrl-Z","Command-Z"),exec:function(_){_.undo()}},{name:"redo",bindKey:R("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(_){_.redo()}},{name:"copylinesup",bindKey:R("Alt-Shift-Up","Command-Option-Up"),exec:function(_){_.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:R("Alt-Up","Option-Up"),exec:function(_){_.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:R("Alt-Shift-Down","Command-Option-Down"),exec:function(_){_.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:R("Alt-Down","Option-Down"),exec:function(_){_.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:R("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(_){_.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:R("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(_){_.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:R("Shift-Delete",null),exec:function(_){if(!_.selection.isEmpty())return!1;_.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:R("Alt-Backspace","Command-Backspace"),exec:function(_){_.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:R("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(_){_.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:R("Ctrl-Shift-Backspace",null),exec:function(_){var m=_.selection.getRange();m.start.column=0,_.session.remove(m)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:R("Ctrl-Shift-Delete",null),exec:function(_){var m=_.selection.getRange();m.end.column=Number.MAX_VALUE,_.session.remove(m)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:R("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(_){_.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:R("Ctrl-Delete","Alt-Delete"),exec:function(_){_.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:R("Shift-Tab","Shift-Tab"),exec:function(_){_.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:R("Tab","Tab"),exec:function(_){_.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:R("Ctrl-[","Ctrl-["),exec:function(_){_.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:R("Ctrl-]","Ctrl-]"),exec:function(_){_.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(_,m){_.insert(m)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(_,m){_.insert(B.stringRepeat(m.text||"",m.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:R(null,"Ctrl-O"),exec:function(_){_.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:R("Alt-Shift-X","Ctrl-T"),exec:function(_){_.transposeLetters()},multiSelectAction:function(_){_.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:R("Ctrl-U","Ctrl-U"),exec:function(_){_.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:R("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(_){_.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:R("Ctrl-Shift-L","Command-Shift-L"),exec:function(_){var m=_.selection.getRange();m.start.column=m.end.column=0,m.end.row++,_.selection.setRange(m,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:R(null,null),exec:function(_){for(var m=_.selection.isBackwards(),f=m?_.selection.getSelectionLead():_.selection.getSelectionAnchor(),y=m?_.selection.getSelectionAnchor():_.selection.getSelectionLead(),C=_.session.doc.getLine(f.row).length,g=_.session.doc.getTextRange(_.selection.getRange()).replace(/\n\s*/," ").length,v=_.session.doc.getLine(f.row),A=f.row+1;A<=y.row+1;A++){var D=B.stringTrimLeft(B.stringTrimRight(_.session.doc.getLine(A)));0!==D.length&&(D=" "+D),v+=D}y.row+1<_.session.doc.getLength()-1&&(v+=_.session.doc.getNewLineCharacter()),_.clearSelection(),_.session.doc.replace(new F(f.row,0,y.row+2,0),v),g>0?(_.selection.moveCursorTo(f.row,f.column),_.selection.selectTo(f.row,f.column+g)):(C=_.session.doc.getLine(f.row).length>C?C+1:C,_.selection.moveCursorTo(f.row,C))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:R(null,null),exec:function(_){var m=_.session.doc.getLength()-1,f=_.session.doc.getLine(m).length,y=_.selection.rangeList.ranges,C=[];y.length<1&&(y=[_.selection.getRange()]);for(var S=0;S<y.length;S++)S==y.length-1&&(y[S].end.row===m&&y[S].end.column===f||C.push(new F(y[S].end.row,y[S].end.column,m,f))),0===S?0===y[S].start.row&&0===y[S].start.column||C.push(new F(0,0,y[S].start.row,y[S].start.column)):C.push(new F(y[S-1].end.row,y[S-1].end.column,y[S].start.row,y[S].start.column));for(_.exitMultiSelectMode(),_.clearSelection(),S=0;S<C.length;S++)_.selection.addRange(C[S],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(H,W,E){"use strict";H("./lib/fixoldbrowsers");var B=H("./lib/oop"),r=H("./lib/dom"),F=H("./lib/lang"),R=H("./lib/useragent"),_=H("./keyboard/textinput").TextInput,m=H("./mouse/mouse_handler").MouseHandler,f=H("./mouse/fold_handler").FoldHandler,y=H("./keyboard/keybinding").KeyBinding,C=H("./edit_session").EditSession,S=H("./search").Search,g=H("./range").Range,v=H("./lib/event_emitter").EventEmitter,A=H("./commands/command_manager").CommandManager,D=H("./commands/default_commands").commands,M=H("./config"),T=H("./token_iterator").TokenIterator,N=function(x,I){var k=x.getContainerElement();this.container=k,this.renderer=x,this.id="editor"+ ++N.$uid,this.commands=new A(R.isMac?"mac":"win",D),"object"==typeof document&&(this.textInput=new _(x.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new m(this),new f(this)),this.keyBinding=new y(this),this.$blockScrolling=0,this.$search=(new S).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=F.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function($,P){P._$emitInputEvent.schedule(31)}),this.setSession(I||new C("")),M.resetOptions(this),M._signal("editor",this)};N.$uid=0,function(){B.implement(this,v),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=F.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(x){if(this.curOp){if(!x||this.curOp.command)return;this.prevOp=this.curOp}x||(this.previousCommand=null,x={}),this.$opResetTimer.schedule(),this.curOp={command:x.command||{},args:x.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(x){if(this.curOp){if(x&&!1===x.returnValue)return this.curOp=null;this._signal("beforeEndOperation");var I=this.curOp.command;I.name&&this.$blockScrolling>0&&this.$blockScrolling--;var k=I&&I.scrollIntoView;if(k){switch(k){case"center-animate":k="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var $=this.selection.getRange(),P=this.renderer.layerConfig;($.start.row>=P.lastRow||$.end.row<=P.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==k&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(x){if(this.$mergeUndoDeltas){var I=this.prevOp,k=this.$mergeableCommands,$=I.command&&x.command.name==I.command.name;if("insertstring"==x.command.name){var P=x.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),$=$&&this.mergeNextCommand&&(!/\s/.test(P)||/\s/.test(I.args)),this.mergeNextCommand=!0}else $=$&&-1!==k.indexOf(x.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&($=!1),$?this.session.mergeUndoDeltas=!0:-1!==k.indexOf(x.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(x,I){if(x&&"string"==typeof x){this.$keybindingId=x;var k=this;M.loadModule(["keybinding",x],function($){k.$keybindingId==x&&k.keyBinding.setKeyboardHandler($&&$.handler),I&&I()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(x),I&&I()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(x){if(this.session!=x){this.curOp&&this.endOperation(),this.curOp={};var I=this.session;if(I){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var k=this.session.getSelection();k.off("changeCursor",this.$onCursorChange),k.off("changeSelection",this.$onSelectionChange)}this.session=x,x?(this.$onDocumentChange=this.onDocumentChange.bind(this),x.on("change",this.$onDocumentChange),this.renderer.setSession(x),this.$onChangeMode=this.onChangeMode.bind(this),x.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),x.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),x.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),x.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),x.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),x.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=x.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(x)),this._signal("changeSession",{session:x,oldSession:I}),this.curOp=null,I&&I._signal("changeEditor",{oldEditor:this}),x&&x._signal("changeEditor",{editor:this}),x&&x.bgTokenizer&&x.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(x,I){return this.session.doc.setValue(x),I?1==I?this.navigateFileEnd():-1==I&&this.navigateFileStart():this.selectAll(),x},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(x){this.renderer.onResize(x)},this.setTheme=function(x,I){this.renderer.setTheme(x,I)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(x){this.renderer.setStyle(x)},this.unsetStyle=function(x){this.renderer.unsetStyle(x)},this.getFontSize=function(){return this.getOption("fontSize")||r.computedStyle(this.container,"fontSize")},this.setFontSize=function(x){this.setOption("fontSize",x)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var x=this;this.$highlightPending=!0,setTimeout(function(){x.$highlightPending=!1;var I=x.session;if(I&&I.bgTokenizer){var k=I.findMatchingBracket(x.getCursorPosition());if(k)var $=new g(k.row,k.column,k.row,k.column+1);else I.$mode.getMatching&&($=I.$mode.getMatching(x.session));$&&(I.$bracketHighlight=I.addMarker($,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var x=this;this.$highlightTagPending=!0,setTimeout(function(){x.$highlightTagPending=!1;var I=x.session;if(I&&I.bgTokenizer){var k=x.getCursorPosition(),$=new T(x.session,k.row,k.column),P=$.getCurrentToken();if(!P||!/\b(?:tag-open|tag-name)/.test(P.type))return I.removeMarker(I.$tagHighlight),void(I.$tagHighlight=null);if(-1==P.type.indexOf("tag-open")||(P=$.stepForward())){var V=P.value,U=0,X=$.stepBackward();if("<"==X.value)do{X=P,(P=$.stepForward())&&P.value===V&&-1!==P.type.indexOf("tag-name")&&("<"===X.value?U++:"</"===X.value&&U--)}while(P&&U>=0);else{do{P=X,X=$.stepBackward(),P&&P.value===V&&-1!==P.type.indexOf("tag-name")&&("<"===X.value?U++:"</"===X.value&&U--)}while(X&&U<=0);$.stepForward()}if(!P)return I.removeMarker(I.$tagHighlight),void(I.$tagHighlight=null);var ie=$.getCurrentTokenRow(),ee=$.getCurrentTokenColumn(),ce=new g(ie,ee,ie,ee+P.value.length),_e=I.$backMarkers[I.$tagHighlight];I.$tagHighlight&&null!=_e&&0!==ce.compareRange(_e.range)&&(I.removeMarker(I.$tagHighlight),I.$tagHighlight=null),ce&&!I.$tagHighlight&&(I.$tagHighlight=I.addMarker(ce,"ace_bracket","text"))}}},50)}},this.focus=function(){var x=this;setTimeout(function(){x.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(x){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",x))},this.onBlur=function(x){!this.$isFocused||(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",x))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(x){this.renderer.updateLines(x.start.row,x.start.row==x.end.row?x.end.row:1/0,this.session.$useWrapMode),this._signal("change",x),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(x){var I=x.data;this.renderer.updateLines(I.first,I.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(M.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var I,x=this.getSession();if(this.$highlightActiveLine&&(("line"!=this.$selectionStyle||!this.selection.isMultiLine())&&(I=this.getCursorPosition()),this.renderer.$maxLines&&1===this.session.getLength()&&!(this.renderer.$minLines>1)&&(I=!1)),x.$highlightLineMarker&&!I)x.removeMarker(x.$highlightLineMarker.id),x.$highlightLineMarker=null;else if(!x.$highlightLineMarker&&I){var k=new g(I.row,I.column,I.row,1/0);k.id=x.addMarker(k,"ace_active-line","screenLine"),x.$highlightLineMarker=k}else I&&(x.$highlightLineMarker.start.row=I.row,x.$highlightLineMarker.end.row=I.row,x.$highlightLineMarker.start.column=I.column,x._signal("changeBackMarker"))},this.onSelectionChange=function(x){var I=this.session;if(I.$selectionMarker&&I.removeMarker(I.$selectionMarker),I.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var k=this.selection.getRange(),$=this.getSelectionStyle();I.$selectionMarker=I.addMarker(k,"ace_selection",$)}var P=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(P),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var x=this.session,I=this.getSelectionRange();if(!I.isEmpty()&&!I.isMultiLine()){var k=I.start.column-1,$=I.end.column+1,P=x.getLine(I.start.row),V=P.length,U=P.substring(Math.max(k,0),Math.min($,V));if(!(k>=0&&/^[\w\d]/.test(U)||$<=V&&/[\w\d]$/.test(U))&&(U=P.substring(I.start.column,I.end.column),/^[\w\d]+$/.test(U)))return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:U})}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(x){this.renderer.updateText(),this._emit("changeMode",x)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var x=this.getSelectedText();return this._signal("copy",x),x},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(x,I){this.commands.exec("paste",this,{text:x,event:I})},this.$handlePaste=function(x){"string"==typeof x&&(x={text:x}),this._signal("paste",x);var I=x.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(I);else{var k=I.split(/\r\n|\r|\n/),$=this.selection.rangeList.ranges;if(k.length>$.length||k.length<2||!k[1])return this.commands.exec("insertstring",this,I);for(var P=$.length;P--;){var V=$[P];V.isEmpty()||this.session.remove(V),this.session.insert(V.start,k[P])}}},this.execCommand=function(x,I){return this.commands.exec(x,this,I)},this.insert=function(x,I){var k=this.session,$=k.getMode(),P=this.getCursorPosition();if(this.getBehavioursEnabled()&&!I){var V=$.transformAction(k.getState(P.row),"insertion",this,k,x);V&&(x!==V.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),x=V.text)}if("\t"==x&&(x=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&-1==x.indexOf("\n")&&((U=new g.fromPoints(P,P)).end.column+=x.length,this.session.remove(U));else{var U=this.getSelectionRange();P=this.session.remove(U),this.clearSelection()}if("\n"==x||"\r\n"==x){var ce=k.getLine(P.row);if(P.column>ce.search(/\S|$/)){var X=ce.substr(P.column).search(/\S|$/);k.doc.removeInLine(P.row,P.column,P.column+X)}}this.clearSelection();var ie=P.column,ee=k.getState(P.row),_e=(ce=k.getLine(P.row),$.checkOutdent(ee,ce,x));if(k.insert(P,x),V&&V.selection&&this.selection.setSelectionRange(2==V.selection.length?new g(P.row,ie+V.selection[0],P.row,ie+V.selection[1]):new g(P.row+V.selection[0],V.selection[1],P.row+V.selection[2],V.selection[3])),k.getDocument().isNewLine(x)){var we=$.getNextLineIndent(ee,ce.slice(0,P.column),k.getTabString());k.insert({row:P.row+1,column:0},we)}_e&&$.autoOutdent(ee,k,P.row)},this.onTextInput=function(x){this.keyBinding.onTextInput(x)},this.onCommandKey=function(x,I,k){this.keyBinding.onCommandKey(x,I,k)},this.setOverwrite=function(x){this.session.setOverwrite(x)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(x){this.setOption("scrollSpeed",x)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(x){this.setOption("dragDelay",x)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(x){this.setOption("selectionStyle",x)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(x){this.setOption("highlightActiveLine",x)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(x){this.setOption("highlightGutterLine",x)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(x){this.setOption("highlightSelectedWord",x)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(x){this.renderer.setAnimatedScroll(x)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(x){this.renderer.setShowInvisibles(x)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(x){this.renderer.setDisplayIndentGuides(x)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(x){this.renderer.setShowPrintMargin(x)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(x){this.renderer.setPrintMarginColumn(x)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(x){this.setOption("readOnly",x)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(x){this.setOption("behavioursEnabled",x)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(x){this.setOption("wrapBehavioursEnabled",x)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(x){this.setOption("showFoldWidgets",x)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(x){this.setOption("fadeFoldWidgets",x)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(x){this.selection.isEmpty()&&("left"==x?this.selection.selectLeft():this.selection.selectRight());var I=this.getSelectionRange();if(this.getBehavioursEnabled()){var k=this.session,$=k.getState(I.start.row),P=k.getMode().transformAction($,"deletion",this,k,I);if(0===I.end.column){var V=k.getTextRange(I);if("\n"==V[V.length-1]){var U=k.getLine(I.end.row);/^\s+$/.test(U)&&(I.end.column=U.length)}}P&&(I=P)}this.session.remove(I),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var x=this.getSelectionRange();x.start.column==x.end.column&&x.start.row==x.end.row&&(x.end.column=0,x.end.row++),this.session.remove(x),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var x=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(x)},this.transposeLetters=function(){if(this.selection.isEmpty()){var x=this.getCursorPosition(),I=x.column;if(0!==I){var $,P,k=this.session.getLine(x.row);I<k.length?($=k.charAt(I)+k.charAt(I-1),P=new g(x.row,I-1,x.row,I+1)):($=k.charAt(I-1)+k.charAt(I-2),P=new g(x.row,I-2,x.row,I)),this.session.replace(P,$),this.session.selection.moveToPosition(P.end)}}},this.toLowerCase=function(){var x=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var I=this.getSelectionRange(),k=this.session.getTextRange(I);this.session.replace(I,k.toLowerCase()),this.selection.setSelectionRange(x)},this.toUpperCase=function(){var x=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var I=this.getSelectionRange(),k=this.session.getTextRange(I);this.session.replace(I,k.toUpperCase()),this.selection.setSelectionRange(x)},this.indent=function(){var x=this.session,I=this.getSelectionRange();if(!(I.start.row<I.end.row)){if(I.start.column<I.end.column){var $=x.getTextRange(I);if(!/^\s+$/.test($))return k=this.$getSelectedRows(),void x.indentRows(k.first,k.last,"\t")}var P=x.getLine(I.start.row),V=I.start,U=x.getTabSize(),X=x.documentToScreenColumn(V.row,V.column);if(this.session.getUseSoftTabs())var ee=F.stringRepeat(" ",ie=U-X%U);else{for(var ie=X%U;" "==P[I.start.column-1]&&ie;)I.start.column--,ie--;this.selection.setSelectionRange(I),ee="\t"}return this.insert(ee)}var k=this.$getSelectedRows();x.indentRows(k.first,k.last,"\t")},this.blockIndent=function(){var x=this.$getSelectedRows();this.session.indentRows(x.first,x.last,"\t")},this.blockOutdent=function(){var x=this.session.getSelection();this.session.outdentRows(x.getRange())},this.sortLines=function(){for(var x=this.$getSelectedRows(),I=this.session,k=[],$=x.first;$<=x.last;$++)k.push(I.getLine($));k.sort(function(U,X){return U.toLowerCase()<X.toLowerCase()?-1:U.toLowerCase()>X.toLowerCase()?1:0});var P=new g(0,0,0,0);for($=x.first;$<=x.last;$++){var V=I.getLine($);P.start.row=$,P.end.row=$,P.end.column=V.length,I.replace(P,k[$-x.first])}},this.toggleCommentLines=function(){var x=this.session.getState(this.getCursorPosition().row),I=this.$getSelectedRows();this.session.getMode().toggleCommentLines(x,this.session,I.first,I.last)},this.toggleBlockComment=function(){var x=this.getCursorPosition(),I=this.session.getState(x.row),k=this.getSelectionRange();this.session.getMode().toggleBlockComment(I,this.session,k,x)},this.getNumberAt=function(x,I){var k=/[\-]?[0-9]+(?:\.[0-9]+)?/g;k.lastIndex=0;for(var $=this.session.getLine(x);k.lastIndex<I;){var P=k.exec($);if(P.index<=I&&P.index+P[0].length>=I)return{value:P[0],start:P.index,end:P.index+P[0].length}}return null},this.modifyNumber=function(x){var I=this.selection.getCursor().row,k=this.selection.getCursor().column,$=new g(I,k-1,I,k),P=this.session.getTextRange($);if(!isNaN(parseFloat(P))&&isFinite(P)){var V=this.getNumberAt(I,k);if(V){var U=V.value.indexOf(".")>=0?V.start+V.value.indexOf(".")+1:V.end,X=V.start+V.value.length-U,ie=parseFloat(V.value);ie*=Math.pow(10,X),ie+=x*=U!==V.end&&k<U?Math.pow(10,V.end-k-1):Math.pow(10,V.end-k);var ee=(ie/=Math.pow(10,X)).toFixed(X),ce=new g(I,V.start,I,V.end);this.session.replace(ce,ee),this.moveCursorTo(I,Math.max(V.start+1,k+ee.length-V.value.length))}}},this.removeLines=function(){var x=this.$getSelectedRows();this.session.removeFullLines(x.first,x.last),this.clearSelection()},this.duplicateSelection=function(){var x=this.selection,I=this.session,k=x.getRange(),$=x.isBackwards();if(k.isEmpty()){var P=k.start.row;I.duplicateLines(P,P)}else{var V=$?k.start:k.end,U=I.insert(V,I.getTextRange(k),!1);k.start=V,k.end=U,x.setSelectionRange(k,$)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(x,I,k){return this.session.moveText(x,I,k)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(x,I){var k,$,P=this.selection;if(!P.inMultiSelectMode||this.inVirtualSelectionMode){var V=P.toOrientedRange();k=this.$getSelectedRows(V),$=this.session.$moveLines(k.first,k.last,I?0:x),I&&-1==x&&($=0),V.moveBy($,0),P.fromOrientedRange(V)}else{var U=P.rangeList.ranges;P.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var X=0,ie=0,ee=U.length,ce=0;ce<ee;ce++){var _e=ce;U[ce].moveBy(X,0);for(var xe=(k=this.$getSelectedRows(U[ce])).first,we=k.last;++ce<ee;){ie&&U[ce].moveBy(ie,0);var Se=this.$getSelectedRows(U[ce]);if(I&&Se.first!=we)break;if(!I&&Se.first>we+1)break;we=Se.last}for(ce--,X=this.session.$moveLines(xe,we,I?0:x),I&&-1==x&&(_e=ce+1);_e<=ce;)U[_e].moveBy(X,0),_e++;I||(X=0),ie+=X}P.fromOrientedRange(P.ranges[0]),P.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(x){return x=(x||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(x.start.row),last:this.session.getRowFoldEnd(x.end.row)}},this.onCompositionStart=function(x){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(x){this.renderer.setCompositionText(x)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(x){return x>=this.getFirstVisibleRow()&&x<=this.getLastVisibleRow()},this.isRowFullyVisible=function(x){return x>=this.renderer.getFirstFullyVisibleRow()&&x<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(x,I){var k=this.renderer,$=this.renderer.layerConfig,P=x*Math.floor($.height/$.lineHeight);this.$blockScrolling++,!0===I?this.selection.$moveSelection(function(){this.moveCursorBy(P,0)}):!1===I&&(this.selection.moveCursorBy(P,0),this.selection.clearSelection()),this.$blockScrolling--;var V=k.scrollTop;k.scrollBy(0,P*$.lineHeight),null!=I&&k.scrollCursorIntoView(null,.5),k.animateScrolling(V)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(x){this.renderer.scrollToRow(x)},this.scrollToLine=function(x,I,k,$){this.renderer.scrollToLine(x,I,k,$)},this.centerSelection=function(){var x=this.getSelectionRange(),I={row:Math.floor(x.start.row+(x.end.row-x.start.row)/2),column:Math.floor(x.start.column+(x.end.column-x.start.column)/2)};this.renderer.alignCursor(I,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(x,I){this.selection.moveCursorTo(x,I)},this.moveCursorToPosition=function(x){this.selection.moveCursorToPosition(x)},this.jumpToMatching=function(x,I){var k=this.getCursorPosition(),$=new T(this.session,k.row,k.column),P=$.getCurrentToken(),V=P||$.stepForward();if(V){var U,ce,X=!1,ie={},ee=k.column-V.start,_e={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(V.value.match(/[{}()\[\]]/g)){for(;ee<V.value.length&&!X;ee++)if(_e[V.value[ee]])switch(ce=_e[V.value[ee]]+"."+V.type.replace("rparen","lparen"),isNaN(ie[ce])&&(ie[ce]=0),V.value[ee]){case"(":case"[":case"{":ie[ce]++;break;case")":case"]":case"}":ie[ce]--,-1===ie[ce]&&(U="bracket",X=!0)}}else V&&-1!==V.type.indexOf("tag-name")&&(isNaN(ie[V.value])&&(ie[V.value]=0),"<"===P.value?ie[V.value]++:"</"===P.value&&ie[V.value]--,-1===ie[V.value]&&(U="tag",X=!0));X||(P=V,V=$.stepForward(),ee=0)}while(V&&!X);if(U){var xe,we;if("bracket"===U)(xe=this.session.getBracketRange(k))||(we=(xe=new g($.getCurrentTokenRow(),$.getCurrentTokenColumn()+ee-1,$.getCurrentTokenRow(),$.getCurrentTokenColumn()+ee-1)).start,(I||we.row===k.row&&Math.abs(we.column-k.column)<2)&&(xe=this.session.getBracketRange(we)));else if("tag"===U){if(!V||-1===V.type.indexOf("tag-name"))return;var Se=V.value;if(0===(xe=new g($.getCurrentTokenRow(),$.getCurrentTokenColumn()-2,$.getCurrentTokenRow(),$.getCurrentTokenColumn()-2)).compare(k.row,k.column)){X=!1;do{V=P,(P=$.stepBackward())&&(-1!==P.type.indexOf("tag-close")&&xe.setEnd($.getCurrentTokenRow(),$.getCurrentTokenColumn()+1),V.value===Se&&-1!==V.type.indexOf("tag-name")&&("<"===P.value?ie[Se]++:"</"===P.value&&ie[Se]--,0===ie[Se]&&(X=!0)))}while(P&&!X)}V&&V.type.indexOf("tag-name")&&(we=xe.start).row==k.row&&Math.abs(we.column-k.column)<2&&(we=xe.end)}(we=xe&&xe.cursor||we)&&(x?xe&&I?this.selection.setRange(xe):xe&&xe.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(we.row,we.column):this.selection.moveTo(we.row,we.column))}}},this.gotoLine=function(x,I,k){this.selection.clearSelection(),this.session.unfold({row:x-1,column:I||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(x-1,I||0),this.$blockScrolling-=1,this.isRowFullyVisible(x-1)||this.scrollToLine(x-1,!0,k)},this.navigateTo=function(x,I){this.selection.moveTo(x,I)},this.navigateUp=function(x){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var I=this.selection.anchor.getPosition();return this.moveCursorToPosition(I)}this.selection.clearSelection(),this.selection.moveCursorBy(-x||-1,0)},this.navigateDown=function(x){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var I=this.selection.anchor.getPosition();return this.moveCursorToPosition(I)}this.selection.clearSelection(),this.selection.moveCursorBy(x||1,0)},this.navigateLeft=function(x){if(this.selection.isEmpty())for(x=x||1;x--;)this.selection.moveCursorLeft();else{var I=this.getSelectionRange().start;this.moveCursorToPosition(I)}this.clearSelection()},this.navigateRight=function(x){if(this.selection.isEmpty())for(x=x||1;x--;)this.selection.moveCursorRight();else{var I=this.getSelectionRange().end;this.moveCursorToPosition(I)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(x,I){I&&this.$search.set(I);var k=this.$search.find(this.session),$=0;return k&&(this.$tryReplace(k,x)&&($=1),null!==k&&(this.selection.setSelectionRange(k),this.renderer.scrollSelectionIntoView(k.start,k.end))),$},this.replaceAll=function(x,I){I&&this.$search.set(I);var k=this.$search.findAll(this.session),$=0;if(!k.length)return $;this.$blockScrolling+=1;var P=this.getSelectionRange();this.selection.moveTo(0,0);for(var V=k.length-1;V>=0;--V)this.$tryReplace(k[V],x)&&$++;return this.selection.setSelectionRange(P),this.$blockScrolling-=1,$},this.$tryReplace=function(x,I){var k=this.session.getTextRange(x);return null!==(I=this.$search.replace(k,I))?(x.end=this.session.replace(x,I),x):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(x,I,k){I||(I={}),"string"==typeof x||x instanceof RegExp?I.needle=x:"object"==typeof x&&B.mixin(I,x);var $=this.selection.getRange();null==I.needle&&((x=this.session.getTextRange($)||this.$search.$options.needle)||($=this.session.getWordRange($.start.row,$.start.column),x=this.session.getTextRange($)),this.$search.set({needle:x})),this.$search.set(I),I.start||this.$search.set({start:$});var P=this.$search.find(this.session);return I.preventScroll?P:P?(this.revealRange(P,k),P):(I.backwards?$.start=$.end:$.end=$.start,void this.selection.setRange($))},this.findNext=function(x,I){this.find({skipCurrent:!0,backwards:!1},x,I)},this.findPrevious=function(x,I){this.find(x,{skipCurrent:!0,backwards:!0},I)},this.revealRange=function(x,I){this.$blockScrolling+=1,this.session.unfold(x),this.selection.setSelectionRange(x),this.$blockScrolling-=1;var k=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(x.start,x.end,.5),!1!==I&&this.renderer.animateScrolling(k)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(x){if(x){var I,k=this,$=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var P=this.$scrollAnchor;P.style.cssText="position:absolute",this.container.insertBefore(P,this.container.firstChild);var V=this.on("changeSelection",function(){$=!0}),U=this.renderer.on("beforeRender",function(){$&&(I=k.renderer.container.getBoundingClientRect())}),X=this.renderer.on("afterRender",function(){if($&&I&&(k.isFocused()||k.searchBox&&k.searchBox.isFocused())){var ie=k.renderer,ee=ie.$cursorLayer.$pixelPos,ce=ie.layerConfig,_e=ee.top-ce.offset;null!=($=ee.top>=0&&_e+I.top<0||!(ee.top<ce.height&&ee.top+I.top+ce.lineHeight>window.innerHeight)&&null)&&(P.style.top=_e+"px",P.style.left=ee.left+"px",P.style.height=ce.lineHeight+"px",P.scrollIntoView($)),$=I=null}});this.setAutoScrollEditorIntoView=function(ie){ie||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",V),this.renderer.off("afterRender",X),this.renderer.off("beforeRender",U))}}},this.$resetCursorStyle=function(){var x=this.$cursorStyle||"ace",I=this.renderer.$cursorLayer;!I||(I.setSmoothBlinking(/smooth/.test(x)),I.isBlinking=!this.$readOnly&&"wide"!=x,r.setCssClass(I.element,"ace_slim-cursors",/slim/.test(x)))}}.call(N.prototype),M.defineOptions(N.prototype,"editor",{selectionStyle:{set:function(x){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:x})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(x){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(x){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(x){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(x){this.setAutoScrollEditorIntoView(x)}},keyboardHandler:{set:function(x){this.setKeyboardHandler(x)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),W.Editor=N}),ace.define("ace/undomanager",["require","exports","module"],function(H,W,E){"use strict";var B=function(){this.reset()};(function(){function r(_){return{action:_.action,start:_.start,end:_.end,lines:1==_.lines.length?null:_.lines,text:1==_.lines.length?_.lines[0]:null}}function F(_){return{action:_.action,start:_.start,end:_.end,lines:_.lines||[_.text]}}function R(_,m){for(var f=new Array(_.length),y=0;y<_.length;y++){for(var C=_[y],S={group:C.group,deltas:new Array(C.length)},g=0;g<C.deltas.length;g++)S.deltas[g]=m(C.deltas[g]);f[y]=S}return f}this.execute=function(_){var m=_.args[0];this.$doc=_.args[1],_.merge&&this.hasUndo()&&(this.dirtyCounter--,m=this.$undoStack.pop().concat(m)),this.$undoStack.push(m),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(_){var m=this.$undoStack.pop(),f=null;return m&&(f=this.$doc.undoChanges(m,_),this.$redoStack.push(m),this.dirtyCounter--),f},this.redo=function(_){var m=this.$redoStack.pop(),f=null;return m&&(f=this.$doc.redoChanges(this.$deserializeDeltas(m),_),this.$undoStack.push(m),this.dirtyCounter++),f},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(_){return R(_,r)},this.$deserializeDeltas=function(_){return R(_,F)}}).call(B.prototype),W.UndoManager=B}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(H,W,E){"use strict";var B=H("../lib/dom"),r=H("../lib/oop"),F=H("../lib/lang"),R=H("../lib/event_emitter").EventEmitter,_=function(m){this.element=B.createElement("div"),this.element.className="ace_layer ace_gutter-layer",m.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){r.implement(this,R),this.setSession=function(m){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=m,m&&m.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(m,f){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(m,f)},this.removeGutterDecoration=function(m,f){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(m,f)},this.setAnnotations=function(m){this.$annotations=[];for(var f=0;f<m.length;f++){var y=m[f],C=y.row,S=this.$annotations[C];S||(S=this.$annotations[C]={text:[]});var g=y.text;g=g?F.escapeHTML(g):y.html||"",-1===S.text.indexOf(g)&&S.text.push(g);var v=y.type;"error"==v?S.className=" ace_error":"warning"==v&&" ace_error"!=S.className?S.className=" ace_warning":"info"==v&&!S.className&&(S.className=" ace_info")}},this.$updateAnnotations=function(m){if(this.$annotations.length){var f=m.start.row,y=m.end.row-f;if(0!==y)if("remove"==m.action)this.$annotations.splice(f,y+1,null);else{var C=new Array(y+1);C.unshift(f,1),this.$annotations.splice.apply(this.$annotations,C)}}},this.update=function(m){for(var f=this.session,y=m.firstRow,C=Math.min(m.lastRow+m.gutterOffset,f.getLength()-1),S=f.getNextFoldLine(y),g=S?S.start.row:1/0,v=this.$showFoldWidgets&&f.foldWidgets,A=f.$breakpoints,D=f.$decorations,M=f.$firstLineNumber,T=0,N=f.gutterRenderer||this.$renderer,x=null,I=-1,k=y;;){if(k>g&&(g=(S=f.getNextFoldLine(k=S.end.row+1,S))?S.start.row:1/0),k>C){for(;this.$cells.length>I+1;)x=this.$cells.pop(),this.element.removeChild(x.element);break}(x=this.$cells[++I])||((x={element:null,textNode:null,foldWidget:null}).element=B.createElement("div"),x.textNode=document.createTextNode(""),x.element.appendChild(x.textNode),this.element.appendChild(x.element),this.$cells[I]=x);var P,$="ace_gutter-cell ";if(A[k]&&($+=A[k]),D[k]&&($+=D[k]),this.$annotations[k]&&($+=this.$annotations[k].className),x.element.className!=$&&(x.element.className=$),(P=f.getRowLength(k)*m.lineHeight+"px")!=x.element.style.height&&(x.element.style.height=P),v){var V=v[k];null==V&&(V=v[k]=f.getFoldWidget(k))}if(V)x.foldWidget||(x.foldWidget=B.createElement("span"),x.element.appendChild(x.foldWidget)),$="ace_fold-widget ace_"+V,x.foldWidget.className!=($+="start"==V&&k==g&&k<S.end.row?" ace_closed":" ace_open")&&(x.foldWidget.className=$),x.foldWidget.style.height!=(P=m.lineHeight+"px")&&(x.foldWidget.style.height=P);else x.foldWidget&&(x.element.removeChild(x.foldWidget),x.foldWidget=null);var U=T=N?N.getText(f,k):k+M;U!==x.textNode.data&&(x.textNode.data=U),k++}this.element.style.height=m.minHeight+"px",(this.$fixedWidth||f.$useWrapMode)&&(T=f.getLength()+M);var X=N?N.getWidth(f,T,m):T.toString().length*m.characterWidth,ie=this.$padding||this.$computePadding();(X+=ie.left+ie.right)!==this.gutterWidth&&!isNaN(X)&&(this.gutterWidth=X,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",X))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(m){this.$renderer=!m&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(m){m?B.addCssClass(this.element,"ace_folding-enabled"):B.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=m,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var m=B.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(m.paddingLeft)+1||0,this.$padding.right=parseInt(m.paddingRight)||0,this.$padding},this.getRegion=function(m){var f=this.$padding||this.$computePadding(),y=this.element.getBoundingClientRect();return m.x<f.left+y.left?"markers":this.$showFoldWidgets&&m.x>y.right-f.right?"foldWidgets":void 0}}).call(_.prototype),W.Gutter=_}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(H,W,E){"use strict";var B=H("../range").Range,r=H("../lib/dom"),F=function(R){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",R.appendChild(this.element)};(function(){function R(_,m,f,y){return(_?1:0)|(m?2:0)|(f?4:0)|(y?8:0)}this.$padding=0,this.setPadding=function(_){this.$padding=_},this.setSession=function(_){this.session=_},this.setMarkers=function(_){this.markers=_},this.update=function(_){if(_){this.config=_;var m=[];for(var f in this.markers){var y=this.markers[f];if(y.range){var C=y.range.clipRows(_.firstRow,_.lastRow);if(!C.isEmpty())if(C=C.toScreenRange(this.session),y.renderer){var S=this.$getTop(C.start.row,_),g=this.$padding+(this.session.$bidiHandler.isBidiRow(C.start.row)?this.session.$bidiHandler.getPosLeft(C.start.column):C.start.column*_.characterWidth);y.renderer(m,C,g,S,_)}else"fullLine"==y.type?this.drawFullLineMarker(m,C,y.clazz,_):"screenLine"==y.type?this.drawScreenLineMarker(m,C,y.clazz,_):C.isMultiLine()?"text"==y.type?this.drawTextMarker(m,C,y.clazz,_):this.drawMultiLineMarker(m,C,y.clazz,_):this.session.$bidiHandler.isBidiRow(C.start.row)?this.drawBidiSingleLineMarker(m,C,y.clazz+" ace_start ace_br15",_):this.drawSingleLineMarker(m,C,y.clazz+" ace_start ace_br15",_)}else y.update(m,this,this.session,_)}this.element.innerHTML=m.join("")}},this.$getTop=function(_,m){return(_-m.firstRowScreen)*m.lineHeight},this.drawTextMarker=function(_,m,f,y,C){for(var S=this.session,g=m.start.row,v=m.end.row,A=g,D=0,M=0,T=S.getScreenLastRowColumn(A),N=null,x=new B(A,m.start.column,A,M);A<=v;A++)x.start.row=x.end.row=A,x.start.column=A==g?m.start.column:S.getRowWrapIndent(A),x.end.column=T,D=M,M=T,T=A+1<v?S.getScreenLastRowColumn(A+1):A==v?0:m.end.column,N=f+(A==g?" ace_start":"")+" ace_br"+R(A==g||A==g+1&&m.start.column,D<M,M>T,A==v),this.session.$bidiHandler.isBidiRow(A)?this.drawBidiSingleLineMarker(_,x,N,y,A==v?0:1,C):this.drawSingleLineMarker(_,x,N,y,A==v?0:1,C)},this.drawMultiLineMarker=function(_,m,f,y,C){var g,v,S=this.$padding;if(C=C||"",this.session.$bidiHandler.isBidiRow(m.start.row)?((D=m.clone()).end.row=D.start.row,D.end.column=this.session.getLine(D.start.row).length,this.drawBidiSingleLineMarker(_,D,f+" ace_br1 ace_start",y,null,C)):(g=y.lineHeight,v=this.$getTop(m.start.row,y),_.push("<div class='",f," ace_br1 ace_start' style='","height:",g,"px;","right:0;","top:",v,"px;","left:",S+m.start.column*y.characterWidth,"px;",C,"'></div>")),this.session.$bidiHandler.isBidiRow(m.end.row)){var D;(D=m.clone()).start.row=D.end.row,D.start.column=0,this.drawBidiSingleLineMarker(_,D,f+" ace_br12",y,null,C)}else{var M=m.end.column*y.characterWidth;g=y.lineHeight,v=this.$getTop(m.end.row,y),_.push("<div class='",f," ace_br12' style='","height:",g,"px;","width:",M,"px;","top:",v,"px;","left:",S,"px;",C,"'></div>")}if(!((g=(m.end.row-m.start.row-1)*y.lineHeight)<=0)){v=this.$getTop(m.start.row+1,y);var T=(m.start.column?1:0)|(m.end.column?0:8);_.push("<div class='",f,T?" ace_br"+T:"","' style='","height:",g,"px;","right:0;","top:",v,"px;","left:",S,"px;",C,"'></div>")}},this.drawSingleLineMarker=function(_,m,f,y,C,S){var g=y.lineHeight,v=(m.end.column+(C||0)-m.start.column)*y.characterWidth,A=this.$getTop(m.start.row,y);_.push("<div class='",f,"' style='","height:",g,"px;","width:",v,"px;","top:",A,"px;","left:",this.$padding+m.start.column*y.characterWidth,"px;",S||"","'></div>")},this.drawBidiSingleLineMarker=function(_,m,f,y,C,S){var g=y.lineHeight,v=this.$getTop(m.start.row,y),A=this.$padding;this.session.$bidiHandler.getSelections(m.start.column,m.end.column).forEach(function(M){_.push("<div class='",f,"' style='","height:",g,"px;","width:",M.width+(C||0),"px;","top:",v,"px;","left:",A+M.left,"px;",S||"","'></div>")})},this.drawFullLineMarker=function(_,m,f,y,C){var S=this.$getTop(m.start.row,y),g=y.lineHeight;m.start.row!=m.end.row&&(g+=this.$getTop(m.end.row,y)-S),_.push("<div class='",f,"' style='","height:",g,"px;","top:",S,"px;","left:0;right:0;",C||"","'></div>")},this.drawScreenLineMarker=function(_,m,f,y,C){var S=this.$getTop(m.start.row,y);_.push("<div class='",f,"' style='","height:",y.lineHeight,"px;","top:",S,"px;","left:0;right:0;",C||"","'></div>")}}).call(F.prototype),W.Marker=F}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(H,W,E){"use strict";var B=H("../lib/oop"),r=H("../lib/dom"),F=H("../lib/lang"),_=(H("../lib/useragent"),H("../lib/event_emitter").EventEmitter),m=function(f){this.element=r.createElement("div"),this.element.className="ace_layer ace_text-layer",f.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){B.implement(this,_),this.EOF_CHAR="\xb6",this.EOL_CHAR_LF="\xac",this.EOL_CHAR_CRLF="\xa4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xb7",this.$padding=0,this.$updateEolChar=function(){var f="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=f)return this.EOL_CHAR=f,!0},this.setPadding=function(f){this.$padding=f,this.element.style.padding="0 "+f+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(f){this.$fontMetrics=f,this.$fontMetrics.on("changeCharacterSize",function(y){this._signal("changeCharacterSize",y)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(f){this.session=f,f&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(f){return this.showInvisibles!=f&&(this.showInvisibles=f,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(f){return this.displayIndentGuides!=f&&(this.displayIndentGuides=f,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var f=this.session.getTabSize();this.tabSize=f;for(var y=this.$tabStrings=[0],C=1;C<f+1;C++)y.push(this.showInvisibles?"<span class='ace_invisible ace_invisible_tab'>"+F.stringRepeat(this.TAB_CHAR,C)+"</span>":F.stringRepeat(" ",C));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var S="ace_indent-guide",g="",v="";if(this.showInvisibles){S+=" ace_invisible",g=" ace_invisible_space",v=" ace_invisible_tab";var A=F.stringRepeat(this.SPACE_CHAR,this.tabSize),D=F.stringRepeat(this.TAB_CHAR,this.tabSize)}else D=A=F.stringRepeat(" ",this.tabSize);this.$tabStrings[" "]="<span class='"+S+g+"'>"+A+"</span>",this.$tabStrings["\t"]="<span class='"+S+v+"'>"+D+"</span>"}},this.updateLines=function(f,y,C){(this.config.lastRow!=f.lastRow||this.config.firstRow!=f.firstRow)&&this.scrollLines(f),this.config=f;for(var S=Math.max(y,f.firstRow),g=Math.min(C,f.lastRow),v=this.element.childNodes,A=0,D=f.firstRow;D<S;D++){if(M=this.session.getFoldLine(D)){if(M.containsRow(S)){S=M.start.row;break}D=M.end.row}A++}for(var M,T=(M=this.session.getNextFoldLine(D=S))?M.start.row:1/0;D>T&&(T=(M=this.session.getNextFoldLine(D=M.end.row+1,M))?M.start.row:1/0),!(D>g);){var N=v[A++];if(N){var x=[];this.$renderLine(x,D,!this.$useLineGroups(),D==T&&M),N.style.height=f.lineHeight*this.session.getRowLength(D)+"px",N.innerHTML=x.join("")}D++}},this.scrollLines=function(f){var y=this.config;if(this.config=f,!y||y.lastRow<f.firstRow)return this.update(f);if(f.lastRow<y.firstRow)return this.update(f);var C=this.element;if(y.firstRow<f.firstRow)for(var S=this.session.getFoldedRowCount(y.firstRow,f.firstRow-1);S>0;S--)C.removeChild(C.firstChild);if(y.lastRow>f.lastRow)for(S=this.session.getFoldedRowCount(f.lastRow+1,y.lastRow);S>0;S--)C.removeChild(C.lastChild);if(f.firstRow<y.firstRow){var g=this.$renderLinesFragment(f,f.firstRow,y.firstRow-1);C.firstChild?C.insertBefore(g,C.firstChild):C.appendChild(g)}f.lastRow>y.lastRow&&(g=this.$renderLinesFragment(f,y.lastRow+1,f.lastRow),C.appendChild(g))},this.$renderLinesFragment=function(f,y,C){for(var S=this.element.ownerDocument.createDocumentFragment(),g=y,v=this.session.getNextFoldLine(g),A=v?v.start.row:1/0;g>A&&(A=(v=this.session.getNextFoldLine(g=v.end.row+1,v))?v.start.row:1/0),!(g>C);){var D=r.createElement("div"),M=[];if(this.$renderLine(M,g,!1,g==A&&v),D.innerHTML=M.join(""),this.$useLineGroups())D.className="ace_line_group",S.appendChild(D),D.style.height=f.lineHeight*this.session.getRowLength(g)+"px";else for(;D.firstChild;)S.appendChild(D.firstChild);g++}return S},this.update=function(f){this.config=f;for(var y=[],S=f.lastRow,g=f.firstRow,v=this.session.getNextFoldLine(g),A=v?v.start.row:1/0;g>A&&(A=(v=this.session.getNextFoldLine(g=v.end.row+1,v))?v.start.row:1/0),!(g>S);)this.$useLineGroups()&&y.push("<div class='ace_line_group' style='height:",f.lineHeight*this.session.getRowLength(g),"px'>"),this.$renderLine(y,g,!1,g==A&&v),this.$useLineGroups()&&y.push("</div>"),g++;this.element.innerHTML=y.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(f,y,C,S){var g=this,D=S.replace(/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,function(N,x,I,k,$){if(x)return g.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+F.stringRepeat(g.SPACE_CHAR,N.length)+"</span>":N;if("&"==N)return"&#38;";if("<"==N)return"&#60;";if(">"==N)return"&#62;";if("\t"==N){var P=g.session.getScreenTabSize(y+k);return y+=P-1,g.$tabStrings[P]}return"\u3000"==N?(y+=1,"<span class='"+(g.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk")+"' style='width:"+2*g.config.characterWidth+"px'>"+(g.showInvisibles?g.SPACE_CHAR:"")+"</span>"):I?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+g.SPACE_CHAR+"</span>":(y+=1,"<span class='ace_cjk' style='width:"+2*g.config.characterWidth+"px'>"+N+"</span>")});if(this.$textToken[C.type])f.push(D);else{var M="ace_"+C.type.replace(/\./g," ace_"),T="";"fold"==C.type&&(T=" style='width:"+C.value.length*this.config.characterWidth+"px;' "),f.push("<span class='",M,"'",T,">",D,"</span>")}return y+S.length},this.renderIndentGuide=function(f,y,C){var S=y.search(this.$indentGuideRe);return S<=0||S>=C?y:" "==y[0]?(f.push(F.stringRepeat(this.$tabStrings[" "],(S-=S%this.tabSize)/this.tabSize)),y.substr(S)):"\t"==y[0]?(f.push(F.stringRepeat(this.$tabStrings["\t"],S)),y.substr(S)):y},this.$renderWrappedLine=function(f,y,C,S){for(var g=0,v=0,A=C[0],D=0,M=0;M<y.length;M++){var T=y[M],N=T.value;if(0==M&&this.displayIndentGuides){if(g=N.length,!(N=this.renderIndentGuide(f,N,A)))continue;g-=N.length}if(g+N.length<A)D=this.$renderToken(f,D,T,N),g+=N.length;else{for(;g+N.length>=A;)D=this.$renderToken(f,D,T,N.substring(0,A-g)),N=N.substring(A-g),g=A,S||f.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),f.push(F.stringRepeat("\xa0",C.indent)),D=0,A=C[++v]||Number.MAX_VALUE;0!=N.length&&(g+=N.length,D=this.$renderToken(f,D,T,N))}}},this.$renderSimpleLine=function(f,y){var C=0,S=y[0],g=S.value;this.displayIndentGuides&&(g=this.renderIndentGuide(f,g)),g&&(C=this.$renderToken(f,C,S,g));for(var v=1;v<y.length;v++)C=this.$renderToken(f,C,S=y[v],g=S.value)},this.$renderLine=function(f,y,C,S){if(!S&&0!=S&&(S=this.session.getFoldLine(y)),S)var g=this.$getFoldLineTokens(y,S);else g=this.session.getTokens(y);if(C||f.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(y)),"px'>"),g.length){var v=this.session.getRowSplitData(y);v&&v.length?this.$renderWrappedLine(f,g,v,C):this.$renderSimpleLine(f,g)}this.showInvisibles&&(S&&(y=S.end.row),f.push("<span class='ace_invisible ace_invisible_eol'>",y==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),C||f.push("</div>")},this.$getFoldLineTokens=function(f,y){var C=this.session,S=[],v=C.getTokens(f);return y.walk(function(A,D,M,T,N){null!=A?S.push({type:"fold",value:A}):(N&&(v=C.getTokens(D)),v.length&&function(A,D,M){for(var T=0,N=0;N+A[T].value.length<D;)if(N+=A[T].value.length,++T==A.length)return;for(N!=D&&((x=A[T].value.substring(D-N)).length>M-D&&(x=x.substring(0,M-D)),S.push({type:A[T].type,value:x}),N=D+x.length,T+=1);N<M&&T<A.length;){var x;S.push((x=A[T].value).length+N>M?{type:A[T].type,value:x.substring(0,M-N)}:A[T]),N+=x.length,T+=1}}(v,T,M))},y.end.row,this.session.getLine(y.end.row).length),S},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(m.prototype),W.Text=m}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(H,W,E){"use strict";var r,B=H("../lib/dom"),F=function(R){this.element=B.createElement("div"),this.element.className="ace_layer ace_cursor-layer",R.appendChild(this.element),void 0===r&&(r=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),B.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(r?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(R){for(var _=this.cursors,m=_.length;m--;)_[m].style.visibility=R?"":"hidden"},this.$updateOpacity=function(R){for(var _=this.cursors,m=_.length;m--;)_[m].style.opacity=R?"":"0"},this.$padding=0,this.setPadding=function(R){this.$padding=R},this.setSession=function(R){this.session=R},this.setBlinking=function(R){R!=this.isBlinking&&(this.isBlinking=R,this.restartTimer())},this.setBlinkInterval=function(R){R!=this.blinkInterval&&(this.blinkInterval=R,this.restartTimer())},this.setSmoothBlinking=function(R){R!=this.smoothBlinking&&!r&&(this.smoothBlinking=R,B.setCssClass(this.element,"ace_smooth-blinking",R),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var R=B.createElement("div");return R.className="ace_cursor",this.element.appendChild(R),this.cursors.push(R),R},this.removeCursor=function(){if(this.cursors.length>1){var R=this.cursors.pop();return R.parentNode.removeChild(R),R}},this.hideCursor=function(){this.isVisible=!1,B.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,B.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var R=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&B.removeCssClass(this.element,"ace_smooth-blinking"),R(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){B.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var _=function(){this.timeoutId=setTimeout(function(){R(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){R(!0),_()},this.blinkInterval),_()}},this.getPixelPosition=function(R,_){if(!this.config||!this.session)return{left:0,top:0};R||(R=this.session.selection.getCursor());var m=this.session.documentToScreenPosition(R);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(m.row,R.row)?this.session.$bidiHandler.getPosLeft(m.column):m.column*this.config.characterWidth),top:(m.row-(_?this.config.firstRowScreen:0))*this.config.lineHeight}},this.update=function(R){this.config=R;var _=this.session.$selectionMarkers,m=0,f=0;(void 0===_||0===_.length)&&(_=[{cursor:null}]),m=0;for(var y=_.length;m<y;m++){var C=this.getPixelPosition(_[m].cursor,!0);if(!((C.top>R.height+R.offset||C.top<0)&&m>1)){var S=(this.cursors[f++]||this.addCursor()).style;this.drawCursor?this.drawCursor(S,C,R,_[m],this.session):(S.left=C.left+"px",S.top=C.top+"px",S.width=R.characterWidth+"px",S.height=R.lineHeight+"px")}}for(;this.cursors.length>f;)this.removeCursor();var g=this.session.getOverwrite();this.$setOverwrite(g),this.$pixelPos=C,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(R){R!=this.overwrite&&(this.overwrite=R,R?B.addCssClass(this.element,"ace_overwrite-cursors"):B.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(F.prototype),W.Cursor=F}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(H,W,E){"use strict";var B=H("./lib/oop"),r=H("./lib/dom"),F=H("./lib/event"),R=H("./lib/event_emitter").EventEmitter,_=32768,m=function(C){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),C.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,F.addListener(this.element,"scroll",this.onScroll.bind(this)),F.addListener(this.element,"mousedown",F.preventDefault)};(function(){B.implement(this,R),this.setVisible=function(C){this.element.style.display=C?"":"none",this.isVisible=C,this.coeff=1}}).call(m.prototype);var f=function(C,S){m.call(this,C),this.scrollTop=0,this.scrollHeight=0,S.$scrollbarWidth=this.width=r.scrollbarWidth(C.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};B.inherits(f,m),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var C=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-C)/(this.coeff-C)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(C){this.element.style.height=C+"px"},this.setInnerHeight=this.setScrollHeight=function(C){this.scrollHeight=C,C>_?(this.coeff=_/C,C=_):1!=this.coeff&&(this.coeff=1),this.inner.style.height=C+"px"},this.setScrollTop=function(C){this.scrollTop!=C&&(this.skipEvent=!0,this.scrollTop=C,this.element.scrollTop=C*this.coeff)}}.call(f.prototype);var y=function(C,S){m.call(this,C),this.scrollLeft=0,this.height=S.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};B.inherits(y,m),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(C){this.element.style.width=C+"px"},this.setInnerWidth=function(C){this.inner.style.width=C+"px"},this.setScrollWidth=function(C){this.inner.style.width=C+"px"},this.setScrollLeft=function(C){this.scrollLeft!=C&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=C)}}.call(y.prototype),W.ScrollBar=f,W.ScrollBarV=f,W.ScrollBarH=y,W.VScrollBar=f,W.HScrollBar=y}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(H,W,E){"use strict";var B=H("./lib/event"),r=function(F,R){this.onRender=F,this.pending=!1,this.changes=0,this.window=R||window};(function(){this.schedule=function(F){if(this.changes=this.changes|F,!this.pending&&this.changes){this.pending=!0;var R=this;B.nextFrame(function(){R.pending=!1;for(var _;_=R.changes;)R.changes=0,R.onRender(_)},this.window)}}}).call(r.prototype),W.RenderLoop=r}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(H,W,E){var B=H("../lib/oop"),r=H("../lib/dom"),F=H("../lib/lang"),R=H("../lib/useragent"),_=H("../lib/event_emitter").EventEmitter,m=0,f=W.FontMetrics=function(y){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),y.appendChild(this.el),m||this.$testFractionalRect(),this.$measureNode.innerHTML=F.stringRepeat("X",m),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){B.implement(this,_),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var y=r.createElement("div");this.$setMeasureNodeStyles(y.style),y.style.width="0.2px",document.documentElement.appendChild(y);var C=y.getBoundingClientRect().width;m=C>0&&C<1?50:100,y.parentNode.removeChild(y)},this.$setMeasureNodeStyles=function(y,C){y.width=y.height="auto",y.left=y.top="0px",y.visibility="hidden",y.position="absolute",y.whiteSpace="pre",R.isIE<8?y["font-family"]="inherit":y.font="inherit",y.overflow=C?"hidden":"visible"},this.checkForSizeChanges=function(){var y=this.$measureSizes();if(y&&(this.$characterSize.width!==y.width||this.$characterSize.height!==y.height)){this.$measureNode.style.fontWeight="bold";var C=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=y,this.charSizes=Object.create(null),this.allowBoldFonts=C&&C.width===y.width&&C.height===y.height,this._emit("changeCharacterSize",{data:y})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var y=this;return this.$pollSizeChangesTimer=setInterval(function(){y.checkForSizeChanges()},500)},this.setPolling=function(y){y?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===m){var y=null;try{y=this.$measureNode.getBoundingClientRect()}catch(S){y={width:0,height:0}}var C={height:y.height,width:y.width/m}}else C={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/m};return 0===C.width||0===C.height?null:C},this.$measureCharWidth=function(y){return this.$main.innerHTML=F.stringRepeat(y,m),this.$main.getBoundingClientRect().width/m},this.getCharacterWidth=function(y){var C=this.charSizes[y];return void 0===C&&(C=this.charSizes[y]=this.$measureCharWidth(y)/this.$characterSize.width),C},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(f.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(H,W,E){"use strict";var B=H("./lib/oop"),r=H("./lib/dom"),F=H("./config"),R=H("./lib/useragent"),_=H("./layer/gutter").Gutter,m=H("./layer/marker").Marker,f=H("./layer/text").Text,y=H("./layer/cursor").Cursor,C=H("./scrollbar").HScrollBar,S=H("./scrollbar").VScrollBar,g=H("./renderloop").RenderLoop,v=H("./layer/font_metrics").FontMetrics,A=H("./lib/event_emitter").EventEmitter;r.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}',"ace_editor.css");var M=function(T,N){var x=this;this.container=T||r.createElement("div"),this.$keepTextAreaAtCursor=!R.isOldIE,r.addCssClass(this.container,"ace_editor"),this.setTheme(N),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new _(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new m(this.content);var I=this.$textLayer=new f(this.content);this.canvas=I.element,this.$markerFront=new m(this.content),this.$cursorLayer=new y(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new S(this.container,this),this.scrollBarH=new C(this.container,this),this.scrollBarV.addEventListener("scroll",function(k){x.$scrollAnimation||x.session.setScrollTop(k.data-x.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(k){x.$scrollAnimation||x.session.setScrollLeft(k.data-x.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new v(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(k){x.updateCharacterSize(),x.onResize(!0,x.gutterWidth,x.$size.width,x.$size.height),x._signal("changeCharacterSize",k)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new g(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),F.resetOptions(this),F._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,B.implement(this,A),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(T){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=T,T&&this.scrollMargin.top&&T.getScrollTop()<=0&&T.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(T),this.$markerBack.setSession(T),this.$markerFront.setSession(T),this.$gutterLayer.setSession(T),this.$textLayer.setSession(T),T&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(T,N,x){if(void 0===N&&(N=1/0),this.$changedLines?(this.$changedLines.firstRow>T&&(this.$changedLines.firstRow=T),this.$changedLines.lastRow<N&&(this.$changedLines.lastRow=N)):this.$changedLines={firstRow:T,lastRow:N},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!x)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(T){T?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(T,N,x,I){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=T?1:0;var k=this.container;I||(I=k.clientHeight||k.scrollHeight),x||(x=k.clientWidth||k.scrollWidth);var $=this.$updateCachedSize(T,N,x,I);if(!this.$size.scrollerHeight||!x&&!I)return this.resizing=0;T&&(this.$gutterLayer.$padding=null),T?this.$renderChanges($|this.$changes,!0):this.$loop.schedule($|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(T,N,x,I){var k=0,$=this.$size,P={width:$.width,height:$.height,scrollerHeight:$.scrollerHeight,scrollerWidth:$.scrollerWidth};return(I-=this.$extraHeight||0)&&(T||$.height!=I)&&($.height=I,k|=this.CHANGE_SIZE,$.scrollerHeight=$.height,this.$horizScroll&&($.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",k|=this.CHANGE_SCROLL),x&&(T||$.width!=x)&&(k|=this.CHANGE_SIZE,$.width=x,null==N&&(N=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=N,this.scrollBarH.element.style.left=this.scroller.style.left=N+"px",$.scrollerWidth=Math.max(0,x-N-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||T)&&(k|=this.CHANGE_FULL)),$.$dirty=!x||!I,k&&this._signal("resize",P),k},this.onGutterResize=function(){var T=this.$showGutter?this.$gutter.offsetWidth:0;T!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,T,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var N=Math.floor((this.$size.scrollerWidth-2*this.$padding)/this.characterWidth);return this.session.adjustWrapLimit(N,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(T){this.setOption("animatedScroll",T)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(T){this.setOption("showInvisibles",T),this.session.$bidiHandler.setShowInvisibles(T)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(T){this.setOption("displayIndentGuides",T)},this.setShowPrintMargin=function(T){this.setOption("showPrintMargin",T)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(T){this.setOption("printMarginColumn",T)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(T){return this.setOption("showGutter",T)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(T){this.setOption("fadeFoldWidgets",T)},this.setHighlightGutterLine=function(T){this.setOption("highlightGutterLine",T)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var T=this.$cursorLayer.$pixelPos,N=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var x=this.session.selection.getCursor();x.column=0,T=this.$cursorLayer.getPixelPosition(x,!0),N*=this.session.getRowLength(x.row)}this.$gutterLineHighlight.style.top=T.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=N+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var T=r.createElement("div");T.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",T.appendChild(this.$printMarginEl),this.content.insertBefore(T,this.content.firstChild)}var N=this.$printMarginEl.style;N.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",N.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var T=this.layerConfig,N=this.$cursorLayer.$pixelPos.top,x=this.$cursorLayer.$pixelPos.left,I=this.textarea.style,k=this.lineHeight;if((N-=T.offset)<0||N>T.height-k)return void(I.top=I.left="0");var $=this.characterWidth;if(this.$composition){var P=this.textarea.value.replace(/^\x01+/,"");$*=this.session.$getStringScreenWidth(P)[0]+2,k+=2}(x-=this.scrollLeft)>this.$size.scrollerWidth-$&&(x=this.$size.scrollerWidth-$),x+=this.gutterWidth,I.height=k+"px",I.width=$+"px",I.left=Math.min(x,this.$size.scrollerWidth-$)+"px",I.top=Math.min(N,this.$size.height-k)+"px"}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var T=this.layerConfig,N=T.lastRow;return this.session.documentToScreenRow(N,0)*T.lineHeight-this.session.getScrollTop()>T.height-T.lineHeight?N-1:N},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(T){this.$padding=T,this.$textLayer.setPadding(T),this.$cursorLayer.setPadding(T),this.$markerFront.setPadding(T),this.$markerBack.setPadding(T),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(T,N,x,I){var k=this.scrollMargin;k.top=0|T,k.bottom=0|N,k.right=0|I,k.left=0|x,k.v=k.top+k.bottom,k.h=k.left+k.right,k.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-k.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(T){this.setOption("hScrollBarAlwaysVisible",T)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(T){this.setOption("vScrollBarAlwaysVisible",T)},this.$updateScrollBarV=function(){var T=this.layerConfig.maxHeight,N=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&this.scrollTop>(T-=(N-this.lineHeight)*this.$scrollPastEnd)-N&&(T=this.scrollTop+N,this.scrollBarV.scrollTop=null),this.scrollBarV.setScrollHeight(T+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(T,N){if(this.$changes&&(T|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(T||N)){if(this.$size.$dirty)return this.$changes|=T,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender"),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var x=this.layerConfig;if(T&this.CHANGE_FULL||T&this.CHANGE_SIZE||T&this.CHANGE_TEXT||T&this.CHANGE_LINES||T&this.CHANGE_SCROLL||T&this.CHANGE_H_SCROLL){if(T|=this.$computeLayerConfig(),x.firstRow!=this.layerConfig.firstRow&&x.firstRowScreen==this.layerConfig.firstRowScreen){var I=this.scrollTop+(x.firstRow-this.layerConfig.firstRow)*this.lineHeight;I>0&&(this.scrollTop=I,T|=this.CHANGE_SCROLL,T|=this.$computeLayerConfig())}x=this.layerConfig,this.$updateScrollBarV(),T&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-x.offset+"px",this.content.style.marginTop=-x.offset+"px",this.content.style.width=x.width+2*this.$padding+"px",this.content.style.height=x.minHeight+"px"}return T&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),T&this.CHANGE_FULL?(this.$textLayer.update(x),this.$showGutter&&this.$gutterLayer.update(x),this.$markerBack.update(x),this.$markerFront.update(x),this.$cursorLayer.update(x),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender")):T&this.CHANGE_SCROLL?(T&this.CHANGE_TEXT||T&this.CHANGE_LINES?this.$textLayer.update(x):this.$textLayer.scrollLines(x),this.$showGutter&&this.$gutterLayer.update(x),this.$markerBack.update(x),this.$markerFront.update(x),this.$cursorLayer.update(x),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender")):(T&this.CHANGE_TEXT?(this.$textLayer.update(x),this.$showGutter&&this.$gutterLayer.update(x)):T&this.CHANGE_LINES?(this.$updateLines()||T&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(x):(T&this.CHANGE_TEXT||T&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(x),T&this.CHANGE_CURSOR&&(this.$cursorLayer.update(x),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),T&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(x),T&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(x),void this._signal("afterRender"))}this.$changes|=T},this.$autosize=function(){var T=this.session.getScreenLength()*this.lineHeight,N=this.$maxLines*this.lineHeight,x=Math.min(N,Math.max((this.$minLines||1)*this.lineHeight,T))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(x+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&x>this.$maxPixelHeight&&(x=this.$maxPixelHeight);var I=T>N;if(x!=this.desiredHeight||this.$size.height!=this.desiredHeight||I!=this.$vScroll){I!=this.$vScroll&&(this.$vScroll=I,this.scrollBarV.setVisible(I));var k=this.container.clientWidth;this.container.style.height=x+"px",this.$updateCachedSize(!0,this.$gutterWidth,k,x),this.desiredHeight=x,this._signal("autosize")}},this.$computeLayerConfig=function(){var T=this.session,N=this.$size,x=N.height<=2*this.lineHeight,k=this.session.getScreenLength()*this.lineHeight,$=this.$getLongestLine(),P=!x&&(this.$hScrollBarAlwaysVisible||N.scrollerWidth-$-2*this.$padding<0),V=this.$horizScroll!==P;V&&(this.$horizScroll=P,this.scrollBarH.setVisible(P));var U=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var X=this.scrollTop%this.lineHeight,ie=N.scrollerHeight+this.lineHeight,ee=!this.$maxLines&&this.$scrollPastEnd?(N.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;k+=ee;var ce=this.scrollMargin;this.session.setScrollTop(Math.max(-ce.top,Math.min(this.scrollTop,k-N.scrollerHeight+ce.bottom))),this.session.setScrollLeft(Math.max(-ce.left,Math.min(this.scrollLeft,$+2*this.$padding-N.scrollerWidth+ce.right)));var _e=!x&&(this.$vScrollBarAlwaysVisible||N.scrollerHeight-k+ee<0||this.scrollTop>ce.top),xe=U!==_e;xe&&(this.$vScroll=_e,this.scrollBarV.setVisible(_e));var ye,Ce,we=Math.ceil(ie/this.lineHeight)-1,Se=Math.max(0,Math.round((this.scrollTop-X)/this.lineHeight)),le=Se+we,ge=this.lineHeight;Se=T.screenToDocumentRow(Se,0);var se=T.getFoldLine(Se);se&&(Se=se.start.row),ye=T.documentToScreenRow(Se,0),Ce=T.getRowLength(Se)*ge,le=Math.min(T.screenToDocumentRow(le,0),T.getLength()-1),ie=N.scrollerHeight+T.getRowLength(le)*ge+Ce,X=this.scrollTop-ye*ge;var de=0;return this.layerConfig.width!=$&&(de=this.CHANGE_H_SCROLL),(V||xe)&&(de=this.$updateCachedSize(!0,this.gutterWidth,N.width,N.height),this._signal("scrollbarVisibilityChanged"),xe&&($=this.$getLongestLine())),this.layerConfig={width:$,padding:this.$padding,firstRow:Se,firstRowScreen:ye,lastRow:le,lineHeight:ge,characterWidth:this.characterWidth,minHeight:ie,maxHeight:k,offset:X,gutterOffset:ge?Math.max(0,Math.ceil((X+N.height-N.scrollerHeight)/ge)):0,height:this.$size.scrollerHeight},de},this.$updateLines=function(){if(this.$changedLines){var T=this.$changedLines.firstRow,N=this.$changedLines.lastRow;this.$changedLines=null;var x=this.layerConfig;if(!(T>x.lastRow+1||N<x.firstRow))return N===1/0?(this.$showGutter&&this.$gutterLayer.update(x),void this.$textLayer.update(x)):(this.$textLayer.updateLines(x,T,N),!0)}},this.$getLongestLine=function(){var T=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(T+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(T*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(T,N){this.$gutterLayer.addGutterDecoration(T,N)},this.removeGutterDecoration=function(T,N){this.$gutterLayer.removeGutterDecoration(T,N)},this.updateBreakpoints=function(T){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(T){this.$gutterLayer.setAnnotations(T),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(T,N,x){this.scrollCursorIntoView(T,x),this.scrollCursorIntoView(N,x)},this.scrollCursorIntoView=function(T,N,x){if(0!==this.$size.scrollerHeight){var I=this.$cursorLayer.getPixelPosition(T),k=I.left,$=I.top,P=x&&x.top||0,V=x&&x.bottom||0,U=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;U+P>$?(N&&U+P>$+this.lineHeight&&($-=N*this.$size.scrollerHeight),0===$&&($=-this.scrollMargin.top),this.session.setScrollTop($)):U+this.$size.scrollerHeight-V<$+this.lineHeight&&(N&&U+this.$size.scrollerHeight-V<$-this.lineHeight&&($+=N*this.$size.scrollerHeight),this.session.setScrollTop($+this.lineHeight-this.$size.scrollerHeight));var X=this.scrollLeft;X>k?(k<this.$padding+2*this.layerConfig.characterWidth&&(k=-this.scrollMargin.left),this.session.setScrollLeft(k)):X+this.$size.scrollerWidth<k+this.characterWidth?this.session.setScrollLeft(Math.round(k+this.characterWidth-this.$size.scrollerWidth)):X<=this.$padding&&k-X<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(T){this.session.setScrollTop(T*this.lineHeight)},this.alignCursor=function(T,N){"number"==typeof T&&(T={row:T,column:0});var k=this.$cursorLayer.getPixelPosition(T).top-(this.$size.scrollerHeight-this.lineHeight)*(N||0);return this.session.setScrollTop(k),k},this.STEPS=8,this.$calcSteps=function(T,N){var V,x=0,I=this.STEPS,k=[];for(x=0;x<I;++x)k.push((V=T,(N-T)*(Math.pow(x/this.STEPS-1,3)+1)+V));return k},this.scrollToLine=function(T,N,x,I){var $=this.$cursorLayer.getPixelPosition({row:T,column:0}).top;N&&($-=this.$size.scrollerHeight/2);var P=this.scrollTop;this.session.setScrollTop($),!1!==x&&this.animateScrolling(P,I)},this.animateScrolling=function(T,N){var x=this.scrollTop;if(this.$animatedScroll){var I=this;if(T!=x){if(this.$scrollAnimation){var k=this.$scrollAnimation.steps;if(k.length&&(T=k[0])==x)return}var $=I.$calcSteps(T,x);this.$scrollAnimation={from:T,to:x,steps:$},clearInterval(this.$timer),I.session.setScrollTop($.shift()),I.session.$scrollTop=x,this.$timer=setInterval(function(){$.length?(I.session.setScrollTop($.shift()),I.session.$scrollTop=x):null!=x?(I.session.$scrollTop=-1,I.session.setScrollTop(x),x=null):(I.$timer=clearInterval(I.$timer),I.$scrollAnimation=null,N&&N())},10)}}},this.scrollToY=function(T){this.scrollTop!==T&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=T)},this.scrollToX=function(T){this.scrollLeft!==T&&(this.scrollLeft=T),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(T,N){this.session.setScrollTop(N),this.session.setScrollLeft(N)},this.scrollBy=function(T,N){N&&this.session.setScrollTop(this.session.getScrollTop()+N),T&&this.session.setScrollLeft(this.session.getScrollLeft()+T)},this.isScrollableBy=function(T,N){if(N<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||N>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||T<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||T>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},this.pixelToScreenCoordinates=function(T,N){var x=this.scroller.getBoundingClientRect(),I=T+this.scrollLeft-x.left-this.$padding,k=I/this.characterWidth,$=Math.floor((N+this.scrollTop-x.top)/this.lineHeight),P=Math.round(k);return{row:$,column:P,side:k-P>0?1:-1,offsetX:I}},this.screenToTextCoordinates=function(T,N){var x=this.scroller.getBoundingClientRect(),I=T+this.scrollLeft-x.left-this.$padding,k=Math.round(I/this.characterWidth);return this.session.screenToDocumentPosition((N+this.scrollTop-x.top)/this.lineHeight,Math.max(k,0),I)},this.textToScreenCoordinates=function(T,N){var x=this.scroller.getBoundingClientRect(),I=this.session.documentToScreenPosition(T,N),k=this.$padding+(this.session.$bidiHandler.isBidiRow(I.row,T)?this.session.$bidiHandler.getPosLeft(I.column):Math.round(I.column*this.characterWidth));return{pageX:x.left+k-this.scrollLeft,pageY:x.top+I.row*this.lineHeight-this.scrollTop}},this.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},this.showComposition=function(T){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(T){this.$moveTextAreaToCursor()},this.hideComposition=function(){!this.$composition||(r.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(T,N){var x=this;function k($){if(x.$themeId!=T)return N&&N();if(!$||!$.cssClass)throw new Error("couldn't load module "+T+" or it didn't call define");r.importCssString($.cssText,$.cssClass,x.container.ownerDocument),x.theme&&r.removeCssClass(x.container,x.theme.cssClass);var P="padding"in $?$.padding:"padding"in(x.theme||{})?4:x.$padding;x.$padding&&P!=x.$padding&&x.setPadding(P),x.$theme=$.cssClass,x.theme=$,r.addCssClass(x.container,$.cssClass),r.setCssClass(x.container,"ace_dark",$.isDark),x.$size&&(x.$size.width=0,x.$updateSizeAsync()),x._dispatchEvent("themeLoaded",{theme:$}),N&&N()}this.$themeId=T,x._dispatchEvent("themeChange",{theme:T}),T&&"string"!=typeof T?k(T):F.loadModule(["theme",T||this.$options.theme.initialValue],k)},this.getTheme=function(){return this.$themeId},this.setStyle=function(T,N){r.setCssClass(this.container,T,!1!==N)},this.unsetStyle=function(T){r.removeCssClass(this.container,T)},this.setCursorStyle=function(T){this.scroller.style.cursor!=T&&(this.scroller.style.cursor=T)},this.setMouseCursor=function(T){this.scroller.style.cursor=T},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(M.prototype),F.defineOptions(M.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(T){this.$textLayer.setShowInvisibles(T)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(T){"number"==typeof T&&(this.$printMarginColumn=T),this.$showPrintMargin=!!T,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(T){this.$gutter.style.display=T?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(T){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",T)},initialValue:!1},showFoldWidgets:{set:function(T){this.$gutterLayer.setShowFoldWidgets(T)},initialValue:!0},showLineNumbers:{set:function(T){this.$gutterLayer.setShowLineNumbers(T),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(T){this.$textLayer.setDisplayIndentGuides(T)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(T){if(!this.$gutterLineHighlight)return this.$gutterLineHighlight=r.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight);this.$gutterLineHighlight.style.display=T?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(T){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(T){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(T){"number"==typeof T&&(T+="px"),this.container.style.fontSize=T,this.updateFontSize()},initialValue:12},fontFamily:{set:function(T){this.container.style.fontFamily=T,this.updateFontSize()}},maxLines:{set:function(T){this.updateFull()}},minLines:{set:function(T){this.updateFull()}},maxPixelHeight:{set:function(T){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(T){this.$scrollPastEnd!=(T=+T||0)&&(this.$scrollPastEnd=T,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(T){this.$gutterLayer.$fixedWidth=!!T,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(T){this.setTheme(T)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),W.VirtualRenderer=M}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(H,W,E){"use strict";var B=H("../lib/oop"),r=H("../lib/net"),F=H("../lib/event_emitter").EventEmitter,R=H("../config");function m(C,S){var g=function(C,S){var g=S.src;r.qualifyURL(C);try{return new Blob([g],{type:"application/javascript"})}catch(D){var A=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return A.append(g),A.getBlob("application/javascript")}}(C,S),A=(window.URL||window.webkitURL).createObjectURL(g);return new Worker(A)}var f=function(C,S,g,v,A){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),H.nameToUrl&&!H.toUrl&&(H.toUrl=H.nameToUrl),R.get("packaged")||!H.toUrl)v=v||R.moduleUrl(S.id,"worker");else{var D=this.$normalizePath;v=v||D(H.toUrl("ace/worker/worker.js",null,"_"));var M={};C.forEach(function(T){M[T]=D(H.toUrl(T,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}this.$worker=m(v,S),A&&this.send("importScripts",A),this.$worker.postMessage({init:!0,tlns:M,module:S.id,classname:g}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){B.implement(this,F),this.onMessage=function(C){var S=C.data;switch(S.type){case"event":this._signal(S.name,{data:S.data});break;case"call":var g=this.callbacks[S.id];g&&(g(S.data),delete this.callbacks[S.id]);break;case"error":this.reportError(S.data);break;case"log":window.console&&console.log&&console.log.apply(console,S.data)}},this.reportError=function(C){window.console&&console.error&&console.error(C)},this.$normalizePath=function(C){return r.qualifyURL(C)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(C,S){this.$worker.postMessage({command:C,args:S})},this.call=function(C,S,g){if(g){var v=this.callbackId++;this.callbacks[v]=g,S.push(v)}this.send(C,S)},this.emit=function(C,S){try{this.$worker.postMessage({event:C,data:{data:S.data}})}catch(g){console.error(g.stack)}},this.attachToDocument=function(C){this.$doc&&this.terminate(),this.$doc=C,this.call("setValue",[C.getValue()]),C.on("change",this.changeListener)},this.changeListener=function(C){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),this.deltaQueue.push(C.start,"insert"==C.action?C.lines:C.end)},this.$sendDeltaQueue=function(){var C=this.deltaQueue;!C||(this.deltaQueue=null,C.length>50&&C.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:C}))}}).call(f.prototype);var y=function(C,S,g){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var v=null,A=!1,D=Object.create(F),M=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(N){M.messageBuffer.push(N),v&&(A?setTimeout(T):T())},this.setEmitSync=function(N){A=N};var T=function(){var N=M.messageBuffer.shift();N.command?v[N.command].apply(v,N.args):N.event&&D._signal(N.event,N.data)};D.postMessage=function(N){M.onMessage({data:N})},D.callback=function(N,x){this.postMessage({type:"call",id:x,data:N})},D.emit=function(N,x){this.postMessage({type:"event",name:N,data:x})},R.loadModule(["worker",S],function(N){for(v=new N[g](D);M.messageBuffer.length;)T()})};y.prototype=f.prototype,W.UIWorkerClient=y,W.WorkerClient=f,W.createWorker=m}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(H,W,E){"use strict";var B=H("./range").Range,r=H("./lib/event_emitter").EventEmitter,F=H("./lib/oop"),R=function(_,m,f,y,C,S){var g=this;this.length=m,this.session=_,this.doc=_.getDocument(),this.mainClass=C,this.othersClass=S,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=y,this.$onCursorChange=function(){setTimeout(function(){g.onCursorChange()})},this.$pos=f;var v=_.getUndoManager().$undoStack||_.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=v.length,this.setup(),_.selection.on("changeCursor",this.$onCursorChange)};(function(){F.implement(this,r),this.setup=function(){var _=this,m=this.doc,f=this.session;this.selectionBefore=f.selection.toJSON(),f.selection.inMultiSelectMode&&f.selection.toSingleRange(),this.pos=m.createAnchor(this.$pos.row,this.$pos.column);var y=this.pos;y.$insertRight=!0,y.detach(),y.markerId=f.addMarker(new B(y.row,y.column,y.row,y.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(C){var S=m.createAnchor(C.row,C.column);S.$insertRight=!0,S.detach(),_.others.push(S)}),f.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var _=this.session,m=this;this.othersActive=!0,this.others.forEach(function(f){f.markerId=_.addMarker(new B(f.row,f.column,f.row,f.column+m.length),m.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var _=0;_<this.others.length;_++)this.session.removeMarker(this.others[_].markerId)}},this.onUpdate=function(_){if(this.$updating)return this.updateAnchors(_);var m=_;if(m.start.row===m.end.row&&m.start.row===this.pos.row){this.$updating=!0;var f="insert"===_.action?m.end.column-m.start.column:m.start.column-m.end.column,y=m.start.column>=this.pos.column&&m.start.column<=this.pos.column+this.length+1,C=m.start.column-this.pos.column;if(this.updateAnchors(_),y&&(this.length+=f),y&&!this.session.$fromUndo)if("insert"===_.action)for(var S=this.others.length-1;S>=0;S--)this.doc.insertMergedLines(v={row:(g=this.others[S]).row,column:g.column+C},_.lines);else if("remove"===_.action)for(S=this.others.length-1;S>=0;S--){var g,v;this.doc.remove(new B((v={row:(g=this.others[S]).row,column:g.column+C}).row,v.column,v.row,v.column-f))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(_){this.pos.onChange(_);for(var m=this.others.length;m--;)this.others[m].onChange(_);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var _=this,m=this.session,f=function(C,S){m.removeMarker(C.markerId),C.markerId=m.addMarker(new B(C.row,C.column,C.row,C.column+_.length),S,null,!1)};f(this.pos,this.mainClass);for(var y=this.others.length;y--;)f(this.others[y],this.othersClass)}},this.onCursorChange=function(_){if(!this.$updating&&this.session){var m=this.session.selection.getCursor();m.row===this.pos.row&&m.column>=this.pos.column&&m.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",_)):(this.hideOtherMarkers(),this._emit("cursorLeave",_))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var _=this.session.getUndoManager(),m=(_.$undoStack||_.$undostack).length-this.$undoStackDepth,f=0;f<m;f++)_.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(R.prototype),W.PlaceHolder=R}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(H,W,E){var B=H("../lib/event"),r=H("../lib/useragent");function F(_,m){return _.row==m.row&&_.column==m.column}W.onMouseDown=function(_){var m=_.domEvent,f=m.altKey,y=m.shiftKey,C=m.ctrlKey,S=_.getAccelKey(),g=_.getButton();if(C&&r.isMac&&(g=m.button),_.editor.inMultiSelectMode&&2==g)_.editor.textInput.onContextMenu(_.domEvent);else if(C||f||S){if(0===g){var U,v=_.editor,A=v.selection,D=v.inMultiSelectMode,M=_.getDocumentPosition(),T=A.getCursor(),N=_.inSelection()||A.isEmpty()&&F(M,T),x=_.x,I=_.y,$=v.session,P=v.renderer.pixelToScreenCoordinates(x,I),V=P;if(v.$mouseHandler.$enableJumpToDef)C&&f||S&&f?U=y?"block":"add":f&&v.$blockSelectEnabled&&(U="block");else if(S&&!f){if(U="add",!D&&y)return}else f&&v.$blockSelectEnabled&&(U="block");if(U&&r.isMac&&m.ctrlKey&&v.$mouseHandler.cancelContextMenu(),"add"==U){if(!D&&N)return;if(!D){var X=A.toOrientedRange();v.addSelectionMarker(X)}var ie=A.rangeList.rangeAtPoint(M);v.$blockScrolling++,v.inVirtualSelectionMode=!0,y&&(ie=null,v.removeSelectionMarker(X=A.ranges[0]||X)),v.once("mouseup",function(){var le=A.toOrientedRange();ie&&le.isEmpty()&&F(ie.cursor,le.cursor)?A.substractPoint(le.cursor):(y?A.substractPoint(X.cursor):X&&(v.removeSelectionMarker(X),A.addRange(X)),A.addRange(le)),v.$blockScrolling--,v.inVirtualSelectionMode=!1})}else if("block"==U){_.stop(),v.inVirtualSelectionMode=!0;var ee,ce=[];v.$blockScrolling++,D&&!S?A.toSingleRange():!D&&S&&(ee=A.toOrientedRange(),v.addSelectionMarker(ee)),y?P=$.documentToScreenPosition(A.lead):A.moveToPosition(M),v.$blockScrolling--,V={row:-1,column:-1};B.capture(v.container,function(le){x=le.clientX,I=le.clientY},function(le){clearInterval(Se),v.removeSelectionMarkers(ce),ce.length||(ce=[A.toOrientedRange()]),v.$blockScrolling++,ee&&(v.removeSelectionMarker(ee),A.toSingleRange(ee));for(var ye=0;ye<ce.length;ye++)A.addRange(ce[ye]);v.inVirtualSelectionMode=!1,v.$mouseHandler.$clickSelection=null,v.$blockScrolling--});var Se=setInterval(function(){var le,ye;le=v.renderer.pixelToScreenCoordinates(x,I),ye=$.screenToDocumentPosition(le.row,le.column,le.offsetX),F(V,le)&&F(ye,A.lead)||(V=le,v.$blockScrolling++,v.selection.moveToPosition(ye),v.renderer.scrollCursorIntoView(),v.removeSelectionMarkers(ce),ce=A.rectangularRangeBlock(V,P),v.$mouseHandler.$clickSelection&&1==ce.length&&ce[0].isEmpty()&&(ce[0]=v.$mouseHandler.$clickSelection.clone()),ce.forEach(v.addSelectionMarker,v),v.updateSelectionMarkers(),v.$blockScrolling--)},20);return _.preventDefault()}}}else 0===g&&_.editor.inMultiSelectMode&&_.editor.exitMultiSelectMode()}}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(H,W,E){W.defaultCommands=[{name:"addCursorAbove",exec:function(r){r.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(r){r.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(r){r.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(r){r.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(r){r.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(r){r.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(r){r.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(r){r.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(r){r.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(r){r.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(r){r.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],W.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(r){r.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(r){return r&&r.inMultiSelectMode}}];var B=H("../keyboard/hash_handler").HashHandler;W.keyboardHandler=new B(W.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(H,W,E){var B=H("./range_list").RangeList,r=H("./range").Range,F=H("./selection").Selection,R=H("./mouse/multi_select_handler").onMouseDown,_=H("./lib/event"),m=H("./lib/lang"),f=H("./commands/multi_select_commands");W.commands=f.defaultCommands.concat(f.multiSelectCommands);var C=new(0,H("./search").Search),g=H("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(g.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(T,N){if(T){if(!this.inMultiSelectMode&&0===this.rangeCount){var x=this.toOrientedRange();if(this.rangeList.add(x),this.rangeList.add(T),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),N||this.fromOrientedRange(T);this.rangeList.removeAll(),this.rangeList.add(x),this.$onAddRange(x)}T.cursor||(T.cursor=T.end);var I=this.rangeList.add(T);return this.$onAddRange(T),I.length&&this.$onRemoveRange(I),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),N||this.fromOrientedRange(T)}},this.toSingleRange=function(T){T=T||this.ranges[0];var N=this.rangeList.removeAll();N.length&&this.$onRemoveRange(N),T&&this.fromOrientedRange(T)},this.substractPoint=function(T){var N=this.rangeList.substractPoint(T);if(N)return this.$onRemoveRange(N),N[0]},this.mergeOverlappingRanges=function(){var T=this.rangeList.merge();T.length?this.$onRemoveRange(T):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(T){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(T),this._signal("addRange",{range:T})},this.$onRemoveRange=function(T){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var N=this.rangeList.ranges.pop();T.push(N),this.rangeCount=0}for(var x=T.length;x--;){var I=this.ranges.indexOf(T[x]);this.ranges.splice(I,1)}this._signal("removeRange",{ranges:T}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(N=N||this.ranges[0])&&!N.isEqual(this.getRange())&&this.fromOrientedRange(N)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new B,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var T=this.rangeList.ranges,N=T[T.length-1],x=r.fromPoints(T[0].start,N.end);this.toSingleRange(),this.setSelectionRange(x,N.cursor==N.start)}else{x=this.getRange();var I=this.isBackwards(),k=x.start.row,$=x.end.row;if(k==$){if(I)var P=x.end,V=x.start;else P=x.start,V=x.end;return this.addRange(r.fromPoints(V,V)),void this.addRange(r.fromPoints(P,P))}var U=[],X=this.getLineRange(k,!0);X.start.column=x.start.column,U.push(X);for(var ie=k+1;ie<$;ie++)U.push(this.getLineRange(ie,!0));(X=this.getLineRange($,!0)).end.column=x.end.column,U.push(X),U.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var T=this.rangeList.ranges,N=T[T.length-1],x=r.fromPoints(T[0].start,N.end);this.toSingleRange(),this.setSelectionRange(x,N.cursor==N.start)}else{var I=this.session.documentToScreenPosition(this.selectionLead),k=this.session.documentToScreenPosition(this.selectionAnchor);this.rectangularRangeBlock(I,k).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(T,N,x){var I=[],k=T.column<N.column;if(k)var $=T.column,P=N.column,V=T.offsetX,U=N.offsetX;else $=N.column,P=T.column,V=N.offsetX,U=T.offsetX;var X=T.row<N.row;if(X)var ie=T.row,ee=N.row;else ie=N.row,ee=T.row;$<0&&($=0),ie<0&&(ie=0),ie==ee&&(x=!0);for(var ce=ie;ce<=ee;ce++){var _e=r.fromPoints(this.session.screenToDocumentPosition(ce,$,V),this.session.screenToDocumentPosition(ce,P,U));if(_e.isEmpty()){if(xe&&A(_e.end,xe))break;var xe=_e.end}_e.cursor=k?_e.start:_e.end,I.push(_e)}if(X&&I.reverse(),!x){for(var we=I.length-1;I[we].isEmpty()&&we>0;)we--;if(we>0)for(var Se=0;I[Se].isEmpty();)Se++;for(var le=we;le>=Se;le--)I[le].isEmpty()&&I.splice(le,1)}return I}}.call(F.prototype);var v=H("./editor").Editor;function A(T,N){return T.row==N.row&&T.column==N.column}function D(T){T.$multiselectOnSessionChange||(T.$onAddRange=T.$onAddRange.bind(T),T.$onRemoveRange=T.$onRemoveRange.bind(T),T.$onMultiSelect=T.$onMultiSelect.bind(T),T.$onSingleSelect=T.$onSingleSelect.bind(T),T.$multiselectOnSessionChange=W.onSessionChange.bind(T),T.$checkMultiselectChange=T.$checkMultiselectChange.bind(T),T.$multiselectOnSessionChange(T),T.on("changeSession",T.$multiselectOnSessionChange),T.on("mousedown",R),T.commands.addCommands(f.defaultCommands),function(T){var N=T.textInput.getElement(),x=!1;function I(k){x&&(T.renderer.setMouseCursor(""),x=!1)}_.addListener(N,"keydown",function(k){T.$blockSelectEnabled&&18==k.keyCode&&!(k.ctrlKey||k.shiftKey||k.metaKey)?x||(T.renderer.setMouseCursor("crosshair"),x=!0):x&&I()}),_.addListener(N,"keyup",I),_.addListener(N,"blur",I)}(T))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(T){T.cursor||(T.cursor=T.end);var N=this.getSelectionStyle();return T.marker=this.session.addMarker(T,"ace_selection",N),this.session.$selectionMarkers.push(T),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,T},this.removeSelectionMarker=function(T){if(T.marker){this.session.removeMarker(T.marker);var N=this.session.$selectionMarkers.indexOf(T);-1!=N&&this.session.$selectionMarkers.splice(N,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(T){for(var N=this.session.$selectionMarkers,x=T.length;x--;){var I=T[x];if(I.marker){this.session.removeMarker(I.marker);var k=N.indexOf(I);-1!=k&&N.splice(k,1)}}this.session.selectionMarkerCount=N.length},this.$onAddRange=function(T){this.addSelectionMarker(T.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(T){this.removeSelectionMarkers(T.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(T){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(f.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(T){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(f.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(T){var N=T.command,x=T.editor;if(x.multiSelect){if(N.multiSelectAction)"forEach"==N.multiSelectAction?I=x.forEachSelection(N,T.args):"forEachLine"==N.multiSelectAction?I=x.forEachSelection(N,T.args,!0):"single"==N.multiSelectAction?(x.exitMultiSelectMode(),I=N.exec(x,T.args||{})):I=N.multiSelectAction(x,T.args||{});else{var I=N.exec(x,T.args||{});x.multiSelect.addRange(x.multiSelect.toOrientedRange()),x.multiSelect.mergeOverlappingRanges()}return I}},this.forEachSelection=function(T,N,x){if(!this.inVirtualSelectionMode){var X,k=1==x||x&&x.$byLines,$=this.session,P=this.selection,U=(x&&x.keepOrder?P:P.rangeList).ranges;if(!U.length)return T.exec?T.exec(this,N||{}):T(this,N||{});var ie=P._eventRegistry;P._eventRegistry={};var ee=new F($);this.inVirtualSelectionMode=!0;for(var ce=U.length;ce--;){if(k)for(;ce>0&&U[ce].start.row==U[ce-1].end.row;)ce--;ee.fromOrientedRange(U[ce]),ee.index=ce,this.selection=$.selection=ee;var _e=T.exec?T.exec(this,N||{}):T(this,N||{});!X&&void 0!==_e&&(X=_e),ee.toOrientedRange(U[ce])}ee.detach(),this.selection=$.selection=P,this.inVirtualSelectionMode=!1,P._eventRegistry=ie,P.mergeOverlappingRanges();var xe=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),xe&&xe.from==xe.to&&this.renderer.animateScrolling(xe.from),X}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var T="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var N=this.multiSelect.rangeList.ranges,x=[],I=0;I<N.length;I++)x.push(this.session.getTextRange(N[I]));var k=this.session.getDocument().getNewLineCharacter();(T=x.join(k)).length==(x.length-1)*k.length&&(T="")}else this.selection.isEmpty()||(T=this.session.getTextRange(this.getSelectionRange()));return T},this.$checkMultiselectChange=function(T,N){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var x=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&N==this.multiSelect.anchor)return;var I=N==this.multiSelect.anchor?x.cursor==x.start?x.end:x.start:x.cursor;(I.row!=N.row||this.session.$clipPositionToDocument(I.row,I.column).column!=N.column)&&this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(T,N,x){if((N=N||{}).needle=T||N.needle,null==N.needle){var I=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();N.needle=this.session.getTextRange(I)}this.$search.set(N);var k=this.$search.findAll(this.session);if(!k.length)return 0;this.$blockScrolling+=1;var $=this.multiSelect;x||$.toSingleRange(k[0]);for(var P=k.length;P--;)$.addRange(k[P],!0);return I&&$.rangeList.rangeAtPoint(I.start)&&$.addRange(I,!0),this.$blockScrolling-=1,k.length},this.selectMoreLines=function(T,N){var x=this.selection.toOrientedRange(),I=x.cursor==x.end,k=this.session.documentToScreenPosition(x.cursor);this.selection.$desiredColumn&&(k.column=this.selection.$desiredColumn);var U,$=this.session.screenToDocumentPosition(k.row+T,k.column);if(x.isEmpty())var V=$;else{var P=this.session.documentToScreenPosition(I?x.end:x.start);V=this.session.screenToDocumentPosition(P.row+T,P.column)}if(I?(U=r.fromPoints($,V)).cursor=U.start:(U=r.fromPoints(V,$)).cursor=U.end,U.desiredColumn=k.column,this.selection.inMultiSelectMode){if(N)var X=x.cursor}else this.selection.addRange(x);this.selection.addRange(U),X&&this.selection.substractPoint(X)},this.transposeSelections=function(T){for(var N=this.session,x=N.multiSelect,I=x.ranges,k=I.length;k--;)if(($=I[k]).isEmpty()){var P=N.getWordRange($.start.row,$.start.column);$.start.row=P.start.row,$.start.column=P.start.column,$.end.row=P.end.row,$.end.column=P.end.column}x.mergeOverlappingRanges();var V=[];for(k=I.length;k--;)V.unshift(N.getTextRange($=I[k]));for(T<0?V.unshift(V.pop()):V.push(V.shift()),k=I.length;k--;){var $;P=($=I[k]).clone(),N.replace($,V[k]),$.start.row=P.start.row,$.start.column=P.start.column}},this.selectMore=function(T,N,x){var I=this.session,$=I.multiSelect.toOrientedRange();if(!$.isEmpty()||(($=I.getWordRange($.start.row,$.start.column)).cursor=-1==T?$.start:$.end,this.multiSelect.addRange($),!x)){var P=I.getTextRange($),V=function(T,N,x){return C.$options.wrap=!0,C.$options.needle=N,C.$options.backwards=-1==x,C.find(T)}(I,P,T);V&&(V.cursor=-1==T?V.start:V.end,this.$blockScrolling+=1,this.session.unfold(V),this.multiSelect.addRange(V),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),N&&this.multiSelect.substractPoint($.cursor)}},this.alignCursors=function(){var T=this.session,N=T.multiSelect,x=N.ranges,I=-1,k=x.filter(function(we){if(we.cursor.row==I)return!0;I=we.cursor.row});if(x.length&&k.length!=x.length-1){k.forEach(function(we){N.substractPoint(we.cursor)});var ce=0,_e=1/0,xe=x.map(function(we){var Se=we.cursor,ye=T.getLine(Se.row).substr(Se.column).search(/\S/g);return-1==ye&&(ye=0),Se.column>ce&&(ce=Se.column),ye<_e&&(_e=ye),ye});x.forEach(function(we,Se){var le=we.cursor,ye=ce-le.column,Ce=xe[Se]-_e;ye>Ce?T.insert(le,m.stringRepeat(" ",ye-Ce)):T.remove(new r(le.row,le.column,le.row,le.column-ye+Ce)),we.start.column=we.end.column=ce,we.start.row=we.end.row=le.row,we.cursor=we.end}),N.fromOrientedRange(x[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var $=this.selection.getRange(),P=$.start.row,V=$.end.row,U=P==V;if(U){var ie,X=this.session.getLength();do{ie=this.session.getLine(V)}while(/[=:]/.test(ie)&&++V<X);do{ie=this.session.getLine(P)}while(/[=:]/.test(ie)&&--P>0);P<0&&(P=0),V>=X&&(V=X-1)}var ee=this.session.removeFullLines(P,V);ee=this.$reAlignText(ee,U),this.session.insert({row:P,column:0},ee.join("\n")+"\n"),U||($.start.column=0,$.end.column=ee[ee.length-1].length),this.selection.setRange($)}},this.$reAlignText=function(T,N){var k,$,P,x=!0,I=!0;return T.map(function(ee){var ce=ee.match(/(\s*)(.*?)(\s*)([=:].*)/);return ce?null==k?(k=ce[1].length,$=ce[2].length,P=ce[3].length,ce):(k+$+P!=ce[1].length+ce[2].length+ce[3].length&&(I=!1),k!=ce[1].length&&(x=!1),k>ce[1].length&&(k=ce[1].length),$<ce[2].length&&($=ce[2].length),P>ce[3].length&&(P=ce[3].length),ce):[ee]}).map(N?U:x?I?function(ee){return ee[2]?V(k+$-ee[2].length)+ee[2]+V(P)+ee[4].replace(/^([=:])\s+/,"$1 "):ee[0]}:U:function(ee){return ee[2]?V(k)+ee[2]+V(P)+ee[4].replace(/^([=:])\s+/,"$1 "):ee[0]});function V(ee){return m.stringRepeat(" ",ee)}function U(ee){return ee[2]?V(k)+ee[2]+V($-ee[2].length+P)+ee[4].replace(/^([=:])\s+/,"$1 "):ee[0]}}}).call(v.prototype),W.onSessionChange=function(T){var N=T.session;N&&!N.multiSelect&&(N.$selectionMarkers=[],N.selection.$initRangeList(),N.multiSelect=N.selection),this.multiSelect=N&&N.multiSelect;var x=T.oldSession;x&&(x.multiSelect.off("addRange",this.$onAddRange),x.multiSelect.off("removeRange",this.$onRemoveRange),x.multiSelect.off("multiSelect",this.$onMultiSelect),x.multiSelect.off("singleSelect",this.$onSingleSelect),x.multiSelect.lead.off("change",this.$checkMultiselectChange),x.multiSelect.anchor.off("change",this.$checkMultiselectChange)),N&&(N.multiSelect.on("addRange",this.$onAddRange),N.multiSelect.on("removeRange",this.$onRemoveRange),N.multiSelect.on("multiSelect",this.$onMultiSelect),N.multiSelect.on("singleSelect",this.$onSingleSelect),N.multiSelect.lead.on("change",this.$checkMultiselectChange),N.multiSelect.anchor.on("change",this.$checkMultiselectChange)),N&&this.inMultiSelectMode!=N.selection.inMultiSelectMode&&(N.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},W.MultiSelect=D,H("./config").defineOptions(v.prototype,"editor",{enableMultiselect:{set:function(T){D(this),T?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",R)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",R))},value:!0},enableBlockSelect:{set:function(T){this.$blockSelectEnabled=T},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(H,W,E){"use strict";var B=H("../../range").Range,r=W.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(F,R,_){var m=F.getLine(_);return this.foldingStartMarker.test(m)?"start":"markbeginend"==R&&this.foldingStopMarker&&this.foldingStopMarker.test(m)?"end":""},this.getFoldWidgetRange=function(F,R,_){return null},this.indentationBlock=function(F,R,_){var m=/\S/,f=F.getLine(R),y=f.search(m);if(-1!=y){for(var C=_||f.length,S=F.getLength(),g=R,v=R;++R<S;){var A=F.getLine(R).search(m);if(-1!=A){if(A<=y)break;v=R}}if(v>g){var D=F.getLine(v).length;return new B(g,C,v,D)}}},this.openingBracketBlock=function(F,R,_,m,f){var y={row:_,column:m+1},C=F.$findClosingBracket(R,y,f);if(C){var S=F.foldWidgets[C.row];return null==S&&(S=F.getFoldWidget(C.row)),"start"==S&&C.row>y.row&&(C.row--,C.column=F.getLine(C.row).length),B.fromPoints(y,C)}},this.closingBracketBlock=function(F,R,_,m,f){var y={row:_,column:m},C=F.$findOpeningBracket(R,y);if(C)return C.column++,y.column--,B.fromPoints(C,y)}}).call(r.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(H,W,E){"use strict";W.isDark=!1,W.cssClass="ace-tm",W.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',H("../lib/dom").importCssString(W.cssText,W.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(H,W,E){"use strict";H("./lib/oop");var r=H("./lib/dom");function R(_){this.session=_,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}H("./range"),function(){this.getRowLength=function(_){var m;return m=this.lineWidgets&&this.lineWidgets[_]&&this.lineWidgets[_].rowCount||0,this.$useWrapMode&&this.$wrapData[_]?this.$wrapData[_].length+1+m:1+m},this.$getWidgetScreenLength=function(){var _=0;return this.lineWidgets.forEach(function(m){m&&m.rowCount&&!m.hidden&&(_+=m.rowCount)}),_},this.$onChangeEditor=function(_){this.attach(_.editor)},this.attach=function(_){_&&_.widgetManager&&_.widgetManager!=this&&_.widgetManager.detach(),this.editor!=_&&(this.detach(),this.editor=_,_&&(_.widgetManager=this,_.renderer.on("beforeRender",this.measureWidgets),_.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(_){var m=this.editor;if(m){this.editor=null,m.widgetManager=null,m.renderer.off("beforeRender",this.measureWidgets),m.renderer.off("afterRender",this.renderWidgets);var f=this.session.lineWidgets;f&&f.forEach(function(y){y&&y.el&&y.el.parentNode&&(y._inDocument=!1,y.el.parentNode.removeChild(y.el))})}},this.updateOnFold=function(_,m){var f=m.lineWidgets;if(f&&_.action){for(var y=_.data,C=y.start.row,S=y.end.row,g="add"==_.action,v=C+1;v<S;v++)f[v]&&(f[v].hidden=g);f[S]&&(g?f[C]?f[S].hidden=g:f[C]=f[S]:(f[C]==f[S]&&(f[C]=void 0),f[S].hidden=g))}},this.updateOnChange=function(_){var m=this.session.lineWidgets;if(m){var f=_.start.row,y=_.end.row-f;if(0!==y)if("remove"==_.action)m.splice(f+1,y).forEach(function(g){g&&this.removeLineWidget(g)},this),this.$updateRows();else{var S=new Array(y);S.unshift(f,0),m.splice.apply(m,S),this.$updateRows()}}},this.$updateRows=function(){var _=this.session.lineWidgets;if(_){var m=!0;_.forEach(function(f,y){if(f)for(m=!1,f.row=y;f.$oldWidget;)f.$oldWidget.row=y,f=f.$oldWidget}),m&&(this.session.lineWidgets=null)}},this.addLineWidget=function(_){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var m=this.session.lineWidgets[_.row];m&&(_.$oldWidget=m,m.el&&m.el.parentNode&&(m.el.parentNode.removeChild(m.el),m._inDocument=!1)),this.session.lineWidgets[_.row]=_,_.session=this.session;var f=this.editor.renderer;_.html&&!_.el&&(_.el=r.createElement("div"),_.el.innerHTML=_.html),_.el&&(r.addCssClass(_.el,"ace_lineWidgetContainer"),_.el.style.position="absolute",_.el.style.zIndex=5,f.container.appendChild(_.el),_._inDocument=!0),_.coverGutter||(_.el.style.zIndex=3),null==_.pixelHeight&&(_.pixelHeight=_.el.offsetHeight),null==_.rowCount&&(_.rowCount=_.pixelHeight/f.layerConfig.lineHeight);var y=this.session.getFoldAt(_.row,0);if(_.$fold=y,y){var C=this.session.lineWidgets;_.row!=y.end.row||C[y.start.row]?_.hidden=!0:C[y.start.row]=_}return this.session._emit("changeFold",{data:{start:{row:_.row}}}),this.$updateRows(),this.renderWidgets(null,f),this.onWidgetChanged(_),_},this.removeLineWidget=function(_){if(_._inDocument=!1,_.session=null,_.el&&_.el.parentNode&&_.el.parentNode.removeChild(_.el),_.editor&&_.editor.destroy)try{_.editor.destroy()}catch(f){}if(this.session.lineWidgets){var m=this.session.lineWidgets[_.row];if(m==_)this.session.lineWidgets[_.row]=_.$oldWidget,_.$oldWidget&&this.onWidgetChanged(_.$oldWidget);else for(;m;){if(m.$oldWidget==_){m.$oldWidget=_.$oldWidget;break}m=m.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:_.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(_){for(var m=this.session.lineWidgets,f=m&&m[_],y=[];f;)y.push(f),f=f.$oldWidget;return y},this.onWidgetChanged=function(_){this.session._changedWidgets.push(_),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(_,m){var f=this.session._changedWidgets,y=m.layerConfig;if(f&&f.length){for(var C=1/0,S=0;S<f.length;S++){var g=f[S];if(g&&g.el&&g.session==this.session){if(!g._inDocument){if(this.session.lineWidgets[g.row]!=g)continue;g._inDocument=!0,m.container.appendChild(g.el)}g.h=g.el.offsetHeight,g.fixedWidth||(g.w=g.el.offsetWidth,g.screenWidth=Math.ceil(g.w/y.characterWidth));var v=g.h/y.lineHeight;g.coverLine&&(v-=this.session.getRowLineCount(g.row))<0&&(v=0),g.rowCount!=v&&(g.rowCount=v,g.row<C&&(C=g.row))}}C!=1/0&&(this.session._emit("changeFold",{data:{start:{row:C}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(_,m){var f=m.layerConfig,y=this.session.lineWidgets;if(y){for(var C=Math.min(this.firstRow,f.firstRow),S=Math.max(this.lastRow,f.lastRow,y.length);C>0&&!y[C];)C--;this.firstRow=f.firstRow,this.lastRow=f.lastRow,m.$cursorLayer.config=f;for(var g=C;g<=S;g++){var v=y[g];if(v&&v.el){if(v.hidden){v.el.style.top=-100-(v.pixelHeight||0)+"px";continue}v._inDocument||(v._inDocument=!0,m.container.appendChild(v.el));var A=m.$cursorLayer.getPixelPosition({row:g,column:0},!0).top;v.coverLine||(A+=f.lineHeight*this.session.getRowLineCount(v.row)),v.el.style.top=A-f.offset+"px";var D=v.coverGutter?0:m.gutterWidth;v.fixedWidth||(D-=m.scrollLeft),v.el.style.left=D+"px",v.fullWidth&&v.screenWidth&&(v.el.style.minWidth=f.width+2*f.padding+"px"),v.el.style.right=v.fixedWidth?m.scrollBar.getWidth()+"px":""}}}}}.call(R.prototype),W.LineWidgets=R}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(H,W,E){"use strict";var B=H("../line_widgets").LineWidgets,r=H("../lib/dom"),F=H("../range").Range;W.showErrorMarker=function(m,f){var y=m.session;y.widgetManager||(y.widgetManager=new B(y),y.widgetManager.attach(m));var C=m.getCursorPosition(),S=C.row,g=y.widgetManager.getWidgetsAtRow(S).filter(function(k){return"errorMarker"==k.type})[0];g?g.destroy():S-=f;var A,v=function(m,f,y){var C=m.getAnnotations().sort(F.comparePoints);if(C.length){var S=function(m,f,y){for(var C=0,S=m.length-1;C<=S;){var g=C+S>>1,v=y(f,m[g]);if(v>0)C=g+1;else{if(!(v<0))return g;S=g-1}}return-(C+1)}(C,{row:f,column:-1},F.comparePoints);S<0&&(S=-S-1),S>=C.length?S=y>0?0:C.length-1:0===S&&y<0&&(S=C.length-1);var g=C[S];if(g&&y){if(g.row===f){do{g=C[S+=y]}while(g&&g.row===f);if(!g)return C.slice()}var v=[];f=g.row;do{v[y<0?"unshift":"push"](g),g=C[S+=y]}while(g&&g.row==f);return v.length&&v}}}(y,S,f);if(v){var D=v[0];C.column=(D.pos&&"number"!=typeof D.column?D.pos.sc:D.column)||0,C.row=D.row,A=m.renderer.$gutterLayer.$annotations[C.row]}else{if(g)return;A={text:["Looks good!"],className:"ace_ok"}}m.session.unfold(C.row),m.selection.moveToPosition(C);var M={row:C.row,fixedWidth:!0,coverGutter:!0,el:r.createElement("div"),type:"errorMarker"},T=M.el.appendChild(r.createElement("div")),N=M.el.appendChild(r.createElement("div"));N.className="error_widget_arrow "+A.className;var x=m.renderer.$cursorLayer.getPixelPosition(C).left;N.style.left=x+m.renderer.gutterWidth-5+"px",M.el.className="error_widget_wrapper",T.className="error_widget "+A.className,T.innerHTML=A.text.join("<br>"),T.appendChild(r.createElement("div"));var I=function(k,$,P){if(0===$&&("esc"===P||"return"===P))return M.destroy(),{command:"null"}};M.destroy=function(){m.$mouseHandler.isMousePressed||(m.keyBinding.removeKeyboardHandler(I),y.widgetManager.removeLineWidget(M),m.off("changeSelection",M.destroy),m.off("changeSession",M.destroy),m.off("mouseup",M.destroy),m.off("change",M.destroy))},m.keyBinding.addKeyboardHandler(I),m.on("changeSelection",M.destroy),m.on("changeSession",M.destroy),m.on("mouseup",M.destroy),m.on("change",M.destroy),m.session.widgetManager.addLineWidget(M),M.el.onmousedown=m.focus.bind(m),m.renderer.scrollCursorIntoView(null,.5,{bottom:M.el.offsetHeight})},r.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(H,W,E){"use strict";H("./lib/fixoldbrowsers");var B=H("./lib/dom"),r=H("./lib/event"),F=H("./editor").Editor,R=H("./edit_session").EditSession,_=H("./undomanager").UndoManager,m=H("./virtual_renderer").VirtualRenderer;H("./worker/worker_client"),H("./keyboard/hash_handler"),H("./placeholder"),H("./multi_select"),H("./mode/folding/fold_mode"),H("./theme/textmate"),H("./ext/error_marker"),W.config=H("./config"),W.acequire=H,W.define=w.amdD,W.edit=function(f){if("string"==typeof f){var y=f;if(!(f=document.getElementById(y)))throw new Error("ace.edit can't find div #"+y)}if(f&&f.env&&f.env.editor instanceof F)return f.env.editor;var C="";if(f&&/input|textarea/i.test(f.tagName)){var S=f;C=S.value,f=B.createElement("pre"),S.parentNode.replaceChild(f,S)}else f&&(C=B.getInnerText(f),f.innerHTML="");var g=W.createEditSession(C),v=new F(new m(f));v.setSession(g);var A={document:g,editor:v,onResize:v.resize.bind(v,null)};return S&&(A.textarea=S),r.addListener(window,"resize",A.onResize),v.on("destroy",function(){r.removeListener(window,"resize",A.onResize),A.editor.container.env=null}),v.container.env=v.env=A,v},W.createEditSession=function(f,y){var C=new R(f,y);return C.setUndoManager(new _),C},W.EditSession=R,W.UndoManager=_,W.version="1.2.9"}),ace.acequire(["ace/ace"],function(H){for(var W in H&&(H.config.init(!0),H.define=ace.define),window.ace||(window.ace=H),H)H.hasOwnProperty(W)&&(window.ace[W]=H[W])}),Te.exports=window.ace.acequire("ace/ace")},1123:(Te,z,w)=>{ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(H,W,E){"use strict";var B=H("../lib/oop"),r=H("./text_highlight_rules").TextHighlightRules,F=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};B.inherits(F,r),W.JsonHighlightRules=F}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(H,W,E){"use strict";var B=H("../range").Range,r=function(){};(function(){this.checkOutdent=function(F,R){return!!/^\s+$/.test(F)&&/^\s*\}/.test(R)},this.autoOutdent=function(F,R){var m=F.getLine(R).match(/^(\s*\})/);if(!m)return 0;var f=m[1].length,y=F.findMatchingBracket({row:R,column:f});if(!y||y.row==R)return 0;var C=this.$getIndent(F.getLine(y.row));F.replace(new B(R,0,R,f-1),C)},this.$getIndent=function(F){return F.match(/^\s*/)[0]}}).call(r.prototype),W.MatchingBraceOutdent=r}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(H,W,E){"use strict";var B=H("../../lib/oop"),r=H("../../range").Range,F=H("./fold_mode").FoldMode,R=W.FoldMode=function(_){_&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+_.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+_.end)))};B.inherits(R,F),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(_,m,f){var y=_.getLine(f);if(this.singleLineBlockCommentRe.test(y)&&!this.startRegionRe.test(y)&&!this.tripleStarBlockCommentRe.test(y))return"";var C=this._getFoldWidgetBase(_,m,f);return!C&&this.startRegionRe.test(y)?"start":C},this.getFoldWidgetRange=function(_,m,f,y){var S,C=_.getLine(f);if(this.startRegionRe.test(C))return this.getCommentRegionBlock(_,C,f);if(S=C.match(this.foldingStartMarker)){var g=S.index;if(S[1])return this.openingBracketBlock(_,S[1],f,g);var v=_.getCommentFoldRange(f,g+S[0].length,1);return v&&!v.isMultiLine()&&(y?v=this.getSectionRange(_,f):"all"!=m&&(v=null)),v}return"markbegin"!==m&&(S=C.match(this.foldingStopMarker))?(g=S.index+S[0].length,S[1]?this.closingBracketBlock(_,S[1],f,g):_.getCommentFoldRange(f,g,-1)):void 0},this.getSectionRange=function(_,m){for(var f=_.getLine(m),y=f.search(/\S/),C=m,S=f.length,g=m+=1,v=_.getLength();++m<v;){var A=(f=_.getLine(m)).search(/\S/);if(-1!==A){if(y>A)break;var D=this.getFoldWidgetRange(_,"all",m);if(D){if(D.start.row<=C)break;if(D.isMultiLine())m=D.end.row;else if(y==A)break}g=m}}return new r(C,S,g,_.getLine(g).length)},this.getCommentRegionBlock=function(_,m,f){for(var y=m.search(/\s*$/),C=_.getLength(),S=f,g=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,v=1;++f<C;){m=_.getLine(f);var A=g.exec(m);if(A&&(A[1]?v--:v++,!v))break}if(f>S)return new r(S,y,f,m.length)}}.call(R.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(H,W,E){"use strict";var B=H("../lib/oop"),r=H("./text").Mode,F=H("./json_highlight_rules").JsonHighlightRules,R=H("./matching_brace_outdent").MatchingBraceOutdent,_=H("./behaviour/cstyle").CstyleBehaviour,m=H("./folding/cstyle").FoldMode,f=H("../worker/worker_client").WorkerClient,y=function(){this.HighlightRules=F,this.$outdent=new R,this.$behaviour=new _,this.foldingRules=new m};B.inherits(y,r),function(){this.getNextLineIndent=function(C,S,g){var v=this.$getIndent(S);return"start"==C&&S.match(/^.*[\{\(\[]\s*$/)&&(v+=g),v},this.checkOutdent=function(C,S,g){return this.$outdent.checkOutdent(S,g)},this.autoOutdent=function(C,S,g){this.$outdent.autoOutdent(S,g)},this.createWorker=function(C){var S=new f(["ace"],w(9),"JsonWorker");return S.attachToDocument(C.getDocument()),S.on("annotate",function(g){C.setAnnotations(g.data)}),S.on("terminate",function(){C.clearAnnotations()}),S},this.$id="ace/mode/json"}.call(y.prototype),W.Mode=y})},9:Te=>{Te.exports.id="ace/mode/json_worker",Te.exports.src='"no use strict";!function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}}(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/json/json_parse",["require","exports","module"],function(){"use strict";var at,ch,text,value,escapee={\'"\':\'"\',"\\\\":"\\\\","/":"/",b:"\\b",f:"\\f",n:"\\n",r:"\\r",t:"\t"},error=function(m){throw{name:"SyntaxError",message:m,at:at,text:text}},next=function(c){return c&&c!==ch&&error("Expected \'"+c+"\' instead of \'"+ch+"\'"),ch=text.charAt(at),at+=1,ch},number=function(){var number,string="";for("-"===ch&&(string="-",next("-"));ch>="0"&&"9">=ch;)string+=ch,next();if("."===ch)for(string+=".";next()&&ch>="0"&&"9">=ch;)string+=ch;if("e"===ch||"E"===ch)for(string+=ch,next(),("-"===ch||"+"===ch)&&(string+=ch,next());ch>="0"&&"9">=ch;)string+=ch,next();return number=+string,isNaN(number)?(error("Bad number"),void 0):number},string=function(){var hex,i,uffff,string="";if(\'"\'===ch)for(;next();){if(\'"\'===ch)return next(),string;if("\\\\"===ch)if(next(),"u"===ch){for(uffff=0,i=0;4>i&&(hex=parseInt(next(),16),isFinite(hex));i+=1)uffff=16*uffff+hex;string+=String.fromCharCode(uffff)}else{if("string"!=typeof escapee[ch])break;string+=escapee[ch]}else string+=ch}error("Bad string")},white=function(){for(;ch&&" ">=ch;)next()},word=function(){switch(ch){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error("Unexpected \'"+ch+"\'")},array=function(){var array=[];if("["===ch){if(next("["),white(),"]"===ch)return next("]"),array;for(;ch;){if(array.push(value()),white(),"]"===ch)return next("]"),array;next(","),white()}}error("Bad array")},object=function(){var key,object={};if("{"===ch){if(next("{"),white(),"}"===ch)return next("}"),object;for(;ch;){if(key=string(),white(),next(":"),Object.hasOwnProperty.call(object,key)&&error(\'Duplicate key "\'+key+\'"\'),object[key]=value(),white(),"}"===ch)return next("}"),object;next(","),white()}}error("Bad object")};return value=function(){switch(white(),ch){case"{":return object();case"[":return array();case\'"\':return string();case"-":return number();default:return ch>="0"&&"9">=ch?number():word()}},function(source,reviver){var result;return text=source,at=0,ch=" ",result=value(),white(),ch&&error("Syntax error"),"function"==typeof reviver?function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}({"":result},""):result}}),ace.define("ace/mode/json_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/json/json_parse"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),Mirror=acequire("../worker/mirror").Mirror,parse=acequire("./json/json_parse"),JsonWorker=exports.JsonWorker=function(sender){Mirror.call(this,sender),this.setTimeout(200)};oop.inherits(JsonWorker,Mirror),function(){this.onUpdate=function(){var value=this.doc.getValue(),errors=[];try{value&&parse(value)}catch(e){var pos=this.doc.indexToPosition(e.at-1);errors.push({row:pos.row,column:pos.column,text:e.message,type:"error"})}this.sender.emit("annotate",errors)}}.call(JsonWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0\n}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'},3556:Te=>{var z=Array.prototype.slice;function w(m){var f=this,y=z.call(arguments,1);return new Promise(function(C,S){if("function"==typeof m&&(m=m.apply(f,y)),!m||"function"!=typeof m.next)return C(m);function g(D){var M;try{M=m.next(D)}catch(T){return S(T)}A(M)}function v(D){var M;try{M=m.throw(D)}catch(T){return S(T)}A(M)}function A(D){if(D.done)return C(D.value);var M=H.call(f,D.value);return M&&r(M)?M.then(g,v):v(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(D.value)+'"'))}g()})}function H(m){return!m||r(m)?m:function(m){var f=m.constructor;return!!f&&("GeneratorFunction"===f.name||"GeneratorFunction"===f.displayName||F(f.prototype))}(m)||F(m)?w.call(this,m):"function"==typeof m?W.call(this,m):Array.isArray(m)?E.call(this,m):function(m){return Object==m.constructor}(m)?B.call(this,m):m}function W(m){var f=this;return new Promise(function(y,C){m.call(f,function(S,g){if(S)return C(S);arguments.length>2&&(g=z.call(arguments,1)),y(g)})})}function E(m){return Promise.all(m.map(H,this))}function B(m){for(var f=new m.constructor,y=Object.keys(m),C=[],S=0;S<y.length;S++){var g=y[S],v=H.call(this,m[g]);v&&r(v)?A(v,g):f[g]=m[g]}return Promise.all(C).then(function(){return f});function A(D,M){f[M]=void 0,C.push(D.then(function(T){f[M]=T}))}}function r(m){return"function"==typeof m.then}function F(m){return"function"==typeof m.next&&"function"==typeof m.throw}Te.exports=w.default=w.co=w,w.wrap=function(m){return f.__generatorFunction__=m,f;function f(){return w.call(this,m.apply(this,arguments))}}},5454:Te=>{"use strict";Te.exports=function(z,w){w||(w={}),"function"==typeof w&&(w={cmp:w});var B,H="boolean"==typeof w.cycles&&w.cycles,W=w.cmp&&(B=w.cmp,function(r){return function(F,R){return B({key:F,value:r[F]},{key:R,value:r[R]})}}),E=[];return function B(r){if(r&&r.toJSON&&"function"==typeof r.toJSON&&(r=r.toJSON()),void 0!==r){if("number"==typeof r)return isFinite(r)?""+r:"null";if("object"!=typeof r)return JSON.stringify(r);var F,R;if(Array.isArray(r)){for(R="[",F=0;F<r.length;F++)F&&(R+=","),R+=B(r[F])||"null";return R+"]"}if(null===r)return"null";if(-1!==E.indexOf(r)){if(H)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var _=E.push(r)-1,m=Object.keys(r).sort(W&&W(r));for(R="",F=0;F<m.length;F++){var f=m[F],y=B(r[f]);!y||(R&&(R+=","),R+=JSON.stringify(f)+":"+y)}return E.splice(_,1),"{"+R+"}"}}(z)}},1791:Te=>{try{Te.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(z){Te.exports=!1}},8324:Te=>{Te.exports=function z(w,H){"use strict";var g,v,W=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,E=/(^[ ]*|[ ]*$)/g,B=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,r=/^0x[0-9a-f]+$/i,F=/^0/,R=function(M){return z.insensitive&&(""+M).toLowerCase()||""+M},_=R(w).replace(E,"")||"",m=R(H).replace(E,"")||"",f=_.replace(W,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),y=m.replace(W,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),C=parseInt(_.match(r),16)||1!==f.length&&_.match(B)&&Date.parse(_),S=parseInt(m.match(r),16)||C&&m.match(B)&&Date.parse(m)||null;if(S){if(C<S)return-1;if(C>S)return 1}for(var A=0,D=Math.max(f.length,y.length);A<D;A++){if(g=!(f[A]||"").match(F)&&parseFloat(f[A])||f[A]||0,v=!(y[A]||"").match(F)&&parseFloat(y[A])||y[A]||0,isNaN(g)!==isNaN(v))return isNaN(g)?1:-1;if(typeof g!=typeof v&&(g+="",v+=""),g<v)return-1;if(g>v)return 1}return 0}},9500:(Te,z)=>{!function(w){"use strict";function H(ne){return null!==ne&&"[object Array]"===Object.prototype.toString.call(ne)}function W(ne){return null!==ne&&"[object Object]"===Object.prototype.toString.call(ne)}function E(ne,ve){if(ne===ve)return!0;if(Object.prototype.toString.call(ne)!==Object.prototype.toString.call(ve))return!1;if(!0===H(ne)){if(ne.length!==ve.length)return!1;for(var Le=0;Le<ne.length;Le++)if(!1===E(ne[Le],ve[Le]))return!1;return!0}if(!0===W(ne)){var ae={};for(var ze in ne)if(hasOwnProperty.call(ne,ze)){if(!1===E(ne[ze],ve[ze]))return!1;ae[ze]=!0}for(var at in ve)if(hasOwnProperty.call(ve,at)&&!0!==ae[at])return!1;return!0}return!1}function B(ne){if(""===ne||!1===ne||null===ne)return!0;if(H(ne)&&0===ne.length)return!0;if(W(ne)){for(var ve in ne)if(ne.hasOwnProperty(ve))return!1;return!0}return!1}var R;R="function"==typeof String.prototype.trimLeft?function(ne){return ne.trimLeft()}:function(ne){return ne.match(/^\s*(.*)/)[1]};var _=0,f=2,M="EOF",T="UnquotedIdentifier",N="QuotedIdentifier",x="Rbracket",I="Rparen",k="Comma",$="Colon",P="Rbrace",V="Number",U="Current",X="Expref",ie="Pipe",Ce="Flatten",ge="Star",se="Filter",de="Dot",Re="Lbrace",te="Lbracket",he="Lparen",Fe="Literal",Ie={".":de,"*":ge,",":k,":":$,"{":Re,"}":P,"]":x,"(":he,")":I,"@":U},Me={"<":!0,">":!0,"=":!0,"!":!0},Ne={" ":!0,"\t":!0,"\n":!0};function De(ne){return ne>="a"&&ne<="z"||ne>="A"&&ne<="Z"||"_"===ne}function ke(ne){return ne>="0"&&ne<="9"||"-"===ne}function Ye(ne){return ne>="a"&&ne<="z"||ne>="A"&&ne<="Z"||ne>="0"&&ne<="9"||"_"===ne}function rt(){}rt.prototype={tokenize:function(ne){var Ee,Le,ae,ve=[];for(this._current=0;this._current<ne.length;)if(De(ne[this._current]))Ee=this._current,Le=this._consumeUnquotedIdentifier(ne),ve.push({type:T,value:Le,start:Ee});else if(void 0!==Ie[ne[this._current]])ve.push({type:Ie[ne[this._current]],value:ne[this._current],start:this._current}),this._current++;else if(ke(ne[this._current]))ae=this._consumeNumber(ne),ve.push(ae);else if("["===ne[this._current])ae=this._consumeLBracket(ne),ve.push(ae);else if('"'===ne[this._current])Ee=this._current,Le=this._consumeQuotedIdentifier(ne),ve.push({type:N,value:Le,start:Ee});else if("'"===ne[this._current])Ee=this._current,Le=this._consumeRawStringLiteral(ne),ve.push({type:Fe,value:Le,start:Ee});else if("`"===ne[this._current]){Ee=this._current;var ze=this._consumeLiteral(ne);ve.push({type:Fe,value:ze,start:Ee})}else if(void 0!==Me[ne[this._current]])ve.push(this._consumeOperator(ne));else if(void 0!==Ne[ne[this._current]])this._current++;else if("&"===ne[this._current])Ee=this._current,this._current++,"&"===ne[this._current]?(this._current++,ve.push({type:"And",value:"&&",start:Ee})):ve.push({type:X,value:"&",start:Ee});else{if("|"!==ne[this._current]){var at=new Error("Unknown character:"+ne[this._current]);throw at.name="LexerError",at}Ee=this._current,this._current++,"|"===ne[this._current]?(this._current++,ve.push({type:"Or",value:"||",start:Ee})):ve.push({type:ie,value:"|",start:Ee})}return ve},_consumeUnquotedIdentifier:function(ne){var ve=this._current;for(this._current++;this._current<ne.length&&Ye(ne[this._current]);)this._current++;return ne.slice(ve,this._current)},_consumeQuotedIdentifier:function(ne){var ve=this._current;this._current++;for(var Ee=ne.length;'"'!==ne[this._current]&&this._current<Ee;){var Le=this._current;"\\"!==ne[Le]||"\\"!==ne[Le+1]&&'"'!==ne[Le+1]?Le++:Le+=2,this._current=Le}return this._current++,JSON.parse(ne.slice(ve,this._current))},_consumeRawStringLiteral:function(ne){var ve=this._current;this._current++;for(var Ee=ne.length;"'"!==ne[this._current]&&this._current<Ee;){var Le=this._current;"\\"!==ne[Le]||"\\"!==ne[Le+1]&&"'"!==ne[Le+1]?Le++:Le+=2,this._current=Le}return this._current++,ne.slice(ve+1,this._current-1).replace("\\'","'")},_consumeNumber:function(ne){var ve=this._current;this._current++;for(var Ee=ne.length;ke(ne[this._current])&&this._current<Ee;)this._current++;var Le=parseInt(ne.slice(ve,this._current));return{type:V,value:Le,start:ve}},_consumeLBracket:function(ne){var ve=this._current;return this._current++,"?"===ne[this._current]?(this._current++,{type:se,value:"[?",start:ve}):"]"===ne[this._current]?(this._current++,{type:Ce,value:"[]",start:ve}):{type:te,value:"[",start:ve}},_consumeOperator:function(ne){var ve=this._current,Ee=ne[ve];return this._current++,"!"===Ee?"="===ne[this._current]?(this._current++,{type:"NE",value:"!=",start:ve}):{type:"Not",value:"!",start:ve}:"<"===Ee?"="===ne[this._current]?(this._current++,{type:"LTE",value:"<=",start:ve}):{type:"LT",value:"<",start:ve}:">"===Ee?"="===ne[this._current]?(this._current++,{type:"GTE",value:">=",start:ve}):{type:"GT",value:">",start:ve}:"="===Ee&&"="===ne[this._current]?(this._current++,{type:"EQ",value:"==",start:ve}):void 0},_consumeLiteral:function(ne){this._current++;for(var Le,ve=this._current,Ee=ne.length;"`"!==ne[this._current]&&this._current<Ee;){var ae=this._current;"\\"!==ne[ae]||"\\"!==ne[ae+1]&&"`"!==ne[ae+1]?ae++:ae+=2,this._current=ae}var ze=R(ne.slice(ve,this._current));return ze=ze.replace("\\`","`"),Le=this._looksLikeJSON(ze)?JSON.parse(ze):JSON.parse('"'+ze+'"'),this._current++,Le},_looksLikeJSON:function(ne){if(""===ne)return!1;if('[{"'.indexOf(ne[0])>=0)return!0;if(["true","false","null"].indexOf(ne)>=0)return!0;if(!("-0123456789".indexOf(ne[0])>=0))return!1;try{return JSON.parse(ne),!0}catch(ae){return!1}}};var be={};function Xe(){}function je(ne){this.runtime=ne}function Q(ne){this._interpreter=ne,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[_]}]},avg:{_func:this._functionAvg,_signature:[{types:[8]}]},ceil:{_func:this._functionCeil,_signature:[{types:[_]}]},contains:{_func:this._functionContains,_signature:[{types:[f,3]},{types:[1]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[f]},{types:[f]}]},floor:{_func:this._functionFloor,_signature:[{types:[_]}]},length:{_func:this._functionLength,_signature:[{types:[f,3,4]}]},map:{_func:this._functionMap,_signature:[{types:[6]},{types:[3]}]},max:{_func:this._functionMax,_signature:[{types:[8,9]}]},merge:{_func:this._functionMerge,_signature:[{types:[4],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[3]},{types:[6]}]},sum:{_func:this._functionSum,_signature:[{types:[8]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[f]},{types:[f]}]},min:{_func:this._functionMin,_signature:[{types:[8,9]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[3]},{types:[6]}]},type:{_func:this._functionType,_signature:[{types:[1]}]},keys:{_func:this._functionKeys,_signature:[{types:[4]}]},values:{_func:this._functionValues,_signature:[{types:[4]}]},sort:{_func:this._functionSort,_signature:[{types:[9,8]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[3]},{types:[6]}]},join:{_func:this._functionJoin,_signature:[{types:[f]},{types:[9]}]},reverse:{_func:this._functionReverse,_signature:[{types:[f,3]}]},to_array:{_func:this._functionToArray,_signature:[{types:[1]}]},to_string:{_func:this._functionToString,_signature:[{types:[1]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[1]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[1],variadic:!0}]}}}be[M]=0,be[T]=0,be[N]=0,be[x]=0,be[I]=0,be[k]=0,be[P]=0,be[V]=0,be[U]=0,be[X]=0,be[ie]=1,be.Or=2,be.And=3,be.EQ=5,be.GT=5,be.LT=5,be.GTE=5,be.LTE=5,be.NE=5,be[Ce]=9,be[ge]=20,be[se]=21,be.Dot=40,be.Not=45,be[Re]=50,be[te]=55,be[he]=60,Xe.prototype={parse:function(ne){this._loadTokens(ne),this.index=0;var ve=this.expression(0);if(this._lookahead(0)!==M){var Ee=this._lookaheadToken(0),Le=new Error("Unexpected token type: "+Ee.type+", value: "+Ee.value);throw Le.name="ParserError",Le}return ve},_loadTokens:function(ne){var Ee=(new rt).tokenize(ne);Ee.push({type:M,value:"",start:ne.length}),this.tokens=Ee},expression:function(ne){var ve=this._lookaheadToken(0);this._advance();for(var Ee=this.nud(ve),Le=this._lookahead(0);ne<be[Le];)this._advance(),Ee=this.led(Le,Ee),Le=this._lookahead(0);return Ee},_lookahead:function(ne){return this.tokens[this.index+ne].type},_lookaheadToken:function(ne){return this.tokens[this.index+ne]},_advance:function(){this.index++},nud:function(ne){var Ee,Le;switch(ne.type){case Fe:return{type:"Literal",value:ne.value};case T:return{type:"Field",name:ne.value};case N:var ae={type:"Field",name:ne.value};if(this._lookahead(0)===he)throw new Error("Quoted identifier not allowed for function names.");return ae;case"Not":return{type:"NotExpression",children:[Ee=this.expression(be.Not)]};case ge:return Ee=null,{type:"ValueProjection",children:[{type:"Identity"},Ee=this._lookahead(0)===x?{type:"Identity"}:this._parseProjectionRHS(be.Star)]};case se:return this.led(ne.type,{type:"Identity"});case Re:return this._parseMultiselectHash();case Ce:return{type:"Projection",children:[{type:Ce,children:[{type:"Identity"}]},Ee=this._parseProjectionRHS(be.Flatten)]};case te:return this._lookahead(0)===V||this._lookahead(0)===$?(Ee=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},Ee)):this._lookahead(0)===ge&&this._lookahead(1)===x?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},Ee=this._parseProjectionRHS(be.Star)]}):this._parseMultiselectList();case U:return{type:U};case X:return{type:"ExpressionReference",children:[Le=this.expression(be.Expref)]};case he:for(var ze=[];this._lookahead(0)!==I;)this._lookahead(0)===U?(Le={type:U},this._advance()):Le=this.expression(0),ze.push(Le);return this._match(I),ze[0];default:this._errorToken(ne)}},led:function(ne,ve){var Ee;switch(ne){case de:var Le=be.Dot;return this._lookahead(0)!==ge?{type:"Subexpression",children:[ve,Ee=this._parseDotRHS(Le)]}:(this._advance(),{type:"ValueProjection",children:[ve,Ee=this._parseProjectionRHS(Le)]});case ie:return Ee=this.expression(be.Pipe),{type:ie,children:[ve,Ee]};case"Or":return{type:"OrExpression",children:[ve,Ee=this.expression(be.Or)]};case"And":return{type:"AndExpression",children:[ve,Ee=this.expression(be.And)]};case he:for(var at,ae=ve.name,ze=[];this._lookahead(0)!==I;)this._lookahead(0)===U?(at={type:U},this._advance()):at=this.expression(0),this._lookahead(0)===k&&this._match(k),ze.push(at);return this._match(I),{type:"Function",name:ae,children:ze};case se:var lt=this.expression(0);return this._match(x),{type:"FilterProjection",children:[ve,Ee=this._lookahead(0)===Ce?{type:"Identity"}:this._parseProjectionRHS(be.Filter),lt]};case Ce:return{type:"Projection",children:[{type:Ce,children:[ve]},this._parseProjectionRHS(be.Flatten)]};case"EQ":case"NE":case"GT":case"GTE":case"LT":case"LTE":return this._parseComparator(ve,ne);case te:var Qe=this._lookaheadToken(0);return Qe.type===V||Qe.type===$?(Ee=this._parseIndexExpression(),this._projectIfSlice(ve,Ee)):(this._match(ge),this._match(x),{type:"Projection",children:[ve,Ee=this._parseProjectionRHS(be.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(ne){if(this._lookahead(0)!==ne){var ve=this._lookaheadToken(0),Ee=new Error("Expected "+ne+", got: "+ve.type);throw Ee.name="ParserError",Ee}this._advance()},_errorToken:function(ne){var ve=new Error("Invalid token ("+ne.type+'): "'+ne.value+'"');throw ve.name="ParserError",ve},_parseIndexExpression:function(){if(this._lookahead(0)===$||this._lookahead(1)===$)return this._parseSliceExpression();var ne={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(x),ne},_projectIfSlice:function(ne,ve){var Ee={type:"IndexExpression",children:[ne,ve]};return"Slice"===ve.type?{type:"Projection",children:[Ee,this._parseProjectionRHS(be.Star)]}:Ee},_parseSliceExpression:function(){for(var ne=[null,null,null],ve=0,Ee=this._lookahead(0);Ee!==x&&ve<3;){if(Ee===$)ve++,this._advance();else{if(Ee!==V){var Le=this._lookahead(0),ae=new Error("Syntax error, unexpected token: "+Le.value+"("+Le.type+")");throw ae.name="Parsererror",ae}ne[ve]=this._lookaheadToken(0).value,this._advance()}Ee=this._lookahead(0)}return this._match(x),{type:"Slice",children:ne}},_parseComparator:function(ne,ve){return{type:"Comparator",name:ve,children:[ne,this.expression(be[ve])]}},_parseDotRHS:function(ne){var ve=this._lookahead(0);return[T,N,ge].indexOf(ve)>=0?this.expression(ne):ve===te?(this._match(te),this._parseMultiselectList()):ve===Re?(this._match(Re),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(ne){var ve;if(be[this._lookahead(0)]<10)ve={type:"Identity"};else if(this._lookahead(0)===te)ve=this.expression(ne);else if(this._lookahead(0)===se)ve=this.expression(ne);else{if(this._lookahead(0)!==de){var Ee=this._lookaheadToken(0),Le=new Error("Sytanx error, unexpected token: "+Ee.value+"("+Ee.type+")");throw Le.name="ParserError",Le}this._match(de),ve=this._parseDotRHS(ne)}return ve},_parseMultiselectList:function(){for(var ne=[];this._lookahead(0)!==x;){var ve=this.expression(0);if(ne.push(ve),this._lookahead(0)===k&&(this._match(k),this._lookahead(0)===x))throw new Error("Unexpected token Rbracket")}return this._match(x),{type:"MultiSelectList",children:ne}},_parseMultiselectHash:function(){for(var Ee,Le,ae,ne=[],ve=[T,N];;){if(Ee=this._lookaheadToken(0),ve.indexOf(Ee.type)<0)throw new Error("Expecting an identifier token, got: "+Ee.type);if(Le=Ee.value,this._advance(),this._match($),ae=this.expression(0),ne.push({type:"KeyValuePair",name:Le,value:ae}),this._lookahead(0)===k)this._match(k);else if(this._lookahead(0)===P){this._match(P);break}}return{type:"MultiSelectHash",children:ne}}},je.prototype={search:function(ne,ve){return this.visit(ne,ve)},visit:function(ne,ve){var Ee,Le,ae,ze,at,vt,lt,It,Qe;switch(ne.type){case"Field":return null===ve?null:W(ve)?void 0===(vt=ve[ne.name])?null:vt:null;case"Subexpression":for(ae=this.visit(ne.children[0],ve),Qe=1;Qe<ne.children.length;Qe++)if(null===(ae=this.visit(ne.children[1],ae)))return null;return ae;case"IndexExpression":case ie:return lt=this.visit(ne.children[0],ve),this.visit(ne.children[1],lt);case"Index":if(!H(ve))return null;var Ht=ne.value;return Ht<0&&(Ht=ve.length+Ht),void 0===(ae=ve[Ht])&&(ae=null),ae;case"Slice":if(!H(ve))return null;var Fr=ne.children.slice(0),Rn=this.computeSliceParams(ve.length,Fr),Ms=Rn[0],al=Rn[1],zt=Rn[2];if(ae=[],zt>0)for(Qe=Ms;Qe<al;Qe+=zt)ae.push(ve[Qe]);else for(Qe=Ms;Qe>al;Qe+=zt)ae.push(ve[Qe]);return ae;case"Projection":var Qt=this.visit(ne.children[0],ve);if(!H(Qt))return null;for(It=[],Qe=0;Qe<Qt.length;Qe++)null!==(Le=this.visit(ne.children[1],Qt[Qe]))&&It.push(Le);return It;case"ValueProjection":if(!W(Qt=this.visit(ne.children[0],ve)))return null;It=[];var Si=function(ne){for(var ve=Object.keys(ne),Ee=[],Le=0;Le<ve.length;Le++)Ee.push(ne[ve[Le]]);return Ee}(Qt);for(Qe=0;Qe<Si.length;Qe++)null!==(Le=this.visit(ne.children[1],Si[Qe]))&&It.push(Le);return It;case"FilterProjection":if(!H(Qt=this.visit(ne.children[0],ve)))return null;var Dn=[],hn=[];for(Qe=0;Qe<Qt.length;Qe++)B(Ee=this.visit(ne.children[2],Qt[Qe]))||Dn.push(Qt[Qe]);for(var ii=0;ii<Dn.length;ii++)null!==(Le=this.visit(ne.children[1],Dn[ii]))&&hn.push(Le);return hn;case"Comparator":switch(ze=this.visit(ne.children[0],ve),at=this.visit(ne.children[1],ve),ne.name){case"EQ":ae=E(ze,at);break;case"NE":ae=!E(ze,at);break;case"GT":ae=ze>at;break;case"GTE":ae=ze>=at;break;case"LT":ae=ze<at;break;case"LTE":ae=ze<=at;break;default:throw new Error("Unknown comparator: "+ne.name)}return ae;case Ce:var qn=this.visit(ne.children[0],ve);if(!H(qn))return null;var Bi=[];for(Qe=0;Qe<qn.length;Qe++)H(Le=qn[Qe])?Bi.push.apply(Bi,Le):Bi.push(Le);return Bi;case"Identity":case U:return ve;case"MultiSelectList":if(null===ve)return null;for(It=[],Qe=0;Qe<ne.children.length;Qe++)It.push(this.visit(ne.children[Qe],ve));return It;case"MultiSelectHash":if(null===ve)return null;var Ao;for(It={},Qe=0;Qe<ne.children.length;Qe++)It[(Ao=ne.children[Qe]).name]=this.visit(Ao.value,ve);return It;case"OrExpression":return B(Ee=this.visit(ne.children[0],ve))&&(Ee=this.visit(ne.children[1],ve)),Ee;case"AndExpression":return!0===B(ze=this.visit(ne.children[0],ve))?ze:this.visit(ne.children[1],ve);case"NotExpression":return B(ze=this.visit(ne.children[0],ve));case"Literal":return ne.value;case"Function":var Is=[];for(Qe=0;Qe<ne.children.length;Qe++)Is.push(this.visit(ne.children[Qe],ve));return this.runtime.callFunction(ne.name,Is);case"ExpressionReference":var Ro=ne.children[0];return Ro.jmespathType=X,Ro;default:throw new Error("Unknown node type: "+ne.type)}},computeSliceParams:function(ne,ve){var Ee=ve[0],Le=ve[1],ae=ve[2],ze=[null,null,null];if(null===ae)ae=1;else if(0===ae){var at=new Error("Invalid slice, step cannot be 0");throw at.name="RuntimeError",at}var vt=ae<0;return Ee=null===Ee?vt?ne-1:0:this.capSliceRange(ne,Ee,ae),Le=null===Le?vt?-1:ne:this.capSliceRange(ne,Le,ae),ze[0]=Ee,ze[1]=Le,ze[2]=ae,ze},capSliceRange:function(ne,ve,Ee){return ve<0?(ve+=ne)<0&&(ve=Ee<0?-1:0):ve>=ne&&(ve=Ee<0?ne-1:ne),ve}},Q.prototype={callFunction:function(ne,ve){var Ee=this.functionTable[ne];if(void 0===Ee)throw new Error("Unknown function: "+ne+"()");return this._validateArgs(ne,ve,Ee._signature),Ee._func.call(this,ve)},_validateArgs:function(ne,ve,Ee){var Le;if(Ee[Ee.length-1].variadic){if(ve.length<Ee.length)throw Le=1===Ee.length?" argument":" arguments",new Error("ArgumentError: "+ne+"() takes at least"+Ee.length+Le+" but received "+ve.length)}else if(ve.length!==Ee.length)throw Le=1===Ee.length?" argument":" arguments",new Error("ArgumentError: "+ne+"() takes "+Ee.length+Le+" but received "+ve.length);for(var ae,ze,at,vt=0;vt<Ee.length;vt++){at=!1,ae=Ee[vt].types,ze=this._getTypeName(ve[vt]);for(var lt=0;lt<ae.length;lt++)if(this._typeMatches(ze,ae[lt],ve[vt])){at=!0;break}if(!at)throw new Error("TypeError: "+ne+"() expected argument "+(vt+1)+" to be type "+ae+" but received type "+ze+" instead.")}},_typeMatches:function(ne,ve,Ee){if(1===ve)return!0;if(9!==ve&&8!==ve&&3!==ve)return ne===ve;if(3===ve)return 3===ne;if(3===ne){var Le;8===ve?Le=_:9===ve&&(Le=f);for(var ae=0;ae<Ee.length;ae++)if(!this._typeMatches(this._getTypeName(Ee[ae]),Le,Ee[ae]))return!1;return!0}},_getTypeName:function(ne){switch(Object.prototype.toString.call(ne)){case"[object String]":return f;case"[object Number]":return _;case"[object Array]":return 3;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return ne.jmespathType===X?6:4}},_functionStartsWith:function(ne){return 0===ne[0].lastIndexOf(ne[1])},_functionEndsWith:function(ne){var ve=ne[0],Ee=ne[1];return-1!==ve.indexOf(Ee,ve.length-Ee.length)},_functionReverse:function(ne){if(this._getTypeName(ne[0])===f){for(var Ee=ne[0],Le="",ae=Ee.length-1;ae>=0;ae--)Le+=Ee[ae];return Le}var ze=ne[0].slice(0);return ze.reverse(),ze},_functionAbs:function(ne){return Math.abs(ne[0])},_functionCeil:function(ne){return Math.ceil(ne[0])},_functionAvg:function(ne){for(var ve=0,Ee=ne[0],Le=0;Le<Ee.length;Le++)ve+=Ee[Le];return ve/Ee.length},_functionContains:function(ne){return ne[0].indexOf(ne[1])>=0},_functionFloor:function(ne){return Math.floor(ne[0])},_functionLength:function(ne){return W(ne[0])?Object.keys(ne[0]).length:ne[0].length},_functionMap:function(ne){for(var ve=[],Ee=this._interpreter,Le=ne[0],ae=ne[1],ze=0;ze<ae.length;ze++)ve.push(Ee.visit(Le,ae[ze]));return ve},_functionMerge:function(ne){for(var ve={},Ee=0;Ee<ne.length;Ee++){var Le=ne[Ee];for(var ae in Le)ve[ae]=Le[ae]}return ve},_functionMax:function(ne){if(ne[0].length>0){if(this._getTypeName(ne[0][0])===_)return Math.max.apply(Math,ne[0]);for(var Ee=ne[0],Le=Ee[0],ae=1;ae<Ee.length;ae++)Le.localeCompare(Ee[ae])<0&&(Le=Ee[ae]);return Le}return null},_functionMin:function(ne){if(ne[0].length>0){if(this._getTypeName(ne[0][0])===_)return Math.min.apply(Math,ne[0]);for(var Ee=ne[0],Le=Ee[0],ae=1;ae<Ee.length;ae++)Ee[ae].localeCompare(Le)<0&&(Le=Ee[ae]);return Le}return null},_functionSum:function(ne){for(var ve=0,Ee=ne[0],Le=0;Le<Ee.length;Le++)ve+=Ee[Le];return ve},_functionType:function(ne){switch(this._getTypeName(ne[0])){case _:return"number";case f:return"string";case 3:return"array";case 4:return"object";case 5:return"boolean";case 6:return"expref";case 7:return"null"}},_functionKeys:function(ne){return Object.keys(ne[0])},_functionValues:function(ne){for(var ve=ne[0],Ee=Object.keys(ve),Le=[],ae=0;ae<Ee.length;ae++)Le.push(ve[Ee[ae]]);return Le},_functionJoin:function(ne){return ne[1].join(ne[0])},_functionToArray:function(ne){return 3===this._getTypeName(ne[0])?ne[0]:[ne[0]]},_functionToString:function(ne){return this._getTypeName(ne[0])===f?ne[0]:JSON.stringify(ne[0])},_functionToNumber:function(ne){var Ee,ve=this._getTypeName(ne[0]);return ve===_?ne[0]:ve!==f||(Ee=+ne[0],isNaN(Ee))?null:Ee},_functionNotNull:function(ne){for(var ve=0;ve<ne.length;ve++)if(7!==this._getTypeName(ne[ve]))return ne[ve];return null},_functionSort:function(ne){var ve=ne[0].slice(0);return ve.sort(),ve},_functionSortBy:function(ne){var ve=ne[0].slice(0);if(0===ve.length)return ve;var Ee=this._interpreter,Le=ne[1],ae=this._getTypeName(Ee.visit(Le,ve[0]));if([_,f].indexOf(ae)<0)throw new Error("TypeError");for(var ze=this,at=[],vt=0;vt<ve.length;vt++)at.push([vt,ve[vt]]);at.sort(function(ai,It){var Qe=Ee.visit(Le,ai[1]),Ht=Ee.visit(Le,It[1]);if(ze._getTypeName(Qe)!==ae)throw new Error("TypeError: expected "+ae+", received "+ze._getTypeName(Qe));if(ze._getTypeName(Ht)!==ae)throw new Error("TypeError: expected "+ae+", received "+ze._getTypeName(Ht));return Qe>Ht?1:Qe<Ht?-1:ai[0]-It[0]});for(var lt=0;lt<at.length;lt++)ve[lt]=at[lt][1];return ve},_functionMaxBy:function(ne){for(var ze,at,Ee=ne[0],Le=this.createKeyFunction(ne[1],[_,f]),ae=-1/0,vt=0;vt<Ee.length;vt++)(at=Le(Ee[vt]))>ae&&(ae=at,ze=Ee[vt]);return ze},_functionMinBy:function(ne){for(var ze,at,Ee=ne[0],Le=this.createKeyFunction(ne[1],[_,f]),ae=1/0,vt=0;vt<Ee.length;vt++)(at=Le(Ee[vt]))<ae&&(ae=at,ze=Ee[vt]);return ze},createKeyFunction:function(ne,ve){var Ee=this,Le=this._interpreter;return function(ze){var at=Le.visit(ne,ze);if(ve.indexOf(Ee._getTypeName(at))<0){var vt="TypeError: expected one of "+ve+", received "+Ee._getTypeName(at);throw new Error(vt)}return at}}},w.tokenize=function(ne){return(new rt).tokenize(ne)},w.compile=function(ne){return(new Xe).parse(ne)},w.search=function(ne,ve){var Ee=new Xe,Le=new Q,ae=new je(Le);Le._interpreter=ae;var ze=Ee.parse(ve);return ae.search(ze,ne)},w.strictDeepEqual=E}(z)},6144:(Te,z,w)=>{Te.exports=w(1821)},4601:Te=>{"use strict";var z=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];Te.exports=function(w,H){for(var W=0;W<H.length;W++){w=JSON.parse(JSON.stringify(w));var r,E=H[W].split("/"),B=w;for(r=1;r<E.length;r++)B=B[E[r]];for(r=0;r<z.length;r++){var F=z[r],R=B[F];R&&(B[F]={anyOf:[R,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]})}}return w}},9920:(Te,z,w)=>{"use strict";var H=w(8211),W=w(6116),E=w(6123),B=w(7987),r=w(5454),F=w(9154),R=w(3152),_=w(4601),m=w(4600),f=w(4993),y=w(3556);Te.exports=D,D.prototype.validate=function(te,he){var Fe;if("string"==typeof te){if(!(Fe=this.getSchema(te)))throw new Error('no schema with key or ref "'+te+'"')}else{var Ie=this._addSchema(te);Fe=Ie.validate||this._compile(Ie)}var Me=Fe(he);return!0===Fe.$async?"*"==this._opts.async?y(Me):Me:(this.errors=Fe.errors,Me)},D.prototype.compile=function(te,he){var Fe=this._addSchema(te,void 0,he);return Fe.validate||this._compile(Fe)},D.prototype.addSchema=function(te,he,Fe,Ie){if(Array.isArray(te)){for(var Me=0;Me<te.length;Me++)this.addSchema(te[Me],void 0,Fe,Ie);return this}var Ne=this._getId(te);if(void 0!==Ne&&"string"!=typeof Ne)throw new Error("schema id must be string");return se(this,he=W.normalizeId(he||Ne)),this._schemas[he]=this._addSchema(te,Fe,Ie,!0),this},D.prototype.addMetaSchema=function(te,he,Fe){return this.addSchema(te,he,Fe,!0),this},D.prototype.validateSchema=function(te,he){var Fe=te.$schema;if(void 0!==Fe&&"string"!=typeof Fe)throw new Error("$schema must be a string");if(!(Fe=Fe||this._opts.defaultMeta||function(te){var he=te._opts.meta;return te._opts.defaultMeta="object"==typeof he?te._getId(he)||he:te.getSchema(g)?g:void 0,te._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var Me,Ie=this._formats.uri;this._formats.uri="function"==typeof Ie?this._schemaUriFormatFunc:this._schemaUriFormat;try{Me=this.validate(Fe,te)}finally{this._formats.uri=Ie}if(!Me&&he){var Ne="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(Ne);this.logger.error(Ne)}return Me},D.prototype.getSchema=function(te){var he=V(this,te);switch(typeof he){case"object":return he.validate||this._compile(he);case"string":return this.getSchema(he);case"undefined":return function(te,he){var Fe=W.schema.call(te,{schema:{}},he);if(Fe){var Ie=Fe.schema,Me=Fe.root,Ne=Fe.baseId,De=H.call(te,Ie,Me,void 0,Ne);return te._fragments[he]=new B({ref:he,fragment:!0,schema:Ie,root:Me,baseId:Ne,validate:De}),De}}(this,te)}},D.prototype.removeSchema=function(te){if(te instanceof RegExp)return X(this,this._schemas,te),X(this,this._refs,te),this;switch(typeof te){case"undefined":return X(this,this._schemas),X(this,this._refs),this._cache.clear(),this;case"string":var he=V(this,te);return he&&this._cache.del(he.cacheKey),delete this._schemas[te],delete this._refs[te],this;case"object":var Fe=this._opts.serialize,Ie=Fe?Fe(te):te;this._cache.del(Ie);var Me=this._getId(te);Me&&(Me=W.normalizeId(Me),delete this._schemas[Me],delete this._refs[Me])}return this},D.prototype.addFormat=function(te,he){return"string"==typeof he&&(he=new RegExp(he)),this._formats[te]=he,this},D.prototype.errorsText=function(te,he){if(!(te=te||this.errors))return"No errors";for(var Fe=void 0===(he=he||{}).separator?", ":he.separator,Ie=void 0===he.dataVar?"data":he.dataVar,Me="",Ne=0;Ne<te.length;Ne++){var De=te[Ne];De&&(Me+=Ie+De.dataPath+" "+De.message+Fe)}return Me.slice(0,-Fe.length)},D.prototype._addSchema=function(te,he,Fe,Ie){if("object"!=typeof te&&"boolean"!=typeof te)throw new Error("schema should be object or boolean");var Me=this._opts.serialize,Ne=Me?Me(te):te,De=this._cache.get(Ne);if(De)return De;Ie=Ie||!1!==this._opts.addUsedSchema;var ke=W.normalizeId(this._getId(te));ke&&Ie&&se(this,ke);var rt,Ye=!1!==this._opts.validateSchema&&!he;Ye&&!(rt=ke&&ke==W.normalizeId(te.$schema))&&this.validateSchema(te,!0);var be=W.ids.call(this,te),Xe=new B({id:ke,schema:te,localRefs:be,cacheKey:Ne,meta:Fe});return"#"!=ke[0]&&Ie&&(this._refs[ke]=Xe),this._cache.put(Ne,Xe),Ye&&rt&&this.validateSchema(te,!0),Xe},D.prototype._compile=function(te,he){if(te.compiling)return te.validate=Me,Me.schema=te.schema,Me.errors=null,Me.root=he||Me,!0===te.schema.$async&&(Me.$async=!0),Me;var Fe,Ie;te.compiling=!0,te.meta&&(Fe=this._opts,this._opts=this._metaOpts);try{Ie=H.call(this,te.schema,he,te.localRefs)}finally{te.compiling=!1,te.meta&&(this._opts=Fe)}return te.validate=Ie,te.refs=Ie.refs,te.refVal=Ie.refVal,te.root=Ie.root,Ie;function Me(){var Ne=te.validate,De=Ne.apply(null,arguments);return Me.errors=Ne.errors,De}},D.prototype.compileAsync=w(3920);var C=w(3689);D.prototype.addKeyword=C.add,D.prototype.getKeyword=C.get,D.prototype.removeKeyword=C.remove;var S=w(4638);D.ValidationError=S.Validation,D.MissingRefError=S.MissingRef,D.$dataMetaSchema=_;var g="http://json-schema.org/draft-06/schema",v=["removeAdditional","useDefaults","coerceTypes"],A=["/properties"];function D(te){if(!(this instanceof D))return new D(te);te=this._opts=f.copy(te)||{},function(te){var he=te._opts.logger;if(!1===he)te.logger={log:Re,warn:Re,error:Re};else{if(void 0===he&&(he=console),!("object"==typeof he&&he.log&&he.warn&&he.error))throw new Error("logger must implement log, warn and error methods");te.logger=he}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=F(te.format);var he=this._schemaUriFormat=this._formats["uri-reference"];this._schemaUriFormatFunc=function(Fe){return he.test(Fe)},this._cache=te.cache||new E,this._loadingSchemas={},this._compilations=[],this.RULES=R(),this._getId=function(te){switch(te.schemaId){case"$id":return xe;case"id":return _e;default:return we}}(te),te.loopRequired=te.loopRequired||1/0,"property"==te.errorDataPath&&(te._errorDataPathProperty=!0),void 0===te.serialize&&(te.serialize=r),this._metaOpts=function(te){for(var he=f.copy(te._opts),Fe=0;Fe<v.length;Fe++)delete he[v[Fe]];return he}(this),te.formats&&function(te){for(var he in te._opts.formats)te.addFormat(he,te._opts.formats[he])}(this),function(te){var he;if(te._opts.$data&&(he=w(699),te.addMetaSchema(he,he.$id,!0)),!1!==te._opts.meta){var Fe=w(3702);te._opts.$data&&(Fe=_(Fe,A)),te.addMetaSchema(Fe,g,!0),te._refs["http://json-schema.org/schema"]=g}}(this),"object"==typeof te.meta&&this.addMetaSchema(te.meta),function(te){var he=te._opts.schemas;if(he)if(Array.isArray(he))te.addSchema(he);else for(var Fe in he)te.addSchema(he[Fe],Fe)}(this),te.patternGroups&&m(this)}function V(te,he){return he=W.normalizeId(he),te._schemas[he]||te._refs[he]||te._fragments[he]}function X(te,he,Fe){for(var Ie in he){var Me=he[Ie];!Me.meta&&(!Fe||Fe.test(Ie))&&(te._cache.del(Me.cacheKey),delete he[Ie])}}function _e(te){return te.$id&&this.logger.warn("schema $id ignored",te.$id),te.id}function xe(te){return te.id&&this.logger.warn("schema id ignored",te.id),te.$id}function we(te){if(te.$id&&te.id&&te.$id!=te.id)throw new Error("schema $id is different from id");return te.$id||te.id}function se(te,he){if(te._schemas[he]||te._refs[he])throw new Error('schema with key or id "'+he+'" already exists')}function Re(){}},6123:Te=>{"use strict";var z=Te.exports=function(){this._cache={}};z.prototype.put=function(H,W){this._cache[H]=W},z.prototype.get=function(H){return this._cache[H]},z.prototype.del=function(H){delete this._cache[H]},z.prototype.clear=function(){this._cache={}}},3599:(Te,z,w)=>{"use strict";Te.exports={$ref:w(5174),allOf:w(763),anyOf:w(7512),const:w(1769),contains:w(9191),dependencies:w(7978),enum:w(7238),format:w(4324),items:w(8103),maximum:w(811),minimum:w(811),maxItems:w(6844),minItems:w(6844),maxLength:w(1720),minLength:w(1720),maxProperties:w(8408),minProperties:w(8408),multipleOf:w(3277),not:w(6566),oneOf:w(6916),pattern:w(6017),properties:w(465),propertyNames:w(4975),required:w(3269),uniqueItems:w(5652),validate:w(2106)}},3920:(Te,z,w)=>{"use strict";var H=w(4638).MissingRef;Te.exports=function W(E,B,r){var F=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof B&&(r=B,B=void 0);var R=_(E).then(function(){var f=F._addSchema(E,void 0,B);return f.validate||m(f)});return r&&R.then(function(f){r(null,f)},r),R;function _(f){var y=f.$schema;return y&&!F.getSchema(y)?W.call(F,{$ref:y},!0):Promise.resolve()}function m(f){try{return F._compile(f)}catch(C){if(C instanceof H)return function(C){var S=C.missingSchema;if(A(S))throw new Error("Schema "+S+" is loaded but "+C.missingRef+" cannot be resolved");var g=F._loadingSchemas[S];return g||(g=F._loadingSchemas[S]=F._opts.loadSchema(S)).then(v,v),g.then(function(D){if(!A(S))return _(D).then(function(){A(S)||F.addSchema(D,S,void 0,B)})}).then(function(){return m(f)});function v(){delete F._loadingSchemas[S]}function A(D){return F._refs[D]||F._schemas[D]}}(C);throw C}}}},4638:(Te,z,w)=>{"use strict";var H=w(6116);function E(r,F,R){this.message=R||E.message(r,F),this.missingRef=H.url(r,F),this.missingSchema=H.normalizeId(H.fullPath(this.missingRef))}function B(r){return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}Te.exports={Validation:B(function(r){this.message="validation failed",this.errors=r,this.ajv=this.validation=!0}),MissingRef:B(E)},E.message=function(r,F){return"can't resolve reference "+F+" from id "+r}},9154:(Te,z,w)=>{"use strict";var H=w(4993),W=/^\d\d\d\d-(\d\d)-(\d\d)$/,E=[0,31,29,31,30,31,30,31,31,30,31,30,31],B=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,r=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,F=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,_=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,m=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,f=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,y=/^(?:\/(?:[^~/]|~0|~1)*)*$|^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,C=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function S(k){return H.copy(S[k="full"==k?"full":"fast"])}function g(k){var $=k.match(W);if(!$)return!1;var P=+$[1],V=+$[2];return P>=1&&P<=12&&V>=1&&V<=E[P]}function v(k,$){var P=k.match(B);return!!P&&P[1]<=23&&P[2]<=59&&P[3]<=59&&(!$||P[5])}Te.exports=S,S.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^[0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*)(?::|\/)\/?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/\/)?[^\s]*$/i,"uri-template":_,url:m,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:r,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:I,uuid:f,"json-pointer":y,"relative-json-pointer":C},S.full={date:g,time:v,"date-time":function(k){var $=k.split(A);return 2==$.length&&g($[0])&&v($[1],!0)},uri:function(k){return T.test(k)&&F.test(k)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":_,url:m,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(k){return k.length<=255&&r.test(k)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:I,uuid:f,"json-pointer":y,"relative-json-pointer":C};var A=/t|\s/i,T=/\/|:/,x=/[^\\]\\Z/;function I(k){if(x.test(k))return!1;try{return new RegExp(k),!0}catch($){return!1}}},8211:(Te,z,w)=>{"use strict";var H=w(6116),W=w(4993),E=w(4638),B=w(5454),r=w(2106),F=w(3556),R=W.ucs2length,_=w(2683),m=E.Validation;function y(T,N,x){var I=S.call(this,T,N,x);return I>=0?{index:I,compiling:!0}:(this._compilations[I=this._compilations.length]={schema:T,root:N,baseId:x},{index:I,compiling:!1})}function C(T,N,x){var I=S.call(this,T,N,x);I>=0&&this._compilations.splice(I,1)}function S(T,N,x){for(var I=0;I<this._compilations.length;I++){var k=this._compilations[I];if(k.schema==T&&k.root==N&&k.baseId==x)return I}return-1}function g(T,N){return"var pattern"+T+" = new RegExp("+W.toQuotedString(N[T])+");"}function v(T){return"var default"+T+" = defaults["+T+"];"}function A(T,N){return void 0===N[T]?"":"var refVal"+T+" = refVal["+T+"];"}function D(T){return"var customRule"+T+" = customRules["+T+"];"}function M(T,N){if(!T.length)return"";for(var x="",I=0;I<T.length;I++)x+=N(I,T);return x}Te.exports=function f(T,N,x,I){var k=this,$=this._opts,P=[void 0],V={},U=[],X={},ie=[],ee={},ce=[],_e=y.call(this,T,N=N||{schema:T,refVal:P,refs:V},I),xe=this._compilations[_e.index];if(_e.compiling)return xe.callValidate=function Ce(){var Me=xe.validate,Ne=Me.apply(null,arguments);return Ce.errors=Me.errors,Ne};var we=this._formats,Se=this.RULES;try{var le=ge(T,N,x,I);xe.validate=le;var ye=xe.callValidate;return ye&&(ye.schema=le.schema,ye.errors=null,ye.refs=le.refs,ye.refVal=le.refVal,ye.root=le.root,ye.$async=le.$async,$.sourceCode&&(ye.source=le.source)),le}finally{C.call(this,T,N,I)}function ge(Me,Ne,De,ke){var Ye=!Ne||Ne&&Ne.schema==Me;if(Ne.schema!=N.schema)return f.call(k,Me,Ne,De,ke);var Xe,rt=!0===Me.$async,be=r({isTop:!0,schema:Me,isRoot:Ye,baseId:ke,root:Ne,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:E.MissingRef,RULES:Se,validate:r,util:W,resolve:H,resolveRef:se,usePattern:he,useDefault:Fe,useCustomRule:Ie,opts:$,formats:we,logger:k.logger,self:k});be=M(P,A)+M(U,g)+M(ie,v)+M(ce,D)+be,$.processCode&&(be=$.processCode(be));try{Xe=new Function("self","RULES","formats","root","refVal","defaults","customRules","co","equal","ucs2length","ValidationError",be)(k,Se,we,N,P,ie,ce,F,_,R,m),P[0]=Xe}catch(Q){throw k.logger.error("Error compiling schema, function code:",be),Q}return Xe.schema=Me,Xe.errors=null,Xe.refs=V,Xe.refVal=P,Xe.root=Ye?Xe:Ne,rt&&(Xe.$async=!0),!0===$.sourceCode&&(Xe.source={code:be,patterns:U,defaults:ie}),Xe}function se(Me,Ne,De){Ne=H.url(Me,Ne);var Ye,rt,ke=V[Ne];if(void 0!==ke)return te(Ye=P[ke],rt="refVal["+ke+"]");if(!De&&N.refs){var be=N.refs[Ne];if(void 0!==be)return te(Ye=N.refVal[be],rt=de(Ne,Ye))}rt=de(Ne);var Xe=H.call(k,ge,N,Ne);if(void 0===Xe){var je=x&&x[Ne];je&&(Xe=H.inlineRef(je,$.inlineRefs)?je:f.call(k,je,N,x,Me))}if(void 0!==Xe)return function(Me,Ne){P[V[Me]]=Ne}(Ne,Xe),te(Xe,rt);!function(Me){delete V[Me]}(Ne)}function de(Me,Ne){var De=P.length;return P[De]=Ne,V[Me]=De,"refVal"+De}function te(Me,Ne){return"object"==typeof Me||"boolean"==typeof Me?{code:Ne,schema:Me,inline:!0}:{code:Ne,$async:Me&&Me.$async}}function he(Me){var Ne=X[Me];return void 0===Ne&&(Ne=X[Me]=U.length,U[Ne]=Me),"pattern"+Ne}function Fe(Me){switch(typeof Me){case"boolean":case"number":return""+Me;case"string":return W.toQuotedString(Me);case"object":if(null===Me)return"null";var Ne=B(Me),De=ee[Ne];return void 0===De&&(De=ee[Ne]=ie.length,ie[De]=Me),"default"+De}}function Ie(Me,Ne,De,ke){var Ye=Me.definition.validateSchema;if(Ye&&!1!==k._opts.validateSchema&&!Ye(Ne)){var be="keyword schema is invalid: "+k.errorsText(Ye.errors);if("log"!=k._opts.validateSchema)throw new Error(be);k.logger.error(be)}var it,Xe=Me.definition.compile,je=Me.definition.inline,Q=Me.definition.macro;if(Xe)it=Xe.call(k,Ne,De,ke);else if(Q)it=Q.call(k,Ne,De,ke),!1!==$.validateSchema&&k.validateSchema(it,!0);else if(je)it=je.call(k,ke,Me.keyword,Ne,De);else if(!(it=Me.definition.validate))return;if(void 0===it)throw new Error('custom keyword "'+Me.keyword+'"failed to compile');var Lt=ce.length;return ce[Lt]=it,{code:"customRule"+Lt,validate:it}}}},6116:(Te,z,w)=>{"use strict";var H=w(5124),W=w(2683),E=w(4993),B=w(7987),r=w(4115);function F(x,I,k){var $=this._refs[k];if("string"==typeof $){if(!this._refs[$])return F.call(this,x,I,$);$=this._refs[$]}if(($=$||this._schemas[k])instanceof B)return C($.schema,this._opts.inlineRefs)?$.schema:$.validate||this._compile($);var V,U,X,P=R.call(this,I,k);return P&&(V=P.schema,I=P.root,X=P.baseId),V instanceof B?U=V.validate||x.call(this,V.schema,I,void 0,X):void 0!==V&&(U=C(V,this._opts.inlineRefs)?V:x.call(this,V,I,void 0,X)),U}function R(x,I){var k=H.parse(I,!1,!0),$=A(k),P=v(this._getId(x.schema));if($!==P){var V=M($),U=this._refs[V];if("string"==typeof U)return _.call(this,x,U,k);if(U instanceof B)U.validate||this._compile(U),x=U;else{if(!((U=this._schemas[V])instanceof B))return;if(U.validate||this._compile(U),V==M(I))return{schema:U,root:x,baseId:P};x=U}if(!x.schema)return;P=v(this._getId(x.schema))}return f.call(this,k,P,x.schema,x)}function _(x,I,k){var $=R.call(this,x,I);if($){var P=$.schema,V=$.baseId;x=$.root;var U=this._getId(P);return U&&(V=T(V,U)),f.call(this,k,V,P,x)}}Te.exports=F,F.normalizeId=M,F.fullPath=v,F.url=T,F.ids=function(x){var I=M(this._getId(x)),k={"":I},$={"":v(I,!1)},P={},V=this;return r(x,{allKeys:!0},function(U,X,ie,ee,ce,_e,xe){if(""!==X){var we=V._getId(U),Se=k[ee],le=$[ee]+"/"+ce;if(void 0!==xe&&(le+="/"+("number"==typeof xe?xe:E.escapeFragment(xe))),"string"==typeof we){we=Se=M(Se?H.resolve(Se,we):we);var ye=V._refs[we];if("string"==typeof ye&&(ye=V._refs[ye]),ye&&ye.schema){if(!W(U,ye.schema))throw new Error('id "'+we+'" resolves to more than one schema')}else if(we!=M(le))if("#"==we[0]){if(P[we]&&!W(U,P[we]))throw new Error('id "'+we+'" resolves to more than one schema');P[we]=U}else V._refs[we]=le}k[X]=Se,$[X]=le}}),P},F.inlineRef=C,F.schema=R;var m=E.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function f(x,I,k,$){if(x.hash=x.hash||"","#/"==x.hash.slice(0,2)){for(var P=x.hash.split("/"),V=1;V<P.length;V++){var U=P[V];if(U){if(void 0===(k=k[U=E.unescapeFragment(U)]))break;var X;if(!m[U]&&((X=this._getId(k))&&(I=T(I,X)),k.$ref)){var ie=T(I,k.$ref),ee=R.call(this,$,ie);ee&&(k=ee.schema,$=ee.root,I=ee.baseId)}}}if(void 0!==k&&k!==$.schema)return{schema:k,root:$,baseId:I}}}var y=E.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function C(x,I){return!1!==I&&(void 0===I||!0===I?S(x):I?g(x)<=I:void 0)}function S(x){var I;if(Array.isArray(x)){for(var k=0;k<x.length;k++)if("object"==typeof(I=x[k])&&!S(I))return!1}else for(var $ in x)if("$ref"==$||"object"==typeof(I=x[$])&&!S(I))return!1;return!0}function g(x){var k,I=0;if(Array.isArray(x)){for(var $=0;$<x.length;$++)if("object"==typeof(k=x[$])&&(I+=g(k)),I==1/0)return 1/0}else for(var P in x){if("$ref"==P)return 1/0;if(y[P])I++;else if("object"==typeof(k=x[P])&&(I+=g(k)+1),I==1/0)return 1/0}return I}function v(x,I){return!1!==I&&(x=M(x)),A(H.parse(x,!1,!0))}function A(x){var I=x.protocol||"//"==x.href.slice(0,2)?"//":"";return(x.protocol||"")+I+(x.host||"")+(x.path||"")+"#"}var D=/#\/?$/;function M(x){return x?x.replace(D,""):""}function T(x,I){return I=M(I),H.resolve(x,I)}},3152:(Te,z,w)=>{"use strict";var H=w(3599),W=w(4993).toHash;Te.exports=function(){var B=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","uniqueItems","contains","items"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf"]}],r=["type"];return B.all=W(r),B.types=W(["number","integer","string","array","object","boolean","null"]),B.forEach(function(_){_.rules=_.rules.map(function(m){var f;if("object"==typeof m){var y=Object.keys(m)[0];f=m[y],m=y,f.forEach(function(S){r.push(S),B.all[S]=!0})}return r.push(m),B.all[m]={keyword:m,code:H[m],implements:f}}),_.type&&(B.types[_.type]=_)}),B.keywords=W(r.concat(["additionalItems","$schema","$id","id","title","description","default","definitions"])),B.custom={},B}},7987:(Te,z,w)=>{"use strict";var H=w(4993);Te.exports=function(E){H.copy(E,this)}},7757:Te=>{"use strict";Te.exports=function(w){for(var B,H=0,W=w.length,E=0;E<W;)H++,(B=w.charCodeAt(E++))>=55296&&B<=56319&&E<W&&56320==(64512&(B=w.charCodeAt(E)))&&E++;return H}},4993:(Te,z,w)=>{"use strict";function W(se,de,fe){var Re=fe?" !== ":" === ",te=fe?" || ":" && ",he=fe?"!":"",Fe=fe?"":"!";switch(se){case"null":return de+Re+"null";case"array":return he+"Array.isArray("+de+")";case"object":return"("+he+de+te+"typeof "+de+Re+'"object"'+te+Fe+"Array.isArray("+de+"))";case"integer":return"(typeof "+de+Re+'"number"'+te+Fe+"("+de+" % 1)"+te+de+Re+de+")";default:return"typeof "+de+Re+'"'+se+'"'}}Te.exports={copy:function(se,de){for(var fe in de=de||{},se)de[fe]=se[fe];return de},checkDataType:W,checkDataTypes:function(se,de){if(1===se.length)return W(se[0],de,!0);var fe="",Re=F(se);for(var te in Re.array&&Re.object&&(fe=Re.null?"(":"(!"+de+" || ",fe+="typeof "+de+' !== "object")',delete Re.null,delete Re.array,delete Re.object),Re.number&&delete Re.integer,Re)fe+=(fe?" && ":"")+W(te,de,!0);return fe},coerceToTypes:function(se,de){if(Array.isArray(de)){for(var fe=[],Re=0;Re<de.length;Re++){var te=de[Re];(B[te]||"array"===se&&"array"===te)&&(fe[fe.length]=te)}if(fe.length)return fe}else{if(B[de])return[de];if("array"===se&&"array"===de)return["array"]}},toHash:F,getProperty:m,escapeQuotes:f,equal:w(2683),ucs2length:w(7757),varOccurences:function(se,de){var fe=se.match(new RegExp(de+="[^0-9]","g"));return fe?fe.length:0},varReplace:function(se,de,fe){return de+="([^0-9])",fe=fe.replace(/\$/g,"$$$$"),se.replace(new RegExp(de,"g"),fe+"$1")},cleanUpCode:function(se){return se.replace(S,"").replace(g,"").replace(v,"if (!($1))")},finalCleanUpCode:function(se,de){var fe=se.match(D);return fe&&2==fe.length&&(se=de?se.replace(T,"").replace(I,"return data;"):se.replace(M,"").replace("return errors === 0;","validate.errors = null; return true;")),(fe=se.match($))&&3===fe.length?se.replace(P,""):se},schemaHasRules:function(se,de){if("boolean"==typeof se)return!se;for(var fe in se)if(de[fe])return!0},schemaHasRulesExcept:function(se,de,fe){if("boolean"==typeof se)return!se&&"not"!=fe;for(var Re in se)if(Re!=fe&&de[Re])return!0},toQuotedString:ie,getPathExpr:function(se,de,fe,Re){return Se(se,fe?"'/' + "+de+(Re?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):Re?"'[' + "+de+" + ']'":"'[\\'' + "+de+" + '\\']'")},getPath:function(se,de,fe){return Se(se,ie(fe?"/"+Ce(de):m(de)))},getData:function(se,de,fe){var Re,te,he,Fe;if(""===se)return"rootData";if("/"==se[0]){if(!_e.test(se))throw new Error("Invalid JSON-pointer: "+se);te=se,he="rootData"}else{if(!(Fe=se.match(xe)))throw new Error("Invalid JSON-pointer: "+se);if(Re=+Fe[1],"#"==(te=Fe[2])){if(Re>=de)throw new Error("Cannot access property/index "+Re+" levels up, current level is "+de);return fe[de-Re]}if(Re>de)throw new Error("Cannot access data "+Re+" levels up, current level is "+de);if(he="data"+(de-Re||""),!te)return he}for(var Ie=he,Me=te.split("/"),Ne=0;Ne<Me.length;Ne++){var De=Me[Ne];De&&(Ie+=" && "+(he+=m(ge(De))))}return Ie},unescapeFragment:function(se){return ge(decodeURIComponent(se))},unescapeJsonPointer:ge,escapeFragment:function(se){return encodeURIComponent(Ce(se))},escapeJsonPointer:Ce};var B=F(["string","number","integer","boolean","null"]);function F(se){for(var de={},fe=0;fe<se.length;fe++)de[se[fe]]=!0;return de}var R=/^[a-z$_][a-z$_0-9]*$/i,_=/'|\\/g;function m(se){return"number"==typeof se?"["+se+"]":R.test(se)?"."+se:"['"+f(se)+"']"}function f(se){return se.replace(_,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}var S=/else\s*{\s*}/g,g=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,v=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g,D=/[^v.]errors/g,M=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,T=/var errors = 0;|var vErrors = null;/g,I=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,$=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,P=/if \(rootData === undefined\) rootData = data;/;function ie(se){return"'"+f(se)+"'"}var _e=/^\/(?:[^~]|~0|~1)*$/,xe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Se(se,de){return'""'==se?de:(se+" + "+de).replace(/' \+ '/g,"")}function Ce(se){return se.replace(/~/g,"~0").replace(/\//g,"~1")}function ge(se){return se.replace(/~1/g,"/").replace(/~0/g,"~")}},811:Te=>{"use strict";Te.exports=function(w,H,W){var S,E=" ",B=w.level,r=w.dataLevel,F=w.schema[H],R=w.schemaPath+w.util.getProperty(H),_=w.errSchemaPath+"/"+H,m=!w.opts.allErrors,y="data"+(r||""),C=w.opts.$data&&F&&F.$data;C?(E+=" var schema"+B+" = "+w.util.getData(F.$data,r,w.dataPathArr)+"; ",S="schema"+B):S=F;var g="maximum"==H,v=g?"exclusiveMaximum":"exclusiveMinimum",A=w.schema[v],M=g?"<":">",T=g?">":"<",f=void 0;if(w.opts.$data&&A&&A.$data){var V,N=w.util.getData(A.$data,r,w.dataPathArr),x="exclusive"+B,I="exclType"+B,k="exclIsNumber"+B,P="' + "+($="op"+B)+" + '";E+=" var schemaExcl"+B+" = "+N+"; ",f=v,(V=V||[]).push(E+=" var "+x+"; var "+I+" = typeof "+(N="schemaExcl"+B)+"; if ("+I+" != 'boolean' && "+I+" != 'undefined' && "+I+" != 'number') { "),E="",!1!==w.createErrors?(E+=" { keyword: '"+(f||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: {} ",!1!==w.opts.messages&&(E+=" , message: '"+v+" should be boolean' "),w.opts.verbose&&(E+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+y+" "),E+=" } "):E+=" {} ";var U=E;E=V.pop(),E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+U+"]); ":" validate.errors = ["+U+"]; return false; ":" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E+=" } else if ( ",C&&(E+=" ("+S+" !== undefined && typeof "+S+" != 'number') || "),E+=" "+I+" == 'number' ? ( ("+x+" = "+S+" === undefined || "+N+" "+M+"= "+S+") ? "+y+" "+T+"= "+N+" : "+y+" "+T+" "+S+" ) : ( ("+x+" = "+N+" === true) ? "+y+" "+T+"= "+S+" : "+y+" "+T+" "+S+" ) || "+y+" !== "+y+") { var op"+B+" = "+x+" ? '"+M+"' : '"+M+"=';"}else if(P=M,(k="number"==typeof A)&&C){var $="'"+P+"'";E+=" if ( ",C&&(E+=" ("+S+" !== undefined && typeof "+S+" != 'number') || "),E+=" ( "+S+" === undefined || "+A+" "+M+"= "+S+" ? "+y+" "+T+"= "+A+" : "+y+" "+T+" "+S+" ) || "+y+" !== "+y+") { "}else k&&void 0===F?(x=!0,f=v,_=w.errSchemaPath+"/"+v,S=A,T+="="):(k&&(S=Math[g?"min":"max"](A,F)),A===(!k||S)?(x=!0,f=v,_=w.errSchemaPath+"/"+v,T+="="):(x=!1,P+="=")),$="'"+P+"'",E+=" if ( ",C&&(E+=" ("+S+" !== undefined && typeof "+S+" != 'number') || "),E+=" "+y+" "+T+" "+S+" || "+y+" !== "+y+") { ";return f=f||H,(V=V||[]).push(E),E="",!1!==w.createErrors?(E+=" { keyword: '"+(f||"_limit")+"' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { comparison: "+$+", limit: "+S+", exclusive: "+x+" } ",!1!==w.opts.messages&&(E+=" , message: 'should be "+P+" ",E+=C?"' + "+S:S+"'"),w.opts.verbose&&(E+=" , schema:  ",E+=C?"validate.schema"+R:""+F,E+="         , parentSchema: validate.schema"+w.schemaPath+" , data: "+y+" "),E+=" } "):E+=" {} ",U=E,E=V.pop(),E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+U+"]); ":" validate.errors = ["+U+"]; return false; ":" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E+=" } ",m&&(E+=" else { "),E}},6844:Te=>{"use strict";Te.exports=function(w,H,W){var S,E=" ",B=w.level,r=w.dataLevel,F=w.schema[H],R=w.schemaPath+w.util.getProperty(H),_=w.errSchemaPath+"/"+H,m=!w.opts.allErrors,y="data"+(r||""),C=w.opts.$data&&F&&F.$data;C?(E+=" var schema"+B+" = "+w.util.getData(F.$data,r,w.dataPathArr)+"; ",S="schema"+B):S=F,E+="if ( ",C&&(E+=" ("+S+" !== undefined && typeof "+S+" != 'number') || ");var f=H,v=v||[];v.push(E+=" "+y+".length "+("maxItems"==H?">":"<")+" "+S+") { "),E="",!1!==w.createErrors?(E+=" { keyword: '"+(f||"_limitItems")+"' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { limit: "+S+" } ",!1!==w.opts.messages&&(E+=" , message: 'should NOT have ",E+="maxItems"==H?"more":"less",E+=" than ",E+=C?"' + "+S+" + '":""+F,E+=" items' "),w.opts.verbose&&(E+=" , schema:  ",E+=C?"validate.schema"+R:""+F,E+="         , parentSchema: validate.schema"+w.schemaPath+" , data: "+y+" "),E+=" } "):E+=" {} ";var A=E;return E=v.pop(),E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+A+"]); ":" validate.errors = ["+A+"]; return false; ":" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E+="} ",m&&(E+=" else { "),E}},1720:Te=>{"use strict";Te.exports=function(w,H,W){var S,E=" ",B=w.level,r=w.dataLevel,F=w.schema[H],R=w.schemaPath+w.util.getProperty(H),_=w.errSchemaPath+"/"+H,m=!w.opts.allErrors,y="data"+(r||""),C=w.opts.$data&&F&&F.$data;C?(E+=" var schema"+B+" = "+w.util.getData(F.$data,r,w.dataPathArr)+"; ",S="schema"+B):S=F,E+="if ( ",C&&(E+=" ("+S+" !== undefined && typeof "+S+" != 'number') || "),E+=!1===w.opts.unicode?" "+y+".length ":" ucs2length("+y+") ";var f=H,v=v||[];v.push(E+=" "+("maxLength"==H?">":"<")+" "+S+") { "),E="",!1!==w.createErrors?(E+=" { keyword: '"+(f||"_limitLength")+"' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { limit: "+S+" } ",!1!==w.opts.messages&&(E+=" , message: 'should NOT be ",E+="maxLength"==H?"longer":"shorter",E+=" than ",E+=C?"' + "+S+" + '":""+F,E+=" characters' "),w.opts.verbose&&(E+=" , schema:  ",E+=C?"validate.schema"+R:""+F,E+="         , parentSchema: validate.schema"+w.schemaPath+" , data: "+y+" "),E+=" } "):E+=" {} ";var A=E;return E=v.pop(),E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+A+"]); ":" validate.errors = ["+A+"]; return false; ":" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E+="} ",m&&(E+=" else { "),E}},8408:Te=>{"use strict";Te.exports=function(w,H,W){var S,E=" ",B=w.level,r=w.dataLevel,F=w.schema[H],R=w.schemaPath+w.util.getProperty(H),_=w.errSchemaPath+"/"+H,m=!w.opts.allErrors,y="data"+(r||""),C=w.opts.$data&&F&&F.$data;C?(E+=" var schema"+B+" = "+w.util.getData(F.$data,r,w.dataPathArr)+"; ",S="schema"+B):S=F,E+="if ( ",C&&(E+=" ("+S+" !== undefined && typeof "+S+" != 'number') || ");var f=H,v=v||[];v.push(E+=" Object.keys("+y+").length "+("maxProperties"==H?">":"<")+" "+S+") { "),E="",!1!==w.createErrors?(E+=" { keyword: '"+(f||"_limitProperties")+"' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { limit: "+S+" } ",!1!==w.opts.messages&&(E+=" , message: 'should NOT have ",E+="maxProperties"==H?"more":"less",E+=" than ",E+=C?"' + "+S+" + '":""+F,E+=" properties' "),w.opts.verbose&&(E+=" , schema:  ",E+=C?"validate.schema"+R:""+F,E+="         , parentSchema: validate.schema"+w.schemaPath+" , data: "+y+" "),E+=" } "):E+=" {} ";var A=E;return E=v.pop(),E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+A+"]); ":" validate.errors = ["+A+"]; return false; ":" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E+="} ",m&&(E+=" else { "),E}},763:Te=>{"use strict";Te.exports=function(w,H,W){var E=" ",B=w.schema[H],r=w.schemaPath+w.util.getProperty(H),F=w.errSchemaPath+"/"+H,R=!w.opts.allErrors,_=w.util.copy(w),m="";_.level++;var f="valid"+_.level,y=_.baseId,C=!0,S=B;if(S)for(var g,v=-1,A=S.length-1;v<A;)g=S[v+=1],w.util.schemaHasRules(g,w.RULES.all)&&(C=!1,_.schema=g,_.schemaPath=r+"["+v+"]",_.errSchemaPath=F+"/"+v,E+="  "+w.validate(_)+" ",_.baseId=y,R&&(E+=" if ("+f+") { ",m+="}"));return R&&(E+=C?" if (true) { ":" "+m.slice(0,-1)+" "),w.util.cleanUpCode(E)}},7512:Te=>{"use strict";Te.exports=function(w,H,W){var E=" ",B=w.level,r=w.dataLevel,F=w.schema[H],R=w.schemaPath+w.util.getProperty(H),_=w.errSchemaPath+"/"+H,m=!w.opts.allErrors,f="data"+(r||""),y="valid"+B,C="errs__"+B,S=w.util.copy(w),g="";S.level++;var v="valid"+S.level;if(F.every(function(k){return w.util.schemaHasRules(k,w.RULES.all)})){var D=S.baseId;E+=" var "+C+" = errors; var "+y+" = false;  ";var M=w.compositeRule;w.compositeRule=S.compositeRule=!0;var T=F;if(T)for(var N,x=-1,I=T.length-1;x<I;)N=T[x+=1],S.schema=N,S.schemaPath=R+"["+x+"]",S.errSchemaPath=_+"/"+x,E+="  "+w.validate(S)+" ",S.baseId=D,E+=" "+y+" = "+y+" || "+v+"; if (!"+y+") { ",g+="}";w.compositeRule=S.compositeRule=M,E+=" "+g+" if (!"+y+") {   var err =   ",!1!==w.createErrors?(E+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: {} ",!1!==w.opts.messages&&(E+=" , message: 'should match some schema in anyOf' "),w.opts.verbose&&(E+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ",E+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!w.compositeRule&&m&&(E+=w.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),E+=" } else {  errors = "+C+"; if (vErrors !== null) { if ("+C+") vErrors.length = "+C+"; else vErrors = null; } ",w.opts.allErrors&&(E+=" } "),E=w.util.cleanUpCode(E)}else m&&(E+=" if (true) { ");return E}},1769:Te=>{"use strict";Te.exports=function(w,H,W){var E=" ",B=w.level,r=w.dataLevel,F=w.schema[H],R=w.schemaPath+w.util.getProperty(H),_=w.errSchemaPath+"/"+H,m=!w.opts.allErrors,f="data"+(r||""),y="valid"+B,C=w.opts.$data&&F&&F.$data;C&&(E+=" var schema"+B+" = "+w.util.getData(F.$data,r,w.dataPathArr)+"; "),C||(E+=" var schema"+B+" = validate.schema"+R+";");var g=g||[];g.push(E+="var "+y+" = equal("+f+", schema"+B+"); if (!"+y+") {   "),E="",!1!==w.createErrors?(E+=" { keyword: 'const' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: {} ",!1!==w.opts.messages&&(E+=" , message: 'should be equal to constant' "),w.opts.verbose&&(E+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ";var v=E;return E=g.pop(),E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E+=" }",m&&(E+=" else { "),E}},9191:Te=>{"use strict";Te.exports=function(w,H,W){var E=" ",B=w.level,r=w.dataLevel,F=w.schema[H],R=w.schemaPath+w.util.getProperty(H),_=w.errSchemaPath+"/"+H,m=!w.opts.allErrors,f="data"+(r||""),y="valid"+B,C="errs__"+B,S=w.util.copy(w);S.level++;var v="valid"+S.level,A="i"+B,D=S.dataLevel=w.dataLevel+1,M="data"+D,T=w.baseId,N=w.util.schemaHasRules(F,w.RULES.all);if(E+="var "+C+" = errors;var "+y+";",N){var x=w.compositeRule;w.compositeRule=S.compositeRule=!0,S.schema=F,S.schemaPath=R,S.errSchemaPath=_,E+=" var "+v+" = false; for (var "+A+" = 0; "+A+" < "+f+".length; "+A+"++) { ",S.errorPath=w.util.getPathExpr(w.errorPath,A,w.opts.jsonPointers,!0);var I=f+"["+A+"]";S.dataPathArr[D]=A;var k=w.validate(S);S.baseId=T,w.util.varOccurences(k,M)<2?E+=" "+w.util.varReplace(k,M,I)+" ":E+=" var "+M+" = "+I+"; "+k+" ",E+=" if ("+v+") break; }  ",w.compositeRule=S.compositeRule=x,E+="  if (!"+v+") {"}else E+=" if ("+f+".length == 0) {";var $=$||[];$.push(E),E="",!1!==w.createErrors?(E+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: {} ",!1!==w.opts.messages&&(E+=" , message: 'should contain a valid item' "),w.opts.verbose&&(E+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ";var P=E;return E=$.pop(),E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+P+"]); ":" validate.errors = ["+P+"]; return false; ":" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E+=" } else { ",N&&(E+="  errors = "+C+"; if (vErrors !== null) { if ("+C+") vErrors.length = "+C+"; else vErrors = null; } "),w.opts.allErrors&&(E+=" } "),w.util.cleanUpCode(E)}},8860:Te=>{"use strict";Te.exports=function(w,H,W){var f,v,E=" ",B=w.level,r=w.dataLevel,F=w.schema[H],R=w.schemaPath+w.util.getProperty(H),_=w.errSchemaPath+"/"+H,m=!w.opts.allErrors,y="data"+(r||""),C="valid"+B,S="errs__"+B,g=w.opts.$data&&F&&F.$data;g?(E+=" var schema"+B+" = "+w.util.getData(F.$data,r,w.dataPathArr)+"; ",v="schema"+B):v=F;var N,x,I,k,$,A=this,D="definition"+B,M=A.definition,T="";if(g&&M.$data){var P=M.validateSchema;E+=" var "+D+" = RULES.custom['"+H+"'].definition; var "+($="keywordValidate"+B)+" = "+D+".validate;"}else{if(!(k=w.useCustomRule(A,F,w.schema,w)))return;v="validate.schema"+R,$=k.code,N=M.compile,x=M.inline,I=M.macro}var V=$+".errors",U="i"+B,X="ruleErr"+B,ie=M.async;if(ie&&!w.async)throw new Error("async keyword in sync schema");if(x||I||(E+=V+" = null;"),E+="var "+S+" = errors;var "+C+";",g&&M.$data&&(T+="}",E+=" if ("+v+" === undefined) { "+C+" = true; } else { ",P&&(T+="}",E+=" "+C+" = "+D+".validateSchema("+v+"); if ("+C+") { ")),x)E+=M.statements?" "+k.validate+" ":" "+C+" = "+k.validate+"; ";else if(I){var ee=w.util.copy(w);T="",ee.level++;var ce="valid"+ee.level;ee.schema=k.validate,ee.schemaPath="";var _e=w.compositeRule;w.compositeRule=ee.compositeRule=!0;var xe=w.validate(ee).replace(/validate\.schema/g,$);w.compositeRule=ee.compositeRule=_e,E+=" "+xe}else{(we=we||[]).push(E),E="",E+="  "+$+".call( ",E+=w.opts.passContext?"this":"self",E+=N||!1===M.schema?" , "+y+" ":" , "+v+" , "+y+" , validate.schema"+w.schemaPath+" ",E+=" , (dataPath || '')",'""'!=w.errorPath&&(E+=" + "+w.errorPath);var Se=r?"data"+(r-1||""):"parentData",le=r?w.dataPathArr[r]:"parentDataProperty",ye=E+=" , "+Se+" , "+le+" , rootData )  ";E=we.pop(),!1===M.errors?(E+=" "+C+" = ",ie&&(E+=""+w.yieldAwait),E+=ye+"; "):E+=ie?" var "+(V="customErrors"+B)+" = null; try { "+C+" = "+w.yieldAwait+ye+"; } catch (e) { "+C+" = false; if (e instanceof ValidationError) "+V+" = e.errors; else throw e; } ":" "+V+" = null; "+C+" = "+ye+"; "}if(M.modifying&&(E+=" if ("+Se+") "+y+" = "+Se+"["+le+"];"),E+=""+T,M.valid)m&&(E+=" if (true) { ");else{var we;E+=" if ( ",void 0===M.valid?(E+=" !",E+=I?""+ce:""+C):E+=" "+!M.valid+" ",f=A.keyword,(we=we||[]).push(E+=") { "),(we=we||[]).push(E=""),E="",!1!==w.createErrors?(E+=" { keyword: '"+(f||"custom")+"' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { keyword: '"+A.keyword+"' } ",!1!==w.opts.messages&&(E+=" , message: 'should pass \""+A.keyword+"\" keyword validation' "),w.opts.verbose&&(E+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+y+" "),E+=" } "):E+=" {} ";var Ce=E;E=we.pop();var ge=E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+Ce+"]); ":" validate.errors = ["+Ce+"]; return false; ":" var err = "+Ce+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";E=we.pop(),x?M.errors?"full"!=M.errors&&(E+="  for (var "+U+"="+S+"; "+U+"<errors; "+U+"++) { var "+X+" = vErrors["+U+"]; if ("+X+".dataPath === undefined) "+X+".dataPath = (dataPath || '') + "+w.errorPath+"; if ("+X+".schemaPath === undefined) { "+X+'.schemaPath = "'+_+'"; } ',w.opts.verbose&&(E+=" "+X+".schema = "+v+"; "+X+".data = "+y+"; "),E+=" } "):!1===M.errors?E+=" "+ge+" ":(E+=" if ("+S+" == errors) { "+ge+" } else {  for (var "+U+"="+S+"; "+U+"<errors; "+U+"++) { var "+X+" = vErrors["+U+"]; if ("+X+".dataPath === undefined) "+X+".dataPath = (dataPath || '') + "+w.errorPath+"; if ("+X+".schemaPath === undefined) { "+X+'.schemaPath = "'+_+'"; } ',w.opts.verbose&&(E+=" "+X+".schema = "+v+"; "+X+".data = "+y+"; "),E+=" } } "):I?(E+="   var err =   ",!1!==w.createErrors?(E+=" { keyword: '"+(f||"custom")+"' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { keyword: '"+A.keyword+"' } ",!1!==w.opts.messages&&(E+=" , message: 'should pass \""+A.keyword+"\" keyword validation' "),w.opts.verbose&&(E+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+y+" "),E+=" } "):E+=" {} ",E+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!w.compositeRule&&m&&(E+=w.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):!1===M.errors?E+=" "+ge+" ":(E+=" if (Array.isArray("+V+")) { if (vErrors === null) vErrors = "+V+"; else vErrors = vErrors.concat("+V+"); errors = vErrors.length;  for (var "+U+"="+S+"; "+U+"<errors; "+U+"++) { var "+X+" = vErrors["+U+"]; if ("+X+".dataPath === undefined) "+X+".dataPath = (dataPath || '') + "+w.errorPath+";  "+X+'.schemaPath = "'+_+'";  ',w.opts.verbose&&(E+=" "+X+".schema = "+v+"; "+X+".data = "+y+"; "),E+=" } } else { "+ge+" } "),E+=" } ",m&&(E+=" else { ")}return E}},7978:Te=>{"use strict";Te.exports=function(w,H,W){var E=" ",B=w.level,r=w.dataLevel,F=w.schema[H],R=w.schemaPath+w.util.getProperty(H),_=w.errSchemaPath+"/"+H,m=!w.opts.allErrors,f="data"+(r||""),y="errs__"+B,C=w.util.copy(w),S="";C.level++;var g="valid"+C.level,v={},A={},D=w.opts.ownProperties;for(x in F){var M=F[x],T=Array.isArray(M)?A:v;T[x]=M}E+="var "+y+" = errors;";var N=w.errorPath;for(var x in E+="var missing"+B+";",A)if((T=A[x]).length){if(E+=" if ( "+f+w.util.getProperty(x)+" !== undefined ",D&&(E+=" && Object.prototype.hasOwnProperty.call("+f+", '"+w.util.escapeQuotes(x)+"') "),m){E+=" && ( ";var I=T;if(I)for(var $=-1,P=I.length-1;$<P;)k=I[$+=1],$&&(E+=" || "),E+=" ( ( "+(U=f+(V=w.util.getProperty(k)))+" === undefined ",D&&(E+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+w.util.escapeQuotes(k)+"') "),E+=") && (missing"+B+" = "+w.util.toQuotedString(w.opts.jsonPointers?k:V)+") ) ";E+=")) {  ";var X="missing"+B,ie="' + "+X+" + '";w.opts._errorDataPathProperty&&(w.errorPath=w.opts.jsonPointers?w.util.getPathExpr(N,X,!0):N+" + "+X);var ee=ee||[];ee.push(E),E="",!1!==w.createErrors?(E+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { property: '"+w.util.escapeQuotes(x)+"', missingProperty: '"+ie+"', depsCount: "+T.length+", deps: '"+w.util.escapeQuotes(1==T.length?T[0]:T.join(", "))+"' } ",!1!==w.opts.messages&&(E+=" , message: 'should have ",E+=1==T.length?"property "+w.util.escapeQuotes(T[0]):"properties "+w.util.escapeQuotes(T.join(", ")),E+=" when property "+w.util.escapeQuotes(x)+" is present' "),w.opts.verbose&&(E+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ";var ce=E;E=ee.pop(),E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+ce+"]); ":" validate.errors = ["+ce+"]; return false; ":" var err = "+ce+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{E+=" ) { ";var _e=T;if(_e)for(var k,xe=-1,we=_e.length-1;xe<we;){k=_e[xe+=1];var V=w.util.getProperty(k),U=(ie=w.util.escapeQuotes(k),f+V);w.opts._errorDataPathProperty&&(w.errorPath=w.util.getPath(N,k,w.opts.jsonPointers)),E+=" if ( "+U+" === undefined ",D&&(E+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+w.util.escapeQuotes(k)+"') "),E+=") {  var err =   ",!1!==w.createErrors?(E+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { property: '"+w.util.escapeQuotes(x)+"', missingProperty: '"+ie+"', depsCount: "+T.length+", deps: '"+w.util.escapeQuotes(1==T.length?T[0]:T.join(", "))+"' } ",!1!==w.opts.messages&&(E+=" , message: 'should have ",E+=1==T.length?"property "+w.util.escapeQuotes(T[0]):"properties "+w.util.escapeQuotes(T.join(", ")),E+=" when property "+w.util.escapeQuotes(x)+" is present' "),w.opts.verbose&&(E+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ",E+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}E+=" }   ",m&&(S+="}",E+=" else { ")}w.errorPath=N;var Se=C.baseId;for(var x in v)w.util.schemaHasRules(M=v[x],w.RULES.all)&&(E+=" "+g+" = true; if ( "+f+w.util.getProperty(x)+" !== undefined ",D&&(E+=" && Object.prototype.hasOwnProperty.call("+f+", '"+w.util.escapeQuotes(x)+"') "),E+=") { ",C.schema=M,C.schemaPath=R+w.util.getProperty(x),C.errSchemaPath=_+"/"+w.util.escapeFragment(x),E+="  "+w.validate(C)+" ",C.baseId=Se,E+=" }  ",m&&(E+=" if ("+g+") { ",S+="}"));return m&&(E+="   "+S+" if ("+y+" == errors) {"),w.util.cleanUpCode(E)}},7238:Te=>{"use strict";Te.exports=function(w,H,W){var E=" ",B=w.level,r=w.dataLevel,F=w.schema[H],R=w.schemaPath+w.util.getProperty(H),_=w.errSchemaPath+"/"+H,m=!w.opts.allErrors,f="data"+(r||""),y="valid"+B,C=w.opts.$data&&F&&F.$data;C&&(E+=" var schema"+B+" = "+w.util.getData(F.$data,r,w.dataPathArr)+"; ");var g="i"+B,v="schema"+B;C||(E+=" var "+v+" = validate.schema"+R+";"),E+="var "+y+";",C&&(E+=" if (schema"+B+" === undefined) "+y+" = true; else if (!Array.isArray(schema"+B+")) "+y+" = false; else {"),E+=y+" = false;for (var "+g+"=0; "+g+"<"+v+".length; "+g+"++) if (equal("+f+", "+v+"["+g+"])) { "+y+" = true; break; }",C&&(E+="  }  ");var A=A||[];A.push(E+=" if (!"+y+") {   "),E="",!1!==w.createErrors?(E+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { allowedValues: schema"+B+" } ",!1!==w.opts.messages&&(E+=" , message: 'should be equal to one of the allowed values' "),w.opts.verbose&&(E+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ";var D=E;return E=A.pop(),E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+D+"]); ":" validate.errors = ["+D+"]; return false; ":" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E+=" }",m&&(E+=" else { "),E}},4324:Te=>{"use strict";Te.exports=function(w,H,W){var E=" ",B=w.level,r=w.dataLevel,F=w.schema[H],R=w.schemaPath+w.util.getProperty(H),_=w.errSchemaPath+"/"+H,m=!w.opts.allErrors,f="data"+(r||"");if(!1===w.opts.format)return m&&(E+=" if (true) { "),E;var C,y=w.opts.$data&&F&&F.$data;y?(E+=" var schema"+B+" = "+w.util.getData(F.$data,r,w.dataPathArr)+"; ",C="schema"+B):C=F;var S=w.opts.unknownFormats,g=Array.isArray(S);if(y)E+=" var "+(v="format"+B)+" = formats["+C+"]; var "+(A="isObject"+B)+" = typeof "+v+" == 'object' && !("+v+" instanceof RegExp) && "+v+".validate; var "+(D="formatType"+B)+" = "+A+" && "+v+".type || 'string'; if ("+A+") { ",w.async&&(E+=" var async"+B+" = "+v+".async; "),E+=" "+v+" = "+v+".validate; } if (  ",y&&(E+=" ("+C+" !== undefined && typeof "+C+" != 'string') || "),E+=" (","ignore"!=S&&(E+=" ("+C+" && !"+v+" ",g&&(E+=" && self._opts.unknownFormats.indexOf("+C+") == -1 "),E+=") || "),E+=" ("+v+" && "+D+" == '"+W+"' && !(typeof "+v+" == 'function' ? ",E+=w.async?" (async"+B+" ? "+w.yieldAwait+" "+v+"("+f+") : "+v+"("+f+")) ":" "+v+"("+f+") ",E+=" : "+v+".test("+f+"))))) {";else{var v;if(!(v=w.formats[F])){if("ignore"==S)return w.logger.warn('unknown format "'+F+'" ignored in schema at path "'+w.errSchemaPath+'"'),m&&(E+=" if (true) { "),E;if(g&&S.indexOf(F)>=0)return m&&(E+=" if (true) { "),E;throw new Error('unknown format "'+F+'" is used in schema at path "'+w.errSchemaPath+'"')}var A,D=(A="object"==typeof v&&!(v instanceof RegExp)&&v.validate)&&v.type||"string";if(A){var M=!0===v.async;v=v.validate}if(D!=W)return m&&(E+=" if (true) { "),E;if(M){if(!w.async)throw new Error("async format in sync schema");var T="formats"+w.util.getProperty(F)+".validate";E+=" if (!("+w.yieldAwait+" "+T+"("+f+"))) { "}else E+=" if (! ",T="formats"+w.util.getProperty(F),A&&(T+=".validate"),E+="function"==typeof v?" "+T+"("+f+") ":" "+T+".test("+f+") ",E+=") { "}var N=N||[];N.push(E),E="",!1!==w.createErrors?(E+=" { keyword: 'format' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { format:  ",E+=y?""+C:""+w.util.toQuotedString(F),E+="  } ",!1!==w.opts.messages&&(E+=" , message: 'should match format \"",E+=y?"' + "+C+" + '":""+w.util.escapeQuotes(F),E+="\"' "),w.opts.verbose&&(E+=" , schema:  ",E+=y?"validate.schema"+R:""+w.util.toQuotedString(F),E+="         , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ";var x=E;return E=N.pop(),E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E+=" } ",m&&(E+=" else { "),E}},8103:Te=>{"use strict";Te.exports=function(w,H,W){var E=" ",B=w.level,r=w.dataLevel,F=w.schema[H],R=w.schemaPath+w.util.getProperty(H),_=w.errSchemaPath+"/"+H,m=!w.opts.allErrors,f="data"+(r||""),y="valid"+B,C="errs__"+B,S=w.util.copy(w),g="";S.level++;var v="valid"+S.level,A="i"+B,D=S.dataLevel=w.dataLevel+1,M="data"+D,T=w.baseId;if(E+="var "+C+" = errors;var "+y+";",Array.isArray(F)){var N=w.schema.additionalItems;if(!1===N){E+=" "+y+" = "+f+".length <= "+F.length+"; ";var x=_;_=w.errSchemaPath+"/additionalItems";var I=I||[];I.push(E+="  if (!"+y+") {   "),E="",!1!==w.createErrors?(E+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { limit: "+F.length+" } ",!1!==w.opts.messages&&(E+=" , message: 'should NOT have more than "+F.length+" items' "),w.opts.verbose&&(E+=" , schema: false , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ";var k=E;E=I.pop(),E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+k+"]); ":" validate.errors = ["+k+"]; return false; ":" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E+=" } ",_=x,m&&(g+="}",E+=" else { ")}var $=F;if($)for(var P,V=-1,U=$.length-1;V<U;)if(P=$[V+=1],w.util.schemaHasRules(P,w.RULES.all)){E+=" "+v+" = true; if ("+f+".length > "+V+") { ";var X=f+"["+V+"]";S.schema=P,S.schemaPath=R+"["+V+"]",S.errSchemaPath=_+"/"+V,S.errorPath=w.util.getPathExpr(w.errorPath,V,w.opts.jsonPointers,!0),S.dataPathArr[D]=V;var ie=w.validate(S);S.baseId=T,w.util.varOccurences(ie,M)<2?E+=" "+w.util.varReplace(ie,M,X)+" ":E+=" var "+M+" = "+X+"; "+ie+" ",E+=" }  ",m&&(E+=" if ("+v+") { ",g+="}")}"object"==typeof N&&w.util.schemaHasRules(N,w.RULES.all)&&(S.schema=N,S.schemaPath=w.schemaPath+".additionalItems",S.errSchemaPath=w.errSchemaPath+"/additionalItems",E+=" "+v+" = true; if ("+f+".length > "+F.length+") {  for (var "+A+" = "+F.length+"; "+A+" < "+f+".length; "+A+"++) { ",S.errorPath=w.util.getPathExpr(w.errorPath,A,w.opts.jsonPointers,!0),X=f+"["+A+"]",S.dataPathArr[D]=A,ie=w.validate(S),S.baseId=T,w.util.varOccurences(ie,M)<2?E+=" "+w.util.varReplace(ie,M,X)+" ":E+=" var "+M+" = "+X+"; "+ie+" ",m&&(E+=" if (!"+v+") break; "),E+=" } }  ",m&&(E+=" if ("+v+") { ",g+="}"))}else w.util.schemaHasRules(F,w.RULES.all)&&(S.schema=F,S.schemaPath=R,S.errSchemaPath=_,E+="  for (var "+A+" = 0; "+A+" < "+f+".length; "+A+"++) { ",S.errorPath=w.util.getPathExpr(w.errorPath,A,w.opts.jsonPointers,!0),X=f+"["+A+"]",S.dataPathArr[D]=A,ie=w.validate(S),S.baseId=T,w.util.varOccurences(ie,M)<2?E+=" "+w.util.varReplace(ie,M,X)+" ":E+=" var "+M+" = "+X+"; "+ie+" ",m&&(E+=" if (!"+v+") break; "),E+=" }");return m&&(E+=" "+g+" if ("+C+" == errors) {"),w.util.cleanUpCode(E)}},3277:Te=>{"use strict";Te.exports=function(w,H,W){var C,E=" ",B=w.level,r=w.dataLevel,F=w.schema[H],R=w.schemaPath+w.util.getProperty(H),_=w.errSchemaPath+"/"+H,m=!w.opts.allErrors,f="data"+(r||""),y=w.opts.$data&&F&&F.$data;y?(E+=" var schema"+B+" = "+w.util.getData(F.$data,r,w.dataPathArr)+"; ",C="schema"+B):C=F,E+="var division"+B+";if (",y&&(E+=" "+C+" !== undefined && ( typeof "+C+" != 'number' || "),E+=" (division"+B+" = "+f+" / "+C+", ",E+=w.opts.multipleOfPrecision?" Math.abs(Math.round(division"+B+") - division"+B+") > 1e-"+w.opts.multipleOfPrecision+" ":" division"+B+" !== parseInt(division"+B+") ",E+=" ) ",y&&(E+="  )  ");var S=S||[];S.push(E+=" ) {   "),E="",!1!==w.createErrors?(E+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { multipleOf: "+C+" } ",!1!==w.opts.messages&&(E+=" , message: 'should be multiple of ",E+=y?"' + "+C:C+"'"),w.opts.verbose&&(E+=" , schema:  ",E+=y?"validate.schema"+R:""+F,E+="         , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ";var g=E;return E=S.pop(),E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E+="} ",m&&(E+=" else { "),E}},6566:Te=>{"use strict";Te.exports=function(w,H,W){var E=" ",B=w.level,r=w.dataLevel,F=w.schema[H],R=w.schemaPath+w.util.getProperty(H),_=w.errSchemaPath+"/"+H,m=!w.opts.allErrors,f="data"+(r||""),y="errs__"+B,C=w.util.copy(w);C.level++;var S="valid"+C.level;if(w.util.schemaHasRules(F,w.RULES.all)){C.schema=F,C.schemaPath=R,C.errSchemaPath=_,E+=" var "+y+" = errors;  ";var v,g=w.compositeRule;w.compositeRule=C.compositeRule=!0,C.createErrors=!1,C.opts.allErrors&&(v=C.opts.allErrors,C.opts.allErrors=!1),E+=" "+w.validate(C)+" ",C.createErrors=!0,v&&(C.opts.allErrors=v),w.compositeRule=C.compositeRule=g;var A=A||[];A.push(E+=" if ("+S+") {   "),E="",!1!==w.createErrors?(E+=" { keyword: 'not' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: {} ",!1!==w.opts.messages&&(E+=" , message: 'should NOT be valid' "),w.opts.verbose&&(E+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ";var D=E;E=A.pop(),E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+D+"]); ":" validate.errors = ["+D+"]; return false; ":" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E+=" } else {  errors = "+y+"; if (vErrors !== null) { if ("+y+") vErrors.length = "+y+"; else vErrors = null; } ",w.opts.allErrors&&(E+=" } ")}else E+="  var err =   ",!1!==w.createErrors?(E+=" { keyword: 'not' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: {} ",!1!==w.opts.messages&&(E+=" , message: 'should NOT be valid' "),w.opts.verbose&&(E+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ",E+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m&&(E+=" if (false) { ");return E}},6916:Te=>{"use strict";Te.exports=function(w,H,W){var E=" ",B=w.level,r=w.dataLevel,F=w.schema[H],R=w.schemaPath+w.util.getProperty(H),_=w.errSchemaPath+"/"+H,m=!w.opts.allErrors,f="data"+(r||""),y="valid"+B,C="errs__"+B,S=w.util.copy(w),g="";S.level++;var v="valid"+S.level;E+="var "+C+" = errors;var prevValid"+B+" = false;var "+y+" = false;";var A=S.baseId,D=w.compositeRule;w.compositeRule=S.compositeRule=!0;var M=F;if(M)for(var T,N=-1,x=M.length-1;N<x;)T=M[N+=1],w.util.schemaHasRules(T,w.RULES.all)?(S.schema=T,S.schemaPath=R+"["+N+"]",S.errSchemaPath=_+"/"+N,E+="  "+w.validate(S)+" ",S.baseId=A):E+=" var "+v+" = true; ",N&&(E+=" if ("+v+" && prevValid"+B+") "+y+" = false; else { ",g+="}"),E+=" if ("+v+") "+y+" = prevValid"+B+" = true;";return w.compositeRule=S.compositeRule=D,E+=g+"if (!"+y+") {   var err =   ",!1!==w.createErrors?(E+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: {} ",!1!==w.opts.messages&&(E+=" , message: 'should match exactly one schema in oneOf' "),w.opts.verbose&&(E+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ",E+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!w.compositeRule&&m&&(E+=w.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),E+="} else {  errors = "+C+"; if (vErrors !== null) { if ("+C+") vErrors.length = "+C+"; else vErrors = null; }",w.opts.allErrors&&(E+=" } "),E}},6017:Te=>{"use strict";Te.exports=function(w,H,W){var C,E=" ",B=w.level,r=w.dataLevel,F=w.schema[H],R=w.schemaPath+w.util.getProperty(H),_=w.errSchemaPath+"/"+H,m=!w.opts.allErrors,f="data"+(r||""),y=w.opts.$data&&F&&F.$data;y?(E+=" var schema"+B+" = "+w.util.getData(F.$data,r,w.dataPathArr)+"; ",C="schema"+B):C=F;var S=y?"(new RegExp("+C+"))":w.usePattern(F);E+="if ( ",y&&(E+=" ("+C+" !== undefined && typeof "+C+" != 'string') || ");var g=g||[];g.push(E+=" !"+S+".test("+f+") ) {   "),E="",!1!==w.createErrors?(E+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { pattern:  ",E+=y?""+C:""+w.util.toQuotedString(F),E+="  } ",!1!==w.opts.messages&&(E+=" , message: 'should match pattern \"",E+=y?"' + "+C+" + '":""+w.util.escapeQuotes(F),E+="\"' "),w.opts.verbose&&(E+=" , schema:  ",E+=y?"validate.schema"+R:""+w.util.toQuotedString(F),E+="         , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ";var v=E;return E=g.pop(),E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E+="} ",m&&(E+=" else { "),E}},465:Te=>{"use strict";Te.exports=function(w,H,W){var E=" ",B=w.level,r=w.dataLevel,F=w.schema[H],R=w.schemaPath+w.util.getProperty(H),_=w.errSchemaPath+"/"+H,m=!w.opts.allErrors,f="data"+(r||""),y="valid"+B,C="errs__"+B,S=w.util.copy(w),g="";S.level++;var v="valid"+S.level,A="key"+B,D="idx"+B,M=S.dataLevel=w.dataLevel+1,T="data"+M,N="dataProperties"+B,x=Object.keys(F||{}),I=w.schema.patternProperties||{},k=Object.keys(I),$=w.schema.additionalProperties,P=x.length||k.length,V=!1===$,U="object"==typeof $&&Object.keys($).length,X=w.opts.removeAdditional,ie=V||U||X,ee=w.opts.ownProperties,ce=w.baseId,_e=w.schema.required;if(_e&&(!w.opts.v5||!_e.$data)&&_e.length<w.opts.loopRequired)var xe=w.util.toHash(_e);if(w.opts.patternGroups)var we=w.schema.patternGroups||{},Se=Object.keys(we);if(E+="var "+C+" = errors;var "+v+" = true;",ee&&(E+=" var "+N+" = undefined;"),ie){if(E+=ee?" "+N+" = "+N+" || Object.keys("+f+"); for (var "+D+"=0; "+D+"<"+N+".length; "+D+"++) { var "+A+" = "+N+"["+D+"]; ":" for (var "+A+" in "+f+") { ",P){if(E+=" var isAdditional"+B+" = !(false ",x.length)if(x.length>5)E+=" || validate.schema"+R+"["+A+"] ";else{var le=x;if(le)for(var Ce=-1,ge=le.length-1;Ce<ge;)ye=le[Ce+=1],E+=" || "+A+" == "+w.util.toQuotedString(ye)+" "}if(k.length){var se=k;if(se)for(var fe=-1,Re=se.length-1;fe<Re;)de=se[fe+=1],E+=" || "+w.usePattern(de)+".test("+A+") "}if(w.opts.patternGroups&&Se.length){var te=Se;if(te){fe=-1;for(var Fe=te.length-1;fe<Fe;)he=te[fe+=1],E+=" || "+w.usePattern(he)+".test("+A+") "}}E+=" ); if (isAdditional"+B+") { "}if("all"==X)E+=" delete "+f+"["+A+"]; ";else{var Ie=w.errorPath,Me="' + "+A+" + '";if(w.opts._errorDataPathProperty&&(w.errorPath=w.util.getPathExpr(w.errorPath,A,w.opts.jsonPointers)),V)if(X)E+=" delete "+f+"["+A+"]; ";else{var Ne=_;_=w.errSchemaPath+"/additionalProperties",(De=De||[]).push(E+=" "+v+" = false; "),E="",!1!==w.createErrors?(E+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { additionalProperty: '"+Me+"' } ",!1!==w.opts.messages&&(E+=" , message: 'should NOT have additional properties' "),w.opts.verbose&&(E+=" , schema: false , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ";var ke=E;E=De.pop(),E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+ke+"]); ":" validate.errors = ["+ke+"]; return false; ":" var err = "+ke+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",_=Ne,m&&(E+=" break; ")}else if(U)if("failing"==X){E+=" var "+C+" = errors;  ";var Ye=w.compositeRule;w.compositeRule=S.compositeRule=!0,S.schema=$,S.schemaPath=w.schemaPath+".additionalProperties",S.errSchemaPath=w.errSchemaPath+"/additionalProperties",S.errorPath=w.opts._errorDataPathProperty?w.errorPath:w.util.getPathExpr(w.errorPath,A,w.opts.jsonPointers);var rt=f+"["+A+"]";S.dataPathArr[M]=A;var be=w.validate(S);S.baseId=ce,w.util.varOccurences(be,T)<2?E+=" "+w.util.varReplace(be,T,rt)+" ":E+=" var "+T+" = "+rt+"; "+be+" ",E+=" if (!"+v+") { errors = "+C+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+f+"["+A+"]; }  ",w.compositeRule=S.compositeRule=Ye}else S.schema=$,S.schemaPath=w.schemaPath+".additionalProperties",S.errSchemaPath=w.errSchemaPath+"/additionalProperties",S.errorPath=w.opts._errorDataPathProperty?w.errorPath:w.util.getPathExpr(w.errorPath,A,w.opts.jsonPointers),rt=f+"["+A+"]",S.dataPathArr[M]=A,be=w.validate(S),S.baseId=ce,w.util.varOccurences(be,T)<2?E+=" "+w.util.varReplace(be,T,rt)+" ":E+=" var "+T+" = "+rt+"; "+be+" ",m&&(E+=" if (!"+v+") break; ");w.errorPath=Ie}P&&(E+=" } "),E+=" }  ",m&&(E+=" if ("+v+") { ",g+="}")}var Xe=w.opts.useDefaults&&!w.compositeRule;if(x.length){var je=x;if(je)for(var ye,Q=-1,it=je.length-1;Q<it;){if(ye=je[Q+=1],w.util.schemaHasRules(Lt=F[ye],w.RULES.all)){var Et=w.util.getProperty(ye),ne=(rt=f+Et,Xe&&void 0!==Lt.default);if(S.schema=Lt,S.schemaPath=R+Et,S.errSchemaPath=_+"/"+w.util.escapeFragment(ye),S.errorPath=w.util.getPath(w.errorPath,ye,w.opts.jsonPointers),S.dataPathArr[M]=w.util.toQuotedString(ye),be=w.validate(S),S.baseId=ce,w.util.varOccurences(be,T)<2){be=w.util.varReplace(be,T,rt);var ve=rt}else ve=T,E+=" var "+T+" = "+rt+"; ";if(ne)E+=" "+be+" ";else{if(xe&&xe[ye]){E+=" if ( "+ve+" === undefined ",ee&&(E+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+w.util.escapeQuotes(ye)+"') "),E+=") { "+v+" = false; ",Ie=w.errorPath,Ne=_;var Ee=w.util.escapeQuotes(ye);w.opts._errorDataPathProperty&&(w.errorPath=w.util.getPath(Ie,ye,w.opts.jsonPointers)),_=w.errSchemaPath+"/required",(De=De||[]).push(E),E="",!1!==w.createErrors?(E+=" { keyword: 'required' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { missingProperty: '"+Ee+"' } ",!1!==w.opts.messages&&(E+=" , message: '",E+=w.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+Ee+"\\'",E+="' "),w.opts.verbose&&(E+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ",ke=E,E=De.pop(),E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+ke+"]); ":" validate.errors = ["+ke+"]; return false; ":" var err = "+ke+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",_=Ne,w.errorPath=Ie,E+=" } else { "}else m?(E+=" if ( "+ve+" === undefined ",ee&&(E+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+w.util.escapeQuotes(ye)+"') "),E+=") { "+v+" = true; } else { "):(E+=" if ("+ve+" !== undefined ",ee&&(E+=" &&   Object.prototype.hasOwnProperty.call("+f+", '"+w.util.escapeQuotes(ye)+"') "),E+=" ) { ");E+=" "+be+" } "}}m&&(E+=" if ("+v+") { ",g+="}")}}if(k.length){var Le=k;if(Le)for(var de,ae=-1,ze=Le.length-1;ae<ze;)de=Le[ae+=1],w.util.schemaHasRules(Lt=I[de],w.RULES.all)&&(S.schema=Lt,S.schemaPath=w.schemaPath+".patternProperties"+w.util.getProperty(de),S.errSchemaPath=w.errSchemaPath+"/patternProperties/"+w.util.escapeFragment(de),E+=ee?" "+N+" = "+N+" || Object.keys("+f+"); for (var "+D+"=0; "+D+"<"+N+".length; "+D+"++) { var "+A+" = "+N+"["+D+"]; ":" for (var "+A+" in "+f+") { ",E+=" if ("+w.usePattern(de)+".test("+A+")) { ",S.errorPath=w.util.getPathExpr(w.errorPath,A,w.opts.jsonPointers),rt=f+"["+A+"]",S.dataPathArr[M]=A,be=w.validate(S),S.baseId=ce,w.util.varOccurences(be,T)<2?E+=" "+w.util.varReplace(be,T,rt)+" ":E+=" var "+T+" = "+rt+"; "+be+" ",m&&(E+=" if (!"+v+") break; "),E+=" } ",m&&(E+=" else "+v+" = true; "),E+=" }  ",m&&(E+=" if ("+v+") { ",g+="}"))}if(w.opts.patternGroups&&Se.length){var at=Se;if(at)for(var he,vt=-1,lt=at.length-1;vt<lt;){var Lt,ai=we[he=at[vt+=1]];if(w.util.schemaHasRules(Lt=ai.schema,w.RULES.all)){S.schema=Lt,S.schemaPath=w.schemaPath+".patternGroups"+w.util.getProperty(he)+".schema",S.errSchemaPath=w.errSchemaPath+"/patternGroups/"+w.util.escapeFragment(he)+"/schema",E+=" var pgPropCount"+B+" = 0;  ",E+=ee?" "+N+" = "+N+" || Object.keys("+f+"); for (var "+D+"=0; "+D+"<"+N+".length; "+D+"++) { var "+A+" = "+N+"["+D+"]; ":" for (var "+A+" in "+f+") { ",E+=" if ("+w.usePattern(he)+".test("+A+")) { pgPropCount"+B+"++; ",S.errorPath=w.util.getPathExpr(w.errorPath,A,w.opts.jsonPointers),rt=f+"["+A+"]",S.dataPathArr[M]=A,be=w.validate(S),S.baseId=ce,w.util.varOccurences(be,T)<2?E+=" "+w.util.varReplace(be,T,rt)+" ":E+=" var "+T+" = "+rt+"; "+be+" ",m&&(E+=" if (!"+v+") break; "),E+=" } ",m&&(E+=" else "+v+" = true; "),E+=" }  ",m&&(E+=" if ("+v+") { ",g+="}");var It=ai.minimum,Qe=ai.maximum;if(void 0!==It||void 0!==Qe){if(E+=" var "+y+" = true; ",Ne=_,void 0!==It){var Ht=It,Fr="minimum",Rn="less";E+=" "+y+" = pgPropCount"+B+" >= "+It+"; ",_=w.errSchemaPath+"/patternGroups/minimum",(De=De||[]).push(E+="  if (!"+y+") {   "),E="",!1!==w.createErrors?(E+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { reason: '"+Fr+"', limit: "+Ht+", pattern: '"+w.util.escapeQuotes(he)+"' } ",!1!==w.opts.messages&&(E+=" , message: 'should NOT have "+Rn+" than "+Ht+' properties matching pattern "'+w.util.escapeQuotes(he)+"\"' "),w.opts.verbose&&(E+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ",ke=E,E=De.pop(),E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+ke+"]); ":" validate.errors = ["+ke+"]; return false; ":" var err = "+ke+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E+=" } ",void 0!==Qe&&(E+=" else ")}var De;if(void 0!==Qe)Ht=Qe,Fr="maximum",Rn="more",E+=" "+y+" = pgPropCount"+B+" <= "+Qe+"; ",_=w.errSchemaPath+"/patternGroups/maximum",(De=De||[]).push(E+="  if (!"+y+") {   "),E="",!1!==w.createErrors?(E+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { reason: '"+Fr+"', limit: "+Ht+", pattern: '"+w.util.escapeQuotes(he)+"' } ",!1!==w.opts.messages&&(E+=" , message: 'should NOT have "+Rn+" than "+Ht+' properties matching pattern "'+w.util.escapeQuotes(he)+"\"' "),w.opts.verbose&&(E+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ",ke=E,E=De.pop(),E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+ke+"]); ":" validate.errors = ["+ke+"]; return false; ":" var err = "+ke+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E+=" } ";_=Ne,m&&(E+=" if ("+y+") { ",g+="}")}}}}return m&&(E+=" "+g+" if ("+C+" == errors) {"),w.util.cleanUpCode(E)}},4975:Te=>{"use strict";Te.exports=function(w,H,W){var E=" ",B=w.level,r=w.dataLevel,F=w.schema[H],R=w.schemaPath+w.util.getProperty(H),_=w.errSchemaPath+"/"+H,m=!w.opts.allErrors,f="data"+(r||""),y="errs__"+B,C=w.util.copy(w);C.level++;var g="valid"+C.level;if(w.util.schemaHasRules(F,w.RULES.all)){C.schema=F,C.schemaPath=R,C.errSchemaPath=_;var v="key"+B,A="idx"+B,D="i"+B,M="' + "+v+" + '",N="data"+(C.dataLevel=w.dataLevel+1),x="dataProperties"+B,I=w.opts.ownProperties,k=w.baseId;E+=" var "+y+" = errors; ",I&&(E+=" var "+x+" = undefined; "),E+=I?" "+x+" = "+x+" || Object.keys("+f+"); for (var "+A+"=0; "+A+"<"+x+".length; "+A+"++) { var "+v+" = "+x+"["+A+"]; ":" for (var "+v+" in "+f+") { ",E+=" var startErrs"+B+" = errors; ";var $=v,P=w.compositeRule;w.compositeRule=C.compositeRule=!0;var V=w.validate(C);C.baseId=k,w.util.varOccurences(V,N)<2?E+=" "+w.util.varReplace(V,N,$)+" ":E+=" var "+N+" = "+$+"; "+V+" ",w.compositeRule=C.compositeRule=P,E+=" if (!"+g+") { for (var "+D+"=startErrs"+B+"; "+D+"<errors; "+D+"++) { vErrors["+D+"].propertyName = "+v+"; }   var err =   ",!1!==w.createErrors?(E+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { propertyName: '"+M+"' } ",!1!==w.opts.messages&&(E+=" , message: 'property name \\'"+M+"\\' is invalid' "),w.opts.verbose&&(E+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ",E+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!w.compositeRule&&m&&(E+=w.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),m&&(E+=" break; "),E+=" } }"}return m&&(E+="  if ("+y+" == errors) {"),w.util.cleanUpCode(E)}},5174:Te=>{"use strict";Te.exports=function(w,H,W){var y,C,E=" ",r=w.dataLevel,F=w.schema[H],R=w.errSchemaPath+"/"+H,_=!w.opts.allErrors,m="data"+(r||""),f="valid"+w.level;if("#"==F||"#/"==F)w.isRoot?(y=w.async,C="validate"):(y=!0===w.root.schema.$async,C="root.refVal[0]");else{var S=w.resolveRef(w.baseId,F,w.isRoot);if(void 0===S){var g=w.MissingRefError.message(w.baseId,F);if("fail"==w.opts.missingRefs){w.logger.error(g),(v=v||[]).push(E),E="",!1!==w.createErrors?(E+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(R)+" , params: { ref: '"+w.util.escapeQuotes(F)+"' } ",!1!==w.opts.messages&&(E+=" , message: 'can\\'t resolve reference "+w.util.escapeQuotes(F)+"' "),w.opts.verbose&&(E+=" , schema: "+w.util.toQuotedString(F)+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+m+" "),E+=" } "):E+=" {} ";var A=E;E=v.pop(),E+=!w.compositeRule&&_?w.async?" throw new ValidationError(["+A+"]); ":" validate.errors = ["+A+"]; return false; ":" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",_&&(E+=" if (false) { ")}else{if("ignore"!=w.opts.missingRefs)throw new w.MissingRefError(w.baseId,F,g);w.logger.warn(g),_&&(E+=" if (true) { ")}}else if(S.inline){var D=w.util.copy(w);D.level++;var M="valid"+D.level;D.schema=S.schema,D.schemaPath="",D.errSchemaPath=F,E+=" "+w.validate(D).replace(/validate\.schema/g,S.code)+" ",_&&(E+=" if ("+M+") { ")}else y=!0===S.$async,C=S.code}if(C){var v;(v=v||[]).push(E),E="",E+=w.opts.passContext?" "+C+".call(this, ":" "+C+"( ",E+=" "+m+", (dataPath || '')",'""'!=w.errorPath&&(E+=" + "+w.errorPath);var I=E+=" , "+(r?"data"+(r-1||""):"parentData")+" , "+(r?w.dataPathArr[r]:"parentDataProperty")+", rootData)  ";if(E=v.pop(),y){if(!w.async)throw new Error("async schema referenced by sync schema");_&&(E+=" var "+f+"; "),E+=" try { "+w.yieldAwait+" "+I+"; ",_&&(E+=" "+f+" = true; "),E+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",_&&(E+=" "+f+" = false; "),E+=" } ",_&&(E+=" if ("+f+") { ")}else E+=" if (!"+I+") { if (vErrors === null) vErrors = "+C+".errors; else vErrors = vErrors.concat("+C+".errors); errors = vErrors.length; } ",_&&(E+=" else { ")}return E}},3269:Te=>{"use strict";Te.exports=function(w,H,W){var E=" ",B=w.level,r=w.dataLevel,F=w.schema[H],R=w.schemaPath+w.util.getProperty(H),_=w.errSchemaPath+"/"+H,m=!w.opts.allErrors,f="data"+(r||""),y="valid"+B,C=w.opts.$data&&F&&F.$data;C&&(E+=" var schema"+B+" = "+w.util.getData(F.$data,r,w.dataPathArr)+"; ");var g="schema"+B;if(!C)if(F.length<w.opts.loopRequired&&w.schema.properties&&Object.keys(w.schema.properties).length){var v=[],A=F;if(A)for(var D,M=-1,T=A.length-1;M<T;){D=A[M+=1];var N=w.schema.properties[D];N&&w.util.schemaHasRules(N,w.RULES.all)||(v[v.length]=D)}}else v=F;if(C||v.length){var x=w.errorPath,I=C||v.length>=w.opts.loopRequired,k=w.opts.ownProperties;if(m)if(E+=" var missing"+B+"; ",I){C||(E+=" var "+g+" = validate.schema"+R+"; ");var V="' + "+(P="schema"+B+"["+($="i"+B)+"]")+" + '";w.opts._errorDataPathProperty&&(w.errorPath=w.util.getPathExpr(x,P,w.opts.jsonPointers)),E+=" var "+y+" = true; ",C&&(E+=" if (schema"+B+" === undefined) "+y+" = true; else if (!Array.isArray(schema"+B+")) "+y+" = false; else {"),E+=" for (var "+$+" = 0; "+$+" < "+g+".length; "+$+"++) { "+y+" = "+f+"["+g+"["+$+"]] !== undefined ",k&&(E+=" &&   Object.prototype.hasOwnProperty.call("+f+", "+g+"["+$+"]) "),E+="; if (!"+y+") break; } ",C&&(E+="  }  "),(U=U||[]).push(E+="  if (!"+y+") {   "),E="",!1!==w.createErrors?(E+=" { keyword: 'required' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { missingProperty: '"+V+"' } ",!1!==w.opts.messages&&(E+=" , message: '",E+=w.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+V+"\\'",E+="' "),w.opts.verbose&&(E+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ";var X=E;E=U.pop(),E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+X+"]); ":" validate.errors = ["+X+"]; return false; ":" var err = "+X+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E+=" } else { "}else{E+=" if ( ";var U,ie=v;if(ie)for(var $=-1,ce=ie.length-1;$<ce;)ee=ie[$+=1],$&&(E+=" || "),E+=" ( ( "+(xe=f+(_e=w.util.getProperty(ee)))+" === undefined ",k&&(E+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+w.util.escapeQuotes(ee)+"') "),E+=") && (missing"+B+" = "+w.util.toQuotedString(w.opts.jsonPointers?ee:_e)+") ) ";E+=") {  ",V="' + "+(P="missing"+B)+" + '",w.opts._errorDataPathProperty&&(w.errorPath=w.opts.jsonPointers?w.util.getPathExpr(x,P,!0):x+" + "+P),(U=U||[]).push(E),E="",!1!==w.createErrors?(E+=" { keyword: 'required' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { missingProperty: '"+V+"' } ",!1!==w.opts.messages&&(E+=" , message: '",E+=w.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+V+"\\'",E+="' "),w.opts.verbose&&(E+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ",X=E,E=U.pop(),E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+X+"]); ":" validate.errors = ["+X+"]; return false; ":" var err = "+X+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E+=" } else { "}else if(I){var P;C||(E+=" var "+g+" = validate.schema"+R+"; "),V="' + "+(P="schema"+B+"["+($="i"+B)+"]")+" + '",w.opts._errorDataPathProperty&&(w.errorPath=w.util.getPathExpr(x,P,w.opts.jsonPointers)),C&&(E+=" if ("+g+" && !Array.isArray("+g+")) {  var err =   ",!1!==w.createErrors?(E+=" { keyword: 'required' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { missingProperty: '"+V+"' } ",!1!==w.opts.messages&&(E+=" , message: '",E+=w.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+V+"\\'",E+="' "),w.opts.verbose&&(E+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ",E+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+g+" !== undefined) { "),E+=" for (var "+$+" = 0; "+$+" < "+g+".length; "+$+"++) { if ("+f+"["+g+"["+$+"]] === undefined ",k&&(E+=" || ! Object.prototype.hasOwnProperty.call("+f+", "+g+"["+$+"]) "),E+=") {  var err =   ",!1!==w.createErrors?(E+=" { keyword: 'required' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { missingProperty: '"+V+"' } ",!1!==w.opts.messages&&(E+=" , message: '",E+=w.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+V+"\\'",E+="' "),w.opts.verbose&&(E+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ",E+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",C&&(E+="  }  ")}else{var we=v;if(we)for(var ee,Se=-1,le=we.length-1;Se<le;){ee=we[Se+=1];var _e=w.util.getProperty(ee),xe=(V=w.util.escapeQuotes(ee),f+_e);w.opts._errorDataPathProperty&&(w.errorPath=w.util.getPath(x,ee,w.opts.jsonPointers)),E+=" if ( "+xe+" === undefined ",k&&(E+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+w.util.escapeQuotes(ee)+"') "),E+=") {  var err =   ",!1!==w.createErrors?(E+=" { keyword: 'required' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { missingProperty: '"+V+"' } ",!1!==w.opts.messages&&(E+=" , message: '",E+=w.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+V+"\\'",E+="' "),w.opts.verbose&&(E+=" , schema: validate.schema"+R+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ",E+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}w.errorPath=x}else m&&(E+=" if (true) {");return E}},5652:Te=>{"use strict";Te.exports=function(w,H,W){var S,E=" ",B=w.level,r=w.dataLevel,F=w.schema[H],R=w.schemaPath+w.util.getProperty(H),_=w.errSchemaPath+"/"+H,m=!w.opts.allErrors,f="data"+(r||""),y="valid"+B,C=w.opts.$data&&F&&F.$data;if(C?(E+=" var schema"+B+" = "+w.util.getData(F.$data,r,w.dataPathArr)+"; ",S="schema"+B):S=F,(F||C)&&!1!==w.opts.uniqueItems){C&&(E+=" var "+y+"; if ("+S+" === false || "+S+" === undefined) "+y+" = true; else if (typeof "+S+" != 'boolean') "+y+" = false; else { "),E+=" var "+y+" = true; if ("+f+".length > 1) { var i = "+f+".length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal("+f+"[i], "+f+"[j])) { "+y+" = false; break outer; } } } } ",C&&(E+="  }  ");var g=g||[];g.push(E+=" if (!"+y+") {   "),E="",!1!==w.createErrors?(E+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(_)+" , params: { i: i, j: j } ",!1!==w.opts.messages&&(E+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),w.opts.verbose&&(E+=" , schema:  ",E+=C?"validate.schema"+R:""+F,E+="         , parentSchema: validate.schema"+w.schemaPath+" , data: "+f+" "),E+=" } "):E+=" {} ";var v=E;E=g.pop(),E+=!w.compositeRule&&m?w.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E+=" } ",m&&(E+=" else { ")}else m&&(E+=" if (true) { ");return E}},2106:Te=>{"use strict";Te.exports=function(w,H,W){var E="",B=!0===w.schema.$async,r=w.util.schemaHasRulesExcept(w.schema,w.RULES.all,"$ref"),F=w.self._getId(w.schema);if(w.isTop){if(B){w.async=!0;var R="es7"==w.opts.async;w.yieldAwait=R?"await":"yield"}E+=" var validate = ",B?R?E+=" (async function ":("*"!=w.opts.async&&(E+="co.wrap"),E+="(function* "):E+=" (function ",E+=" (data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",F&&(w.opts.sourceCode||w.opts.processCode)&&(E+=" /*# sourceURL="+F+" */ ")}if("boolean"==typeof w.schema||!r&&!w.schema.$ref){var _=w.level,m=w.dataLevel,f=w.schema[H="false schema"],y=w.schemaPath+w.util.getProperty(H),C=w.errSchemaPath+"/"+H,M=!w.opts.allErrors,S="data"+(m||""),D="valid"+_;if(!1===w.schema){w.isTop?M=!0:E+=" var "+D+" = false; ",(g=g||[]).push(E),E="",!1!==w.createErrors?(E+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(C)+" , params: {} ",!1!==w.opts.messages&&(E+=" , message: 'boolean schema is false' "),w.opts.verbose&&(E+=" , schema: false , parentSchema: validate.schema"+w.schemaPath+" , data: "+S+" "),E+=" } "):E+=" {} ";var v=E;E=g.pop(),E+=!w.compositeRule&&M?w.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else E+=w.isTop?B?" return data; ":" validate.errors = null; return true; ":" var "+D+" = true; ";return w.isTop&&(E+=" }); return validate; "),E}if(w.isTop){var A=w.isTop;_=w.level=0,m=w.dataLevel=0,S="data",w.rootId=w.resolve.fullPath(w.self._getId(w.root.schema)),w.baseId=w.baseId||w.rootId,delete w.isTop,w.dataPathArr=[void 0],E+=" var vErrors = null; ",E+=" var errors = 0;     ",E+=" if (rootData === undefined) rootData = data; "}else{if(_=w.level,S="data"+((m=w.dataLevel)||""),F&&(w.baseId=w.resolve.url(w.baseId,F)),B&&!w.async)throw new Error("async schema in sync schema");E+=" var errs_"+_+" = errors;"}D="valid"+_,M=!w.opts.allErrors;var T="",N="",I=w.schema.type,k=Array.isArray(I);if(k&&1==I.length&&(I=I[0],k=!1),w.schema.$ref&&r){if("fail"==w.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+w.errSchemaPath+'" (see option extendRefs)');!0!==w.opts.extendRefs&&(r=!1,w.logger.warn('$ref: keywords ignored in schema at path "'+w.errSchemaPath+'"'))}if(I){if(w.opts.coerceTypes)var $=w.util.coerceToTypes(w.opts.coerceTypes,I);var P=w.RULES.types[I];if($||k||!0===P||P&&!rt(P)){if(y=w.schemaPath+".type",C=w.errSchemaPath+"/type",y=w.schemaPath+".type",C=w.errSchemaPath+"/type",E+=" if ("+w.util[k?"checkDataTypes":"checkDataType"](I,S,!0)+") { ",$){var U="dataType"+_,X="coerced"+_;E+=" var "+U+" = typeof "+S+"; ","array"==w.opts.coerceTypes&&(E+=" if ("+U+" == 'object' && Array.isArray("+S+")) "+U+" = 'array'; "),E+=" var "+X+" = undefined; ";var ie="",ee=$;if(ee)for(var ce,_e=-1,xe=ee.length-1;_e<xe;)ce=ee[_e+=1],_e&&(E+=" if ("+X+" === undefined) { ",ie+="}"),"array"==w.opts.coerceTypes&&"array"!=ce&&(E+=" if ("+U+" == 'array' && "+S+".length == 1) { "+X+" = "+S+" = "+S+"[0]; "+U+" = typeof "+S+";  } "),"string"==ce?E+=" if ("+U+" == 'number' || "+U+" == 'boolean') "+X+" = '' + "+S+"; else if ("+S+" === null) "+X+" = ''; ":"number"==ce||"integer"==ce?(E+=" if ("+U+" == 'boolean' || "+S+" === null || ("+U+" == 'string' && "+S+" && "+S+" == +"+S+" ","integer"==ce&&(E+=" && !("+S+" % 1)"),E+=")) "+X+" = +"+S+"; "):"boolean"==ce?E+=" if ("+S+" === 'false' || "+S+" === 0 || "+S+" === null) "+X+" = false; else if ("+S+" === 'true' || "+S+" === 1) "+X+" = true; ":"null"==ce?E+=" if ("+S+" === '' || "+S+" === 0 || "+S+" === false) "+X+" = null; ":"array"==w.opts.coerceTypes&&"array"==ce&&(E+=" if ("+U+" == 'string' || "+U+" == 'number' || "+U+" == 'boolean' || "+S+" == null) "+X+" = ["+S+"]; ");(g=g||[]).push(E+=" "+ie+" if ("+X+" === undefined) {   "),E="",!1!==w.createErrors?(E+=" { keyword: 'type' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(C)+" , params: { type: '",E+=k?""+I.join(","):""+I,E+="' } ",!1!==w.opts.messages&&(E+=" , message: 'should be ",E+=k?""+I.join(","):""+I,E+="' "),w.opts.verbose&&(E+=" , schema: validate.schema"+y+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+S+" "),E+=" } "):E+=" {} ",v=E,E=g.pop(),E+=!w.compositeRule&&M?w.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E+=" } else {  ";var we=m?"data"+(m-1||""):"parentData";E+=" "+S+" = "+X+"; ",m||(E+="if ("+we+" !== undefined)"),E+=" "+we+"["+(m?w.dataPathArr[m]:"parentDataProperty")+"] = "+X+"; } "}else(g=g||[]).push(E),E="",!1!==w.createErrors?(E+=" { keyword: 'type' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(C)+" , params: { type: '",E+=k?""+I.join(","):""+I,E+="' } ",!1!==w.opts.messages&&(E+=" , message: 'should be ",E+=k?""+I.join(","):""+I,E+="' "),w.opts.verbose&&(E+=" , schema: validate.schema"+y+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+S+" "),E+=" } "):E+=" {} ",v=E,E=g.pop(),E+=!w.compositeRule&&M?w.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";E+=" } "}}if(w.schema.$ref&&!r)E+=" "+w.RULES.all.$ref.code(w,"$ref")+" ",M&&(E+=" } if (errors === ",E+=A?"0":"errs_"+_,E+=") { ",N+="}");else{w.opts.v5&&w.schema.patternGroups&&w.logger.warn('keyword "patternGroups" is deprecated and disabled. Use option patternGroups: true to enable.');var le=w.RULES;if(le)for(var ye=-1,Ce=le.length-1;ye<Ce;)if(rt(P=le[ye+=1])){if(P.type&&(E+=" if ("+w.util.checkDataType(P.type,S)+") { "),w.opts.useDefaults&&!w.compositeRule)if("object"==P.type&&w.schema.properties){f=w.schema.properties;var se=Object.keys(f);if(se)for(var de,fe=-1,Re=se.length-1;fe<Re;)void 0!==(te=f[de=se[fe+=1]]).default&&(E+="  if ("+(he=S+w.util.getProperty(de))+" === undefined) "+he+" = ",E+="shared"==w.opts.useDefaults?" "+w.useDefault(te.default)+" ":" "+JSON.stringify(te.default)+" ",E+="; ")}else if("array"==P.type&&Array.isArray(w.schema.items)){var Fe=w.schema.items;if(Fe){_e=-1;for(var te,Ie=Fe.length-1;_e<Ie;)if(void 0!==(te=Fe[_e+=1]).default){var he;E+="  if ("+(he=S+"["+_e+"]")+" === undefined) "+he+" = ",E+="shared"==w.opts.useDefaults?" "+w.useDefault(te.default)+" ":" "+JSON.stringify(te.default)+" ",E+="; "}}}var g,Me=P.rules;if(Me)for(var Ne,De=-1,ke=Me.length-1;De<ke;)if(be(Ne=Me[De+=1])){var Ye=Ne.code(w,Ne.keyword,P.type);Ye&&(E+=" "+Ye+" ",M&&(T+="}"))}if(M&&(E+=" "+T+" ",T=""),P.type&&(E+=" } ",I&&I===P.type&&!$))y=w.schemaPath+".type",C=w.errSchemaPath+"/type",(g=g||[]).push(E+=" else { "),E="",!1!==w.createErrors?(E+=" { keyword: 'type' , dataPath: (dataPath || '') + "+w.errorPath+" , schemaPath: "+w.util.toQuotedString(C)+" , params: { type: '",E+=k?""+I.join(","):""+I,E+="' } ",!1!==w.opts.messages&&(E+=" , message: 'should be ",E+=k?""+I.join(","):""+I,E+="' "),w.opts.verbose&&(E+=" , schema: validate.schema"+y+" , parentSchema: validate.schema"+w.schemaPath+" , data: "+S+" "),E+=" } "):E+=" {} ",v=E,E=g.pop(),E+=!w.compositeRule&&M?w.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",E+=" } ";M&&(E+=" if (errors === ",E+=A?"0":"errs_"+_,E+=") { ",N+="}")}}function rt(je){for(var Q=je.rules,it=0;it<Q.length;it++)if(be(Q[it]))return!0}function be(je){return void 0!==w.schema[je.keyword]||je.implements&&function(je){for(var Q=je.implements,it=0;it<Q.length;it++)if(void 0!==w.schema[Q[it]])return!0}(je)}return M&&(E+=" "+N+" "),A?(B?(E+=" if (errors === 0) return data;           ",E+=" else throw new ValidationError(vErrors); "):(E+=" validate.errors = vErrors; ",E+=" return errors === 0;       "),E+=" }); return validate;"):E+=" var "+D+" = errors === errs_"+_+";",E=w.util.cleanUpCode(E),A&&(E=w.util.finalCleanUpCode(E,B)),E}},3689:(Te,z,w)=>{"use strict";var H=/^[a-z_$][a-z0-9_$-]*$/i,W=w(8860);Te.exports={add:function(F,R){var _=this.RULES;if(_.keywords[F])throw new Error("Keyword "+F+" is already defined");if(!H.test(F))throw new Error("Keyword "+F+" is not a valid identifier");if(R){if(R.macro&&void 0!==R.valid)throw new Error('"valid" option cannot be used with macro keywords');var m=R.type;if(Array.isArray(m)){var f,y=m.length;for(f=0;f<y;f++)v(m[f]);for(f=0;f<y;f++)g(F,m[f],R)}else m&&v(m),g(F,m,R);var C=!0===R.$data&&this._opts.$data;if(C&&!R.validate)throw new Error('$data support: "validate" function is not defined');var S=R.metaSchema;S&&(C&&(S={anyOf:[S,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]}),R.validateSchema=this.compile(S,!0))}function g(A,D,M){for(var T,N=0;N<_.length;N++){var x=_[N];if(x.type==D){T=x;break}}T||_.push(T={type:D,rules:[]});var I={keyword:A,definition:M,custom:!0,code:W,implements:M.implements};T.rules.push(I),_.custom[A]=I}function v(A){if(!_.types[A])throw new Error("Unknown type "+A)}return _.keywords[F]=_.all[F]=!0,this},get:function(F){var R=this.RULES.custom[F];return R?R.definition:this.RULES.keywords[F]||!1},remove:function(F){var R=this.RULES;delete R.keywords[F],delete R.all[F],delete R.custom[F];for(var _=0;_<R.length;_++)for(var m=R[_].rules,f=0;f<m.length;f++)if(m[f].keyword==F){m.splice(f,1);break}return this}}},4600:Te=>{"use strict";var z="http://json-schema.org/draft-06/schema";Te.exports=function(w){var H=w._opts.defaultMeta,W="string"==typeof H?{$ref:H}:w.getSchema(z)?{$ref:z}:{};w.addKeyword("patternGroups",{metaSchema:{type:"object",additionalProperties:{type:"object",required:["schema"],properties:{maximum:{type:"integer",minimum:0},minimum:{type:"integer",minimum:0},schema:W},additionalProperties:!1}}}),w.RULES.all.properties.implements.push("patternGroups")}},2683:Te=>{"use strict";var z=Array.isArray,w=Object.keys,H=Object.prototype.hasOwnProperty;Te.exports=function W(E,B){if(E===B)return!0;var R,_,m,r=z(E),F=z(B);if(r&&F){if((_=E.length)!=B.length)return!1;for(R=0;R<_;R++)if(!W(E[R],B[R]))return!1;return!0}if(r!=F)return!1;var f=E instanceof Date,y=B instanceof Date;if(f!=y)return!1;if(f&&y)return E.getTime()==B.getTime();var C=E instanceof RegExp,S=B instanceof RegExp;if(C!=S)return!1;if(C&&S)return E.toString()==B.toString();if(E instanceof Object&&B instanceof Object){var g=w(E);if((_=g.length)!==w(B).length)return!1;for(R=0;R<_;R++)if(!H.call(B,g[R]))return!1;for(R=0;R<_;R++)if(!W(E[m=g[R]],B[m]))return!1;return!0}return!1}},4115:Te=>{"use strict";var z=Te.exports=function(W,E,B){"function"==typeof E&&(B=E,E={}),w(E,B,W,"",W)};function w(W,E,B,r,F,R,_,m,f){if(B&&"object"==typeof B&&!Array.isArray(B))for(var y in E(B,r,F,R,_,m,f),B){var C=B[y];if(Array.isArray(C)){if(y in z.arrayKeywords)for(var S=0;S<C.length;S++)w(W,E,C[S],r+"/"+y+"/"+S,F,r,y,B,S)}else if(y in z.propsKeywords){if(C&&"object"==typeof C)for(var g in C)w(W,E,C[g],r+"/"+y+"/"+H(g),F,r,y,B,g)}else(y in z.keywords||W.allKeys&&!(y in z.skipKeywords))&&w(W,E,C,r+"/"+y,F,r,y,B)}}function H(W){return W.replace(/~/g,"~0").replace(/\//g,"~1")}z.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},z.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},z.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},z.skipKeywords={enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},8534:(Te,z,w)=>{"use strict";var H=w(1464),W=w(6307).translate;function B(r,F){this.dom={};var R=this,_=this.dom;this.anchor=void 0,this.items=r,this.eventListeners={},this.selection=void 0,this.onClose=F?F.close:void 0;var m=document.createElement("div");m.className="jsoneditor-contextmenu-root",_.root=m;var f=document.createElement("div");f.className="jsoneditor-contextmenu",_.menu=f,m.appendChild(f);var y=document.createElement("ul");y.className="jsoneditor-menu",f.appendChild(y),_.list=y,_.items=[];var C=document.createElement("button");C.type="button",_.focusButton=C;var S=document.createElement("li");S.style.overflow="hidden",S.style.height="0",S.appendChild(C),y.appendChild(S),function g(v,A,D){D.forEach(function(M){if("separator"==M.type){var T=document.createElement("div");T.className="jsoneditor-separator",(x=document.createElement("li")).appendChild(T),v.appendChild(x)}else{var N={},x=document.createElement("li");v.appendChild(x);var I=document.createElement("button");if(I.type="button",I.className=M.className,N.button=I,M.title&&(I.title=M.title),M.click&&(I.onclick=function(ee){ee.preventDefault(),R.hide(),M.click()}),x.appendChild(I),M.submenu){var k=document.createElement("div");k.className="jsoneditor-icon",I.appendChild(k);var P,$=document.createElement("div");if($.className="jsoneditor-text"+(M.click?"":" jsoneditor-right-margin"),$.appendChild(document.createTextNode(M.text)),I.appendChild($),M.click){I.className+=" jsoneditor-default";var V=document.createElement("button");V.type="button",N.buttonExpand=V,V.className="jsoneditor-expand",V.innerHTML='<div class="jsoneditor-expand"></div>',x.appendChild(V),M.submenuTitle&&(V.title=M.submenuTitle),P=V}else{var U=document.createElement("div");U.className="jsoneditor-expand",I.appendChild(U),P=I}P.onclick=function(ee){ee.preventDefault(),R._onExpandItem(N),P.focus()};var X=[];N.subItems=X;var ie=document.createElement("ul");N.ul=ie,ie.className="jsoneditor-menu",ie.style.height="0",x.appendChild(ie),g(ie,X,M.submenu)}else I.innerHTML='<div class="jsoneditor-icon"></div><div class="jsoneditor-text">'+W(M.text)+"</div>";A.push(N)}})}(y,this.dom.items,r),this.maxHeight=0,r.forEach(function(v){R.maxHeight=Math.max(R.maxHeight,24*(r.length+(v.submenu?v.submenu.length:0)))})}B.prototype._getVisibleButtons=function(){var r=[],F=this;return this.dom.items.forEach(function(R){r.push(R.button),R.buttonExpand&&r.push(R.buttonExpand),R.subItems&&R==F.expandedItem&&R.subItems.forEach(function(_){r.push(_.button),_.buttonExpand&&r.push(_.buttonExpand)})}),r},B.visibleMenu=void 0,B.prototype.show=function(r,F){this.hide();var R=!0,_=r.parentNode,m=r.getBoundingClientRect(),f=_.getBoundingClientRect();if(F){var y=F.getBoundingClientRect();m.bottom+this.maxHeight<y.bottom||m.top-this.maxHeight>y.top&&(R=!1)}var C=m.left-f.left,S=m.top-f.top;if(R){var g=r.offsetHeight;this.dom.menu.style.left=C+"px",this.dom.menu.style.top=S+g+"px",this.dom.menu.style.bottom=""}else this.dom.menu.style.left=C+"px",this.dom.menu.style.top=S+"px",this.dom.menu.style.bottom="0px";this.rootNode=function(r){return r.getRootNode&&r.getRootNode()||window}(r),_.insertBefore(this.dom.root,_.firstChild);var v=this,A=this.dom.list;this.eventListeners.mousedown=H.addEventListener(this.rootNode,"mousedown",function(D){var M=D.target;M!=A&&!v._isChildOf(M,A)&&(v.hide(),D.stopPropagation(),D.preventDefault())}),this.eventListeners.keydown=H.addEventListener(this.rootNode,"keydown",function(D){v._onKeyDown(D)}),this.selection=H.getSelection(),this.anchor=r,setTimeout(function(){v.dom.focusButton.focus()},0),B.visibleMenu&&B.visibleMenu.hide(),B.visibleMenu=this},B.prototype.hide=function(){for(var r in this.dom.root.parentNode&&(this.dom.root.parentNode.removeChild(this.dom.root),this.onClose&&this.onClose()),this.eventListeners)if(this.eventListeners.hasOwnProperty(r)){var F=this.eventListeners[r];F&&H.removeEventListener(this.rootNode,r,F),delete this.eventListeners[r]}B.visibleMenu==this&&(B.visibleMenu=void 0)},B.prototype._onExpandItem=function(r){var F=this,R=r==this.expandedItem,_=this.expandedItem;if(_&&(_.ul.style.height="0",_.ul.style.padding="",setTimeout(function(){F.expandedItem!=_&&(_.ul.style.display="",H.removeClassName(_.ul.parentNode,"jsoneditor-selected"))},300),this.expandedItem=void 0),!R){var m=r.ul;m.style.display="block",setTimeout(function(){if(F.expandedItem==r){for(var y=0,C=0;C<m.childNodes.length;C++)y+=m.childNodes[C].clientHeight;m.style.height=y+"px",m.style.padding="5px 10px"}},0),H.addClassName(m.parentNode,"jsoneditor-selected"),this.expandedItem=r}},B.prototype._onKeyDown=function(r){var m,f,y,C,F=r.target,R=r.which,_=!1;27==R?(this.selection&&H.setSelection(this.selection),this.anchor&&this.anchor.focus(),this.hide(),_=!0):9==R?r.shiftKey?0==(f=(m=this._getVisibleButtons()).indexOf(F))&&(m[m.length-1].focus(),_=!0):(f=(m=this._getVisibleButtons()).indexOf(F))==m.length-1&&(m[0].focus(),_=!0):37==R?("jsoneditor-expand"==F.className&&(f=(m=this._getVisibleButtons()).indexOf(F),(y=m[f-1])&&y.focus()),_=!0):38==R?(f=(m=this._getVisibleButtons()).indexOf(F),(y=m[f-1])&&"jsoneditor-expand"==y.className&&(y=m[f-2]),y||(y=m[m.length-1]),y&&y.focus(),_=!0):39==R?(f=(m=this._getVisibleButtons()).indexOf(F),(C=m[f+1])&&"jsoneditor-expand"==C.className&&C.focus(),_=!0):40==R&&(f=(m=this._getVisibleButtons()).indexOf(F),(C=m[f+1])&&"jsoneditor-expand"==C.className&&(C=m[f+2]),C||(C=m[0]),C&&(C.focus(),_=!0),_=!0),_&&(r.stopPropagation(),r.preventDefault())},B.prototype._isChildOf=function(r,F){for(var R=r.parentNode;R;){if(R==F)return!0;R=R.parentNode}return!1},Te.exports=B},7245:Te=>{"use strict";function z(){this.locked=!1}z.prototype.highlight=function(w){this.locked||(this.node!=w&&(this.node&&this.node.setHighlight(!1),this.node=w,this.node.setHighlight(!0)),this._cancelUnhighlight())},z.prototype.unhighlight=function(){if(!this.locked){var w=this;this.node&&(this._cancelUnhighlight(),this.unhighlightTimer=setTimeout(function(){w.node.setHighlight(!1),w.node=void 0,w.unhighlightTimer=void 0},0))}},z.prototype._cancelUnhighlight=function(){this.unhighlightTimer&&(clearTimeout(this.unhighlightTimer),this.unhighlightTimer=void 0)},z.prototype.lock=function(){this.locked=!0},z.prototype.unlock=function(){this.locked=!1},Te.exports=z},1932:(Te,z,w)=>{"use strict";function W(E){this.editor=E,this.history=[],this.index=-1,this.clear(),this.actions={editField:{undo:function(B){B.node.updateField(B.oldValue)},redo:function(B){B.node.updateField(B.newValue)}},editValue:{undo:function(B){B.node.updateValue(B.oldValue)},redo:function(B){B.node.updateValue(B.newValue)}},changeType:{undo:function(B){B.node.changeType(B.oldType)},redo:function(B){B.node.changeType(B.newType)}},appendNodes:{undo:function(B){B.nodes.forEach(function(r){B.parent.removeChild(r)})},redo:function(B){B.nodes.forEach(function(r){B.parent.appendChild(r)})}},insertBeforeNodes:{undo:function(B){B.nodes.forEach(function(r){B.parent.removeChild(r)})},redo:function(B){B.nodes.forEach(function(r){B.parent.insertBefore(r,B.beforeNode)})}},insertAfterNodes:{undo:function(B){B.nodes.forEach(function(r){B.parent.removeChild(r)})},redo:function(B){var r=B.afterNode;B.nodes.forEach(function(F){B.parent.insertAfter(B.node,r),r=F})}},removeNodes:{undo:function(B){var r=B.parent,F=r.childs[B.index]||r.append;B.nodes.forEach(function(R){r.insertBefore(R,F)})},redo:function(B){B.nodes.forEach(function(r){B.parent.removeChild(r)})}},duplicateNodes:{undo:function(B){B.nodes.forEach(function(r){B.parent.removeChild(r)})},redo:function(B){var r=B.afterNode;B.nodes.forEach(function(F){B.parent.insertAfter(F,r),r=F})}},moveNodes:{undo:function(B){B.nodes.forEach(function(r){B.oldBeforeNode.parent.moveBefore(r,B.oldBeforeNode)})},redo:function(B){B.nodes.forEach(function(r){B.newBeforeNode.parent.moveBefore(r,B.newBeforeNode)})}},sort:{undo:function(B){var r=B.node;r.hideChilds(),r.childs=B.oldChilds,r.updateDom({updateIndexes:!0}),r.showChilds()},redo:function(B){var r=B.node;r.hideChilds(),r.childs=B.newChilds,r.updateDom({updateIndexes:!0}),r.showChilds()}},transform:{undo:function(B){B.node.setValue(B.oldValue)},redo:function(B){B.node.setValue(B.newValue)}}}}w(1464),W.prototype.onChange=function(){},W.prototype.add=function(E,B){this.index++,this.history[this.index]={action:E,params:B,timestamp:new Date},this.index<this.history.length-1&&this.history.splice(this.index+1,this.history.length-this.index-1),this.onChange()},W.prototype.clear=function(){this.history=[],this.index=-1,this.onChange()},W.prototype.canUndo=function(){return this.index>=0},W.prototype.canRedo=function(){return this.index<this.history.length-1},W.prototype.undo=function(){if(this.canUndo()){var E=this.history[this.index];if(E){var B=this.actions[E.action];B&&B.undo?(B.undo(E.params),E.params.oldSelection&&this.editor.setDomSelection(E.params.oldSelection)):console.error(new Error('unknown action "'+E.action+'"'))}this.index--,this.onChange()}},W.prototype.redo=function(){if(this.canRedo()){this.index++;var E=this.history[this.index];if(E){var B=this.actions[E.action];B&&B.redo?(B.redo(E.params),E.params.newSelection&&this.editor.setDomSelection(E.params.newSelection)):console.error(new Error('unknown action "'+E.action+'"'))}this.onChange()}},W.prototype.destroy=function(){this.editor=null,this.history=[],this.index=-1},Te.exports=W},1821:(Te,z,w)=>{"use strict";var H;try{H=w(9920)}catch(F){}var W=w(4757),E=w(8767),B=w(1464);function r(F,R,_){if(!(this instanceof r))throw new Error('JSONEditor constructor called without "new".');var m=B.getInternetExplorerVersion();if(-1!=m&&m<9)throw new Error("Unsupported browser, IE9 or newer required. Please install the newest version of your browser.");if(R&&(R.error&&(console.warn('Option "error" has been renamed to "onError"'),R.onError=R.error,delete R.error),R.change&&(console.warn('Option "change" has been renamed to "onChange"'),R.onChange=R.change,delete R.change),R.editable&&(console.warn('Option "editable" has been renamed to "onEditable"'),R.onEditable=R.editable,delete R.editable),R)){var f=["ajv","schema","schemaRefs","templates","ace","theme","autocomplete","onChange","onEditable","onError","onModeChange","onSelectionChange","onTextSelectionChange","escapeUnicode","history","search","mode","modes","name","indentation","sortObjectKeys","navigationBar","statusBar","languages","language"];Object.keys(R).forEach(function(y){-1===f.indexOf(y)&&console.warn('Unknown option "'+y+'". This option will be ignored')})}arguments.length&&this._create(F,R,_)}r.modes={},r.prototype.DEBOUNCE_INTERVAL=150,r.prototype._create=function(F,R,_){this.container=F,this.options=R||{},this.json=_||{},this.setMode(this.options.mode||this.options.modes&&this.options.modes[0]||"tree")},r.prototype.destroy=function(){},r.prototype.set=function(F){this.json=F},r.prototype.get=function(){return this.json},r.prototype.setText=function(F){this.json=B.parse(F)},r.prototype.getText=function(){return JSON.stringify(this.json)},r.prototype.setName=function(F){this.options||(this.options={}),this.options.name=F},r.prototype.getName=function(){return this.options&&this.options.name},r.prototype.setMode=function(F){var f,y,R=this.container,_=B.extend({},this.options),m=_.mode;_.mode=F;var C=r.modes[F];if(!C)throw new Error('Unknown mode "'+_.mode+'"');try{var S="text"==C.data;if(y=this.getName(),f=this[S?"getText":"get"](),this.destroy(),B.clear(this),B.extend(this,C.mixin),this.create(R,_),this.setName(y),this[S?"setText":"set"](f),"function"==typeof C.load)try{C.load.call(this)}catch(g){console.error(g)}if("function"==typeof _.onModeChange&&F!==m)try{_.onModeChange(F,m)}catch(g){console.error(g)}}catch(g){this._onError(g)}},r.prototype.getMode=function(){return this.options.mode},r.prototype._onError=function(F){if(!this.options||"function"!=typeof this.options.onError)throw F;this.options.onError(F)},r.prototype.setSchema=function(F,R){if(F){var _;try{_=this.options.ajv||H({allErrors:!0,verbose:!0})}catch(f){console.warn("Failed to create an instance of Ajv, JSON Schema validation is not available. Please use a JSONEditor bundle including Ajv, or pass an instance of Ajv as via the configuration option `ajv`.")}if(_){if(R){for(var m in R)_.removeSchema(m),R[m]&&_.addSchema(R[m],m);this.options.schemaRefs=R}this.validateSchema=_.compile(F),this.options.schema=F,this.validate()}this.refresh()}else this.validateSchema=null,this.options.schema=null,this.options.schemaRefs=null,this.validate(),this.refresh()},r.prototype.validate=function(){},r.prototype.refresh=function(){},r.registerMode=function(F){var R,_;if(B.isArray(F))for(R=0;R<F.length;R++)r.registerMode(F[R]);else{if(!("mode"in F))throw new Error('Property "mode" missing');if(!("mixin"in F))throw new Error('Property "mixin" missing');if(!("data"in F))throw new Error('Property "data" missing');var m=F.mode;if(m in r.modes)throw new Error('Mode "'+m+'" already registered');if("function"!=typeof F.mixin.create)throw new Error('Required function "create" missing on mixin');var f=["setMode","registerMode","modes"];for(R=0;R<f.length;R++)if((_=f[R])in F.mixin)throw new Error('Reserved property "'+_+'" not allowed in mixin');r.modes[m]=F}},r.registerMode(W),r.registerMode(E),Te.exports=r},9891:(Te,z,w)=>{"use strict";var H=w(8534);function W(E,B,r,F){for(var R={code:{text:"Code",title:"Switch to code highlighter",click:function(){F("code")}},form:{text:"Form",title:"Switch to form editor",click:function(){F("form")}},text:{text:"Text",title:"Switch to plain text editor",click:function(){F("text")}},tree:{text:"Tree",title:"Switch to tree editor",click:function(){F("tree")}},view:{text:"View",title:"Switch to tree view",click:function(){F("view")}}},_=[],m=0;m<B.length;m++){var f=B[m],y=R[f];if(!y)throw new Error('Unknown mode "'+f+'"');y.className="jsoneditor-type-modes"+(r==f?" jsoneditor-selected":""),_.push(y)}var C=R[r];if(!C)throw new Error('Unknown mode "'+r+'"');var S=C.text,g=document.createElement("button");g.type="button",g.className="jsoneditor-modes jsoneditor-separator",g.innerHTML=S+" &#x25BE;",g.title="Switch editor mode",g.onclick=function(){new H(_).show(g)};var v=document.createElement("div");v.className="jsoneditor-modes",v.style.position="relative",v.appendChild(g),E.appendChild(v),this.dom={container:E,box:g,frame:v}}W.prototype.focus=function(){this.dom.box.focus()},W.prototype.destroy=function(){this.dom&&this.dom.frame&&this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom=null},Te.exports=W},5052:(Te,z,w)=>{"use strict";var H=w(9500),W=w(8324),E=w(8534),B=w(8579),r=w(5325),F=w(9637),R=w(8822),_=w(1464),m=w(6307).translate,f=document.body;function y(g,v){this.editor=g,this.dom={},this.expanded=!1,v&&v instanceof Object?(this.setField(v.field,v.fieldEditable),this.setValue(v.value,v.type)):(this.setField(""),this.setValue(null)),this._debouncedOnChangeValue=_.debounce(this._onChangeValue.bind(this),y.prototype.DEBOUNCE_INTERVAL),this._debouncedOnChangeField=_.debounce(this._onChangeField.bind(this),y.prototype.DEBOUNCE_INTERVAL)}y.prototype.DEBOUNCE_INTERVAL=150,y.prototype.MAX_SEARCH_RESULTS=999,y.prototype.visibleChilds=y.prototype.MAX_VISIBLE_CHILDS=100,y.prototype._updateEditability=function(){if(this.editable={field:!0,value:!0},this.editor&&(this.editable.field="tree"===this.editor.options.mode,this.editable.value="view"!==this.editor.options.mode,("tree"===this.editor.options.mode||"form"===this.editor.options.mode)&&"function"==typeof this.editor.options.onEditable)){var g=this.editor.options.onEditable({field:this.field,value:this.value,path:this.getPath()});"boolean"==typeof g?(this.editable.field=g,this.editable.value=g):("boolean"==typeof g.field&&(this.editable.field=g.field),"boolean"==typeof g.value&&(this.editable.value=g.value))}},y.prototype.getPath=function(){for(var g=this,v=[];g;){var A=g.getName();void 0!==A&&v.unshift(A),g=g.parent}return v},y.prototype.getName=function(){return this.parent?"array"!=this.parent.type?this.field:this.index:void 0},y.prototype.findNodeByPath=function(g){if(g){if(0==g.length)return this;if(g.length&&this.childs&&this.childs.length)for(var v=0;v<this.childs.length;++v)if(""+g[0]==""+this.childs[v].getName())return this.childs[v].findNodeByPath(g.slice(1))}},y.prototype.serialize=function(){return{value:this.getValue(),path:this.getPath()}},y.prototype.findNode=function(g){for(var v=_.parsePath(g),A=this;A&&v.length>0;){var D=v.shift();if("number"==typeof D){if("array"!==A.type)throw new Error("Cannot get child node at index "+D+": node is no array");A=A.childs[D]}else{if("object"!==A.type)throw new Error("Cannot get child node "+D+": node is no object");A=A.childs.filter(function(M){return M.field===D})[0]}}return A},y.prototype.findParents=function(){for(var g=[],v=this.parent;v;)g.unshift(v),v=v.parent;return g},y.prototype.setError=function(g,v){this.error=g,this.errorChild=v,this.dom&&this.dom.tr&&this.updateError()},y.prototype.updateError=function(){var g=this.error,v=this.dom.tdError;if(g&&this.dom&&this.dom.tr){v||(v=document.createElement("td"),this.dom.tdError=v,this.dom.tdValue.parentNode.appendChild(v));var A=document.createElement("div");A.className="jsoneditor-popover jsoneditor-right",A.appendChild(document.createTextNode(g.message));var D=document.createElement("button");D.type="button",D.className="jsoneditor-schema-error",D.appendChild(A),D.onmouseover=D.onfocus=function(){for(var N=["right","above","below","left"],x=0;x<N.length;x++){A.className="jsoneditor-popover jsoneditor-"+N[x];var k=this.editor.content.getBoundingClientRect(),$=A.getBoundingClientRect();if(_.insideRect(k,$,20))break}}.bind(this);var M=this.errorChild;for(M&&(D.onclick=function(){M.findParents().forEach(function(N){N.expand(!1)}),M.scrollTo(function(){M.focus()})});v.firstChild;)v.removeChild(v.firstChild);v.appendChild(D)}else v&&(this.dom.tdError.parentNode.removeChild(this.dom.tdError),delete this.dom.tdError)},y.prototype.getIndex=function(){return this.parent?this.parent.childs.indexOf(this):-1},y.prototype.setParent=function(g){this.parent=g},y.prototype.setField=function(g,v){this.field=g,this.previousField=g,this.fieldEditable=!0===v},y.prototype.getField=function(){return void 0===this.field&&this._getDomField(),this.field},y.prototype.setValue=function(g,v){var A,D,T=!1,N=this.childs;if(N)for(;N.length;)this.removeChild(N[0],T);if(this.type=this._getType(g),v&&v!=this.type){if("string"!=v||"auto"!=this.type)throw new Error('Type mismatch: cannot cast value of type "'+this.type+' to the specified type "'+v+'"');this.type=v}if("array"==this.type){this.childs=[];for(var x=0,I=g.length;x<I;x++)void 0!==(A=g[x])&&!(A instanceof Function)&&(D=new y(this.editor,{value:A}),this.appendChild(D,x<this.MAX_VISIBLE_CHILDS,T));this.value=""}else if("object"==this.type){for(var k in this.childs=[],x=0,g)g.hasOwnProperty(k)&&(void 0!==(A=g[k])&&!(A instanceof Function)&&(D=new y(this.editor,{field:k,value:A}),this.appendChild(D,x<this.MAX_VISIBLE_CHILDS,T)),x++);this.value="",!0===this.editor.options.sortObjectKeys&&this.sort([],"asc")}else this.childs=void 0,this.value=g;this.updateDom({updateIndexes:!0}),this.previousValue=this.value},y.prototype.getValue=function(){if("array"==this.type){var g=[];return this.childs.forEach(function(A){g.push(A.getValue())}),g}if("object"==this.type){var v={};return this.childs.forEach(function(A){v[A.getField()]=A.getValue()}),v}return void 0===this.value&&this._getDomValue(),this.value},y.prototype.getLevel=function(){return this.parent?this.parent.getLevel()+1:0},y.prototype.getNodePath=function(){var g=this.parent?this.parent.getNodePath():[];return g.push(this),g},y.prototype.clone=function(){var g=new y(this.editor);if(g.type=this.type,g.field=this.field,g.fieldInnerText=this.fieldInnerText,g.fieldEditable=this.fieldEditable,g.value=this.value,g.valueInnerText=this.valueInnerText,g.expanded=this.expanded,g.visibleChilds=this.visibleChilds,this.childs){var v=[];this.childs.forEach(function(A){var D=A.clone();D.setParent(g),v.push(D)}),g.childs=v}else g.childs=void 0;return g},y.prototype.expand=function(g){!this.childs||(this.expanded=!0,this.dom.expand&&(this.dom.expand.className="jsoneditor-expanded"),this.showChilds(),!1!==g&&this.childs.forEach(function(v){v.expand(g)}))},y.prototype.collapse=function(g){!this.childs||(this.hideChilds(),!1!==g&&this.childs.forEach(function(v){v.collapse(g)}),this.dom.expand&&(this.dom.expand.className="jsoneditor-collapsed"),this.expanded=!1)},y.prototype.showChilds=function(){if(this.childs&&this.expanded){var v=this.dom.tr,A=v?v.parentNode:void 0;if(A){var D=this.getAppendDom();D.parentNode||((T=v.nextSibling)?A.insertBefore(D,T):A.appendChild(D));for(var M=Math.min(this.childs.length,this.visibleChilds),T=this._getNextTr(),N=0;N<M;N++){var x=this.childs[N];x.getDom().parentNode||A.insertBefore(x.getDom(),T),x.showChilds()}var I=this.getShowMoreDom();T=this._getNextTr(),I.parentNode||A.insertBefore(I,T),this.showMore.updateDom()}}},y.prototype._getNextTr=function(){return this.showMore&&this.showMore.getDom().parentNode?this.showMore.getDom():this.append&&this.append.getDom().parentNode?this.append.getDom():void 0},y.prototype.hide=function(g){var v=this.dom.tr,A=v?v.parentNode:void 0;A&&A.removeChild(v),this.hideChilds(g)},y.prototype.hideChilds=function(g){if(this.childs&&this.expanded){var A=this.getAppendDom();A.parentNode&&A.parentNode.removeChild(A),this.childs.forEach(function(M){M.hide()});var D=this.getShowMoreDom();D.parentNode&&D.parentNode.removeChild(D),(!g||g.resetVisibleChilds)&&delete this.visibleChilds}},y.prototype.expandTo=function(){for(var g=this.parent;g;)g.expanded||g.expand(),g=g.parent},y.prototype.appendChild=function(g,v,A){if(this._hasChilds()){if(g.setParent(this),g.fieldEditable="object"==this.type,"array"==this.type&&(g.index=this.childs.length),this.childs.push(g),this.expanded&&!1!==v){var D=g.getDom(),M=this._getNextTr(),T=M?M.parentNode:void 0;M&&T&&T.insertBefore(D,M),g.showChilds(),this.visibleChilds++}!1!==A&&(this.updateDom({updateIndexes:!0}),g.updateDom({recurse:!0}))}},y.prototype.moveBefore=function(g,v){if(this._hasChilds()){var A=this.dom.tr?this.dom.tr.parentNode:void 0;if(A){var D=document.createElement("tr");D.style.height=A.clientHeight+"px",A.appendChild(D)}g.parent&&g.parent.removeChild(g),v instanceof C?this.childs.length+1>this.visibleChilds?this.insertBefore(g,this.childs[this.visibleChilds-1]):this.appendChild(g):this.insertBefore(g,v),A&&A.removeChild(D)}},y.prototype.moveTo=function(g,v){g.parent==this&&this.childs.indexOf(g)<v&&v++,this.moveBefore(g,this.childs[v]||this.append)},y.prototype.insertBefore=function(g,v){if(this._hasChilds()){if(this.visibleChilds++,v==this.append)g.setParent(this),g.fieldEditable="object"==this.type,this.childs.push(g);else{var A=this.childs.indexOf(v);if(-1==A)throw new Error("Node not found");g.setParent(this),g.fieldEditable="object"==this.type,this.childs.splice(A,0,g)}if(this.expanded){var D=g.getDom(),M=v.getDom(),T=M?M.parentNode:void 0;M&&T&&T.insertBefore(D,M),g.showChilds(),this.showChilds()}this.updateDom({updateIndexes:!0}),g.updateDom({recurse:!0})}},y.prototype.insertAfter=function(g,v){if(this._hasChilds()){var A=this.childs.indexOf(v),D=this.childs[A+1];D?this.insertBefore(g,D):this.appendChild(g)}},y.prototype.search=function(g,v){Array.isArray(v)||(v=[]);var D=g?g.toLowerCase():void 0;return delete this.searchField,delete this.searchValue,void 0!==this.field&&v.length<=this.MAX_SEARCH_RESULTS&&(-1!==String(this.field).toLowerCase().indexOf(D)&&(this.searchField=!0,v.push({node:this,elem:"field"})),this._updateDomField()),this._hasChilds()?this.childs&&this.childs.forEach(function(N){N.search(g,v)}):void 0!==this.value&&v.length<=this.MAX_SEARCH_RESULTS&&(-1!==String(this.value).toLowerCase().indexOf(D)&&(this.searchValue=!0,v.push({node:this,elem:"value"})),this._updateDomValue()),v},y.prototype.scrollTo=function(g){this.expandPathToNode(),this.dom.tr&&this.dom.tr.parentNode&&this.editor.scrollTo(this.dom.tr.offsetTop,g)},y.prototype.expandPathToNode=function(){for(var g=this;g&&g.parent;){for(var A="array"===g.parent.type?g.index:g.parent.childs.indexOf(g);g.parent.visibleChilds<A+1;)g.parent.visibleChilds+=y.prototype.MAX_VISIBLE_CHILDS;g.parent.expand(!1),g=g.parent}},y.focusElement=void 0,y.prototype.focus=function(g){if(y.focusElement=g,this.dom.tr&&this.dom.tr.parentNode){var v=this.dom;switch(g){case"drag":v.drag?v.drag.focus():v.menu.focus();break;case"menu":v.menu.focus();break;case"expand":this._hasChilds()?v.expand.focus():v.field&&this.fieldEditable?(v.field.focus(),_.selectContentEditable(v.field)):v.value&&!this._hasChilds()?(v.value.focus(),_.selectContentEditable(v.value)):v.menu.focus();break;case"field":v.field&&this.fieldEditable?(v.field.focus(),_.selectContentEditable(v.field)):v.value&&!this._hasChilds()?(v.value.focus(),_.selectContentEditable(v.value)):this._hasChilds()?v.expand.focus():v.menu.focus();break;default:v.select?v.select.focus():v.value&&!this._hasChilds()?(v.value.focus(),_.selectContentEditable(v.value)):v.field&&this.fieldEditable?(v.field.focus(),_.selectContentEditable(v.field)):this._hasChilds()?v.expand.focus():v.menu.focus()}}},y.select=function(g){setTimeout(function(){_.selectContentEditable(g)},0)},y.prototype.blur=function(){this._getDomValue(!1),this._getDomField(!1)},y.prototype.containsNode=function(g){if(this==g)return!0;var v=this.childs;if(v)for(var A=0,D=v.length;A<D;A++)if(v[A].containsNode(g))return!0;return!1},y.prototype.removeChild=function(g,v){if(this.childs){var A=this.childs.indexOf(g);if(-1!==A){A<this.visibleChilds&&this.expanded&&this.visibleChilds--,g.hide(),delete g.searchField,delete g.searchValue;var D=this.childs.splice(A,1)[0];return D.parent=null,!1!==v&&this.updateDom({updateIndexes:!0}),D}}},y.prototype._remove=function(g){this.removeChild(g)},y.prototype.changeType=function(g){var v=this.type;if(v!=g){if("string"!=g&&"auto"!=g||"string"!=v&&"auto"!=v){var D,A=this.dom.tr?this.dom.tr.parentNode:void 0,M=(D=this.expanded?this.getAppendDom():this.getDom())&&D.parentNode?D.nextSibling:void 0;this.hide({resetVisibleChilds:!1}),this.clearDom(),this.type=g,"object"==g?(this.childs||(this.childs=[]),this.childs.forEach(function(T,N){T.clearDom(),delete T.index,T.fieldEditable=!0,null==T.field&&(T.field="")}),("string"==v||"auto"==v)&&(this.expanded=!0)):"array"==g?(this.childs||(this.childs=[]),this.childs.forEach(function(T,N){T.clearDom(),T.fieldEditable=!1,T.index=N}),("string"==v||"auto"==v)&&(this.expanded=!0)):this.expanded=!1,A&&(M?A.insertBefore(this.getDom(),M):A.appendChild(this.getDom())),this.showChilds()}else this.type=g;("auto"==g||"string"==g)&&(this.value="string"==g?String(this.value):this._stringCast(String(this.value)),this.focus()),this.updateDom({updateIndexes:!0})}},y.prototype._getDomValue=function(g){if(this.dom.value&&"array"!=this.type&&"object"!=this.type&&(this.valueInnerText=_.getInnerText(this.dom.value)),null!=this.valueInnerText)try{var v;if("string"==this.type)v=this._unescapeHTML(this.valueInnerText);else{var A=this._unescapeHTML(this.valueInnerText);v=this._stringCast(A)}v!==this.value&&(this.value=v,this._debouncedOnChangeValue())}catch(D){if(this.value=void 0,!0!==g)throw D}},y.prototype._onChangeValue=function(){var g=this.editor.getDomSelection();if(g.range){var v=_.textDiff(String(this.value),String(this.previousValue));g.range.startOffset=v.start,g.range.endOffset=v.end}var A=this.editor.getDomSelection();if(A.range){var D=_.textDiff(String(this.previousValue),String(this.value));A.range.startOffset=D.start,A.range.endOffset=D.end}this.editor._onAction("editValue",{node:this,oldValue:this.previousValue,newValue:this.value,oldSelection:g,newSelection:A}),this.previousValue=this.value},y.prototype._onChangeField=function(){var g=this.editor.getDomSelection(),v=this.previousField||"";if(g.range){var A=_.textDiff(this.field,v);g.range.startOffset=A.start,g.range.endOffset=A.end}var D=this.editor.getDomSelection();if(D.range){var M=_.textDiff(v,this.field);D.range.startOffset=M.start,D.range.endOffset=M.end}this.editor._onAction("editField",{node:this,oldValue:this.previousField,newValue:this.field,oldSelection:g,newSelection:D}),this.previousField=this.field},y.prototype._updateDomValue=function(){var g=this.dom.value;if(g){var v=["jsoneditor-value"],A=this.value,D="auto"==this.type?_.type(A):this.type,M="string"==D&&_.isUrl(A);if(v.push("jsoneditor-"+D),M&&v.push("jsoneditor-url"),""==String(this.value)&&"array"!=this.type&&"object"!=this.type&&v.push("jsoneditor-empty"),this.searchValueActive&&v.push("jsoneditor-highlight-active"),this.searchValue&&v.push("jsoneditor-highlight"),g.className=v.join(" "),g.title="array"==D||"object"==D?this.type+" containing "+(this.childs?this.childs.length:0)+" items":M&&this.editable.value?m("openUrl"):"","boolean"===D&&this.editable.value?(this.dom.checkbox||(this.dom.checkbox=document.createElement("input"),this.dom.checkbox.type="checkbox",this.dom.tdCheckbox=document.createElement("td"),this.dom.tdCheckbox.className="jsoneditor-tree",this.dom.tdCheckbox.appendChild(this.dom.checkbox),this.dom.tdValue.parentNode.insertBefore(this.dom.tdCheckbox,this.dom.tdValue)),this.dom.checkbox.checked=this.value):this.dom.tdCheckbox&&(this.dom.tdCheckbox.parentNode.removeChild(this.dom.tdCheckbox),delete this.dom.tdCheckbox,delete this.dom.checkbox),this.enum&&this.editable.value){if(!this.dom.select){this.dom.select=document.createElement("select"),this.id=this.field+"_"+(new Date).getUTCMilliseconds(),this.dom.select.id=this.id,this.dom.select.name=this.dom.select.id,this.dom.select.option=document.createElement("option"),this.dom.select.option.value="",this.dom.select.option.innerHTML="--",this.dom.select.appendChild(this.dom.select.option);for(var x=0;x<this.enum.length;x++)this.dom.select.option=document.createElement("option"),this.dom.select.option.value=this.enum[x],this.dom.select.option.innerHTML=this.enum[x],this.dom.select.option.value==this.value&&(this.dom.select.option.selected=!0),this.dom.select.appendChild(this.dom.select.option);this.dom.tdSelect=document.createElement("td"),this.dom.tdSelect.className="jsoneditor-tree",this.dom.tdSelect.appendChild(this.dom.select),this.dom.tdValue.parentNode.insertBefore(this.dom.tdSelect,this.dom.tdValue)}!this.schema||this.schema.hasOwnProperty("oneOf")||this.schema.hasOwnProperty("anyOf")||this.schema.hasOwnProperty("allOf")?delete this.valueFieldHTML:(this.valueFieldHTML=this.dom.tdValue.innerHTML,this.dom.tdValue.style.visibility="hidden",this.dom.tdValue.innerHTML="")}else this.dom.tdSelect&&(this.dom.tdSelect.parentNode.removeChild(this.dom.tdSelect),delete this.dom.tdSelect,delete this.dom.select,this.dom.tdValue.innerHTML=this.valueFieldHTML,this.dom.tdValue.style.visibility="",delete this.valueFieldHTML);_.stripFormatting(g)}},y.prototype._updateDomField=function(){var g=this.dom.field;g&&(""==String(this.field)&&"array"!=this.parent.type?_.addClassName(g,"jsoneditor-empty"):_.removeClassName(g,"jsoneditor-empty"),this.searchFieldActive?_.addClassName(g,"jsoneditor-highlight-active"):_.removeClassName(g,"jsoneditor-highlight-active"),this.searchField?_.addClassName(g,"jsoneditor-highlight"):_.removeClassName(g,"jsoneditor-highlight"),_.stripFormatting(g))},y.prototype._getDomField=function(g){if(this.dom.field&&this.fieldEditable&&(this.fieldInnerText=_.getInnerText(this.dom.field)),null!=this.fieldInnerText)try{var v=this._unescapeHTML(this.fieldInnerText);v!==this.field&&(this.field=v,this._debouncedOnChangeField())}catch(A){if(this.field=void 0,!0!==g)throw A}},y.prototype.validate=function(){var g=[];if("object"===this.type){for(var v={},A=[],D=0;D<this.childs.length;D++){var M=this.childs[D];v.hasOwnProperty(M.field)&&A.push(M.field),v[M.field]=!0}A.length>0&&(g=this.childs.filter(function(N){return-1!==A.indexOf(N.field)}).map(function(N){return{node:N,error:{message:m("duplicateKey")+' "'+N.field+'"'}}}))}if(this.childs)for(D=0;D<this.childs.length;D++){var T=this.childs[D].validate();T.length>0&&(g=g.concat(T))}return g},y.prototype.clearDom=function(){this.dom={}},y.prototype.getDom=function(){var g=this.dom;if(g.tr)return g.tr;if(this._updateEditability(),g.tr=document.createElement("tr"),g.tr.node=this,"tree"===this.editor.options.mode){var v=document.createElement("td");if(this.editable.field&&this.parent){var A=document.createElement("button");A.type="button",g.drag=A,A.className="jsoneditor-dragarea",A.title=m("drag"),v.appendChild(A)}g.tr.appendChild(v);var D=document.createElement("td"),M=document.createElement("button");M.type="button",g.menu=M,M.className="jsoneditor-contextmenu",M.title=m("actionsMenu"),D.appendChild(g.menu),g.tr.appendChild(D)}var T=document.createElement("td");return g.tr.appendChild(T),g.tree=this._createDomTree(),T.appendChild(g.tree),this.updateDom({updateIndexes:!0}),g.tr},y.prototype.isVisible=function(){return this.dom&&this.dom.tr&&this.dom.tr.parentNode||!1},y.onDragStart=function(g,v){if(!Array.isArray(g))return y.onDragStart([g],v);if(0!==g.length){var A=g[0],D=g[g.length-1],M=y.getNodeFromTarget(v.target),T=D.nextSibling(),N=A.editor,x=_.getAbsoluteTop(M.dom.tr)-_.getAbsoluteTop(A.dom.tr);N.mousemove||(N.mousemove=_.addEventListener(window,"mousemove",function(I){y.onDrag(g,I)})),N.mouseup||(N.mouseup=_.addEventListener(window,"mouseup",function(I){y.onDragEnd(g,I)})),N.highlighter.lock(),N.drag={oldCursor:document.body.style.cursor,oldSelection:N.getDomSelection(),oldBeforeNode:T,mouseX:v.pageX,offsetY:x,level:A.getLevel()},document.body.style.cursor="move",v.preventDefault()}},y.onDrag=function(g,v){if(!Array.isArray(g))return y.onDrag([g],v);if(0!==g.length){var T,N,x,I,k,$,P,V,U,X,ie,ee,ce,_e,A=g[0].editor,D=v.pageY-A.drag.offsetY,M=v.pageX,xe=!1,we=g[0];if(U=_.getAbsoluteTop(T=we.dom.tr),ee=T.offsetHeight,D<U){N=T;do{P=y.getNodeFromTarget(N=N.previousSibling),X=N?_.getAbsoluteTop(N):0}while(N&&D<X);P&&!P.parent&&(P=void 0),P||(P=y.getNodeFromTarget(N=($=T.parentNode.firstChild)?$.nextSibling:void 0))==we&&(P=void 0),P&&P.isVisible()&&D>(X=(N=P.dom.tr)?_.getAbsoluteTop(N):0)+ee&&(P=void 0),P&&(g.forEach(function(fe){P.parent.moveBefore(fe,P)}),xe=!0)}else{var Se=g[g.length-1];if(I=(k=Se.expanded&&Se.append?Se.append.getDom():Se.dom.tr)?k.nextSibling:void 0){ie=_.getAbsoluteTop(I),x=I;do{V=y.getNodeFromTarget(x),x&&(ce=x.nextSibling?_.getAbsoluteTop(x.nextSibling):0,_e=x?ce-ie:0,V&&V.parent.childs.length==g.length&&V.parent.childs[g.length-1]==Se&&(U+=27),x=x.nextSibling)}while(x&&D>U+_e);if(V&&V.parent){var ye=Math.round((M-A.drag.mouseX)/24/2),Ce=A.drag.level+ye,ge=V.getLevel();for(N=V.dom.tr&&V.dom.tr.previousSibling;ge<Ce&&N;){if(P=y.getNodeFromTarget(N),!g.some(function(fe){return fe===P||P.isDescendantOf(fe)})){if(!(P instanceof C))break;var de=P.parent.childs;if(de.length==g.length&&de[g.length-1]==Se)break;ge=(V=y.getNodeFromTarget(N)).getLevel()}N=N.previousSibling}V instanceof C&&!V.isVisible()&&V.parent.showMore.isVisible()&&(V=V._nextNode()),V&&V.dom.tr&&k.nextSibling!=V.dom.tr&&(g.forEach(function(fe){V.parent.moveBefore(fe,V)}),xe=!0)}}}xe&&(A.drag.mouseX=M,A.drag.level=we.getLevel()),A.startAutoScroll(D),v.preventDefault()}},y.onDragEnd=function(g,v){if(!Array.isArray(g))return y.onDrag([g],v);if(0!==g.length){var A=g[0],D=A.editor,M=A.parent,T=M.childs.indexOf(A),N=M.childs[T+g.length]||M.append;g[0]&&g[0].dom.menu.focus();var x={nodes:g,oldSelection:D.drag.oldSelection,newSelection:D.getDomSelection(),oldBeforeNode:D.drag.oldBeforeNode,newBeforeNode:N};x.oldBeforeNode!=x.newBeforeNode&&D._onAction("moveNodes",x),document.body.style.cursor=D.drag.oldCursor,D.highlighter.unlock(),g.forEach(function(I){v.target!==I.dom.drag&&v.target!==I.dom.menu&&D.highlighter.unhighlight()}),delete D.drag,D.mousemove&&(_.removeEventListener(window,"mousemove",D.mousemove),delete D.mousemove),D.mouseup&&(_.removeEventListener(window,"mouseup",D.mouseup),delete D.mouseup),D.stopAutoScroll(),v.preventDefault()}},y.prototype.isDescendantOf=function(g){for(var v=this.parent;v;){if(v==g)return!0;v=v.parent}return!1},y.prototype._createDomField=function(){return document.createElement("div")},y.prototype.setHighlight=function(g){this.dom.tr&&(g?_.addClassName(this.dom.tr,"jsoneditor-highlight"):_.removeClassName(this.dom.tr,"jsoneditor-highlight"),this.append&&this.append.setHighlight(g),this.childs&&this.childs.forEach(function(v){v.setHighlight(g)}))},y.prototype.setSelected=function(g,v){this.selected=g,this.dom.tr&&(g?_.addClassName(this.dom.tr,"jsoneditor-selected"):_.removeClassName(this.dom.tr,"jsoneditor-selected"),v?_.addClassName(this.dom.tr,"jsoneditor-first"):_.removeClassName(this.dom.tr,"jsoneditor-first"),this.append&&this.append.setSelected(g),this.showMore&&this.showMore.setSelected(g),this.childs&&this.childs.forEach(function(A){A.setSelected(g)}))},y.prototype.updateValue=function(g){this.value=g,this.updateDom()},y.prototype.updateField=function(g){this.field=g,this.updateDom()},y.prototype.updateDom=function(g){var v=this.dom.tree;v&&(v.style.marginLeft=24*this.getLevel()+"px");var D,A=this.dom.field;A&&(this.fieldEditable?(A.contentEditable=this.editable.field,A.spellcheck=!1,A.className="jsoneditor-field"):A.className="jsoneditor-readonly",D=null!=this.index?this.index:null!=this.field?this.field:this._hasChilds()?this.type:"",A.innerHTML=this._escapeHTML(D),this._updateSchema());var M=this.dom.value;if(M){var T=this.childs?this.childs.length:0;"array"==this.type?(M.innerHTML="["+T+"]",_.addClassName(this.dom.tr,"jsoneditor-expandable")):"object"==this.type?(M.innerHTML="{"+T+"}",_.addClassName(this.dom.tr,"jsoneditor-expandable")):(M.innerHTML=this._escapeHTML(this.value),_.removeClassName(this.dom.tr,"jsoneditor-expandable"))}this._updateDomField(),this._updateDomValue(),g&&!0===g.updateIndexes&&this._updateDomIndexes(),g&&!0===g.recurse&&this.childs&&this.childs.forEach(function(N){N.updateDom(g)}),this.error&&this.updateError(),this.append&&this.append.updateDom(),this.showMore&&this.showMore.updateDom()},y.prototype._updateSchema=function(){this.editor&&this.editor.options&&(this.schema=this.editor.options.schema?y._findSchema(this.editor.options.schema,this.getPath()):null,this.schema?this.enum=y._findEnum(this.schema):delete this.enum)},y._findEnum=function(g){if(g.enum)return g.enum;var v=g.oneOf||g.anyOf||g.allOf;if(v){var A=v.filter(function(D){return D.enum});if(A.length>0)return A[0].enum}return null},y._findSchema=function(g,v){var A=g,D=A,M=g.oneOf||g.anyOf||g.allOf;M||(M=[g]);for(var T=0;T<M.length;T++){A=M[T];for(var N=0;N<v.length&&A;N++){var x=v[N];if("string"==typeof x&&A.patternProperties&&N==v.length-1)for(var I in A.patternProperties)D=y._findSchema(A.patternProperties[I],v.slice(N,v.length));else A.items&&A.items.properties?(A=A.items.properties[x])&&(D=y._findSchema(A,v.slice(N,v.length))):"string"==typeof x&&A.properties?(A=A.properties[x]||null)&&(D=y._findSchema(A,v.slice(N,v.length))):"number"==typeof x&&A.items&&(A=A.items)&&(D=y._findSchema(A,v.slice(N,v.length)))}}return D},y.prototype._updateDomIndexes=function(){var v=this.childs;this.dom.value&&v&&("array"==this.type?v.forEach(function(A,D){A.index=D;var M=A.dom.field;M&&(M.innerHTML=D)}):"object"==this.type&&v.forEach(function(A){null!=A.index&&(delete A.index,null==A.field&&(A.field=""))}))},y.prototype._createDomValue=function(){var g;return"array"==this.type?(g=document.createElement("div")).innerHTML="[...]":"object"==this.type?(g=document.createElement("div")).innerHTML="{...}":!this.editable.value&&_.isUrl(this.value)?((g=document.createElement("a")).href=this.value,g.innerHTML=this._escapeHTML(this.value)):((g=document.createElement("div")).contentEditable=this.editable.value,g.spellcheck=!1,g.innerHTML=this._escapeHTML(this.value)),g},y.prototype._createDomExpandButton=function(){var g=document.createElement("button");return g.type="button",this._hasChilds()?(g.className=this.expanded?"jsoneditor-expanded":"jsoneditor-collapsed",g.title=m("expandTitle")):(g.className="jsoneditor-invisible",g.title=""),g},y.prototype._createDomTree=function(){var g=this.dom,v=document.createElement("table"),A=document.createElement("tbody");v.style.borderCollapse="collapse",v.className="jsoneditor-values",v.appendChild(A);var D=document.createElement("tr");A.appendChild(D);var M=document.createElement("td");M.className="jsoneditor-tree",D.appendChild(M),g.expand=this._createDomExpandButton(),M.appendChild(g.expand),g.tdExpand=M;var T=document.createElement("td");T.className="jsoneditor-tree",D.appendChild(T),g.field=this._createDomField(),T.appendChild(g.field),g.tdField=T;var N=document.createElement("td");N.className="jsoneditor-tree",D.appendChild(N),"object"!=this.type&&"array"!=this.type&&(N.appendChild(document.createTextNode(":")),N.className="jsoneditor-separator"),g.tdSeparator=N;var x=document.createElement("td");return x.className="jsoneditor-tree",D.appendChild(x),g.value=this._createDomValue(),x.appendChild(g.value),g.tdValue=x,v},y.prototype.onEvent=function(g){var v=g.type,A=g.target||g.srcElement,D=this.dom,M=this,T=this._hasChilds();if((A==D.drag||A==D.menu)&&("mouseover"==v?this.editor.highlighter.highlight(this):"mouseout"==v&&this.editor.highlighter.unhighlight()),"click"==v&&A==D.menu){var N=M.editor.highlighter;N.highlight(M),N.lock(),_.addClassName(D.menu,"jsoneditor-selected"),this.showContextMenu(D.menu,function(){_.removeClassName(D.menu,"jsoneditor-selected"),N.unlock(),N.unhighlight()})}"click"!=v||A!=D.expand&&("view"!==M.editor.options.mode&&"form"!==M.editor.options.mode||"DIV"!==A.nodeName)||!T||this._onExpand(g.ctrlKey),"change"==v&&A==D.checkbox&&(this.dom.value.innerHTML=!this.value,this._getDomValue()),"change"==v&&A==D.select&&(this.dom.value.innerHTML=D.select.value,this._getDomValue(),this._updateDomValue());var I=D.value;if(A==I)switch(v){case"blur":case"change":this._getDomValue(!0),this._updateDomValue(),this.value&&(I.innerHTML=this._escapeHTML(this.value));break;case"input":case"keyup":this._getDomValue(!0),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"click":g.ctrlKey&&this.editable.value&&_.isUrl(this.value)&&(g.preventDefault(),window.open(this.value,"_blank"));break;case"cut":case"paste":setTimeout(function(){M._getDomValue(!0),M._updateDomValue()},1)}var k=D.field;if(A==k)switch(v){case"blur":case"change":this._getDomField(!0),this._updateDomField(),this.field&&(k.innerHTML=this._escapeHTML(this.field));break;case"input":this._getDomField(!0),this._updateSchema(),this._updateDomField(),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"keyup":this._getDomField(!0),this._updateDomField();break;case"cut":case"paste":setTimeout(function(){M._getDomField(!0),M._updateDomField()},1)}var $=D.tree;$&&A==$.parentNode&&"click"==v&&!g.hasMoved&&((null!=g.offsetX?g.offsetX<24*(this.getLevel()+1):g.pageX<_.getAbsoluteLeft(D.tdSeparator))||T?k&&(_.setEndOfContentEditable(k),k.focus()):I&&!this.enum&&(_.setEndOfContentEditable(I),I.focus())),(A==D.tdExpand&&!T||A==D.tdField||A==D.tdSeparator)&&"click"==v&&!g.hasMoved&&k&&(_.setEndOfContentEditable(k),k.focus()),"keydown"==v&&this.onKeyDown(g)},y.prototype.onKeyDown=function(g){var x,I,k,V,U,X,ie,v=g.which||g.keyCode,A=g.target||g.srcElement,D=g.ctrlKey,M=g.shiftKey,T=g.altKey,N=!1,P="tree"===this.editor.options.mode,ee=this.editor.multiselection.nodes.length>0?this.editor.multiselection.nodes:[this],ce=ee[0],_e=ee[ee.length-1];if(13==v)A==this.dom.value?(!this.editable.value||g.ctrlKey)&&_.isUrl(this.value)&&(window.open(this.value,"_blank"),N=!0):A==this.dom.expand&&this._hasChilds()&&(this._onExpand(g.ctrlKey),A.focus(),N=!0);else if(68==v)D&&P&&(y.onDuplicate(ee),N=!0);else if(69==v)D&&(this._onExpand(M),A.focus(),N=!0);else if(77==v&&P)D&&(this.showContextMenu(A),N=!0);else if(46==v&&P)D&&(y.onRemove(ee),N=!0);else if(45==v&&P)D&&!M?(this._onInsertBefore(),N=!0):D&&M&&(this._onInsertAfter(),N=!0);else if(35==v){if(T){var Se=this._lastNode();Se&&Se.focus(y.focusElement||this._getElementName(A)),N=!0}}else if(36==v){if(T){var le=this._firstNode();le&&le.focus(y.focusElement||this._getElementName(A)),N=!0}}else if(37==v){if(T&&!M){var ye=this._previousElement(A);ye&&this.focus(this._getElementName(ye)),N=!0}else if(T&&M&&P){if(_e.expanded){var Ce=_e.getAppendDom();k=Ce?Ce.nextSibling:void 0}else{var ge=_e.getDom();k=ge.nextSibling}k&&(I=y.getNodeFromTarget(k),fe=y.getNodeFromTarget(k.nextSibling),I&&I instanceof C&&1!=_e.parent.childs.length&&fe&&fe.parent&&(V=this.editor.getDomSelection(),U=_e.nextSibling(),ee.forEach(function(Re){fe.parent.moveBefore(Re,fe)}),this.focus(y.focusElement||this._getElementName(A)),this.editor._onAction("moveNodes",{nodes:ee,oldBeforeNode:U,newBeforeNode:fe,oldSelection:V,newSelection:this.editor.getDomSelection()})))}}else if(38==v)T&&!M?((x=this._previousNode())&&(this.editor.deselect(!0),x.focus(y.focusElement||this._getElementName(A))),N=!0):!T&&D&&M&&P?((x=this._previousNode())&&((ie=this.editor.multiselection).start=ie.start||this,ie.end=x,X=this.editor._findTopLevelNodes(ie.start,ie.end),this.editor.select(X),x.focus("field")),N=!0):T&&M&&P&&((x=ce._previousNode())&&x.parent&&(V=this.editor.getDomSelection(),U=_e.nextSibling(),ee.forEach(function(Re){x.parent.moveBefore(Re,x)}),this.focus(y.focusElement||this._getElementName(A)),this.editor._onAction("moveNodes",{nodes:ee,oldBeforeNode:U,newBeforeNode:x,oldSelection:V,newSelection:this.editor.getDomSelection()})),N=!0);else if(39==v){if(T&&!M){var se=this._nextElement(A);se&&this.focus(this._getElementName(se)),N=!0}else if(T&&M&&P){var de=(ge=ce.getDom()).previousSibling;de&&(x=y.getNodeFromTarget(de))&&x.parent&&!x.isVisible()&&(V=this.editor.getDomSelection(),U=_e.nextSibling(),ee.forEach(function(Re){x.parent.moveBefore(Re,x)}),this.focus(y.focusElement||this._getElementName(A)),this.editor._onAction("moveNodes",{nodes:ee,oldBeforeNode:U,newBeforeNode:x,oldSelection:V,newSelection:this.editor.getDomSelection()}))}}else if(40==v)if(T&&!M)(I=this._nextNode())&&(this.editor.deselect(!0),I.focus(y.focusElement||this._getElementName(A))),N=!0;else if(!T&&D&&M&&P)(I=this._nextNode())&&((ie=this.editor.multiselection).start=ie.start||this,ie.end=I,X=this.editor._findTopLevelNodes(ie.start,ie.end),this.editor.select(X),I.focus("field")),N=!0;else if(T&&M&&P){(I=_e.expanded?_e.append?_e.append._nextNode():void 0:_e._nextNode())&&!I.isVisible()&&(I=I.parent.showMore),I&&I instanceof C&&(I=_e);var fe=I&&(I._nextNode()||I.parent.append);fe&&fe.parent&&(V=this.editor.getDomSelection(),U=_e.nextSibling(),ee.forEach(function(Re){fe.parent.moveBefore(Re,fe)}),this.focus(y.focusElement||this._getElementName(A)),this.editor._onAction("moveNodes",{nodes:ee,oldBeforeNode:U,newBeforeNode:fe,oldSelection:V,newSelection:this.editor.getDomSelection()})),N=!0}N&&(g.preventDefault(),g.stopPropagation())},y.prototype._onExpand=function(g){if(g){var v=this.dom.tr.parentNode,A=v.parentNode,D=A.scrollTop;A.removeChild(v)}this.expanded?this.collapse(g):this.expand(g),g&&(A.appendChild(v),A.scrollTop=D)},y.onRemove=function(g){if(!Array.isArray(g))return y.onRemove([g]);if(g&&g.length>0){var v=g[0],A=v.parent,D=v.editor,M=v.getIndex();D.highlighter.unhighlight();var T=D.getDomSelection();y.blurNodes(g);var N=D.getDomSelection();g.forEach(function(x){x.parent._remove(x)}),D._onAction("removeNodes",{nodes:g.slice(0),parent:A,index:M,oldSelection:T,newSelection:N})}},y.onDuplicate=function(g){if(!Array.isArray(g))return y.onDuplicate([g]);if(g&&g.length>0){var v=g[g.length-1],A=v.parent,D=v.editor;D.deselect(D.multiselection.nodes);var M=D.getDomSelection(),T=v,N=g.map(function(I){var k=I.clone();return A.insertAfter(k,T),T=k,k});1===g.length?N[0].focus():D.select(N);var x=D.getDomSelection();D._onAction("duplicateNodes",{afterNode:v,nodes:N,parent:A,oldSelection:M,newSelection:x})}},y.prototype._onInsertBefore=function(g,v,A){var D=this.editor.getDomSelection(),M=new y(this.editor,{field:null!=g?g:"",value:null!=v?v:"",type:A});M.expand(!0),this.parent.insertBefore(M,this),this.editor.highlighter.unhighlight(),M.focus("field");var T=this.editor.getDomSelection();this.editor._onAction("insertBeforeNodes",{nodes:[M],beforeNode:this,parent:this.parent,oldSelection:D,newSelection:T})},y.prototype._onInsertAfter=function(g,v,A){var D=this.editor.getDomSelection(),M=new y(this.editor,{field:null!=g?g:"",value:null!=v?v:"",type:A});M.expand(!0),this.parent.insertAfter(M,this),this.editor.highlighter.unhighlight(),M.focus("field");var T=this.editor.getDomSelection();this.editor._onAction("insertAfterNodes",{nodes:[M],afterNode:this,parent:this.parent,oldSelection:D,newSelection:T})},y.prototype._onAppend=function(g,v,A){var D=this.editor.getDomSelection(),M=new y(this.editor,{field:null!=g?g:"",value:null!=v?v:"",type:A});M.expand(!0),this.parent.appendChild(M),this.editor.highlighter.unhighlight(),M.focus("field");var T=this.editor.getDomSelection();this.editor._onAction("appendNodes",{nodes:[M],parent:this.parent,oldSelection:D,newSelection:T})},y.prototype._onChangeType=function(g){var v=this.type;if(g!=v){var A=this.editor.getDomSelection();this.changeType(g);var D=this.editor.getDomSelection();this.editor._onAction("changeType",{node:this,oldType:v,newType:g,oldSelection:A,newSelection:D})}},y.prototype.sort=function(g,v){if(this._hasChilds()){this.hideChilds();var A=this.childs;this.childs=this.childs.concat();var D="desc"===v?-1:1;this.childs.sort("object"===this.type?function(M,T){return D*W(M.field,T.field)}:function(M,T){var N=M.getNestedChild(g),x=T.getNestedChild(g);if(!N)return D;if(!x)return-D;var I=N.value,k=x.value;return"string"!=typeof I&&"string"!=typeof k?I>k?D:I<k?-D:0:D*W(I,k)}),this._updateDomIndexes(),this.editor._onAction("sort",{node:this,oldChilds:A,newChilds:this.childs}),this.showChilds()}},y.prototype.transform=function(g){if(this._hasChilds()){this.hideChilds();var v=this.type,A=this.childs;this.childs=this.childs.concat();try{var D=this.getValue(),M=H.search(D,g);this.setValue(M),this.editor._onAction("transform",{node:this,oldType:v,newType:this.type,oldValue:D,newValue:M,oldChilds:A,newChilds:this.childs}),this.showChilds()}catch(T){this.showChilds(),this.editor._onError(T)}}},y.prototype.getNestedChild=function(g){for(var v=0,A=this;A&&v<g.length;)A=A.findChildByProperty(g[v]),v++;return A},y.prototype.findChildByProperty=function(g){if("object"===this.type)return this.childs.find(function(v){return v.field===g})},y.prototype.getChildPaths=function(g){var v={};return this._getChildPaths(v,"",g),"array"===this.type&&this.childs.forEach(function(A){A._getChildPaths(v,"",g)}),Object.keys(v).sort()},y.prototype._getChildPaths=function(g,v,A){("auto"===this.type||"string"===this.type||A)&&(g[v||"."]=!0),"object"===this.type&&this.childs.forEach(function(D){D._getChildPaths(g,v+"."+D.field,A)})},y.prototype.getAppendDom=function(){return this.append||(this.append=new C(this.editor),this.append.setParent(this)),this.append.getDom()},y.prototype.getShowMoreDom=function(){return this.showMore||(this.showMore=new S(this.editor,this)),this.showMore.getDom()},y.getNodeFromTarget=function(g){for(;g;){if(g.node)return g.node;g=g.parentNode}},y.blurNodes=function(g){if(Array.isArray(g)){var v=g[0],A=v.parent,D=v.getIndex();A.childs[D+g.length]?A.childs[D+g.length].focus():A.childs[D-1]?A.childs[D-1].focus():A.focus()}else y.blurNodes([g])},y.prototype.nextSibling=function(){var g=this.parent.childs.indexOf(this);return this.parent.childs[g+1]||this.parent.append},y.prototype._previousNode=function(){var g=null,v=this.getDom();if(v&&v.parentNode){var A=v;do{g=y.getNodeFromTarget(A=A.previousSibling)}while(A&&g&&g instanceof C&&!g.isVisible())}return g},y.prototype._nextNode=function(){var g=null,v=this.getDom();if(v&&v.parentNode){var A=v;do{g=y.getNodeFromTarget(A=A.nextSibling)}while(A&&g&&g instanceof C&&!g.isVisible())}return g},y.prototype._firstNode=function(){var g=null,v=this.getDom();return v&&v.parentNode&&(g=y.getNodeFromTarget(v.parentNode.firstChild)),g},y.prototype._lastNode=function(){var g=null,v=this.getDom();if(v&&v.parentNode){var A=v.parentNode.lastChild;for(g=y.getNodeFromTarget(A);A&&g&&!g.isVisible();)g=y.getNodeFromTarget(A=A.previousSibling)}return g},y.prototype._previousElement=function(g){var v=this.dom;switch(g){case v.value:if(this.fieldEditable)return v.field;case v.field:if(this._hasChilds())return v.expand;case v.expand:return v.menu;case v.menu:if(v.drag)return v.drag;default:return null}},y.prototype._nextElement=function(g){var v=this.dom;switch(g){case v.drag:return v.menu;case v.menu:if(this._hasChilds())return v.expand;case v.expand:if(this.fieldEditable)return v.field;case v.field:if(!this._hasChilds())return v.value;default:return null}},y.prototype._getElementName=function(g){var v=this.dom;for(var A in v)if(v.hasOwnProperty(A)&&v[A]==g)return A;return null},y.prototype._hasChilds=function(){return"array"==this.type||"object"==this.type},y.TYPE_TITLES={auto:m("autoType"),object:m("objectType"),array:m("arrayType"),string:m("stringType")},y.prototype.addTemplates=function(g,v){var A=this,D=A.editor.options.templates;if(null!=D){D.length&&g.push({type:"separator"});var M=function(N,x){A._onAppend(N,x)},T=function(N,x){A._onInsertBefore(N,x)};D.forEach(function(N){g.push({text:N.text,className:N.className||"jsoneditor-type-object",title:N.title,click:v?M.bind(this,N.field,N.value):T.bind(this,N.field,N.value)})})}},y.prototype.showContextMenu=function(g,v){var A=this,D=y.TYPE_TITLES,M=[];if(this.editable.value&&M.push({text:m("type"),title:m("typeTitle"),className:"jsoneditor-type-"+this.type,submenu:[{text:m("auto"),className:"jsoneditor-type-auto"+("auto"==this.type?" jsoneditor-selected":""),title:D.auto,click:function(){A._onChangeType("auto")}},{text:m("array"),className:"jsoneditor-type-array"+("array"==this.type?" jsoneditor-selected":""),title:D.array,click:function(){A._onChangeType("array")}},{text:m("object"),className:"jsoneditor-type-object"+("object"==this.type?" jsoneditor-selected":""),title:D.object,click:function(){A._onChangeType("object")}},{text:m("string"),className:"jsoneditor-type-string"+("string"==this.type?" jsoneditor-selected":""),title:D.string,click:function(){A._onChangeType("string")}}]}),this._hasChilds()&&(M.push({text:m("sort"),title:m("sortTitle",{type:this.type}),className:"jsoneditor-sort-asc",click:function(){F(A,A.editor.options.modalAnchor||f)}}),M.push({text:m("transform"),title:m("transformTitle",{type:this.type}),className:"jsoneditor-transform",click:function(){R(A,A.editor.options.modalAnchor||f)}})),this.parent&&this.parent._hasChilds()){M.length&&M.push({type:"separator"});var T=A.parent.childs;if(A==T[T.length-1]){var N=[{text:m("auto"),className:"jsoneditor-type-auto",title:D.auto,click:function(){A._onAppend("","","auto")}},{text:m("array"),className:"jsoneditor-type-array",title:D.array,click:function(){A._onAppend("",[])}},{text:m("object"),className:"jsoneditor-type-object",title:D.object,click:function(){A._onAppend("",{})}},{text:m("string"),className:"jsoneditor-type-string",title:D.string,click:function(){A._onAppend("","","string")}}];A.addTemplates(N,!0),M.push({text:m("appendText"),title:m("appendTitle"),submenuTitle:m("appendSubmenuTitle"),className:"jsoneditor-append",click:function(){A._onAppend("","","auto")},submenu:N})}var x=[{text:m("auto"),className:"jsoneditor-type-auto",title:D.auto,click:function(){A._onInsertBefore("","","auto")}},{text:m("array"),className:"jsoneditor-type-array",title:D.array,click:function(){A._onInsertBefore("",[])}},{text:m("object"),className:"jsoneditor-type-object",title:D.object,click:function(){A._onInsertBefore("",{})}},{text:m("string"),className:"jsoneditor-type-string",title:D.string,click:function(){A._onInsertBefore("","","string")}}];A.addTemplates(x,!1),M.push({text:m("insert"),title:m("insertTitle"),submenuTitle:m("insertSub"),className:"jsoneditor-insert",click:function(){A._onInsertBefore("","","auto")},submenu:x}),this.editable.field&&(M.push({text:m("duplicateText"),title:m("duplicateField"),className:"jsoneditor-duplicate",click:function(){y.onDuplicate(A)}}),M.push({text:m("removeText"),title:m("removeField"),className:"jsoneditor-remove",click:function(){y.onRemove(A)}}))}new E(M,{close:v}).show(g,this.editor.content)},y.prototype._getType=function(g){return g instanceof Array?"array":g instanceof Object?"object":"string"==typeof g&&"string"!=typeof this._stringCast(g)?"string":"auto"},y.prototype._stringCast=function(g){var v=g.toLowerCase(),A=Number(g),D=parseFloat(g);return""==g?"":"null"==v?null:"true"==v||"false"!=v&&(isNaN(A)||isNaN(D)?g:A)},y.prototype._escapeHTML=function(g){if("string"!=typeof g)return String(g);var v=String(g).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/  /g," &nbsp;").replace(/^ /,"&nbsp;").replace(/ $/,"&nbsp;"),A=JSON.stringify(v),D=A.substring(1,A.length-1);return!0===this.editor.options.escapeUnicode&&(D=_.escapeUnicodeChars(D)),D},y.prototype._unescapeHTML=function(g){var v='"'+this._escapeJSON(g)+'"';return _.parse(v).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;|\u00A0/g," ").replace(/&amp;/g,"&")},y.prototype._escapeJSON=function(g){for(var v="",A=0;A<g.length;){var D=g.charAt(A);"\n"==D?v+="\\n":"\\"==D?(v+=D,A++,(""===(D=g.charAt(A))||-1=='"\\/bfnrtu'.indexOf(D))&&(v+="\\"),v+=D):v+='"'==D?'\\"':D,A++}return v};var C=B(y),S=r(y);Te.exports=y},253:Te=>{"use strict";function z(w,H){var W=this;this.editor=w,this.timeout=void 0,this.delay=200,this.lastText=void 0,this.dom={},this.dom.container=H;var E=document.createElement("table");this.dom.table=E,E.className="jsoneditor-search",H.appendChild(E);var B=document.createElement("tbody");this.dom.tbody=B,E.appendChild(B);var r=document.createElement("tr");B.appendChild(r);var F=document.createElement("td");r.appendChild(F);var R=document.createElement("div");this.dom.results=R,R.className="jsoneditor-results",F.appendChild(R),F=document.createElement("td"),r.appendChild(F);var _=document.createElement("div");this.dom.input=_,_.className="jsoneditor-frame",_.title="Search fields and values",F.appendChild(_);var m=document.createElement("table");_.appendChild(m);var f=document.createElement("tbody");m.appendChild(f),r=document.createElement("tr"),f.appendChild(r);var y=document.createElement("button");y.type="button",y.className="jsoneditor-refresh",(F=document.createElement("td")).appendChild(y),r.appendChild(F);var C=document.createElement("input");this.dom.search=C,C.oninput=function(v){W._onDelayedSearch(v)},C.onchange=function(v){W._onSearch()},C.onkeydown=function(v){W._onKeyDown(v)},C.onkeyup=function(v){W._onKeyUp(v)},y.onclick=function(v){C.select()},(F=document.createElement("td")).appendChild(C),r.appendChild(F);var S=document.createElement("button");S.type="button",S.title="Next result (Enter)",S.className="jsoneditor-next",S.onclick=function(){W.next()},(F=document.createElement("td")).appendChild(S),r.appendChild(F);var g=document.createElement("button");g.type="button",g.title="Previous result (Shift+Enter)",g.className="jsoneditor-previous",g.onclick=function(){W.previous()},(F=document.createElement("td")).appendChild(g),r.appendChild(F)}z.prototype.next=function(w){if(null!=this.results){var H=null!=this.resultIndex?this.resultIndex+1:0;H>this.results.length-1&&(H=0),this._setActiveResult(H,w)}},z.prototype.previous=function(w){if(null!=this.results){var H=this.results.length-1,W=null!=this.resultIndex?this.resultIndex-1:H;W<0&&(W=H),this._setActiveResult(W,w)}},z.prototype._setActiveResult=function(w,H){if(this.activeResult){var W=this.activeResult.node;"field"==this.activeResult.elem?delete W.searchFieldActive:delete W.searchValueActive,W.updateDom()}if(!this.results||!this.results[w])return this.resultIndex=void 0,void(this.activeResult=void 0);this.resultIndex=w;var B=this.results[this.resultIndex].node,r=this.results[this.resultIndex].elem;"field"==r?B.searchFieldActive=!0:B.searchValueActive=!0,this.activeResult=this.results[this.resultIndex],B.updateDom(),B.scrollTo(function(){H&&B.focus(r)})},z.prototype._clearDelay=function(){null!=this.timeout&&(clearTimeout(this.timeout),delete this.timeout)},z.prototype._onDelayedSearch=function(w){this._clearDelay();var H=this;this.timeout=setTimeout(function(W){H._onSearch()},this.delay)},z.prototype._onSearch=function(w){this._clearDelay();var H=this.dom.search.value,W=H.length>0?H:void 0;if(W!==this.lastText||w){this.lastText=W,this.results=this.editor.search(W);var E=this.results[0]?this.results[0].node.MAX_SEARCH_RESULTS:1/0;if(this._setActiveResult(0,!1),void 0!==W){var B=this.results.length;this.dom.results.innerHTML=0===B?"no&nbsp;results":1===B?"1&nbsp;result":B>E?E+"+&nbsp;results":B+"&nbsp;results"}else this.dom.results.innerHTML=""}},z.prototype._onKeyDown=function(w){var H=w.which;27==H?(this.dom.search.value="",this._onSearch(),w.preventDefault(),w.stopPropagation()):13==H&&(w.ctrlKey?this._onSearch(!0):w.shiftKey?this.previous():this.next(),w.preventDefault(),w.stopPropagation())},z.prototype._onKeyUp=function(w){var H=w.keyCode;27!=H&&13!=H&&this._onDelayedSearch(w)},z.prototype.clear=function(){this.dom.search.value="",this._onSearch()},z.prototype.destroy=function(){this.editor=null,this.dom.container.removeChild(this.dom.table),this.dom=null,this.results=null,this.activeResult=null,this._clearDelay()},Te.exports=z},2835:(Te,z,w)=>{"use strict";var H=w(8534),W=w(6307).translate;function E(B){B&&(this.path=document.createElement("div"),this.path.className="jsoneditor-treepath",B.appendChild(this.path),this.reset())}E.prototype.reset=function(){this.path.innerHTML=W("selectNode")},E.prototype.setPath=function(B){var r=this;function F(_){this.selectionCallback&&this.selectionCallback(_)}function R(_,m){this.contextMenuCallback&&this.contextMenuCallback(_,m)}this.path.innerHTML="",B&&B.length&&B.forEach(function(_,m){var y,f=document.createElement("span");if(f.className="jsoneditor-treepath-element",f.innerText=_.name,f.onclick=F.bind(r,_),r.path.appendChild(f),_.children.length&&((y=document.createElement("span")).className="jsoneditor-treepath-seperator",y.innerHTML="&#9658;",y.onclick=function(){var S=[];_.children.forEach(function(v){S.push({text:v.name,className:"jsoneditor-type-modes"+(B[m+1]+1&&B[m+1].name===v.name?" jsoneditor-selected":""),click:R.bind(r,_,v.name)})}),new H(S).show(y)},r.path.appendChild(y,r.container)),m===B.length-1){var C=(y||f).getBoundingClientRect().left;r.path.offsetWidth<C&&(r.path.scrollLeft=C)}})},E.prototype.onSectionSelected=function(B){"function"==typeof B&&(this.selectionCallback=B)},E.prototype.onContextMenuItemSelected=function(B){"function"==typeof B&&(this.contextMenuCallback=B)},Te.exports=E},2525:(Te,z,w)=>{var H;if(window.ace)H=window.ace;else try{H=w(8873),w(1123),w(2915)}catch(W){}Te.exports=H},7382:()=>{ace.define("ace/theme/jsoneditor",["require","exports","module","ace/lib/dom"],function(Te,z,w){z.isDark=!1,z.cssClass="ace-jsoneditor",z.cssText='.ace-jsoneditor .ace_gutter {background: #ebebeb;color: #333}.ace-jsoneditor.ace_editor {font-family: "dejavu sans mono", "droid sans mono", consolas, monaco, "lucida console", "courier new", courier, monospace, sans-serif;line-height: 1.3;background-color: #fff;}.ace-jsoneditor .ace_print-margin {width: 1px;background: #e8e8e8}.ace-jsoneditor .ace_scroller {background-color: #FFFFFF}.ace-jsoneditor .ace_text-layer {color: gray}.ace-jsoneditor .ace_variable {color: #1a1a1a}.ace-jsoneditor .ace_cursor {border-left: 2px solid #000000}.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {border-left: 0px;border-bottom: 1px solid #000000}.ace-jsoneditor .ace_marker-layer .ace_selection {background: lightgray}.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #FFFFFF;border-radius: 2px}.ace-jsoneditor .ace_marker-layer .ace_step {background: rgb(255, 255, 0)}.ace-jsoneditor .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #BFBFBF}.ace-jsoneditor .ace_marker-layer .ace_active-line {background: #FFFBD1}.ace-jsoneditor .ace_gutter-active-line {background-color : #dcdcdc}.ace-jsoneditor .ace_marker-layer .ace_selected-word {border: 1px solid lightgray}.ace-jsoneditor .ace_invisible {color: #BFBFBF}.ace-jsoneditor .ace_keyword,.ace-jsoneditor .ace_meta,.ace-jsoneditor .ace_support.ace_constant.ace_property-value {color: #AF956F}.ace-jsoneditor .ace_keyword.ace_operator {color: #484848}.ace-jsoneditor .ace_keyword.ace_other.ace_unit {color: #96DC5F}.ace-jsoneditor .ace_constant.ace_language {color: darkorange}.ace-jsoneditor .ace_constant.ace_numeric {color: red}.ace-jsoneditor .ace_constant.ace_character.ace_entity {color: #BF78CC}.ace-jsoneditor .ace_invalid {color: #FFFFFF;background-color: #FF002A;}.ace-jsoneditor .ace_fold {background-color: #AF956F;border-color: #000000}.ace-jsoneditor .ace_storage,.ace-jsoneditor .ace_support.ace_class,.ace-jsoneditor .ace_support.ace_function,.ace-jsoneditor .ace_support.ace_other,.ace-jsoneditor .ace_support.ace_type {color: #C52727}.ace-jsoneditor .ace_string {color: green}.ace-jsoneditor .ace_comment {color: #BCC8BA}.ace-jsoneditor .ace_entity.ace_name.ace_tag,.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {color: #606060}.ace-jsoneditor .ace_markup.ace_underline {text-decoration: underline}.ace-jsoneditor .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y}',Te("../lib/dom").importCssString(z.cssText,z.cssClass)})},8579:(Te,z,w)=>{"use strict";var H=w(1464),W=w(8534),E=w(6307).translate;Te.exports=function(r){function F(R){this.editor=R,this.dom={}}return(F.prototype=new r).getDom=function(){var R=this.dom;if(R.tr)return R.tr;this._updateEditability();var _=document.createElement("tr");if(_.className="jsoneditor-append",_.node=this,R.tr=_,"tree"===this.editor.options.mode){R.tdDrag=document.createElement("td");var m=document.createElement("td");R.tdMenu=m;var f=document.createElement("button");f.type="button",f.className="jsoneditor-contextmenu",f.title="Click to open the actions menu (Ctrl+M)",R.menu=f,m.appendChild(R.menu)}var y=document.createElement("td"),C=document.createElement("div");return C.innerHTML="("+E("empty")+")",C.className="jsoneditor-readonly",y.appendChild(C),R.td=y,R.text=C,this.updateDom(),_},F.prototype.updateDom=function(R){var _=this.dom,m=_.td;m&&(m.style.paddingLeft=24*this.getLevel()+26+"px");var f=_.text;f&&(f.innerHTML="("+E("empty")+" "+this.parent.type+")");var y=_.tr;this.isVisible()?_.tr.firstChild||(_.tdDrag&&y.appendChild(_.tdDrag),_.tdMenu&&y.appendChild(_.tdMenu),y.appendChild(m)):_.tr.firstChild&&(_.tdDrag&&y.removeChild(_.tdDrag),_.tdMenu&&y.removeChild(_.tdMenu),y.removeChild(m))},F.prototype.isVisible=function(){return 0==this.parent.childs.length},F.prototype.showContextMenu=function(R,_){var m=this,f=r.TYPE_TITLES,y=[{text:E("auto"),className:"jsoneditor-type-auto",title:f.auto,click:function(){m._onAppend("","","auto")}},{text:E("array"),className:"jsoneditor-type-array",title:f.array,click:function(){m._onAppend("",[])}},{text:E("object"),className:"jsoneditor-type-object",title:f.object,click:function(){m._onAppend("",{})}},{text:E("string"),className:"jsoneditor-type-string",title:f.string,click:function(){m._onAppend("","","string")}}];m.addTemplates(y,!0);var C=[{text:E("appendText"),title:E("appendTitleAuto"),submenuTitle:E("appendSubmenuTitle"),className:"jsoneditor-insert",click:function(){m._onAppend("","","auto")},submenu:y}];new W(C,{close:_}).show(R,this.editor.content)},F.prototype.onEvent=function(R){var _=R.type,m=R.target||R.srcElement,f=this.dom;if(m==f.menu&&("mouseover"==_?this.editor.highlighter.highlight(this.parent):"mouseout"==_&&this.editor.highlighter.unhighlight()),"click"==_&&m==f.menu){var C=this.editor.highlighter;C.highlight(this.parent),C.lock(),H.addClassName(f.menu,"jsoneditor-selected"),this.showContextMenu(f.menu,function(){H.removeClassName(f.menu,"jsoneditor-selected"),C.unlock(),C.unhighlight()})}"keydown"==_&&this.onKeyDown(R)},F}},4853:(Te,z)=>{var H,w=((H={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(B,r,F,R,_,m,f){var y=m.length-1;switch(_){case 1:this.$=B.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(B);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=m[y-1];case 13:this.$={};break;case 14:case 19:this.$=m[y-1];break;case 15:this.$=[m[y-2],m[y]];break;case 16:this.$={},this.$[m[y][0]]=m[y][1];break;case 17:this.$=m[y-2],m[y-2][m[y][0]]=m[y][1];break;case 18:this.$=[];break;case 20:this.$=[m[y]];break;case 21:this.$=m[y-2],m[y-2].push(m[y])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(B,r){throw new Error(B)},parse:function(B){var r=this,F=[0],R=[null],_=[],m=this.table,f="",y=0,C=0,S=0;this.lexer.setInput(B),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var A=this.lexer.yylloc;function M(){var ce;return"number"!=typeof(ce=r.lexer.lex()||1)&&(ce=r.symbols_[ce]||ce),ce}_.push(A),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var T,N,x,I,$,V,U,ie,P={};;){if(this.defaultActions[x=F[F.length-1]]?I=this.defaultActions[x]:(null==T&&(T=M()),I=m[x]&&m[x][T]),void 0===I||!I.length||!I[0]){if(!S){for(V in ie=[],m[x])this.terminals_[V]&&V>2&&ie.push("'"+this.terminals_[V]+"'");var ee="";ee=this.lexer.showPosition?"Parse error on line "+(y+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+ie.join(", ")+", got '"+this.terminals_[T]+"'":"Parse error on line "+(y+1)+": Unexpected "+(1==T?"end of input":"'"+(this.terminals_[T]||T)+"'"),this.parseError(ee,{text:this.lexer.match,token:this.terminals_[T]||T,line:this.lexer.yylineno,loc:A,expected:ie})}if(3==S){if(1==T)throw new Error(ee||"Parsing halted.");C=this.lexer.yyleng,f=this.lexer.yytext,y=this.lexer.yylineno,A=this.lexer.yylloc,T=M()}for(;!(2..toString()in m[x]);){if(0==x)throw new Error(ee||"Parsing halted.");F.length=F.length-2*1,R.length=R.length-1,_.length=_.length-1,x=F[F.length-1]}N=T,T=2,I=m[x=F[F.length-1]]&&m[x][2],S=3}if(I[0]instanceof Array&&I.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+T);switch(I[0]){case 1:F.push(T),R.push(this.lexer.yytext),_.push(this.lexer.yylloc),F.push(I[1]),T=null,N?(T=N,N=null):(C=this.lexer.yyleng,f=this.lexer.yytext,y=this.lexer.yylineno,A=this.lexer.yylloc,S>0&&S--);break;case 2:if(P.$=R[R.length-(U=this.productions_[I[1]][1])],P._$={first_line:_[_.length-(U||1)].first_line,last_line:_[_.length-1].last_line,first_column:_[_.length-(U||1)].first_column,last_column:_[_.length-1].last_column},void 0!==($=this.performAction.call(P,f,C,y,this.yy,I[1],R,_)))return $;U&&(F=F.slice(0,-1*U*2),R=R.slice(0,-1*U),_=_.slice(0,-1*U)),F.push(this.productions_[I[1]][0]),R.push(P.$),_.push(P._$),F.push(m[F[F.length-2]][F[F.length-1]]);break;case 3:return!0}}return!0}}).lexer={EOF:1,parseError:function(r,F){if(!this.yy.parseError)throw new Error(r);this.yy.parseError(r,F)},setInput:function(B){return this._input=B,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var B=this._input[0];return this.yytext+=B,this.yyleng++,this.match+=B,this.matched+=B,B.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),B},unput:function(B){return this._input=B+this._input,this},more:function(){return this._more=!0,this},less:function(B){this._input=this.match.slice(B)+this._input},pastInput:function(){var B=this.matched.substr(0,this.matched.length-this.match.length);return(B.length>20?"...":"")+B.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var B=this.match;return B.length<20&&(B+=this._input.substr(0,20-B.length)),(B.substr(0,20)+(B.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var B=this.pastInput(),r=new Array(B.length+1).join("-");return B+this.upcomingInput()+"\n"+r+"^"},next:function(){if(this.done)return this.EOF;var B,r,F,R,m;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),y=0;y<f.length&&(!(F=this._input.match(this.rules[f[y]]))||r&&!(F[0].length>r[0].length)||(r=F,R=y,this.options.flex));y++);return r?((m=r[0].match(/\n.*/g))&&(this.yylineno+=m.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:m?m[m.length-1].length-1:this.yylloc.last_column+r[0].length},this.yytext+=r[0],this.match+=r[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(r[0].length),this.matched+=r[0],B=this.performAction.call(this,this.yy,this,f[R],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),B||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var r=this.next();return void 0!==r?r:this.lex()},begin:function(r){this.conditionStack.push(r)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(r){this.begin(r)},options:{},performAction:function(r,F,R,_){switch(R){case 0:break;case 1:return 6;case 2:return F.yytext=F.yytext.substr(1,F.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}},H);z.parser=w,z.parse=w.parse.bind(w)},299:Te=>{"use strict";var z={defaultSelected:!0,width:"auto",disabled:!1,searchable:!0,clearable:!1,sortSelected:!1,allowDeselect:!1,closeOnScroll:!1,nativeDropdown:!1,placeholder:"Select an option...",taggable:!1,tagPlaceholder:"Enter a tag..."},w=function(){};w.prototype={on:function(v,A){this._events=this._events||{},this._events[v]=this._events[v]||[],this._events[v].push(A)},off:function(v,A){this._events=this._events||{},v in this._events&&this._events[v].splice(this._events[v].indexOf(A),1)},emit:function(v){if(this._events=this._events||{},v in this._events)for(var A=0;A<this._events[v].length;A++)this._events[v][A].apply(this,Array.prototype.slice.call(arguments,1))}},w.mixin=function(v){for(var A=["on","off","emit"],D=0;D<A.length;D++)"function"==typeof v?v.prototype[A[D]]=w.prototype[A[D]]:v[A[D]]=w.prototype[A[D]];return v};var H={extend:function(v,A){var D;for(D in A=A||{},v)v.hasOwnProperty(D)&&(A.hasOwnProperty(D)||(A[D]=v[D]));return A},each:function(v,A,D){if("[object Object]"===Object.prototype.toString.call(v))for(var M in v)Object.prototype.hasOwnProperty.call(v,M)&&A.call(D,M,v[M],v);else for(var T=0,N=v.length;T<N;T++)A.call(D,T,v[T],v)},createElement:function(v,A){var T,D=document,M=D.createElement(v);if(A&&"[object Object]"===Object.prototype.toString.call(A))for(T in A)if(T in M)M[T]=A[T];else if("html"===T)M.innerHTML=A[T];else if("text"===T){var N=D.createTextNode(A[T]);M.appendChild(N)}else M.setAttribute(T,A[T]);return M},hasClass:function(v,A){if(v)return v.classList?v.classList.contains(A):!!v.className&&!!v.className.match(new RegExp("(\\s|^)"+A+"(\\s|$)"))},addClass:function(v,A){H.hasClass(v,A)||(v.classList?v.classList.add(A):v.className=v.className.trim()+" "+A)},removeClass:function(v,A){H.hasClass(v,A)&&(v.classList?v.classList.remove(A):v.className=v.className.replace(new RegExp("(^|\\s)"+A.split(" ").join("|")+"(\\s|$)","gi")," "))},closest:function(v,A){return v&&v!==document.body&&(A(v)?v:H.closest(v.parentNode,A))},isInt:function(v){return"number"==typeof v&&isFinite(v)&&Math.floor(v)===v},debounce:function(v,A,D){var M;return function(){var T=this,N=arguments,x=function(){M=null,D||v.apply(T,N)},I=D&&!M;clearTimeout(M),M=setTimeout(x,A),I&&v.apply(T,N)}},rect:function(v,A){var D=window,M=v.getBoundingClientRect(),T=A?D.pageXOffset:0,N=A?D.pageYOffset:0;return{bottom:M.bottom+N,height:M.height,left:M.left+T,right:M.right+T,top:M.top+N,width:M.width}},includes:function(v,A){return v.indexOf(A)>-1},truncate:function(v){for(;v.firstChild;)v.removeChild(v.firstChild)}};function W(v,A){return v.hasOwnProperty(A)&&(!0===v[A]||v[A].length)}function E(v,A,D){v.parentNode?v.parentNode.parentNode||A.appendChild(v.parentNode):A.appendChild(v),H.removeClass(v,"excluded"),D||(v.innerHTML=v.textContent)}var B=function(){if(this.items.length){var v=document.createDocumentFragment();if(this.config.pagination){var A=this.pages.slice(0,this.pageIndex);H.each(A,function(D,M){H.each(M,function(T,N){E(N,v,this.customOption)},this)},this)}else H.each(this.items,function(D,M){E(M,v,this.customOption)},this);v.childElementCount&&(H.removeClass(this.items[this.navIndex],"active"),this.navIndex=v.querySelector(".selectr-option").idx,H.addClass(this.items[this.navIndex],"active")),this.tree.appendChild(v)}},r=function(v){!this.container.contains(v.target)&&(this.opened||H.hasClass(this.container,"notice"))&&this.close()},F=function(v,A){A=A||v;var D=this.customOption?this.config.renderOption(A):v.textContent,M=H.createElement("li",{class:"selectr-option",html:D,role:"treeitem","aria-selected":!1});return M.idx=v.idx,this.items.push(M),v.defaultSelected&&this.defaultSelected.push(v.idx),v.disabled&&(M.disabled=!0,H.addClass(M,"disabled")),M},R=function(){this.requiresPagination=this.config.pagination&&this.config.pagination>0,W(this.config,"width")&&(H.isInt(this.config.width)?this.width=this.config.width+"px":"auto"===this.config.width?this.width="100%":H.includes(this.config.width,"%")&&(this.width=this.config.width)),this.container=H.createElement("div",{class:"selectr-container"}),this.config.customClass&&H.addClass(this.container,this.config.customClass),H.addClass(this.container,this.mobileDevice?"selectr-mobile":"selectr-desktop"),this.el.tabIndex=-1,H.addClass(this.el,this.config.nativeDropdown||this.mobileDevice?"selectr-visible":"selectr-hidden"),this.selected=H.createElement("div",{class:"selectr-selected",disabled:this.disabled,tabIndex:1,"aria-expanded":!1}),this.label=H.createElement(this.el.multiple?"ul":"span",{class:"selectr-label"});var v=H.createElement("div",{class:"selectr-options-container"});if(this.tree=H.createElement("ul",{class:"selectr-options",role:"tree","aria-hidden":!0,"aria-expanded":!1}),this.notice=H.createElement("div",{class:"selectr-notice"}),this.el.setAttribute("aria-hidden",!0),this.disabled&&(this.el.disabled=!0),this.el.multiple&&(H.addClass(this.label,"selectr-tags"),H.addClass(this.container,"multiple"),this.tags=[],this.selectedValues=this.getSelectedProperties("value"),this.selectedIndexes=this.getSelectedProperties("idx")),this.selected.appendChild(this.label),this.config.clearable&&(this.selectClear=H.createElement("button",{class:"selectr-clear",type:"button"}),this.container.appendChild(this.selectClear),H.addClass(this.container,"clearable")),this.config.taggable){var A=H.createElement("li",{class:"input-tag"});this.input=H.createElement("input",{class:"selectr-tag-input",placeholder:this.config.tagPlaceholder,tagIndex:0,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),A.appendChild(this.input),this.label.appendChild(A),H.addClass(this.container,"taggable"),this.tagSeperators=[","],this.config.tagSeperators&&(this.tagSeperators=this.tagSeperators.concat(this.config.tagSeperators))}this.config.searchable&&(this.input=H.createElement("input",{class:"selectr-input",tagIndex:-1,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),this.inputClear=H.createElement("button",{class:"selectr-input-clear",type:"button"}),this.inputContainer=H.createElement("div",{class:"selectr-input-container"}),this.inputContainer.appendChild(this.input),this.inputContainer.appendChild(this.inputClear),v.appendChild(this.inputContainer)),v.appendChild(this.notice),v.appendChild(this.tree),this.items=[],this.options=[],this.el.options.length&&(this.options=[].slice.call(this.el.options));var x,D=!1,M=0;if(this.el.children.length&&H.each(this.el.children,function(k,$){"OPTGROUP"===$.nodeName?(D=H.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+$.label+"</li>"}),H.each($.children,function(P,V){V.idx=M,D.appendChild(F.call(this,V,D)),M++},this)):($.idx=M,F.call(this,$),M++)},this),this.config.data&&Array.isArray(this.config.data)){this.data=[];var N,T=!1;D=!1,M=0,H.each(this.config.data,function(k,$){W($,"children")?(T=H.createElement("optgroup",{label:$.text}),D=H.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+$.text+"</li>"}),H.each($.children,function(P,V){(N=new Option(V.text,V.value,!1,V.hasOwnProperty("selected")&&!0===V.selected)).disabled=W(V,"disabled"),this.options.push(N),T.appendChild(N),N.idx=M,D.appendChild(F.call(this,N,V)),this.data[M]=V,M++},this)):((N=new Option($.text,$.value,!1,$.hasOwnProperty("selected")&&!0===$.selected)).disabled=W($,"disabled"),this.options.push(N),N.idx=M,F.call(this,N,$),this.data[M]=$,M++)},this)}this.setSelected(!0),this.navIndex=0;for(var I=0;I<this.items.length;I++)if(!H.hasClass(x=this.items[I],"disabled")){H.addClass(x,"active"),this.navIndex=I;break}this.requiresPagination&&(this.pageIndex=1,this.paginate()),this.container.appendChild(this.selected),this.container.appendChild(v),this.placeEl=H.createElement("div",{class:"selectr-placeholder"}),this.setPlaceholder(),this.selected.appendChild(this.placeEl),this.disabled&&this.disable(),this.el.parentNode.insertBefore(this.container,this.el),this.container.appendChild(this.el)},_=function(v){if(v=v||window.event,this.items.length&&this.opened&&H.includes([13,38,40],v.which)){if(v.preventDefault(),13===v.which)return!(this.config.taggable&&this.input.value.length>0)&&this.change(this.navIndex);var A,D=this.items[this.navIndex];switch(v.which){case 38:A=0,this.navIndex>0&&this.navIndex--;break;case 40:A=1,this.navIndex<this.items.length-1&&this.navIndex++}for(this.navigating=!0;H.hasClass(this.items[this.navIndex],"disabled")||H.hasClass(this.items[this.navIndex],"excluded");)if(A?this.navIndex++:this.navIndex--,this.searching){if(this.navIndex>this.tree.lastElementChild.idx){this.navIndex=this.tree.lastElementChild.idx;break}if(this.navIndex<this.tree.firstElementChild.idx){this.navIndex=this.tree.firstElementChild.idx;break}}var M=H.rect(this.items[this.navIndex]);A?(0===this.navIndex?this.tree.scrollTop=0:M.top+M.height>this.optsRect.top+this.optsRect.height&&(this.tree.scrollTop=this.tree.scrollTop+(M.top+M.height-(this.optsRect.top+this.optsRect.height))),this.navIndex===this.tree.childElementCount-1&&this.requiresPagination&&y.call(this)):0===this.navIndex?this.tree.scrollTop=0:M.top-this.optsRect.top<0&&(this.tree.scrollTop=this.tree.scrollTop+(M.top-this.optsRect.top)),D&&H.removeClass(D,"active"),H.addClass(this.items[this.navIndex],"active")}else this.navigating=!1},m=function(v){var D,A=this,M=document.createDocumentFragment(),T=this.options[v.idx],x=this.customSelected?this.config.renderSelection(this.data?this.data[v.idx]:T):T.textContent,I=H.createElement("li",{class:"selectr-tag",html:x}),k=H.createElement("button",{class:"selectr-tag-remove",type:"button"});if(I.appendChild(k),I.idx=v.idx,I.tag=T.value,this.tags.push(I),this.config.sortSelected){var $=this.tags.slice();D=function(P,V){P.replace(/(\d+)|(\D+)/g,function(U,X,ie){V.push([X||1/0,ie||""])})},$.sort(function(P,V){var ie,ee,U=[],X=[];for(!0===A.config.sortSelected?(ie=P.tag,ee=V.tag):"text"===A.config.sortSelected&&(ie=P.textContent,ee=V.textContent),D(ie,U),D(ee,X);U.length&&X.length;){var ce=U.shift(),_e=X.shift(),xe=ce[0]-_e[0]||ce[1].localeCompare(_e[1]);if(xe)return xe}return U.length-X.length}),H.each($,function(P,V){M.appendChild(V)}),this.label.innerHTML=""}else M.appendChild(I);this.config.taggable?this.label.insertBefore(M,this.input.parentNode):this.label.appendChild(M)},f=function(v){var A=!1;H.each(this.tags,function(D,M){M.idx===v.idx&&(A=M)},this),A&&(this.label.removeChild(A),this.tags.splice(this.tags.indexOf(A),1))},y=function(){var v=this.tree;if(v.scrollTop>=v.scrollHeight-v.offsetHeight&&this.pageIndex<this.pages.length){var N=document.createDocumentFragment();H.each(this.pages[this.pageIndex],function(x,I){E(I,N,this.customOption)},this),v.appendChild(N),this.pageIndex++,this.emit("selectr.paginate",{items:this.items.length,total:this.data.length,page:this.pageIndex,pages:this.pages.length})}},C=function(){(this.config.searchable||this.config.taggable)&&(this.input.value=null,this.searching=!1,this.config.searchable&&H.removeClass(this.inputContainer,"active"),H.hasClass(this.container,"notice")&&(H.removeClass(this.container,"notice"),H.addClass(this.container,"open"),this.input.focus()),H.each(this.items,function(v,A){H.removeClass(A,"excluded"),this.customOption||(A.innerHTML=A.textContent)},this))},g=function(v,A){if(A=A||{},!v)throw new Error("You must supply either a HTMLSelectElement or a CSS3 selector string.");if(this.el=v,"string"==typeof v&&(this.el=document.querySelector(v)),null===this.el)throw new Error("The element you passed to Selectr can not be found.");if("select"!==this.el.nodeName.toLowerCase())throw new Error("The element you passed to Selectr is not a HTMLSelectElement.");this.render(A)};g.prototype.render=function(v){if(!this.rendered){this.config=H.extend(z,v),this.originalType=this.el.type,this.originalIndex=this.el.tabIndex,this.defaultSelected=[],this.originalOptionCount=this.el.options.length,(this.config.multiple||this.config.taggable)&&(this.el.multiple=!0),this.disabled=W(this.config,"disabled"),this.opened=!1,this.config.taggable&&(this.config.searchable=!1),this.navigating=!1,this.mobileDevice=!1,/Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent)&&(this.mobileDevice=!0),this.customOption=this.config.hasOwnProperty("renderOption")&&"function"==typeof this.config.renderOption,this.customSelected=this.config.hasOwnProperty("renderSelection")&&"function"==typeof this.config.renderSelection,w.mixin(this),R.call(this),this.bindEvents(),this.update(),this.optsRect=H.rect(this.tree),this.rendered=!0,this.el.multiple||(this.el.selectedIndex=this.selectedIndex);var A=this;setTimeout(function(){A.emit("selectr.init")},20)}},g.prototype.getSelected=function(){return this.el.querySelectorAll("option:checked")},g.prototype.getSelectedProperties=function(v){var A=this.getSelected();return[].slice.call(A).map(function(M){return M[v]}).filter(function(M){return null!=M})},g.prototype.bindEvents=function(){var v=this;this.events={},this.events.dismiss=r.bind(this),this.events.navigate=_.bind(this),this.events.reset=this.reset.bind(this),(this.config.nativeDropdown||this.mobileDevice)&&(this.container.addEventListener("touchstart",function(D){D.changedTouches[0].target===v.el&&v.toggle()}),(this.config.nativeDropdown||this.mobileDevice)&&this.container.addEventListener("click",function(D){D.preventDefault(),D.stopPropagation(),D.target===v.el&&v.toggle()}),this.el.addEventListener("change",function(D){if(v.el.multiple){var M=v.getSelectedProperties("idx"),T=function(D,M){for(var x,T=[],N=D.slice(0),I=0;I<M.length;I++)(x=N.indexOf(M[I]))>-1?N.splice(x,1):T.push(M[I]);return[T,N]}(v.selectedIndexes,M);H.each(T[0],function(N,x){v.select(x)},v),H.each(T[1],function(N,x){v.deselect(x)},v)}else v.el.selectedIndex>-1&&v.select(v.el.selectedIndex)})),this.config.nativeDropdown&&this.container.addEventListener("keydown",function(D){"Enter"===D.key&&v.selected===document.activeElement&&(v.toggle(),setTimeout(function(){v.el.focus()},200))}),this.selected.addEventListener("click",function(D){v.disabled||v.toggle(),D.preventDefault(),D.stopPropagation()}),this.label.addEventListener("click",function(D){H.hasClass(D.target,"selectr-tag-remove")&&v.deselect(D.target.parentNode.idx)}),this.selectClear&&this.selectClear.addEventListener("click",this.clear.bind(this)),this.tree.addEventListener("mousedown",function(D){D.preventDefault()}),this.tree.addEventListener("click",function(D){D.preventDefault(),D.stopPropagation();var M=H.closest(D.target,function(T){return T&&H.hasClass(T,"selectr-option")});M&&(H.hasClass(M,"disabled")||(H.hasClass(M,"selected")?(v.el.multiple||!v.el.multiple&&v.config.allowDeselect)&&v.deselect(M.idx):v.select(M.idx),v.opened&&!v.el.multiple&&v.close()))}),this.tree.addEventListener("mouseover",function(D){H.hasClass(D.target,"selectr-option")&&(H.hasClass(D.target,"disabled")||(H.removeClass(v.items[v.navIndex],"active"),H.addClass(D.target,"active"),v.navIndex=[].slice.call(v.items).indexOf(D.target)))}),this.config.searchable&&(this.input.addEventListener("focus",function(D){v.searching=!0}),this.input.addEventListener("blur",function(D){v.searching=!1}),this.input.addEventListener("keyup",function(D){v.search(),v.config.taggable||(this.value.length?H.addClass(this.parentNode,"active"):H.removeClass(this.parentNode,"active"))}),this.inputClear.addEventListener("click",function(D){v.input.value=null,C.call(v),v.tree.childElementCount||B.call(v)})),this.config.taggable&&this.input.addEventListener("keyup",function(D){if(v.search(),v.config.taggable&&this.value.length){var M=this.value.trim();(13===D.which||H.includes(v.tagSeperators,D.key))&&(H.each(v.tagSeperators,function(N,x){M=M.replace(x,"")}),v.add({value:M,text:M,selected:!0},!0)?(v.close(),C.call(v)):(this.value="",v.setMessage("That tag is already in use.")))}}),this.update=H.debounce(function(){v.opened&&v.config.closeOnScroll&&v.close(),v.width&&(v.container.style.width=v.width),v.invert()},50),this.requiresPagination&&(this.paginateItems=H.debounce(function(){y.call(this)},50),this.tree.addEventListener("scroll",this.paginateItems.bind(this))),document.addEventListener("click",this.events.dismiss),window.addEventListener("keydown",this.events.navigate),window.addEventListener("resize",this.update),window.addEventListener("scroll",this.update),this.el.form&&this.el.form.addEventListener("reset",this.events.reset)},g.prototype.setSelected=function(v){if(!this.config.data&&!this.el.multiple&&this.el.options.length&&(0===this.el.selectedIndex&&!this.el.options[0].defaultSelected&&!this.config.defaultSelected&&(this.el.selectedIndex=-1),this.selectedIndex=this.el.selectedIndex,this.selectedIndex>-1&&this.select(this.selectedIndex)),this.config.multiple&&"select-one"===this.originalType&&!this.config.data&&this.el.options[0].selected&&!this.el.options[0].defaultSelected&&(this.el.options[0].selected=!1),H.each(this.options,function(D,M){M.selected&&M.defaultSelected&&this.select(M.idx)},this),this.config.selectedValue&&this.setValue(this.config.selectedValue),this.config.data){!this.el.multiple&&this.config.defaultSelected&&this.el.selectedIndex<0&&this.select(0);var A=0;H.each(this.config.data,function(D,M){W(M,"children")?H.each(M.children,function(T,N){N.hasOwnProperty("selected")&&!0===N.selected&&this.select(A),A++},this):(M.hasOwnProperty("selected")&&!0===M.selected&&this.select(A),A++)},this)}},g.prototype.destroy=function(){!this.rendered||(this.emit("selectr.destroy"),"select-one"===this.originalType&&(this.el.multiple=!1),this.config.data&&(this.el.innerHTML=""),H.removeClass(this.el,"selectr-hidden"),this.el.form&&H.off(this.el.form,"reset",this.events.reset),H.off(document,"click",this.events.dismiss),H.off(document,"keydown",this.events.navigate),H.off(window,"resize",this.update),H.off(window,"scroll",this.update),this.container.parentNode.replaceChild(this.el,this.container),this.rendered=!1)},g.prototype.change=function(v){var D=this.options[v];D.disabled||(D.selected&&H.hasClass(this.items[v],"selected")?this.deselect(v):this.select(v),this.opened&&!this.el.multiple&&this.close())},g.prototype.select=function(v){var A=this.items[v],D=[].slice.call(this.el.options),M=this.options[v];if(this.el.multiple){if(H.includes(this.selectedIndexes,v))return!1;if(this.config.maxSelections&&this.tags.length===this.config.maxSelections)return this.setMessage("A maximum of "+this.config.maxSelections+" items can be selected.",!0),!1;this.selectedValues.push(M.value),this.selectedIndexes.push(v),m.call(this,A)}else this.label.innerHTML=this.customSelected?this.config.renderSelection(this.data?this.data[v]:M):M.textContent,this.selectedValue=M.value,this.selectedIndex=v,H.each(this.options,function(N,x){var I=this.items[N];N!==v&&(I&&H.removeClass(I,"selected"),x.selected=!1,x.removeAttribute("selected"))},this);H.includes(D,M)||this.el.add(M),A.setAttribute("aria-selected",!0),H.addClass(A,"selected"),H.addClass(this.container,"has-selected"),M.selected=!0,M.setAttribute("selected",""),this.emit("selectr.change",M),this.emit("selectr.select",M)},g.prototype.deselect=function(v,A){var D=this.items[v],M=this.options[v];if(this.el.multiple){var T=this.selectedIndexes.indexOf(v);this.selectedIndexes.splice(T,1);var N=this.selectedValues.indexOf(M.value);this.selectedValues.splice(N,1),f.call(this,D),this.tags.length||H.removeClass(this.container,"has-selected")}else{if(!A&&!this.config.clearable&&!this.config.allowDeselect)return!1;this.label.innerHTML="",this.selectedValue=null,this.el.selectedIndex=this.selectedIndex=-1,H.removeClass(this.container,"has-selected")}this.items[v].setAttribute("aria-selected",!1),H.removeClass(this.items[v],"selected"),M.selected=!1,M.removeAttribute("selected"),this.emit("selectr.change",null),this.emit("selectr.deselect",M)},g.prototype.setValue=function(v){var A=Array.isArray(v);if(A||(v=v.toString().trim()),!this.el.multiple&&A)return!1;H.each(this.options,function(D,M){(A&&H.includes(v.toString(),M.value)||M.value===v)&&this.change(M.idx)},this)},g.prototype.getValue=function(v,A){var D;if(this.el.multiple)v?this.selectedIndexes.length&&((D={}).values=[],H.each(this.selectedIndexes,function(T,N){var x=this.options[N];D.values[T]={value:x.value,text:x.textContent}},this)):D=this.selectedValues.slice();else if(v){var M=this.options[this.selectedIndex];D={value:M.value,text:M.textContent}}else D=this.selectedValue;return v&&A&&(D=JSON.stringify(D)),D},g.prototype.add=function(v,A){if(v){if(this.data=this.data||[],this.items=this.items||[],this.options=this.options||[],Array.isArray(v))H.each(v,function(T,N){this.add(N,A)},this);else if("[object Object]"===Object.prototype.toString.call(v)){if(A){var D=!1;if(H.each(this.options,function(T,N){N.value.toLowerCase()===v.value.toLowerCase()&&(D=!0)}),D)return!1}var M=H.createElement("option",v);return this.data.push(v),this.options.push(M),M.idx=this.options.length>0?this.options.length-1:0,F.call(this,M),v.selected&&this.select(M.idx),M}return this.setPlaceholder(),this.config.pagination&&this.paginate(),!0}},g.prototype.remove=function(v){var D,A=[];Array.isArray(v)?H.each(v,function(M,T){H.isInt(T)?A.push(this.getOptionByIndex(T)):"string"==typeof v&&A.push(this.getOptionByValue(T))},this):H.isInt(v)?A.push(this.getOptionByIndex(v)):"string"==typeof v&&A.push(this.getOptionByValue(v)),A.length&&(H.each(A,function(M,T){D=T.idx,this.el.remove(T),this.options.splice(D,1);var N=this.items[D].parentNode;N&&N.removeChild(this.items[D]),this.items.splice(D,1),H.each(this.options,function(x,I){I.idx=x,this.items[x].idx=x},this)},this),this.setPlaceholder(),this.config.pagination&&this.paginate())},g.prototype.removeAll=function(){this.clear(!0),H.each(this.el.options,function(v,A){this.el.remove(A)},this),H.truncate(this.tree),this.items=[],this.options=[],this.data=[],this.navIndex=0,this.requiresPagination&&(this.requiresPagination=!1,this.pageIndex=1,this.pages=[]),this.setPlaceholder()},g.prototype.search=function(v){if(!this.navigating){v=v||this.input.value;var A=document.createDocumentFragment();if(this.removeMessage(),H.truncate(this.tree),v.length>1)if(H.each(this.options,function(T,N){var x=this.items[N.idx];H.includes(N.textContent.toLowerCase(),v.toLowerCase())&&!N.disabled?(E(x,A,this.customOption),H.removeClass(x,"excluded"),this.customOption||(x.innerHTML=function(v,A){var D=new RegExp(v,"i").exec(A.textContent);return!!D&&A.textContent.replace(D[0],"<span class='selectr-match'>"+D[0]+"</span>")}(v,N))):H.addClass(x,"excluded")},this),A.childElementCount){var M=A.firstElementChild;H.removeClass(this.items[this.navIndex],"active"),this.navIndex=M.idx,H.addClass(M,"active")}else this.config.taggable||this.setMessage("no results.");else B.call(this);this.tree.appendChild(A)}},g.prototype.toggle=function(){this.disabled||(this.opened?this.close():this.open())},g.prototype.open=function(){var v=this;return!!this.options.length&&(this.opened||this.emit("selectr.open"),this.opened=!0,this.mobileDevice||this.config.nativeDropdown?(H.addClass(this.container,"native-open"),void(this.config.data&&H.each(this.options,function(A,D){this.el.add(D)},this))):(H.addClass(this.container,"open"),B.call(this),this.invert(),this.tree.scrollTop=0,H.removeClass(this.container,"notice"),this.selected.setAttribute("aria-expanded",!0),this.tree.setAttribute("aria-hidden",!1),this.tree.setAttribute("aria-expanded",!0),void(this.config.searchable&&!this.config.taggable&&setTimeout(function(){v.input.focus(),v.input.tabIndex=0},10))))},g.prototype.close=function(){if(this.opened&&this.emit("selectr.close"),this.opened=!1,this.mobileDevice||this.config.nativeDropdown)H.removeClass(this.container,"native-open");else{var v=H.hasClass(this.container,"notice");this.config.searchable&&!v&&(this.input.blur(),this.input.tabIndex=-1,this.searching=!1),v&&(H.removeClass(this.container,"notice"),this.notice.textContent=""),H.removeClass(this.container,"open"),H.removeClass(this.container,"native-open"),this.selected.setAttribute("aria-expanded",!1),this.tree.setAttribute("aria-hidden",!0),this.tree.setAttribute("aria-expanded",!1),H.truncate(this.tree),C.call(this)}},g.prototype.enable=function(){this.disabled=!1,this.el.disabled=!1,this.selected.tabIndex=this.originalIndex,this.el.multiple&&H.each(this.tags,function(v,A){A.lastElementChild.tabIndex=0}),H.removeClass(this.container,"selectr-disabled")},g.prototype.disable=function(v){v||(this.el.disabled=!0),this.selected.tabIndex=-1,this.el.multiple&&H.each(this.tags,function(A,D){D.lastElementChild.tabIndex=-1}),this.disabled=!0,H.addClass(this.container,"selectr-disabled")},g.prototype.reset=function(){this.disabled||(this.clear(),this.setSelected(!0),H.each(this.defaultSelected,function(v,A){this.select(A)},this),this.emit("selectr.reset"))},g.prototype.clear=function(v){if(this.el.multiple){if(this.selectedIndexes.length){var A=this.selectedIndexes.slice();H.each(A,function(D,M){this.deselect(M)},this)}}else this.selectedIndex>-1&&this.deselect(this.selectedIndex,v);this.emit("selectr.clear")},g.prototype.serialise=function(v){var A=[];return H.each(this.options,function(D,M){var T={value:M.value,text:M.textContent};M.selected&&(T.selected=!0),M.disabled&&(T.disabled=!0),A[D]=T}),v?JSON.stringify(A):A},g.prototype.serialize=function(v){return this.serialise(v)},g.prototype.setPlaceholder=function(v){v=v||this.config.placeholder||this.el.getAttribute("placeholder"),this.options.length||(v="No options available"),this.placeEl.innerHTML=v},g.prototype.paginate=function(){if(this.items.length){var v=this;return this.pages=this.items.map(function(A,D){return D%v.config.pagination==0?v.items.slice(D,D+v.config.pagination):null}).filter(function(A){return A}),this.pages}},g.prototype.setMessage=function(v,A){A&&this.close(),H.addClass(this.container,"notice"),this.notice.textContent=v},g.prototype.removeMessage=function(){H.removeClass(this.container,"notice"),this.notice.innerHTML=""},g.prototype.invert=function(){var v=H.rect(this.selected),D=window.innerHeight;v.top+v.height+this.tree.parentNode.offsetHeight>D?(H.addClass(this.container,"inverted"),this.isInverted=!0):(H.removeClass(this.container,"inverted"),this.isInverted=!1),this.optsRect=H.rect(this.tree)},g.prototype.getOptionByIndex=function(v){return this.options[v]},g.prototype.getOptionByValue=function(v){for(var A=!1,D=0,M=this.options.length;D<M;D++)if(this.options[D].value.trim()===v.toString().trim()){A=this.options[D];break}return A},Te.exports=g},9030:Te=>{"use strict";Te.exports=function(w){(w=w||{}).confirmKeys=w.confirmKeys||[39,35,9],w.caseSensitive=w.caseSensitive||!1;var H="",W="",E=document.createElement("div");E.style.position="relative",E.style.outline="0",E.style.border="0",E.style.margin="0",E.style.padding="0";var r,F,B=document.createElement("div");function _(g){var v,A;document.createRange?((v=document.createRange()).selectNodeContents(g),v.collapse(!1),(A=window.getSelection()).removeAllRanges(),A.addRange(v)):document.selection&&((v=document.body.createTextRange()).moveToElementText(g),v.collapse(!1),v.select())}function m(g){return void 0===r&&((r=document.createElement("span")).style.visibility="hidden",r.style.position="fixed",r.style.outline="0",r.style.margin="0",r.style.padding="0",r.style.border="0",r.style.left="0",r.style.whiteSpace="pre",r.style.fontSize=H,r.style.fontFamily=W,r.style.fontWeight="normal",document.body.appendChild(r)),r.innerHTML=String(g).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),r.getBoundingClientRect().right}B.className="autocomplete dropdown",B.style.position="absolute",B.style.visibility="hidden";var g,A,D,M,T,N,x,I,f={onArrowDown:function(){},onArrowUp:function(){},onEnter:function(){},onTab:function(){},startFrom:0,options:[],element:null,elementHint:null,elementStyle:null,wrapper:E,show:function(g,v,A){this.startFrom=v,this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null),""==H&&(H=window.getComputedStyle(g).getPropertyValue("font-size")),""==W&&(W=window.getComputedStyle(g).getPropertyValue("font-family")),g.getBoundingClientRect(),g.getBoundingClientRect(),B.style.marginLeft="0",B.style.marginTop=g.getBoundingClientRect().height+"px",this.options=A,this.element!=g&&(this.element=g,this.elementStyle={zIndex:this.element.style.zIndex,position:this.element.style.position,backgroundColor:this.element.style.backgroundColor,borderColor:this.element.style.borderColor}),this.element.style.zIndex=3,this.element.style.position="relative",this.element.style.backgroundColor="transparent",this.element.style.borderColor="transparent",this.elementHint=g.cloneNode(),this.elementHint.className="autocomplete hint",this.elementHint.style.zIndex=2,this.elementHint.style.position="absolute",this.elementHint.onfocus=function(){this.element.focus()}.bind(this),this.element.addEventListener&&(this.element.removeEventListener("keydown",C),this.element.addEventListener("keydown",C,!1),this.element.removeEventListener("blur",S),this.element.addEventListener("blur",S,!1)),E.appendChild(this.elementHint),E.appendChild(B),g.parentElement.appendChild(E),this.repaint(g)},setText:function(g){this.element.innerText=g},getText:function(){return this.element.innerText},hideDropDown:function(){this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null,y.hide(),this.element.style.zIndex=this.elementStyle.zIndex,this.element.style.position=this.elementStyle.position,this.element.style.backgroundColor=this.elementStyle.backgroundColor,this.element.style.borderColor=this.elementStyle.borderColor)},repaint:function(g){var v=g.innerText;v=v.replace("\n","");var M=this.options.length,T=v.substring(this.startFrom);F=v.substring(0,this.startFrom);for(var N=0;N<M;N++){var x=this.options[N];if(!w.caseSensitive&&0===x.toLowerCase().indexOf(T.toLowerCase())||w.caseSensitive&&0===x.indexOf(T)){this.elementHint.innerText=F+T+x.substring(T.length),this.elementHint.realInnerText=F+x;break}}B.style.left=m(F)+"px",y.refresh(T,this.options),this.elementHint.style.width=m(this.elementHint.innerText)+10+"px","hidden"==B.style.visibility||(this.elementHint.style.width=m(this.elementHint.innerText)+B.clientWidth+"px")}},y=(g=B,A=[],D=0,M=-1,T=function(){this.style.outline="1px solid #ddd"},N=function(){this.style.outline="0"},x=function(){I.hide(),I.onmouseselection(this.__hint,I.rs)},I={rs:f,hide:function(){g.style.visibility="hidden"},refresh:function(k,$){g.style.visibility="hidden",D=0,g.innerHTML="";var P=window.innerHeight||document.documentElement.clientHeight,V=g.parentNode.getBoundingClientRect(),U=V.top-6,X=P-V.bottom-6;A=[];for(var ie=0;ie<$.length;ie++)if(!(w.caseSensitive&&0!==$[ie].indexOf(k)||!w.caseSensitive&&0!==$[ie].toLowerCase().indexOf(k.toLowerCase()))){var ee=document.createElement("div");ee.className="item",ee.onmouseover=T,ee.onmouseout=N,ee.onmousedown=x,ee.__hint=$[ie],ee.innerHTML=$[ie].substring(0,k.length)+"<b>"+$[ie].substring(k.length)+"</b>",A.push(ee),g.appendChild(ee)}0!==A.length&&(1===A.length&&(k.toLowerCase()===A[0].__hint.toLowerCase()&&!w.caseSensitive||k===A[0].__hint&&w.caseSensitive)||A.length<2||(I.highlight(0),U>3*X?(g.style.maxHeight=U+"px",g.style.top="",g.style.bottom="100%"):(g.style.top="100%",g.style.bottom="",g.style.maxHeight=X+"px"),g.style.visibility="visible"))},highlight:function(k){-1!=M&&A[M]&&(A[M].className="item"),A[k].className="item hover",M=k},move:function(k){return"hidden"===g.style.visibility?"":(D+k===-1||D+k===A.length||I.highlight(D+=k),A[D].__hint)},onmouseselection:function(){}}),C=function(g){var v=(g=g||window.event).keyCode;if(null!=this.elementHint&&33!=v&&34!=v){if(27==v)return f.hideDropDown(),f.element.focus(),g.preventDefault(),void g.stopPropagation();var N,A=this.element.innerText;if(A=A.replace("\n",""),w.confirmKeys.indexOf(v)>=0)return 9==v&&0==this.elementHint.innerText.length&&f.onTab(),void(this.elementHint.innerText.length>0&&this.element.innerText!=this.elementHint.realInnerText&&(this.element.innerText=this.elementHint.realInnerText,f.hideDropDown(),_(this.element),9==v&&(f.element.focus(),g.preventDefault(),g.stopPropagation())));if(13==v){if(0==this.elementHint.innerText.length)f.onEnter();else{var M="hidden"==B.style.visibility;if(y.hide(),M)return f.hideDropDown(),f.element.focus(),void f.onEnter();this.element.innerText=this.elementHint.realInnerText,f.hideDropDown(),_(this.element),g.preventDefault(),g.stopPropagation()}return}if(40==v){var T=A.substring(this.startFrom);return""==(N=y.move(1))&&f.onArrowDown(),this.elementHint.innerText=F+T+N.substring(T.length),this.elementHint.realInnerText=F+N,g.preventDefault(),void g.stopPropagation()}if(38==v)return T=A.substring(this.startFrom),""==(N=y.move(-1))&&f.onArrowUp(),this.elementHint.innerText=F+T+N.substring(T.length),this.elementHint.realInnerText=F+N,g.preventDefault(),void g.stopPropagation()}}.bind(f),S=function(g){f.hideDropDown()}.bind(f);return y.onmouseselection=function(g,v){v.element.innerText=v.elementHint.innerText=F+g,v.hideDropDown(),window.setTimeout(function(){v.element.focus(),_(v.element)},1)},f}},6307:Te=>{"use strict";var W,z=["en","pt-BR"],w={en:{array:"Array",auto:"Auto",appendText:"Append",appendTitle:"Append a new field with type 'auto' after this field (Ctrl+Shift+Ins)",appendSubmenuTitle:"Select the type of the field to be appended",appendTitleAuto:"Append a new field with type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascending",ascendingTitle:"Sort the childs of this ${type} in ascending order",actionsMenu:"Click to open the actions menu (Ctrl+M)",collapseAll:"Collapse all fields",descending:"Descending",descendingTitle:"Sort the childs of this ${type} in descending order",drag:"Drag to move this field (Alt+Shift+Arrows)",duplicateKey:"duplicate key",duplicateText:"Duplicate",duplicateTitle:"Duplicate selected fields (Ctrl+D)",duplicateField:"Duplicate this field (Ctrl+D)",empty:"empty",expandAll:"Expand all fields",expandTitle:"Click to expand/collapse this field (Ctrl+E). \nCtrl+Click to expand/collapse including all childs.",insert:"Insert",insertTitle:"Insert a new field with type 'auto' before this field (Ctrl+Ins)",insertSub:"Select the type of the field to be inserted",object:"Object",ok:"Ok",redo:"Redo (Ctrl+Shift+Z)",removeText:"Remove",removeTitle:"Remove selected fields (Ctrl+Del)",removeField:"Remove this field (Ctrl+Del)",selectNode:"Select a node...",showAll:"show all",showMore:"show more",showMoreStatus:"displaying ${visibleChilds} of ${totalChilds} items.",sort:"Sort",sortTitle:"Sort the childs of this ${type}",sortTitleShort:"Sort contents",sortFieldLabel:"Field:",sortDirectionLabel:"Direction:",sortFieldTitle:"Select the nested field by which to sort the array or object",sortAscending:"Ascending",sortAscendingTitle:"Sort the selected field in ascending order",sortDescending:"Descending",sortDescendingTitle:"Sort the selected field in descending order",string:"String",transform:"Transform",transformTitle:"Filter, sort, or transform the childs of this ${type}",transformTitleShort:"Filter, sort, or transform contents",transformQueryTitle:"Enter a JMESPath query",transformWizardLabel:"Wizard",transformWizardFilter:"Filter",transformWizardSortBy:"Sort by",transformWizardSelectFields:"Select fields",transformQueryLabel:"Query",transformPreviewLabel:"Preview",type:"Type",typeTitle:"Change the type of this field",openUrl:"Ctrl+Click or Ctrl+Enter to open url in new window",undo:"Undo last action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Field type "auto". The field type is automatically determined from the value and can be a string, number, boolean, or null.',objectType:'Field type "object". An object contains an unordered set of key/value pairs.',arrayType:'Field type "array". An array contains an ordered collection of values.',stringType:'Field type "string". Field type is not determined from the value, but always returned as string.'},"pt-BR":{array:"Lista",auto:"Automatico",appendText:"Adicionar",appendTitle:"Adicionar novo campo com tipo 'auto' depois deste campo (Ctrl+Shift+Ins)",appendSubmenuTitle:"Selecione o tipo do campo a ser adicionado",appendTitleAuto:"Adicionar novo campo com tipo 'auto' (Ctrl+Shift+Ins)",ascending:"Ascendente",ascendingTitle:"Organizar filhor do tipo ${type} em crescente",actionsMenu:"Clique para abrir o menu de a\xe7\xf5es (Ctrl+M)",collapseAll:"Fechar todos campos",descending:"Descendente",descendingTitle:"Organizar o filhos do tipo ${type} em decrescente",duplicateKey:"chave duplicada",drag:"Arraste para mover este campo (Alt+Shift+Arrows)",duplicateText:"Duplicar",duplicateTitle:"Duplicar campos selecionados (Ctrl+D)",duplicateField:"Duplicar este campo (Ctrl+D)",empty:"vazio",expandAll:"Expandir todos campos",expandTitle:"Clique para expandir/encolher este campo (Ctrl+E). \nCtrl+Click para expandir/encolher incluindo todos os filhos.",insert:"Inserir",insertTitle:"Inserir um novo campo do tipo 'auto' antes deste campo (Ctrl+Ins)",insertSub:"Selecionar o tipo de campo a ser inserido",object:"Objeto",ok:"Ok",redo:"Refazer (Ctrl+Shift+Z)",removeText:"Remover",removeTitle:"Remover campos selecionados (Ctrl+Del)",removeField:"Remover este campo (Ctrl+Del)",selectNode:"Select a node...",showAll:"mostre tudo",showMore:"mostre mais",showMoreStatus:"exibindo ${visibleChilds} de ${totalChilds} itens.",sort:"Organizar",sortTitle:"Organizar os filhos deste ${type}",sortTitleShort:"Organizar os filhos",sortFieldLabel:"Field:",sortDirectionLabel:"Direction:",sortFieldTitle:"Select the nested field by which to sort the array or object",sortAscending:"Ascending",sortAscendingTitle:"Sort the selected field in ascending order",sortDescending:"Descending",sortDescendingTitle:"Sort the selected field in descending order",string:"Texto",transform:"Transform",transformTitle:"Filter, sort, or transform the childs of this ${type}",transformTitleShort:"Filter, sort, or transform contents",transformQueryTitle:"Enter a JMESPath query",transformWizardLabel:"Wizard",transformWizardFilter:"Filter",transformWizardSortBy:"Sort by",transformWizardSelectFields:"Select fields",transformQueryLabel:"Query",transformPreviewLabel:"Preview",type:"Tipo",typeTitle:"Mudar o tipo deste campo",openUrl:"Ctrl+Click ou Ctrl+Enter para abrir link em nova janela",undo:"Desfazer \xfaltimo a\xe7\xe3o (Ctrl+Z)",validationCannotMove:"N\xe3o pode mover um campo como filho dele mesmo",autoType:'Campo do tipo "auto". O tipo do campo \xe9 determinao automaticamente a partir do seu valor e pode ser texto, n\xfamero, verdade/falso ou nulo.',objectType:'Campo do tipo "objeto". Um objeto cont\xe9m uma lista de pares com chave e valor.',arrayType:'Campo do tipo "lista". Uma lista contem uma cole\xe7\xe3o de valores ordenados.',stringType:'Campo do tipo "string". Campo do tipo nao \xe9 determinado atrav\xe9s do seu valor, mas sempre retornara um texto.'}},E="undefined"!=typeof navigator?navigator.language||navigator.userLanguage:void 0;(W=z.find(function(B){return B===E}))||(W="en"),Te.exports={_locales:z,_defs:w,_lang:W,setLanguage:function(B){if(B){var r=z.find(function(F){return F===B});r?W=r:console.error("Language not found")}},setLanguages:function(B){if(B)for(var r in B)z.find(function(R){return R===r})||z.push(r),w[r]=Object.assign({},w.en,w[r],B[r])},translate:function(B,r,F){F||(F=W);var R=w[F][B];if(r)for(B in r)R=R.replace("${"+B+"}",r[B]);return R||B}}},5325:(Te,z,w)=>{"use strict";var H=w(6307).translate;Te.exports=function(E){function B(r,F){this.editor=r,this.parent=F,this.dom={}}return(B.prototype=new E).getDom=function(){if(this.dom.tr)return this.dom.tr;if(this._updateEditability(),!this.dom.tr){var r=this,F=this.parent,R=document.createElement("a");R.appendChild(document.createTextNode(H("showMore"))),R.href="#",R.onclick=function(S){return F.visibleChilds=Math.floor(F.visibleChilds/F.MAX_VISIBLE_CHILDS+1)*F.MAX_VISIBLE_CHILDS,r.updateDom(),F.showChilds(),S.preventDefault(),!1};var _=document.createElement("a");_.appendChild(document.createTextNode(H("showAll"))),_.href="#",_.onclick=function(S){return F.visibleChilds=1/0,r.updateDom(),F.showChilds(),S.preventDefault(),!1};var m=document.createElement("div"),f=document.createTextNode(this._getShowMoreText());m.className="jsoneditor-show-more",m.appendChild(f),m.appendChild(R),m.appendChild(document.createTextNode(". ")),m.appendChild(_),m.appendChild(document.createTextNode(". "));var y=document.createElement("td");y.appendChild(m);var C=document.createElement("tr");C.appendChild(document.createElement("td")),C.appendChild(document.createElement("td")),C.appendChild(y),C.className="jsoneditor-show-more",this.dom.tr=C,this.dom.moreContents=m,this.dom.moreText=f}return this.updateDom(),this.dom.tr},B.prototype.updateDom=function(r){if(this.isVisible()){if(this.dom.tr.node=this.parent.childs[this.parent.visibleChilds],!this.dom.tr.parentNode){var F=this.parent._getNextTr();F&&F.parentNode.insertBefore(this.dom.tr,F)}this.dom.moreText.nodeValue=this._getShowMoreText(),this.dom.moreContents.style.marginLeft=24*(this.getLevel()+1)+"px"}else this.dom.tr&&this.dom.tr.parentNode&&this.dom.tr.parentNode.removeChild(this.dom.tr)},B.prototype._getShowMoreText=function(){return H("showMoreStatus",{visibleChilds:this.parent.visibleChilds,totalChilds:this.parent.childs.length})+" "},B.prototype.isVisible=function(){return this.parent.expanded&&this.parent.childs.length>this.parent.visibleChilds},B.prototype.onEvent=function(r){"keydown"===r.type&&this.onKeyDown(r)},B}},9637:(Te,z,w)=>{var H=w(4739),W=w(6307).translate;Te.exports=function(B,r){var F='<div class="pico-modal-contents"><div class="pico-modal-header">'+W("sort")+"</div><form><table><tbody><tr>  <td>"+W("sortFieldLabel")+' </td>  <td class="jsoneditor-modal-input">  <div class="jsoneditor-select-wrapper">    <select id="field" title="'+W("sortFieldTitle")+'">    </select>  </div>  </td></tr><tr>  <td>'+W("sortDirectionLabel")+' </td>  <td class="jsoneditor-modal-input">  <div id="direction" class="jsoneditor-button-group"><input type="button" value="'+W("sortAscending")+'" title="'+W("sortAscendingTitle")+'" data-value="asc" class="jsoneditor-button-first jsoneditor-button-asc"/><input type="button" value="'+W("sortDescending")+'" title="'+W("sortDescendingTitle")+'" data-value="desc" class="jsoneditor-button-last jsoneditor-button-desc"/>  </div>  </td></tr><tr><td colspan="2" class="jsoneditor-modal-input jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+W("ok")+'" /></td></tr></tbody></table></form></div>';H({parent:r,content:F,overlayClass:"jsoneditor-modal-overlay",modalClass:"jsoneditor-modal jsoneditor-modal-sort"}).afterCreate(function(R){var _=R.modalElem().querySelector("form"),m=R.modalElem().querySelector("#ok"),f=R.modalElem().querySelector("#field"),y=R.modalElem().querySelector("#direction"),C="array"===B.type?B.getChildPaths():["."];function S(g){y.value=g,y.className="jsoneditor-button-group jsoneditor-button-group-value-"+y.value}C.forEach(function(g){var v=document.createElement("option");v.text=g,v.value=g,f.appendChild(v)}),f.value=B.sortedBy?B.sortedBy.path:C[0],S(B.sortedBy?B.sortedBy.direction:"asc"),y.onclick=function(g){S(g.target.getAttribute("data-value"))},m.onclick=function(g){g.preventDefault(),g.stopPropagation(),R.close();var v=f.value,A="."===v?[]:v.split(".").slice(1);B.sortedBy={path:v,direction:y.value},B.sort(A,y.value)},_&&(_.onsubmit=m.onclick)}).afterClose(function(R){R.destroy()}).show()}},8822:(Te,z,w)=>{var H=w(9500),W=w(4739),E=w(299),B=w(6307).translate,r=w(1464).debounce;Te.exports=function(_,m){var f=_.getValue(),y='<label class="pico-modal-contents"><div class="pico-modal-header">'+B("transform")+'</div><p>Enter a <a href="http://jmespath.org" target="_blank">JMESPath</a> query to filter, sort, or transform the JSON data.<br/>To learn JMESPath, go to <a href="http://jmespath.org/tutorial.html" target="_blank">the interactive tutorial</a>.</p><table><tbody><tr>  <th>'+B("transformWizardLabel")+' </th>  <td>  <div id="wizard" class="jsoneditor-jmespath-wizard">  <div>    <div class="jsoneditor-jmespath-wizard-label">'+B("transformWizardFilter")+'</div>    <div class="jsoneditor-jmespath-filter">      <div class="jsoneditor-inline jsoneditor-jmespath-filter-field" >        <select id="filterField">        </select>      </div>      <div class="jsoneditor-inline jsoneditor-jmespath-filter-relation" >        <select id="filterRelation">          <option value="==">==</option>          <option value="!=">!=</option>          <option value="<">&lt;</option>          <option value="<=">&lt;=</option>          <option value=">">&gt;</option>          <option value=">=">&gt;=</option>        </select>      </div>      <div class="jsoneditor-inline jsoneditor-jmespath-filter-value" >        <input placeholder="value..." id="filterValue" />      </div>    </div>  </div>  <div>    <div class="jsoneditor-jmespath-wizard-label">'+B("transformWizardSortBy")+'</div>    <div class="jsoneditor-jmespath-filter">      <div class="jsoneditor-inline jsoneditor-jmespath-sort-field">        <select id="sortField">        </select>      </div>      <div class="jsoneditor-inline jsoneditor-jmespath-sort-order" >        <select id="sortOrder">          <option value="asc">Ascending</option>          <option value="desc">Descending</option>        </select>      </div>    </div>  </div>  <div id="selectFieldsPart">    <div class="jsoneditor-jmespath-wizard-label">'+B("transformWizardSelectFields")+'</div>    <select class="jsoneditor-jmespath-select-fields" id="selectFields" multiple>    </select>  </div>  </div>  </td></tr><tr>  <th>'+B("transformQueryLabel")+' </th>  <td class="jsoneditor-modal-input">    <textarea id="query"               rows="4"               autocomplete="off"               autocorrect="off"               autocapitalize="off"               spellcheck="false"              title="'+B("transformQueryTitle")+'">[*]</textarea>  </td></tr><tr>  <th>'+B("transformPreviewLabel")+' </th>  <td class="jsoneditor-modal-input">    <textarea id="preview"         class="jsoneditor-transform-preview"        readonly> </textarea>  </td></tr><tr><td colspan="2" class="jsoneditor-modal-input jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+B("ok")+'" autofocus /></td></tr></tbody></table></div>';W({parent:m,content:y,overlayClass:"jsoneditor-modal-overlay",modalClass:"jsoneditor-modal jsoneditor-modal-transform",focus:!1}).afterCreate(function(C){var S=C.modalElem(),g=S.querySelector("#wizard"),v=S.querySelector("#ok"),A=S.querySelector("#filterField"),D=S.querySelector("#filterRelation"),M=S.querySelector("#filterValue"),T=S.querySelector("#sortField"),N=S.querySelector("#sortOrder"),x=S.querySelector("#selectFields"),I=S.querySelector("#query"),k=S.querySelector("#preview");Array.isArray(f)||(g.style.display="none",g.parentNode.style.fontStyle="italic",g.parentNode.appendChild(document.createTextNode("(wizard not available for objects, only for arrays)"))),_.getChildPaths().forEach(function(Se){var le=ce(Se),ye=document.createElement("option");ye.text=le,ye.value=le,A.appendChild(ye);var Ce=document.createElement("option");Ce.text=le,Ce.value=le,T.appendChild(Ce)});var P=_.getChildPaths(!0).filter(function(Se){return"."!==Se});P.length>0?P.forEach(function(Se){var le=ce(Se),ye=document.createElement("option");ye.text=le,ye.value=le,x.appendChild(ye)}):S.querySelector("#selectFieldsPart").style.display="none";var V=new E(A,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),U=new E(D,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"compare..."}),X=new E(T,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),ie=new E(N,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"order..."}),ee=new E(x,{multiple:!0,clearable:!0,defaultSelected:!1});function ce(Se){return"."===Se[0]?"."===Se?"@":Se.slice(1):Se}function _e(){if(A.value&&D.value&&M.value){var Se=A.value,le=JSON.stringify(_._stringCast(M.value));I.value="[? "+Se+" "+D.value+" `"+le+"`]"}else I.value="[*]";if(T.value&&N.value){var ye=T.value;I.value+="desc"===N.value?" | reverse(sort_by(@, &"+ye+"))":" | sort_by(@, &"+ye+")"}if(x.value){for(var Ce=[],ge=0;ge<x.options.length;ge++)if(x.options[ge].selected){var se=x.options[ge].value;Ce.push(se)}"]"!==I.value[I.value.length-1]&&(I.value+=" | [*]"),1===Ce.length?I.value+="."+se:Ce.length>1&&(I.value+=".{"+Ce.map(function(de){var fe=de.split(".");return fe[fe.length-1]+": "+de}).join(", ")+"}")}we()}V.on("selectr.change",_e),U.on("selectr.change",_e),M.oninput=_e,X.on("selectr.change",_e),ie.on("selectr.change",_e),ee.on("selectr.change",_e),S.querySelector(".pico-modal-contents").onclick=function(Se){Se.preventDefault()},I.value=Array.isArray(f)?"[*]":"@";var we=r(function(){try{var Se=H.search(f,I.value),le=JSON.stringify(Se,null,2).split("\n");le.length>100&&(le=le.slice(0,100).concat(["..."])),k.className="jsoneditor-transform-preview",k.value=le.join("\n"),v.disabled=!1}catch(ye){k.className="jsoneditor-transform-preview jsoneditor-error",k.value=ye.toString(),v.disabled=!0}},300);I.oninput=we,we(),v.onclick=function(Se){Se.preventDefault(),Se.stopPropagation(),C.close(),_.transform(I.value)},setTimeout(function(){I.select(),I.focus(),I.selectionStart=3,I.selectionEnd=3})}).afterClose(function(C){C.destroy()}).show()}},8767:(Te,z,w)=>{"use strict";var H=w(2525),W=w(9891),E=w(1464),B={},F="ace/theme/jsoneditor";B.create=function(R,_){void 0===(_=_||{}).statusBar&&(_.statusBar=!0),this.options=_,this.indentation=_.indentation?Number(_.indentation):2;var m=_.ace?_.ace:H;if(this.mode="code"==_.mode?"code":"text","code"==this.mode&&void 0===m&&(this.mode="text",console.warn("Failed to load Ace editor, falling back to plain text mode. Please use a JSONEditor bundle including Ace, or pass Ace as via the configuration option `ace`.")),this.theme=_.theme||F,this.theme===F&&m)try{w(7382)}catch(U){console.error(U)}_.onTextSelectionChange&&this.onTextSelectionChange(_.onTextSelectionChange);var f=this;this.container=R,this.dom={},this.aceEditor=void 0,this.textarea=void 0,this.validateSchema=null,this._debouncedValidate=E.debounce(this.validate.bind(this),this.DEBOUNCE_INTERVAL),this.width=R.clientWidth,this.height=R.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.frame.onclick=function(U){U.preventDefault()},this.frame.onkeydown=function(U){f._onKeyDown(U)},this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var y=document.createElement("button");y.type="button",y.className="jsoneditor-format",y.title="Format JSON data, with proper indentation and line feeds (Ctrl+\\)",this.menu.appendChild(y),y.onclick=function(){try{f.format(),f._onChange()}catch(U){f._onError(U)}};var C=document.createElement("button");C.type="button",C.className="jsoneditor-compact",C.title="Compact JSON data, remove all whitespaces (Ctrl+Shift+\\)",this.menu.appendChild(C),C.onclick=function(){try{f.compact(),f._onChange()}catch(U){f._onError(U)}};var S=document.createElement("button");S.type="button",S.className="jsoneditor-repair",S.title="Repair JSON: fix quotes and escape characters, remove comments and JSONP notation, turn JavaScript objects into JSON.",this.menu.appendChild(S),S.onclick=function(){try{f.repair(),f._onChange()}catch(U){f._onError(U)}},this.options&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new W(this.menu,this.options.modes,this.options.mode,function(X){f.setMode(X),f.modeSwitcher.focus()}));var v=this.options.onEditable&&typeof("function"===this.options.onEditable)&&!this.options.onEditable({});if(this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.frame.appendChild(this.content),this.container.appendChild(this.frame),"code"==this.mode){this.editorDom=document.createElement("div"),this.editorDom.style.height="100%",this.editorDom.style.width="100%",this.content.appendChild(this.editorDom);var A=m.edit(this.editorDom);A.$blockScrolling=1/0,A.setTheme(this.theme),A.setOptions({readOnly:v}),A.setShowPrintMargin(!1),A.setFontSize(13),A.getSession().setMode("ace/mode/json"),A.getSession().setTabSize(this.indentation),A.getSession().setUseSoftTabs(!0),A.getSession().setUseWrapMode(!0),A.commands.bindKey("Ctrl-L",null),A.commands.bindKey("Command-L",null),this.aceEditor=A,this.hasOwnProperty("editor")||Object.defineProperty(this,"editor",{get:function(){return console.warn('Property "editor" has been renamed to "aceEditor".'),f.aceEditor},set:function(U){console.warn('Property "editor" has been renamed to "aceEditor".'),f.aceEditor=U}});var D=document.createElement("a");D.appendChild(document.createTextNode("powered by ace")),D.href="http://ace.ajax.org",D.target="_blank",D.className="jsoneditor-poweredBy",D.onclick=function(){window.open(D.href,D.target)},this.menu.appendChild(D),A.on("change",this._onChange.bind(this)),A.on("changeSelection",this._onSelect.bind(this))}else{var M=document.createElement("textarea");M.className="jsoneditor-text",M.spellcheck=!1,this.content.appendChild(M),this.textarea=M,this.textarea.readOnly=v,null===this.textarea.oninput?this.textarea.oninput=this._onChange.bind(this):this.textarea.onchange=this._onChange.bind(this),M.onselect=this._onSelect.bind(this),M.onmousedown=this._onMouseDown.bind(this),M.onblur=this._onBlur.bind(this)}var T=document.createElement("div");if(T.className="validation-errors-container",this.dom.validationErrorsContainer=T,this.frame.appendChild(T),_.statusBar){E.addClassName(this.content,"has-status-bar"),this.curserInfoElements={};var N=document.createElement("div");this.dom.statusBar=N,N.className="jsoneditor-statusbar",this.frame.appendChild(N);var x=document.createElement("span");x.className="jsoneditor-curserinfo-label",x.innerText="Ln:";var I=document.createElement("span");I.className="jsoneditor-curserinfo-val",I.innerText="1",N.appendChild(x),N.appendChild(I);var k=document.createElement("span");k.className="jsoneditor-curserinfo-label",k.innerText="Col:";var $=document.createElement("span");$.className="jsoneditor-curserinfo-val",$.innerText="1",N.appendChild(k),N.appendChild($),this.curserInfoElements.colVal=$,this.curserInfoElements.lnVal=I;var P=document.createElement("span");P.className="jsoneditor-curserinfo-label",P.innerText="characters selected",P.style.display="none";var V=document.createElement("span");V.className="jsoneditor-curserinfo-count",V.innerText="0",V.style.display="none",this.curserInfoElements.countLabel=P,this.curserInfoElements.countVal=V,N.appendChild(V),N.appendChild(P)}this.setSchema(this.options.schema,this.options.schemaRefs)},B._onChange=function(){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(R){console.error("Error in onChange callback: ",R)}},B._onSelect=function(){this._updateCursorInfo(),this._emitSelectionChange()},B._onKeyDown=function(R){var m=!1;220==(R.which||R.keyCode)&&R.ctrlKey&&(R.shiftKey?(this.compact(),this._onChange()):(this.format(),this._onChange()),m=!0),m&&(R.preventDefault(),R.stopPropagation()),this._updateCursorInfo(),this._emitSelectionChange()},B._onMouseDown=function(R){this._updateCursorInfo(),this._emitSelectionChange()},B._onBlur=function(R){this._updateCursorInfo(),this._emitSelectionChange()},B._updateCursorInfo=function(){var _,m,f,R=this;if(this.textarea)setTimeout(function(){var g=E.getInputSelection(R.textarea);g.startIndex!==g.endIndex&&(f=g.endIndex-g.startIndex),f&&R.cursorInfo&&R.cursorInfo.line===g.end.row&&R.cursorInfo.column===g.end.column?(_=g.start.row,m=g.start.column):(_=g.end.row,m=g.end.column),R.cursorInfo={line:_,column:m,count:f},R.options.statusBar&&S()},0);else if(this.aceEditor&&this.curserInfoElements){var y=this.aceEditor.getCursorPosition(),C=this.aceEditor.getSelectedText();R.cursorInfo={line:_=y.row+1,column:m=y.column+1,count:f=C.length},this.options.statusBar&&S()}function S(){R.curserInfoElements.countVal.innerText!==f&&(R.curserInfoElements.countVal.innerText=f,R.curserInfoElements.countVal.style.display=f?"inline":"none",R.curserInfoElements.countLabel.style.display=f?"inline":"none"),R.curserInfoElements.lnVal.innerText=_,R.curserInfoElements.colVal.innerText=m}},B._emitSelectionChange=function(){if(this._selectionChangedHandler){var R=this.getTextSelection();this._selectionChangedHandler(R.start,R.end,R.text)}},B.destroy=function(){this.aceEditor&&(this.aceEditor.destroy(),this.aceEditor=null),this.frame&&this.container&&this.frame.parentNode==this.container&&this.container.removeChild(this.frame),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this.textarea=null,this._debouncedValidate=null},B.compact=function(){var R=this.get(),_=JSON.stringify(R);this.setText(_)},B.format=function(){var R=this.get(),_=JSON.stringify(R,null,this.indentation);this.setText(_)},B.repair=function(){var R=this.getText(),_=E.sanitize(R);this.setText(_)},B.focus=function(){this.textarea&&this.textarea.focus(),this.aceEditor&&this.aceEditor.focus()},B.resize=function(){this.aceEditor&&this.aceEditor.resize(!1)},B.set=function(R){this.setText(JSON.stringify(R,null,this.indentation))},B.get=function(){var _,R=this.getText();try{_=E.parse(R)}catch(m){R=E.sanitize(R),_=E.parse(R)}return _},B.getText=function(){return this.textarea?this.textarea.value:this.aceEditor?this.aceEditor.getValue():""},B.setText=function(R){var _;if(_=!0===this.options.escapeUnicode?E.escapeUnicodeChars(R):R,this.textarea&&(this.textarea.value=_),this.aceEditor){var m=this.options.onChange;this.options.onChange=null,this.aceEditor.setValue(_,-1),this.options.onChange=m}this.validate()},B.validate=function(){this.dom.validationErrors&&(this.dom.validationErrors.parentNode.removeChild(this.dom.validationErrors),this.dom.validationErrors=null,this.content.style.marginBottom="",this.content.style.paddingBottom="");var m,R=!1,_=[];try{m=this.get(),R=!0}catch(A){}if(R&&this.validateSchema&&(this.validateSchema(m)||(_=this.validateSchema.errors.map(function(A){return E.improveSchemaError(A)}))),_.length>0){_.length>3&&(_=_.slice(0,3)).push("("+(this.validateSchema.errors.length-3)+" more errors...)");var S=document.createElement("div");S.innerHTML='<table class="jsoneditor-text-errors"><tbody>'+_.map(function(A){return'<tr><td><button class="jsoneditor-schema-error"></button></td>'+("string"==typeof A?'<td colspan="2"><pre>'+A+"</pre></td>":"<td>"+A.dataPath+"</td><td>"+A.message+"</td>")+"</tr>"}).join("")+"</tbody></table>",this.dom.validationErrors=S,this.dom.validationErrorsContainer.appendChild(S);var g=S.clientHeight+(this.dom.statusBar?this.dom.statusBar.clientHeight:0);this.content.style.marginBottom=-g+"px",this.content.style.paddingBottom=g+"px"}this.aceEditor&&this.aceEditor.resize(!1)},B.getTextSelection=function(){var R={};if(this.textarea){var _=E.getInputSelection(this.textarea);return this.cursorInfo&&this.cursorInfo.line===_.end.row&&this.cursorInfo.column===_.end.column?(R.start=_.end,R.end=_.start):R=_,{start:R.start,end:R.end,text:this.textarea.value.substring(_.startIndex,_.endIndex)}}if(this.aceEditor){var m=this.aceEditor.getSelection(),f=this.aceEditor.getSelectedText(),y=m.getRange(),C=m.getSelectionLead();return C.row===y.end.row&&C.column===y.end.column?R=y:(R.start=y.end,R.end=y.start),{start:{row:R.start.row+1,column:R.start.column+1},end:{row:R.end.row+1,column:R.end.column+1},text:f}}},B.onTextSelectionChange=function(R){"function"==typeof R&&(this._selectionChangedHandler=E.debounce(R,this.DEBOUNCE_INTERVAL))},B.setTextSelection=function(R,_){if(R&&_)if(this.textarea){var m=E.getIndexForPosition(this.textarea,R.row,R.column),f=E.getIndexForPosition(this.textarea,_.row,_.column);m>-1&&f>-1&&(this.textarea.setSelectionRange?(this.textarea.focus(),this.textarea.setSelectionRange(m,f)):this.textarea.createTextRange&&((y=this.textarea.createTextRange()).collapse(!0),y.moveEnd("character",f),y.moveStart("character",m),y.select()))}else if(this.aceEditor){var y;this.aceEditor.selection.setRange(y={start:{row:R.row-1,column:R.column-1},end:{row:_.row-1,column:_.column-1}})}},Te.exports=[{mode:"text",mixin:B,data:"text",load:B.format},{mode:"code",mixin:B,data:"text",load:B.format}]},4757:(Te,z,w)=>{"use strict";var H=w(7245),W=w(1932),E=w(253),B=w(8534),r=w(2835),F=w(5052),R=w(9891),_=w(1464),m=w(9030),f=w(9637),y=w(8822),C=w(6307).translate,S=w(6307).setLanguages,g=w(6307).setLanguage,v=document.body,A={create:function(D,M){if(!D)throw new Error("No container element provided.");this.container=D,this.dom={},this.highlighter=new H,this.selection=void 0,this.multiselection={nodes:[]},this.validateSchema=null,this.errorNodes=[],this.node=null,this.focusTarget=null,this._setOptions(M),M.autocomplete&&(this.autocomplete=new m(M.autocomplete)),this.options.history&&"view"!==this.options.mode&&(this.history=new W(this)),this._createFrame(),this._createTable()},destroy:function(){this.frame&&this.container&&this.frame.parentNode==this.container&&(this.container.removeChild(this.frame),this.frame=null),this.container=null,this.dom=null,this.clear(),this.node=null,this.focusTarget=null,this.selection=null,this.multiselection=null,this.errorNodes=null,this.validateSchema=null,this._debouncedValidate=null,this.history&&(this.history.destroy(),this.history=null),this.searchBox&&(this.searchBox.destroy(),this.searchBox=null),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null)},_setOptions:function(D){if(this.options={search:!0,history:!0,mode:"tree",name:void 0,schema:null,schemaRefs:null,autocomplete:null,navigationBar:!0,onSelectionChange:null},D)for(var M in D)D.hasOwnProperty(M)&&(this.options[M]=D[M]);this.setSchema(this.options.schema,this.options.schemaRefs),this._debouncedValidate=_.debounce(this.validate.bind(this),this.DEBOUNCE_INTERVAL),D.onSelectionChange&&this.onSelectionChange(D.onSelectionChange),S(this.options.languages),g(this.options.language)},set:function(D,M){if(M&&(console.warn('Second parameter "name" is deprecated. Use setName(name) instead.'),this.options.name=M),D instanceof Function||void 0===D)this.clear();else{this.content.removeChild(this.table);var N=new F(this,{field:this.options.name,value:D});this._setRoot(N),this.validate(),this.node.expand(!1),this.content.appendChild(this.table)}this.history&&this.history.clear(),this.searchBox&&this.searchBox.clear()},get:function(){if(this.focusTarget){var D=F.getNodeFromTarget(this.focusTarget);D&&D.blur()}if(this.node)return this.node.getValue()},getText:function(){return JSON.stringify(this.get())},setText:function(D){try{this.set(_.parse(D))}catch(T){var M=_.sanitize(D);this.set(_.parse(M))}},setName:function(D){this.options.name=D,this.node&&this.node.updateField(this.options.name)},getName:function(){return this.options.name},focus:function(){var D=this.scrollableContent.querySelector("[contenteditable=true]");D?D.focus():this.node.dom.expand?this.node.dom.expand.focus():this.node.dom.menu?this.node.dom.menu.focus():(D=this.frame.querySelector("button"))&&D.focus()},clear:function(){this.node&&(this.node.collapse(),this.tbody.removeChild(this.node.getDom()),delete this.node),this.treePath&&this.treePath.reset()},_setRoot:function(D){this.clear(),this.node=D,this.tbody.appendChild(D.getDom())},search:function(D){var M;return this.node?(this.content.removeChild(this.table),M=this.node.search(D),this.content.appendChild(this.table)):M=[],M},expandAll:function(){this.node&&(this.content.removeChild(this.table),this.node.expand(),this.content.appendChild(this.table))},collapseAll:function(){this.node&&(this.content.removeChild(this.table),this.node.collapse(),this.content.appendChild(this.table))},_onAction:function(D,M){this.history&&this.history.add(D,M),this._onChange()},_onChange:function(){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(D){console.error("Error in onChange callback: ",D)}},validate:function(){this.errorNodes&&this.errorNodes.forEach(function(k){k.setError(null)});var D=this.node;if(D){var M=D.validate(),T=[];this.validateSchema&&(this.validateSchema(D.getValue())||(T=this.validateSchema.errors.map(function(k){return _.improveSchemaError(k)}).map(function($){return{node:D.findNode($.dataPath),error:$}}).filter(function($){return null!=$.node})));var x=M.concat(T),I=x.reduce(function(k,$){return $.node.findParents().filter(function(P){return!k.some(function(V){return V[0]===P})}).map(function(P){return[P,$.node]}).concat(k)},[]);this.errorNodes=I.map(function(k){return{node:k[0],child:k[1],error:{message:"object"===k[0].type?"Contains invalid properties":"Contains invalid items"}}}).concat(x).map(function($){return $.node.setError($.error,$.child),$.node})}},refresh:function(){this.node&&this.node.updateDom({recurse:!0})},startAutoScroll:function(D){var M=this,T=this.scrollableContent,N=_.getAbsoluteTop(T),x=T.clientHeight,I=N+x;this.autoScrollStep=D<N+24&&T.scrollTop>0?(N+24-D)/3:D>I-24&&x+T.scrollTop<T.scrollHeight?(I-24-D)/3:void 0,this.autoScrollStep?this.autoScrollTimer||(this.autoScrollTimer=setInterval(function(){M.autoScrollStep?T.scrollTop-=M.autoScrollStep:M.stopAutoScroll()},50)):this.stopAutoScroll()},stopAutoScroll:function(){this.autoScrollTimer&&(clearTimeout(this.autoScrollTimer),delete this.autoScrollTimer),this.autoScrollStep&&delete this.autoScrollStep},setDomSelection:function(D){!D||("scrollTop"in D&&this.scrollableContent&&(this.scrollableContent.scrollTop=D.scrollTop),D.nodes&&this.select(D.nodes),D.range&&_.setSelectionOffset(D.range),D.dom&&D.dom.focus())},getDomSelection:function(){var D=_.getSelectionOffset();return D&&"DIV"!==D.container.nodeName&&(D=null),{dom:this.focusTarget,range:D,nodes:this.multiselection.nodes.slice(0),scrollTop:this.scrollableContent?this.scrollableContent.scrollTop:0}},scrollTo:function(D,M){var T=this.scrollableContent;if(T){var N=this;N.animateTimeout&&(clearTimeout(N.animateTimeout),delete N.animateTimeout),N.animateCallback&&(N.animateCallback(!1),delete N.animateCallback);var x=T.clientHeight,I=T.scrollHeight-x,k=Math.min(Math.max(D-x/4,0),I),$=function(){var V=k-T.scrollTop;Math.abs(V)>3?(T.scrollTop+=V/3,N.animateCallback=M,N.animateTimeout=setTimeout($,50)):(M&&M(!0),T.scrollTop=k,delete N.animateTimeout,delete N.animateCallback)};$()}else M&&M(!1)},_createFrame:function(){this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.container.appendChild(this.frame);var D=this;function M(V){D._onEvent&&D._onEvent(V)}this.frame.onclick=function(V){var U=V.target;M(V),"BUTTON"==U.nodeName&&V.preventDefault()},this.frame.oninput=M,this.frame.onchange=M,this.frame.onkeydown=M,this.frame.onkeyup=M,this.frame.oncut=M,this.frame.onpaste=M,this.frame.onmousedown=M,this.frame.onmouseup=M,this.frame.onmouseover=M,this.frame.onmouseout=M,_.addEventListener(this.frame,"focus",M,!0),_.addEventListener(this.frame,"blur",M,!0),this.frame.onfocusin=M,this.frame.onfocusout=M,this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var T=document.createElement("button");T.type="button",T.className="jsoneditor-expand-all",T.title=C("expandAll"),T.onclick=function(){D.expandAll()},this.menu.appendChild(T);var N=document.createElement("button");N.type="button",N.title=C("collapseAll"),N.className="jsoneditor-collapse-all",N.onclick=function(){D.collapseAll()},this.menu.appendChild(N);var x=document.createElement("button");x.type="button",x.className="jsoneditor-sort",x.title=C("sortTitleShort"),x.onclick=function(){f(D.node,D.options.modalAnchor||v)},this.menu.appendChild(x);var I=document.createElement("button");if(I.type="button",I.title=C("transformTitleShort"),I.className="jsoneditor-transform",I.onclick=function(){y(D.node,D.options.modalAnchor||v)},this.menu.appendChild(I),this.history){var k=document.createElement("button");k.type="button",k.className="jsoneditor-undo jsoneditor-separator",k.title=C("undo"),k.onclick=function(){D._onUndo()},this.menu.appendChild(k),this.dom.undo=k;var $=document.createElement("button");$.type="button",$.className="jsoneditor-redo",$.title=C("redo"),$.onclick=function(){D._onRedo()},this.menu.appendChild($),this.dom.redo=$,this.history.onChange=function(){k.disabled=!D.history.canUndo(),$.disabled=!D.history.canRedo()},this.history.onChange()}if(this.options&&this.options.modes&&this.options.modes.length){var P=this;this.modeSwitcher=new R(this.menu,this.options.modes,this.options.mode,function(U){P.modeSwitcher.destroy(),P.setMode(U),P.modeSwitcher.focus()})}this.options.search&&(this.searchBox=new E(this,this.menu)),this.options.navigationBar&&(this.navBar=document.createElement("div"),this.navBar.className="jsoneditor-navigation-bar nav-bar-empty",this.frame.appendChild(this.navBar),this.treePath=new r(this.navBar),this.treePath.onSectionSelected(this._onTreePathSectionSelected.bind(this)),this.treePath.onContextMenuItemSelected(this._onTreePathMenuItemSelected.bind(this)))},_onUndo:function(){this.history&&(this.history.undo(),this._onChange())},_onRedo:function(){this.history&&(this.history.redo(),this._onChange())},_onEvent:function(D){"keydown"===D.type&&this._onKeyDown(D),"focus"===D.type&&(this.focusTarget=D.target),"mousedown"===D.type&&this._startDragDistance(D),("mousemove"===D.type||"mouseup"===D.type||"click"===D.type)&&this._updateDragDistance(D);var M=F.getNodeFromTarget(D.target);if(M&&this.options&&this.options.navigationBar&&M&&("keydown"===D.type||"mousedown"===D.type)){var T=this;setTimeout(function(){T._updateTreePath(M.getNodePath())})}if(M&&M.selected){if("click"===D.type){if(D.target===M.dom.menu)return void this.showContextMenu(D.target);D.hasMoved||this.deselect()}"mousedown"===D.type&&F.onDragStart(this.multiselection.nodes,D)}else"mousedown"===D.type&&(this.deselect(),M&&D.target===M.dom.drag?F.onDragStart(M,D):(!M||D.target!==M.dom.field&&D.target!==M.dom.value&&D.target!==M.dom.select)&&this._onMultiSelectStart(D));M&&M.onEvent(D)},_updateTreePath:function(D){if(D&&D.length){_.removeClassName(this.navBar,"nav-bar-empty");var M=[];D.forEach(function(N){var x={name:T(N),node:N,children:[]};N.childs&&N.childs.length&&N.childs.forEach(function(I){x.children.push({name:T(I),node:I})}),M.push(x)}),this.treePath.setPath(M)}else _.addClassName(this.navBar,"nav-bar-empty");function T(N){return void 0!==N.field?N._escapeHTML(N.field):isNaN(N.index)?N.type:N.index}},_onTreePathSectionSelected:function(D){D&&D.node&&(D.node.expandTo(),D.node.focus())},_onTreePathMenuItemSelected:function(D,M){if(D&&D.children.length){var T=D.children.find(function(N){return N.name===M});T&&T.node&&(this._updateTreePath(T.node.getNodePath()),T.node.expandTo(),T.node.focus())}},_startDragDistance:function(D){this.dragDistanceEvent={initialTarget:D.target,initialPageX:D.pageX,initialPageY:D.pageY,dragDistance:0,hasMoved:!1}},_updateDragDistance:function(D){this.dragDistanceEvent||this._startDragDistance(D);var M=D.pageX-this.dragDistanceEvent.initialPageX,T=D.pageY-this.dragDistanceEvent.initialPageY;return this.dragDistanceEvent.dragDistance=Math.sqrt(M*M+T*T),this.dragDistanceEvent.hasMoved=this.dragDistanceEvent.hasMoved||this.dragDistanceEvent.dragDistance>10,D.dragDistance=this.dragDistanceEvent.dragDistance,D.hasMoved=this.dragDistanceEvent.hasMoved,D.dragDistance},_onMultiSelectStart:function(D){var M=F.getNodeFromTarget(D.target);if("tree"===this.options.mode&&void 0===this.options.onEditable){this.multiselection={start:M||null,end:null,nodes:[]},this._startDragDistance(D);var T=this;this.mousemove||(this.mousemove=_.addEventListener(window,"mousemove",function(N){T._onMultiSelect(N)})),this.mouseup||(this.mouseup=_.addEventListener(window,"mouseup",function(N){T._onMultiSelectEnd(N)}))}},_onMultiSelect:function(D){if(D.preventDefault(),this._updateDragDistance(D),D.hasMoved){var M=F.getNodeFromTarget(D.target);M&&(null==this.multiselection.start&&(this.multiselection.start=M),this.multiselection.end=M),this.deselect();var T=this.multiselection.start,N=this.multiselection.end||this.multiselection.start;if(T&&N){if(this.multiselection.nodes=this._findTopLevelNodes(T,N),this.multiselection.nodes&&this.multiselection.nodes.length){var x=this.multiselection.nodes[0];this.multiselection.direction=this.multiselection.start===x||this.multiselection.start.isDescendantOf(x)?"down":"up"}this.select(this.multiselection.nodes)}}},_onMultiSelectEnd:function(D){this.multiselection.nodes[0]&&this.multiselection.nodes[0].dom.menu.focus(),this.multiselection.start=null,this.multiselection.end=null,this.mousemove&&(_.removeEventListener(window,"mousemove",this.mousemove),delete this.mousemove),this.mouseup&&(_.removeEventListener(window,"mouseup",this.mouseup),delete this.mouseup)},deselect:function(D){var M=!!this.multiselection.nodes.length;this.multiselection.nodes.forEach(function(T){T.setSelected(!1)}),this.multiselection.nodes=[],D&&(this.multiselection.start=null,this.multiselection.end=null),M&&this._selectionChangedHandler&&this._selectionChangedHandler()},select:function(D){if(!Array.isArray(D))return this.select([D]);if(D){this.deselect(),this.multiselection.nodes=D.slice(0);var M=D[0];if(D.forEach(function(N){N.expandPathToNode(),N.setSelected(!0,N===M)}),this._selectionChangedHandler){var T=this.getSelection();this._selectionChangedHandler(T.start,T.end)}}},_findTopLevelNodes:function(D,M){for(var T=D.getNodePath(),N=M.getNodePath(),x=0;x<T.length&&T[x]===N[x];)x++;var I=T[x-1],k=T[x],$=N[x];if((!k||!$)&&(I.parent?(k=I,$=I,I=I.parent):(k=I.childs[0],$=I.childs[I.childs.length-1])),I&&k&&$){var P=I.childs.indexOf(k),V=I.childs.indexOf($),U=Math.min(P,V),X=Math.max(P,V);return I.childs.slice(U,X+1)}return[]},_onKeyDown:function(D){var M=D.which||D.keyCode,T=D.altKey,N=D.ctrlKey,x=D.metaKey,I=D.shiftKey,k=!1;if(9==M){var $=this;setTimeout(function(){_.selectContentEditable($.focusTarget)},0)}if(this.searchBox&&(N&&70==M?(this.searchBox.dom.search.focus(),this.searchBox.dom.search.select(),k=!0):(114==M||N&&71==M)&&(I?this.searchBox.previous(!0):this.searchBox.next(!0),k=!0)),this.history&&(N&&!I&&90==M?(this._onUndo(),k=!0):N&&I&&90==M&&(this._onRedo(),k=!0)),this.options.autocomplete&&!k&&!N&&!T&&!x&&(1==D.key.length||8==M||46==M)){k=!1;var V="";D.target.className.indexOf("jsoneditor-value")>=0&&(V="value"),D.target.className.indexOf("jsoneditor-field")>=0&&(V="field");var U=F.getNodeFromTarget(D.target);setTimeout(function(X,ie){if(ie.innerText.length>0){var ee=this.options.autocomplete.getOptions(ie.innerText,X.getPath(),V,X.editor);null===ee?this.autocomplete.hideDropDown():"function"==typeof ee.then?ee.then(function(ce){null===ce?this.autocomplete.hideDropDown():ce.options?this.autocomplete.show(ie,ce.startFrom,ce.options):this.autocomplete.show(ie,0,ce)}.bind(this)):ee.options?this.autocomplete.show(ie,ee.startFrom,ee.options):this.autocomplete.show(ie,0,ee)}else this.autocomplete.hideDropDown()}.bind(this,U,D.target),50)}k&&(D.preventDefault(),D.stopPropagation())},_createTable:function(){var M,D=document.createElement("div");D.className="jsoneditor-outer",this.options.navigationBar&&_.addClassName(D,"has-nav-bar"),this.contentOuter=D,this.scrollableContent=document.createElement("div"),this.scrollableContent.className="jsoneditor-tree",D.appendChild(this.scrollableContent),this.content=document.createElement("div"),this.content.className="jsoneditor-tree-inner",this.scrollableContent.appendChild(this.content),this.table=document.createElement("table"),this.table.className="jsoneditor-tree",this.content.appendChild(this.table),this.colgroupContent=document.createElement("colgroup"),"tree"===this.options.mode&&((M=document.createElement("col")).width="24px",this.colgroupContent.appendChild(M)),(M=document.createElement("col")).width="24px",this.colgroupContent.appendChild(M),M=document.createElement("col"),this.colgroupContent.appendChild(M),this.table.appendChild(this.colgroupContent),this.tbody=document.createElement("tbody"),this.table.appendChild(this.tbody),this.frame.appendChild(D)},showContextMenu:function(D,M){var T=[],N=this;T.push({text:C("duplicateText"),title:C("duplicateTitle"),className:"jsoneditor-duplicate",click:function(){F.onDuplicate(N.multiselection.nodes)}}),T.push({text:C("remove"),title:C("removeTitle"),className:"jsoneditor-remove",click:function(){F.onRemove(N.multiselection.nodes)}}),new B(T,{close:M}).show(D,this.content)},getSelection:function(){var D={start:null,end:null};if(this.multiselection.nodes&&this.multiselection.nodes.length&&this.multiselection.nodes.length){var M=this.multiselection.nodes[0],T=this.multiselection.nodes[this.multiselection.nodes.length-1];"down"===this.multiselection.direction?(D.start=M.serialize(),D.end=T.serialize()):(D.start=T.serialize(),D.end=M.serialize())}return D},onSelectionChange:function(D){"function"==typeof D&&(this._selectionChangedHandler=_.debounce(D,this.DEBOUNCE_INTERVAL))},setSelection:function(D,M){D&&D.dom&&D.range&&(console.warn("setSelection/getSelection usage for text selection is depracated and should not be used, see documantaion for supported selection options"),this.setDomSelection(D));var T=this._getNodeIntsncesByRange(D,M);T.forEach(function(N){N.expandTo()}),this.select(T)},_getNodeIntsncesByRange:function(D,M){var T,N;D&&D.path&&(T=this.node.findNodeByPath(D.path),M&&M.path&&(N=this.node.findNodeByPath(M.path)));var x=[];if(T instanceof F)if(N instanceof F&&N!==T)if(T.parent===N.parent){T.getIndex()<N.getIndex()?(D=T,M=N):(D=N,M=T);var I=D;x.push(I);do{I=I.nextSibling(),x.push(I)}while(I&&I!==M)}else x=this._findTopLevelNodes(T,N);else x.push(T);return x},getNodesByRange:function(D,M){var T=this._getNodeIntsncesByRange(D,M),N=[];return T.forEach(function(x){N.push(x.serialize())}),N}};Te.exports=[{mode:"tree",mixin:A,data:"json"},{mode:"view",mixin:A,data:"json"},{mode:"form",mixin:A,data:"json"}]},1464:(Te,z,w)=>{"use strict";var H=w(4853);z.parse=function(r){try{return JSON.parse(r)}catch(F){throw z.validate(r),F}},z.sanitize=function(B){var r=[],F=0,R=B.match(/^\s*(\/\*(.|[\r\n])*?\*\/)?\s*[\da-zA-Z_$]+\s*\(([\s\S]*)\)\s*;?\s*$/);R&&(B=R[3]);var _={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function D(){return B.charAt(F)}function M(){return B.charAt(F+1)}function N(){for(var V=r.length-1;V>=0;){var U=r[V];if(" "!==U&&"\n"!==U&&"\r"!==U&&"\t"!==U)return U;V--}return""}function x(){for(F+=2;F<B.length&&("*"!==D()||"/"!==M());)F++;F+=2}function I(){for(F+=2;F<B.length&&"\n"!==D();)F++}function k(V){r.push('"'),F++;for(var U=D();F<B.length&&U!==V;)'"'===U&&"\\"!==B.charAt(F-1)?r.push('\\"'):_.hasOwnProperty(U)?r.push(_[U]):("\\"===U&&(F++,"'"!==(U=D())&&r.push("\\")),r.push(U)),F++,U=D();U===V&&(r.push('"'),F++)}function $(){for(var U="",X=D(),ie=/[a-zA-Z_$\d]/;ie.test(X);)U+=X,F++,X=D();-1===["null","true","false"].indexOf(U)?r.push('"'+U+'"'):r.push(U)}for(;F<B.length;){var P=D();"/"===P&&"*"===M()?x():"/"===P&&"/"===M()?I():"\xa0"===P||P>="\u2000"&&P<="\u200a"||"\u202f"===P||"\u205f"===P||"\u3000"===P?(r.push(" "),F++):"'"===P?k("'"):'"'===P?k('"'):"`"===P?k("\xb4"):"\u2018"===P?k("\u2019"):"\u201c"===P?k("\u201d"):/[a-zA-Z_$]/.test(P)&&-1!==["{",","].indexOf(N())?$():(r.push(P),F++)}return r.join("")},z.escapeUnicodeChars=function(B){return B.replace(/[\u007F-\uFFFF]/g,function(r){return"\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4)})},z.validate=function(r){void 0!==H?H.parse(r):JSON.parse(r)},z.extend=function(r,F){for(var R in F)F.hasOwnProperty(R)&&(r[R]=F[R]);return r},z.clear=function(r){for(var F in r)r.hasOwnProperty(F)&&delete r[F];return r},z.type=function(r){return null===r?"null":void 0===r?"undefined":r instanceof Number||"number"==typeof r?"number":r instanceof String||"string"==typeof r?"string":r instanceof Boolean||"boolean"==typeof r?"boolean":r instanceof RegExp||"regexp"==typeof r?"regexp":z.isArray(r)?"array":"object"};var W=/^https?:\/\/\S+$/;z.isUrl=function(r){return("string"==typeof r||r instanceof String)&&W.test(r)},z.isArray=function(B){return"[object Array]"===Object.prototype.toString.call(B)},z.getAbsoluteLeft=function(r){return r.getBoundingClientRect().left+window.pageXOffset||document.scrollLeft||0},z.getAbsoluteTop=function(r){return r.getBoundingClientRect().top+window.pageYOffset||document.scrollTop||0},z.addClassName=function(r,F){var R=r.className.split(" ");-1==R.indexOf(F)&&(R.push(F),r.className=R.join(" "))},z.removeClassName=function(r,F){var R=r.className.split(" "),_=R.indexOf(F);-1!=_&&(R.splice(_,1),r.className=R.join(" "))},z.stripFormatting=function(r){for(var F=r.childNodes,R=0,_=F.length;R<_;R++){var m=F[R];m.style&&m.removeAttribute("style");var f=m.attributes;if(f)for(var y=f.length-1;y>=0;y--){var C=f[y];!0===C.specified&&m.removeAttribute(C.name)}z.stripFormatting(m)}},z.setEndOfContentEditable=function(r){var F,R;document.createRange&&((F=document.createRange()).selectNodeContents(r),F.collapse(!1),(R=window.getSelection()).removeAllRanges(),R.addRange(F))},z.selectContentEditable=function(r){var F,R;r&&"DIV"==r.nodeName&&window.getSelection&&document.createRange&&((R=document.createRange()).selectNodeContents(r),(F=window.getSelection()).removeAllRanges(),F.addRange(R))},z.getSelection=function(){if(window.getSelection){var r=window.getSelection();if(r.getRangeAt&&r.rangeCount)return r.getRangeAt(0)}return null},z.setSelection=function(r){if(r&&window.getSelection){var F=window.getSelection();F.removeAllRanges(),F.addRange(r)}},z.getSelectionOffset=function(){var r=z.getSelection();return r&&"startOffset"in r&&"endOffset"in r&&r.startContainer&&r.startContainer==r.endContainer?{startOffset:r.startOffset,endOffset:r.endOffset,container:r.startContainer.parentNode}:null},z.setSelectionOffset=function(r){if(document.createRange&&window.getSelection&&window.getSelection()){var R=document.createRange();r.container.firstChild||r.container.appendChild(document.createTextNode("")),R.setStart(r.container.firstChild,r.startOffset),R.setEnd(r.container.firstChild,r.endOffset),z.setSelection(R)}},z.getInnerText=function(r,F){if(null==F&&(F={text:"",flush:function(){var v=this.text;return this.text="",v},set:function(v){this.text=v}}),r.nodeValue)return F.flush()+r.nodeValue;if(r.hasChildNodes()){for(var _=r.childNodes,m="",f=0,y=_.length;f<y;f++){var C=_[f];if("DIV"==C.nodeName||"P"==C.nodeName){var S=_[f-1],g=S?S.nodeName:void 0;g&&"DIV"!=g&&"P"!=g&&"BR"!=g&&(m+="\n",F.flush()),m+=z.getInnerText(C,F),F.set("\n")}else"BR"==C.nodeName?(m+=F.flush(),F.set("\n")):m+=z.getInnerText(C,F)}return m}return"P"==r.nodeName&&-1!=z.getInternetExplorerVersion()?F.flush():""},z.getInternetExplorerVersion=function(){if(-1==E){var r=-1;if("undefined"!=typeof navigator&&"Microsoft Internet Explorer"==navigator.appName){var F=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(F)&&(r=parseFloat(RegExp.$1))}E=r}return E},z.isFirefox=function(){return"undefined"!=typeof navigator&&-1!==navigator.userAgent.indexOf("Firefox")};var E=-1;z.addEventListener=function(r,F,R,_){if(r.addEventListener)return void 0===_&&(_=!1),"mousewheel"===F&&z.isFirefox()&&(F="DOMMouseScroll"),r.addEventListener(F,R,_),R;if(r.attachEvent){var m=function(){return R.call(r,window.event)};return r.attachEvent("on"+F,m),m}},z.removeEventListener=function(r,F,R,_){r.removeEventListener?(void 0===_&&(_=!1),"mousewheel"===F&&z.isFirefox()&&(F="DOMMouseScroll"),r.removeEventListener(F,R,_)):r.detachEvent&&r.detachEvent("on"+F,R)},z.parsePath=function B(r){var F,R;if(0===r.length)return[];var _=r.match(/^\.(\w+)/);if(_)R=r.substr((F=_[1]).length+1);else{if("["!==r[0])throw new SyntaxError("Failed to parse path");var m=r.indexOf("]");if(-1===m)throw new SyntaxError("Character ] expected in path");if(1===m)throw new SyntaxError("Index expected after [");var f=r.substring(1,m);"'"===f[0]&&(f='"'+f.substring(1,f.length-1)+'"'),F="*"===f?f:JSON.parse(f),R=r.substr(m+1)}return[F].concat(B(R))},z.improveSchemaError=function(B){if("enum"===B.keyword&&Array.isArray(B.schema)){var r=B.schema;if(r){if((r=r.map(function(R){return JSON.stringify(R)})).length>5){var F=["("+(r.length-5)+" more...)"];(r=r.slice(0,5)).push(F)}B.message="should be equal to one of: "+r.join(", ")}}return"additionalProperties"===B.keyword&&(B.message="should NOT have additional property: "+B.params.additionalProperty),B},z.insideRect=function(B,r,F){var R=void 0!==F?F:0;return r.left-R>=B.left&&r.right+R<=B.right&&r.top-R>=B.top&&r.bottom+R<=B.bottom},z.debounce=function(r,F,R){var _;return function(){var m=this,f=arguments,y=function(){_=null,R||r.apply(m,f)},C=R&&!_;clearTimeout(_),_=setTimeout(y,F),C&&r.apply(m,f)}},z.textDiff=function(r,F){for(var R=F.length,_=0,m=r.length,f=F.length;F.charAt(_)===r.charAt(_)&&_<R;)_++;for(;F.charAt(f-1)===r.charAt(m-1)&&f>_&&m>0;)f--,m--;return{start:_,end:f}},z.getInputSelection=function(B){var R,_,m,f,y,r=0,F=0;return"number"==typeof B.selectionStart&&"number"==typeof B.selectionEnd?(r=B.selectionStart,F=B.selectionEnd):(_=document.selection.createRange())&&_.parentElement()==B&&(f=B.value.length,R=B.value.replace(/\r\n/g,"\n"),(m=B.createTextRange()).moveToBookmark(_.getBookmark()),(y=B.createTextRange()).collapse(!1),m.compareEndPoints("StartToEnd",y)>-1?r=F=f:(r=-m.moveStart("character",-f),r+=R.slice(0,r).split("\n").length-1,m.compareEndPoints("EndToEnd",y)>-1?F=f:(F=-m.moveEnd("character",-f),F+=R.slice(0,F).split("\n").length-1))),{startIndex:r,endIndex:F,start:C(r),end:C(F)};function C(S){var g=B.value.substring(0,S);return{row:(g.match(/\n/g)||[]).length+1,column:g.length-g.lastIndexOf("\n")}}},z.getIndexForPosition=function(B,r,F){if(r>0&&F>0){var _=(B.value||"").split("\n",r);r=Math.min(_.length,r),F=Math.min(_[r-1].length,F-1);var m=1==r?F:F+1;return _.slice(0,r-1).join("\n").length+m}return-1},"undefined"!=typeof Element&&function(){function B(r){r.hasOwnProperty("remove")||Object.defineProperty(r,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!=this.parentNode&&this.parentNode.removeChild(this)}})}"undefined"!=typeof Element&&B(Element.prototype),"undefined"!=typeof CharacterData&&B(CharacterData.prototype),"undefined"!=typeof DocumentType&&B(DocumentType.prototype)}(),String.prototype.startsWith||(String.prototype.startsWith=function(B,r){return this.substr(r=r||0,B.length)===B}),Array.prototype.find||(Array.prototype.find=function(B){for(var r=0;r<this.length;r++){var F=this[r];if(B.call(this,F,r,this))return F}})},1936:(Te,z)=>{z.encode=function(w){var H="";for(var W in w)w.hasOwnProperty(W)&&(H.length&&(H+="&"),H+=encodeURIComponent(W)+"="+encodeURIComponent(w[W]));return H},z.decode=function(w){for(var H={},W=w.split("&"),E=0,B=W.length;E<B;E++){var r=W[E].split("=");H[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return H}},6677:Te=>{var z=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,w=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];Te.exports=function(B){var r=B,F=B.indexOf("["),R=B.indexOf("]");-1!=F&&-1!=R&&(B=B.substring(0,F)+B.substring(F,R).replace(/:/g,";")+B.substring(R,B.length));for(var _=z.exec(B||""),m={},f=14;f--;)m[w[f]]=_[f]||"";return-1!=F&&-1!=R&&(m.source=r,m.host=m.host.substring(1,m.host.length-1).replace(/;/g,":"),m.authority=m.authority.replace("[","").replace("]","").replace(/;/g,":"),m.ipv6uri=!0),m.pathNames=function(E,B){var F=B.replace(/\/{2,9}/g,"/").split("/");return("/"==B.substr(0,1)||0===B.length)&&F.splice(0,1),"/"==B.substr(B.length-1,1)&&F.splice(F.length-1,1),F}(0,m.path),m.queryKey=function(E,B){var r={};return B.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(F,R,_){R&&(r[R]=_)}),r}(0,m.query),m}},4739:function(Te,z){var w,W;!function(E,B){"use strict";w=function(){function E(D){return"object"==typeof Node?D instanceof Node:D&&"object"==typeof D&&"number"==typeof D.nodeType}function r(){var D=[];return{watch:D.push.bind(D),trigger:function(M,T){for(var N=!0,x={detail:T,preventDefault:function(){N=!1}},I=0;I<D.length;I++)D[I](M,x);return N}}}function F(D){return"none"===window.getComputedStyle(D).display}function R(D){this.elem=D}function _(D,M){return R.make(D("parent")).clazz("pico-overlay").clazz(D("overlayClass","")).stylize({display:"none",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1e4}).stylize(D("overlayStyles",{opacity:.5,background:"#000"})).onClick(function(){D("overlayClose",!0)&&M()})}R.make=function(D,M){"string"==typeof D&&(D=document.querySelector(D));var T=document.createElement(M||"div");return(D||document.body).appendChild(T),new R(T)},R.prototype={child:function(D){return R.make(this.elem,D)},stylize:function(D){for(var M in void 0!==(D=D||{}).opacity&&(D.filter="alpha(opacity="+100*D.opacity+")"),D)D.hasOwnProperty(M)&&(this.elem.style[M]=D[M]);return this},clazz:function(D){return this.elem.className+=" "+D,this},html:function(D){return E(D)?this.elem.appendChild(D):this.elem.innerHTML=D,this},onClick:function(D){return this.elem.addEventListener("click",D),this},destroy:function(){this.elem.parentNode.removeChild(this.elem)},hide:function(){this.elem.style.display="none"},show:function(){this.elem.style.display="block"},attr:function(D,M){return void 0!==M&&this.elem.setAttribute(D,M),this},anyAncestor:function(D){for(var M=this.elem;M;){if(D(new R(M)))return!0;M=M.parentNode}return!1},isVisible:function(){return!F(this.elem)}};var m=1;function y(D,M){if(M("closeButton",!0))return D.child("button").html(M("closeHtml","&#xD7;")).clazz("pico-close").clazz(M("closeClass","")).stylize(M("closeStyles",{borderRadius:"2px",border:0,padding:0,cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})).attr("aria-label",M("close-label","Close"))}function C(D){return function(){return D().elem}}var S=r(),g=r();function v(D,M){function T($,P){return($.msMatchesSelector||$.webkitMatchesSelector||$.matches).call($,P)}function N($){return!(F($)||T($,":disabled")||$.hasAttribute("contenteditable"))&&($.hasAttribute("tabindex")||T($,"input,select,textarea,button,a[href],area[href],iframe"))}function x($){for(var P=$.getElementsByTagName("*"),V=0;V<P.length;V++)if(N(P[V]))return P[V]}var k;D.beforeShow(function(){k=document.activeElement}),D.afterShow(function(){if(M()){var P=x(D.modalElem());P&&P.focus()}}),D.afterClose(function(){M()&&k&&k.focus(),k=null}),g.watch(function(P){if(M()&&D.isVisible()){var V=x(D.modalElem()),U=function($){for(var P=$.getElementsByTagName("*"),V=P.length;V--;)if(N(P[V]))return P[V]}(D.modalElem());(P.shiftKey?V:U)===document.activeElement&&((P.shiftKey?U:V).focus(),P.preventDefault())}})}return document.documentElement.addEventListener("keydown",function(M){var T=M.which||M.keyCode;27===T?S.trigger():9===T&&g.trigger(M)}),function(M){("string"==typeof M||E(M))&&(M={content:M});var T=r(),N=r(),x=r(),I=r(),k=r();function $(we,Se){var le=M[we];return"function"==typeof le&&(le=le(Se)),void 0===le?Se:le}var X,_e,P=xe.bind(window,"modal"),V=xe.bind(window,"overlay"),U=xe.bind(window,"close");function ie(we){V().hide(),P().hide(),k.trigger(X,we)}function ee(we){I.trigger(X,we)&&ie(we)}function ce(we){return function(){return we.apply(this,arguments),X}}function xe(we,Se){if(!_e){var le=function(D,M){var T=D("width","auto");"number"==typeof T&&(T+="px");var N=D("modalId","pico-"+m++);return R.make(D("parent")).clazz("pico-content").clazz(D("modalClass","")).stylize({display:"none",position:"fixed",zIndex:10001,left:"50%",top:"38.1966%",maxHeight:"90%",boxSizing:"border-box",width:T,"-ms-transform":"translate(-50%,-38.1966%)","-moz-transform":"translate(-50%,-38.1966%)","-webkit-transform":"translate(-50%,-38.1966%)","-o-transform":"translate(-50%,-38.1966%)",transform:"translate(-50%,-38.1966%)"}).stylize(D("modalStyles",{overflow:"auto",backgroundColor:"white",padding:"20px",borderRadius:"5px"})).html(D("content")).attr("id",N).attr("role","dialog").attr("aria-labelledby",D("ariaLabelledBy")).attr("aria-describedby",D("ariaDescribedBy",N)).onClick(function(I){new R(I.target).anyAncestor(function($){return/\bpico-close\b/.test($.elem.className)})&&M()})}($,ee);_e={modal:le,overlay:_($,ee),close:y(le,$)},T.trigger(X,Se)}return _e[we]}return v(X={modalElem:C(P),closeElem:C(U),overlayElem:C(V),buildDom:ce(xe.bind(null,null)),isVisible:function(){return!!(_e&&P&&P().isVisible())},show:function(we){return N.trigger(X,we)&&(V().show(),U(),P().show(),x.trigger(X,we)),this},close:ce(ee),forceClose:ce(ie),destroy:function(){P().destroy(),V().destroy(),V=P=U=void 0},options:function(we){Object.keys(we).map(function(Se){M[Se]=we[Se]})},afterCreate:ce(T.watch),beforeShow:ce(N.watch),afterShow:ce(x.watch),beforeClose:ce(I.watch),afterClose:ce(k.watch)},$.bind(null,"focus",!0)),function(D,M){var T,N=new R(document.body);D.beforeShow(function(){T=N.elem.style.overflow,M()&&N.stylize({overflow:"hidden"})}),D.afterClose(function(){N.stylize({overflow:T})})}(X,$.bind(null,"bodyOverflow",!0)),S.watch(function(){$("escCloses",!0)&&X.isVisible()&&X.close()}),X}},void 0!==(W=w.apply(z,[]))&&(Te.exports=W)}()},6671:Te=>{"use strict";function z(w,H){return Object.prototype.hasOwnProperty.call(w,H)}Te.exports=function(w,H,W,E){W=W||"=";var B={};if("string"!=typeof w||0===w.length)return B;var r=/\+/g;w=w.split(H=H||"&");var F=1e3;E&&"number"==typeof E.maxKeys&&(F=E.maxKeys);var R=w.length;F>0&&R>F&&(R=F);for(var _=0;_<R;++_){var y,C,S,g,m=w[_].replace(r,"%20"),f=m.indexOf(W);f>=0?(y=m.substr(0,f),C=m.substr(f+1)):(y=m,C=""),S=decodeURIComponent(y),g=decodeURIComponent(C),z(B,S)?Array.isArray(B[S])?B[S].push(g):B[S]=[B[S],g]:B[S]=g}return B}},6358:Te=>{"use strict";var z=function(w){switch(typeof w){case"string":return w;case"boolean":return w?"true":"false";case"number":return isFinite(w)?w:"";default:return""}};Te.exports=function(w,H,W,E){return H=H||"&",W=W||"=",null===w&&(w=void 0),"object"==typeof w?Object.keys(w).map(function(B){var r=encodeURIComponent(z(B))+W;return Array.isArray(w[B])?w[B].map(function(F){return r+encodeURIComponent(z(F))}).join(H):r+encodeURIComponent(z(w[B]))}).join(H):E?encodeURIComponent(z(E))+W+encodeURIComponent(z(w)):""}},3724:(Te,z,w)=>{"use strict";z.decode=z.parse=w(6671),z.encode=z.stringify=w(6358)},2577:function(Te,z,w){var H;Te=w.nmd(Te),function(W){"object"==typeof global&&global;var F,R=2147483647,_=36,A=/^xn--/,D=/[^\x20-\x7E]/,M=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=Math.floor,I=String.fromCharCode;function $(le){throw RangeError(T[le])}function P(le,ye){for(var Ce=le.length,ge=[];Ce--;)ge[Ce]=ye(le[Ce]);return ge}function V(le,ye){var Ce=le.split("@"),ge="";return Ce.length>1&&(ge=Ce[0]+"@",le=Ce[1]),ge+P((le=le.replace(M,".")).split("."),ye).join(".")}function U(le){for(var se,de,ye=[],Ce=0,ge=le.length;Ce<ge;)(se=le.charCodeAt(Ce++))>=55296&&se<=56319&&Ce<ge?56320==(64512&(de=le.charCodeAt(Ce++)))?ye.push(((1023&se)<<10)+(1023&de)+65536):(ye.push(se),Ce--):ye.push(se);return ye}function X(le){return P(le,function(ye){var Ce="";return ye>65535&&(Ce+=I((ye-=65536)>>>10&1023|55296),ye=56320|1023&ye),Ce+I(ye)}).join("")}function ie(le){return le-48<10?le-22:le-65<26?le-65:le-97<26?le-97:_}function ee(le,ye){return le+22+75*(le<26)-((0!=ye)<<5)}function ce(le,ye,Ce){var ge=0;for(le=Ce?x(le/700):le>>1,le+=x(le/ye);le>455;ge+=_)le=x(le/35);return x(ge+36*le/(le+38))}function _e(le){var ge,Re,te,he,Fe,Ie,Me,Ne,De,ke,ye=[],Ce=le.length,se=0,de=128,fe=72;for((Re=le.lastIndexOf("-"))<0&&(Re=0),te=0;te<Re;++te)le.charCodeAt(te)>=128&&$("not-basic"),ye.push(le.charCodeAt(te));for(he=Re>0?Re+1:0;he<Ce;){for(Fe=se,Ie=1,Me=_;he>=Ce&&$("invalid-input"),((Ne=ie(le.charCodeAt(he++)))>=_||Ne>x((R-se)/Ie))&&$("overflow"),se+=Ne*Ie,!(Ne<(De=Me<=fe?1:Me>=fe+26?26:Me-fe));Me+=_)Ie>x(R/(ke=_-De))&&$("overflow"),Ie*=ke;fe=ce(se-Fe,ge=ye.length+1,0==Fe),x(se/ge)>R-de&&$("overflow"),de+=x(se/ge),se%=ge,ye.splice(se++,0,de)}return X(ye)}function xe(le){var ye,Ce,ge,se,de,fe,Re,te,he,Fe,Ie,Ne,De,ke,Ye,Me=[];for(Ne=(le=U(le)).length,ye=128,Ce=0,de=72,fe=0;fe<Ne;++fe)(Ie=le[fe])<128&&Me.push(I(Ie));for(ge=se=Me.length,se&&Me.push("-");ge<Ne;){for(Re=R,fe=0;fe<Ne;++fe)(Ie=le[fe])>=ye&&Ie<Re&&(Re=Ie);for(Re-ye>x((R-Ce)/(De=ge+1))&&$("overflow"),Ce+=(Re-ye)*De,ye=Re,fe=0;fe<Ne;++fe)if((Ie=le[fe])<ye&&++Ce>R&&$("overflow"),Ie==ye){for(te=Ce,he=_;!(te<(Fe=he<=de?1:he>=de+26?26:he-de));he+=_)Me.push(I(ee(Fe+(Ye=te-Fe)%(ke=_-Fe),0))),te=x(Ye/ke);Me.push(I(ee(te,0))),de=ce(Ce,De,ge==se),Ce=0,++ge}++Ce,++ye}return Me.join("")}F={version:"1.3.2",ucs2:{decode:U,encode:X},decode:_e,encode:xe,toASCII:function(le){return V(le,function(ye){return D.test(ye)?"xn--"+xe(ye):ye})},toUnicode:function(le){return V(le,function(ye){return A.test(ye)?_e(ye.slice(4).toLowerCase()):ye})}},void 0!==(H=function(){return F}.call(z,w,z,Te))&&(Te.exports=H)}()},5124:(Te,z,w)=>{"use strict";var H=w(2577),W=w(8539);function E(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}z.parse=T,z.resolve=function(k,$){return T(k,!1,!0).resolve($)},z.resolveObject=function(k,$){return k?T(k,!1,!0).resolveObject($):$},z.format=function(k){return W.isString(k)&&(k=T(k)),k instanceof E?k.format():E.prototype.format.call(k)},z.Url=E;var B=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,F=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,_=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),m=["'"].concat(_),f=["%","/","?",";","#"].concat(m),y=["/","?","#"],S=/^[+a-z0-9A-Z_-]{0,63}$/,g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},A={javascript:!0,"javascript:":!0},D={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},M=w(3724);function T(k,$,P){if(k&&W.isObject(k)&&k instanceof E)return k;var V=new E;return V.parse(k,$,P),V}E.prototype.parse=function(k,$,P){if(!W.isString(k))throw new TypeError("Parameter 'url' must be a string, not "+typeof k);var V=k.indexOf("?"),U=-1!==V&&V<k.indexOf("#")?"?":"#",X=k.split(U);X[0]=X[0].replace(/\\/g,"/");var ee=k=X.join(U);if(ee=ee.trim(),!P&&1===k.split("#").length){var ce=F.exec(ee);if(ce)return this.path=ee,this.href=ee,this.pathname=ce[1],ce[2]?(this.search=ce[2],this.query=$?M.parse(this.search.substr(1)):this.search.substr(1)):$&&(this.search="",this.query={}),this}var _e=B.exec(ee);if(_e){var xe=(_e=_e[0]).toLowerCase();this.protocol=xe,ee=ee.substr(_e.length)}if(P||_e||ee.match(/^\/\/[^@\/]+@[^@\/]+/)){var we="//"===ee.substr(0,2);we&&(!_e||!A[_e])&&(ee=ee.substr(2),this.slashes=!0)}if(!A[_e]&&(we||_e&&!D[_e])){for(var Se=-1,le=0;le<y.length;le++)-1!==(ye=ee.indexOf(y[le]))&&(-1===Se||ye<Se)&&(Se=ye);var Ce,ge;for(-1!==(ge=-1===Se?ee.lastIndexOf("@"):ee.lastIndexOf("@",Se))&&(Ce=ee.slice(0,ge),ee=ee.slice(ge+1),this.auth=decodeURIComponent(Ce)),Se=-1,le=0;le<f.length;le++){var ye;-1!==(ye=ee.indexOf(f[le]))&&(-1===Se||ye<Se)&&(Se=ye)}-1===Se&&(Se=ee.length),this.host=ee.slice(0,Se),ee=ee.slice(Se),this.parseHost(),this.hostname=this.hostname||"";var se="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!se)for(var de=this.hostname.split(/\./),fe=(le=0,de.length);le<fe;le++){var Re=de[le];if(Re&&!Re.match(S)){for(var te="",he=0,Fe=Re.length;he<Fe;he++)Re.charCodeAt(he)>127?te+="x":te+=Re[he];if(!te.match(S)){var Ie=de.slice(0,le),Me=de.slice(le+1),Ne=Re.match(g);Ne&&(Ie.push(Ne[1]),Me.unshift(Ne[2])),Me.length&&(ee="/"+Me.join(".")+ee),this.hostname=Ie.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),se||(this.hostname=H.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,se&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==ee[0]&&(ee="/"+ee))}if(!v[xe])for(le=0,fe=m.length;le<fe;le++){var Ye=m[le];if(-1!==ee.indexOf(Ye)){var rt=encodeURIComponent(Ye);rt===Ye&&(rt=escape(Ye)),ee=ee.split(Ye).join(rt)}}var be=ee.indexOf("#");-1!==be&&(this.hash=ee.substr(be),ee=ee.slice(0,be));var Xe=ee.indexOf("?");return-1!==Xe?(this.search=ee.substr(Xe),this.query=ee.substr(Xe+1),$&&(this.query=M.parse(this.query)),ee=ee.slice(0,Xe)):$&&(this.search="",this.query={}),ee&&(this.pathname=ee),D[xe]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},E.prototype.format=function(){var k=this.auth||"";k&&(k=(k=encodeURIComponent(k)).replace(/%3A/i,":"),k+="@");var $=this.protocol||"",P=this.pathname||"",V=this.hash||"",U=!1,X="";this.host?U=k+this.host:this.hostname&&(U=k+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(U+=":"+this.port)),this.query&&W.isObject(this.query)&&Object.keys(this.query).length&&(X=M.stringify(this.query));var ie=this.search||X&&"?"+X||"";return $&&":"!==$.substr(-1)&&($+=":"),this.slashes||(!$||D[$])&&!1!==U?(U="//"+(U||""),P&&"/"!==P.charAt(0)&&(P="/"+P)):U||(U=""),V&&"#"!==V.charAt(0)&&(V="#"+V),ie&&"?"!==ie.charAt(0)&&(ie="?"+ie),$+U+(P=P.replace(/[?#]/g,function(ee){return encodeURIComponent(ee)}))+(ie=ie.replace("#","%23"))+V},E.prototype.resolve=function(k){return this.resolveObject(T(k,!1,!0)).format()},E.prototype.resolveObject=function(k){if(W.isString(k)){var $=new E;$.parse(k,!1,!0),k=$}for(var P=new E,V=Object.keys(this),U=0;U<V.length;U++){var X=V[U];P[X]=this[X]}if(P.hash=k.hash,""===k.href)return P.href=P.format(),P;if(k.slashes&&!k.protocol){for(var ie=Object.keys(k),ee=0;ee<ie.length;ee++){var ce=ie[ee];"protocol"!==ce&&(P[ce]=k[ce])}return D[P.protocol]&&P.hostname&&!P.pathname&&(P.path=P.pathname="/"),P.href=P.format(),P}if(k.protocol&&k.protocol!==P.protocol){if(!D[k.protocol]){for(var _e=Object.keys(k),xe=0;xe<_e.length;xe++){var we=_e[xe];P[we]=k[we]}return P.href=P.format(),P}if(P.protocol=k.protocol,k.host||A[k.protocol])P.pathname=k.pathname;else{for(var fe=(k.pathname||"").split("/");fe.length&&!(k.host=fe.shift()););k.host||(k.host=""),k.hostname||(k.hostname=""),""!==fe[0]&&fe.unshift(""),fe.length<2&&fe.unshift(""),P.pathname=fe.join("/")}return P.search=k.search,P.query=k.query,P.host=k.host||"",P.auth=k.auth,P.hostname=k.hostname||k.host,P.port=k.port,(P.pathname||P.search)&&(P.path=(P.pathname||"")+(P.search||"")),P.slashes=P.slashes||k.slashes,P.href=P.format(),P}var ye=P.pathname&&"/"===P.pathname.charAt(0),Ce=k.host||k.pathname&&"/"===k.pathname.charAt(0),ge=Ce||ye||P.host&&k.pathname,se=ge,de=P.pathname&&P.pathname.split("/")||[],Re=(fe=k.pathname&&k.pathname.split("/")||[],P.protocol&&!D[P.protocol]);if(Re&&(P.hostname="",P.port=null,P.host&&(""===de[0]?de[0]=P.host:de.unshift(P.host)),P.host="",k.protocol&&(k.hostname=null,k.port=null,k.host&&(""===fe[0]?fe[0]=k.host:fe.unshift(k.host)),k.host=null),ge=ge&&(""===fe[0]||""===de[0])),Ce)P.host=k.host||""===k.host?k.host:P.host,P.hostname=k.hostname||""===k.hostname?k.hostname:P.hostname,P.search=k.search,P.query=k.query,de=fe;else if(fe.length)de||(de=[]),de.pop(),de=de.concat(fe),P.search=k.search,P.query=k.query;else if(!W.isNullOrUndefined(k.search))return Re&&(P.hostname=P.host=de.shift(),(te=!!(P.host&&P.host.indexOf("@")>0)&&P.host.split("@"))&&(P.auth=te.shift(),P.host=P.hostname=te.shift())),P.search=k.search,P.query=k.query,(!W.isNull(P.pathname)||!W.isNull(P.search))&&(P.path=(P.pathname?P.pathname:"")+(P.search?P.search:"")),P.href=P.format(),P;if(!de.length)return P.pathname=null,P.path=P.search?"/"+P.search:null,P.href=P.format(),P;for(var he=de.slice(-1)[0],Fe=(P.host||k.host||de.length>1)&&("."===he||".."===he)||""===he,Ie=0,Me=de.length;Me>=0;Me--)"."===(he=de[Me])?de.splice(Me,1):".."===he?(de.splice(Me,1),Ie++):Ie&&(de.splice(Me,1),Ie--);if(!ge&&!se)for(;Ie--;Ie)de.unshift("..");ge&&""!==de[0]&&(!de[0]||"/"!==de[0].charAt(0))&&de.unshift(""),Fe&&"/"!==de.join("/").substr(-1)&&de.push("");var te,Ne=""===de[0]||de[0]&&"/"===de[0].charAt(0);return Re&&(P.hostname=P.host=Ne?"":de.length?de.shift():"",(te=!!(P.host&&P.host.indexOf("@")>0)&&P.host.split("@"))&&(P.auth=te.shift(),P.host=P.hostname=te.shift())),(ge=ge||P.host&&de.length)&&!Ne&&de.unshift(""),de.length?P.pathname=de.join("/"):(P.pathname=null,P.path=null),(!W.isNull(P.pathname)||!W.isNull(P.search))&&(P.path=(P.pathname?P.pathname:"")+(P.search?P.search:"")),P.auth=k.auth||P.auth,P.slashes=P.slashes||k.slashes,P.href=P.format(),P},E.prototype.parseHost=function(){var k=this.host,$=r.exec(k);$&&(":"!==($=$[0])&&(this.port=$.substr(1)),k=k.substr(0,k.length-$.length)),k&&(this.hostname=k)}},8539:Te=>{"use strict";Te.exports={isString:function(z){return"string"==typeof z},isObject:function(z){return"object"==typeof z&&null!==z},isNull:function(z){return null===z},isNullOrUndefined:function(z){return null==z}}},1586:Te=>{"use strict";var B,z="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),H={},W=0,E=0;function r(_){var m="";do{m=z[_%64]+m,_=Math.floor(_/64)}while(_>0);return m}function R(){var _=r(+new Date);return _!==B?(W=0,B=_):_+"."+r(W++)}for(;E<64;E++)H[z[E]]=E;R.encode=r,R.decode=function(_){var m=0;for(E=0;E<_.length;E++)m=64*m+H[_.charAt(E)];return m},Te.exports=R},4736:(Te,z,w)=>{"use strict";w.r(z),w.d(z,{SearchIndexMgmtModule:()=>nA});var H={};w.r(H),w.d(H,{Decoder:()=>nu,Encoder:()=>Fv,PacketType:()=>Ct,protocol:()=>Tv});var W={};w.r(W),w.d(W,{VERSION:()=>BC,after:()=>Gb,all:()=>N0,allKeys:()=>du,any:()=>B0,assign:()=>Pp,before:()=>D0,bind:()=>A0,bindAll:()=>Pb,chain:()=>Fb,chunk:()=>dE,clone:()=>pb,collect:()=>Ts,compact:()=>nE,compose:()=>kb,constant:()=>t0,contains:()=>xr,countBy:()=>Qb,create:()=>hb,debounce:()=>Nb,default:()=>hE,defaults:()=>m0,defer:()=>Ib,delay:()=>R0,detect:()=>uy,difference:()=>$0,drop:()=>Lp,each:()=>Dr,escape:()=>_b,every:()=>N0,extend:()=>g0,extendOwn:()=>Pp,filter:()=>rl,find:()=>uy,findIndex:()=>cy,findKey:()=>x0,findLastIndex:()=>T0,findWhere:()=>Wb,first:()=>hy,flatten:()=>rE,foldl:()=>dy,foldr:()=>L0,forEach:()=>Dr,functions:()=>Xv,get:()=>_0,groupBy:()=>Kb,has:()=>gb,head:()=>hy,identity:()=>iy,include:()=>xr,includes:()=>xr,indexBy:()=>Yb,indexOf:()=>M0,initial:()=>W0,inject:()=>dy,intersection:()=>aE,invert:()=>f0,invoke:()=>jb,isArguments:()=>qv,isArray:()=>xs,isArrayBuffer:()=>YC,isBoolean:()=>ZC,isDataView:()=>Tp,isDate:()=>Uw,isElement:()=>jw,isEmpty:()=>ib,isEqual:()=>nb,isError:()=>Zw,isFinite:()=>Qw,isFunction:()=>Ei,isMap:()=>sb,isMatch:()=>a0,isNaN:()=>e0,isNull:()=>$w,isNumber:()=>qC,isObject:()=>Ds,isRegExp:()=>zw,isSet:()=>lb,isString:()=>Uv,isSymbol:()=>KC,isTypedArray:()=>o0,isUndefined:()=>zC,isWeakMap:()=>ab,isWeakSet:()=>cb,iteratee:()=>ry,keys:()=>di,last:()=>iE,lastIndexOf:()=>Vb,map:()=>Ts,mapObject:()=>mb,matcher:()=>pu,matches:()=>pu,max:()=>k0,memoize:()=>Mb,methods:()=>Xv,min:()=>Ub,mixin:()=>j0,negate:()=>ly,noop:()=>w0,now:()=>gu,object:()=>cE,omit:()=>tE,once:()=>Hb,pairs:()=>ub,partial:()=>Mp,partition:()=>Jb,pick:()=>V0,pluck:()=>Or,property:()=>ny,propertyOf:()=>vb,random:()=>oy,range:()=>uE,reduce:()=>dy,reduceRight:()=>L0,reject:()=>$b,rest:()=>Lp,restArguments:()=>Ii,result:()=>xb,sample:()=>H0,select:()=>rl,shuffle:()=>Zb,size:()=>Xb,some:()=>B0,sortBy:()=>qb,sortedIndex:()=>F0,tail:()=>Lp,take:()=>hy,tap:()=>fb,template:()=>Db,templateSettings:()=>bb,throttle:()=>Lb,times:()=>yb,toArray:()=>G0,toPath:()=>y0,transpose:()=>fy,unescape:()=>wb,union:()=>sE,uniq:()=>py,unique:()=>py,uniqueId:()=>Tb,unzip:()=>fy,values:()=>nl,where:()=>Fs,without:()=>oE,wrap:()=>Bb,zip:()=>lE});var E=w(6019),B=w(5045),r=w(3668),F=w(4522);let R=(()=>{class c{constructor(o){this.$http=o,this.getIndexStats=()=>this.$http.get("/api/elastic/v1/getIndexStats"),this.getBaseDbTables=l=>this.$http.get(`/api/sqlSync/v1/listTables/${l}`),this.getTableFetchModeDbs=(l,p)=>this.$http.get(`api/sqlSync/v1/listDatabases/${l}/${p}`),this.descBaseTable=(l,p)=>this.$http.get(`api/sqlSync/v1/descBaseTable/${l}/${p}`),this.checkTadColumnEquivality=(l,p,b)=>this.$http.post("/api/sqlSync/v1/verifyBaseTadTableColumnEquiv",{base_db_table:l,selected_tad:p,columns_to_be_indexed:b}),this.constructMappings=l=>this.$http.post("/api/sqlSync/v1/constructMappings",{data:l}),this.generatePipelines=l=>this.$http.post("/api/pipeline/v1/constructPipeline",{data:l}),this.createIndex=(l,p)=>this.$http.post("/api/elastic/v1/createIndex",{index:l,mapping:p}),this.createPipeline=l=>this.$http.post("/api/pipeline/v1/createPipeline",{pipeline:l}),this.createIndexInMongo=l=>this.$http.post("/api/elastic/v1/createIndexInMongo",{doc:l}),this.listOtherMysqlDatabases=()=>this.$http.get("/api/sqlSync/v1/listOtherMysqlDatabases"),this.getMongoBaseCollections=()=>this.$http.get("/api/mongoSync/v1/listBaseCollections"),this.getMongoAllDatabases=()=>this.$http.get("/api/mongoSync/v1/getDatabases"),this.getcollectionExistenceResult=(l,p)=>this.$http.post("/api/mongoSync/v1/checkCollectionExistInTenantDbs",{tenant_dbs:l,collection_name:p}),this.SyncBasePipelineWithTenants=(l,p)=>this.$http.post("/api/elastic/v1/SyncBasePipelineWithTenants",{selected_pipelines:l,tenants:p}),this.getActiveTenants=()=>this.$http.post("/api/sqlSync/v1/getActiveTenants",{}),this.syncIndexUiMap=(l,p)=>this.$http.post("/api/elastic/v1/syncIndexUiMap",{source_index:l,target_index:p}),this.getIndexConfigs=l=>this.$http.post("/api/elastic/v1/getIndexConfigs",{index:l}),this.updateUiMap=(l,p,b)=>this.$http.post("/api/elastic/v1/updateUiMapping",{index:p,id:l,fields:b}),this.updateIndexRole=(l,p)=>this.$http.post("/api/elastic/v1/updateIndexRole",{roles:l,index_id:p})}createMongoPipelines(o,l,p,b,G){return this.$http.post("/api/mongoSync/v1/createMongoPipelines",{colToBeIndexed:o,fieldsToBeIndexed:l,selectedRoleGroups:p,route_url:b,executed_on:G})}getMappings(o){return this.$http.post("/api/sqlSync/v1/getMappings",{filter:o})}getRoleGroups(){return this.$http.get("/api/role_mgmt/v1/getBaseDbRoleGroups")}getAllIndices(){return this.$http.get("/api/elastic/v1/getAllIndices")}getLogstashPipelines(){return this.$http.get("/api/pipeline/v1/listAllLogstashPipelines")}getMongoPipelines(){return this.$http.get("/api/pipeline/v1/listAllMongoPipelines")}getAllIndicesStats(){return this.$http.get("/api/elastic/v1/getIndicesStats")}deleteIndices(o){return this.$http.delete("/api/elastic/v1/deleteIndices",{body:{delete_info:o}})}updateIndicesRoles(o,l){return this.$http.put("/api/role_mgmt/v1/updateIndexRoles",{indices:o,roles:l})}listCollectionsOfDatabase(o){return this.$http.post("/api/mongoSync/v1/listCollectionsOfDatabase",{db_name:o})}testQuery(o){return this.$http.post("/api/sqlSync/v1/testQuery",{query_string:o})}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(F.eN))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();var _=w(6658),m=w(9105),f=w(8856),y=w(5823),C=w(4810),S=w(9817),g=w(3406),v=w(8919);function A(...c){const u=(0,C.jO)(c),{args:o,keys:l}=(0,f.D)(c),p=new m.y(b=>{const{length:G}=o;if(!G)return void b.complete();const Z=new Array(G);let oe=G,pe=G;for(let Oe=0;Oe<G;Oe++){let qe=!1;(0,y.Xf)(o[Oe]).subscribe(new S.Q(b,nt=>{qe||(qe=!0,pe--),Z[Oe]=nt},()=>oe--,void 0,()=>{(!oe||!qe)&&(pe||b.next(l?(0,v.n)(l,Z):Z),b.complete())}))}});return u?p.pipe((0,g.Z)(u)):p}var D=w(2201);let M=(()=>{class c{constructor(o,l){this._renderer=o,this._elementRef=l,this.onChange=p=>{},this.onTouched=()=>{}}setProperty(o,l){this._renderer.setProperty(this._elementRef.nativeElement,o,l)}registerOnTouched(o){this.onTouched=o}registerOnChange(o){this.onChange=o}setDisabledState(o){this.setProperty("disabled",o)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.Qsj),r.Y36(r.SBq))},c.\u0275dir=r.lG2({type:c}),c})(),T=(()=>{class c extends M{}return c.\u0275fac=function(){let u;return function(l){return(u||(u=r.n5z(c)))(l||c)}}(),c.\u0275dir=r.lG2({type:c,features:[r.qOj]}),c})();const N=new r.OlP("NgValueAccessor"),x={provide:N,useExisting:(0,r.Gpc)(()=>I),multi:!0};let I=(()=>{class c extends T{writeValue(o){this.setProperty("checked",o)}}return c.\u0275fac=function(){let u;return function(l){return(u||(u=r.n5z(c)))(l||c)}}(),c.\u0275dir=r.lG2({type:c,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(o,l){1&o&&r.NdJ("change",function(b){return l.onChange(b.target.checked)})("blur",function(){return l.onTouched()})},features:[r._Bn([x]),r.qOj]}),c})();const k={provide:N,useExisting:(0,r.Gpc)(()=>V),multi:!0},P=new r.OlP("CompositionEventMode");let V=(()=>{class c extends M{constructor(o,l,p){super(o,l),this._compositionMode=p,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const c=(0,E.q)()?(0,E.q)().getUserAgent():"";return/android (\d+)/.test(c.toLowerCase())}())}writeValue(o){this.setProperty("value",null==o?"":o)}_handleInput(o){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(o)}_compositionStart(){this._composing=!0}_compositionEnd(o){this._composing=!1,this._compositionMode&&this.onChange(o)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(P,8))},c.\u0275dir=r.lG2({type:c,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,l){1&o&&r.NdJ("input",function(b){return l._handleInput(b.target.value)})("blur",function(){return l.onTouched()})("compositionstart",function(){return l._compositionStart()})("compositionend",function(b){return l._compositionEnd(b.target.value)})},features:[r._Bn([k]),r.qOj]}),c})();function U(c){return null==c||0===c.length}function X(c){return null!=c&&"number"==typeof c.length}const ie=new r.OlP("NgValidators"),ee=new r.OlP("NgAsyncValidators"),ce=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _e{static min(u){return c=u,u=>{if(U(u.value)||U(c))return null;const o=parseFloat(u.value);return!isNaN(o)&&o<c?{min:{min:c,actual:u.value}}:null};var c}static max(u){return c=u,u=>{if(U(u.value)||U(c))return null;const o=parseFloat(u.value);return!isNaN(o)&&o>c?{max:{max:c,actual:u.value}}:null};var c}static required(u){return U(u.value)?{required:!0}:null}static requiredTrue(u){return!0===u.value?null:{required:!0}}static email(u){return U((c=u).value)||ce.test(c.value)?null:{email:!0};var c}static minLength(u){return c=u,u=>U(u.value)||!X(u.value)?null:u.value.length<c?{minlength:{requiredLength:c,actualLength:u.value.length}}:null;var c}static maxLength(u){return c=u,u=>X(u.value)&&u.value.length>c?{maxlength:{requiredLength:c,actualLength:u.value.length}}:null;var c}static pattern(u){return function(c){if(!c)return de;let u,o;return"string"==typeof c?(o="","^"!==c.charAt(0)&&(o+="^"),o+=c,"$"!==c.charAt(c.length-1)&&(o+="$"),u=new RegExp(o)):(o=c.toString(),u=c),l=>{if(U(l.value))return null;const p=l.value;return u.test(p)?null:{pattern:{requiredPattern:o,actualValue:p}}}}(u)}static nullValidator(u){return null}static compose(u){return Me(u)}static composeAsync(u){return De(u)}}function de(c){return null}function fe(c){return null!=c}function Re(c){const u=(0,r.QGY)(c)?(0,_.D)(c):c;return(0,r.CqO)(u),u}function te(c){let u={};return c.forEach(o=>{u=null!=o?Ft(Ft({},u),o):u}),0===Object.keys(u).length?null:u}function he(c,u){return u.map(o=>o(c))}function Ie(c){return c.map(u=>function(c){return!c.validate}(u)?u:o=>u.validate(o))}function Me(c){if(!c)return null;const u=c.filter(fe);return 0==u.length?null:function(o){return te(he(o,u))}}function Ne(c){return null!=c?Me(Ie(c)):null}function De(c){if(!c)return null;const u=c.filter(fe);return 0==u.length?null:function(o){return A(he(o,u).map(Re)).pipe((0,D.U)(te))}}function ke(c){return null!=c?De(Ie(c)):null}function Ye(c,u){return null===c?[u]:Array.isArray(c)?[...c,u]:[c,u]}function rt(c){return c._rawValidators}function be(c){return c._rawAsyncValidators}function Xe(c){return c?Array.isArray(c)?c:[c]:[]}function je(c,u){return Array.isArray(c)?c.includes(u):c===u}function Q(c,u){const o=Xe(u);return Xe(c).forEach(p=>{je(o,p)||o.push(p)}),o}function it(c,u){return Xe(u).filter(o=>!je(c,o))}class Lt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(u){this._rawValidators=u||[],this._composedValidatorFn=Ne(this._rawValidators)}_setAsyncValidators(u){this._rawAsyncValidators=u||[],this._composedAsyncValidatorFn=ke(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(u){this._onDestroyCallbacks.push(u)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(u=>u()),this._onDestroyCallbacks=[]}reset(u){this.control&&this.control.reset(u)}hasError(u,o){return!!this.control&&this.control.hasError(u,o)}getError(u,o){return this.control?this.control.getError(u,o):null}}class Et extends Lt{get formDirective(){return null}get path(){return null}}class ne extends Lt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let ae=(()=>{class c extends class{constructor(u){this._cd=u}is(u){var o,l,p;return"submitted"===u?!!(null==(o=this._cd)?void 0:o.submitted):!!(null==(p=null==(l=this._cd)?void 0:l.control)?void 0:p[u])}}{constructor(o){super(o)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(ne,2))},c.\u0275dir=r.lG2({type:c,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,l){2&o&&r.ekj("ng-untouched",l.is("untouched"))("ng-touched",l.is("touched"))("ng-pristine",l.is("pristine"))("ng-dirty",l.is("dirty"))("ng-valid",l.is("valid"))("ng-invalid",l.is("invalid"))("ng-pending",l.is("pending"))},features:[r.qOj]}),c})();function Si(c,u){qn(c,u),u.valueAccessor.writeValue(c.value),function(c,u){u.valueAccessor.registerOnChange(o=>{c._pendingValue=o,c._pendingChange=!0,c._pendingDirty=!0,"change"===c.updateOn&&Ro(c,u)})}(c,u),function(c,u){const o=(l,p)=>{u.valueAccessor.writeValue(l),p&&u.viewToModelUpdate(l)};c.registerOnChange(o),u._registerOnDestroy(()=>{c._unregisterOnChange(o)})}(c,u),function(c,u){u.valueAccessor.registerOnTouched(()=>{c._pendingTouched=!0,"blur"===c.updateOn&&c._pendingChange&&Ro(c,u),"submit"!==c.updateOn&&c.markAsTouched()})}(c,u),function(c,u){if(u.valueAccessor.setDisabledState){const o=l=>{u.valueAccessor.setDisabledState(l)};c.registerOnDisabledChange(o),u._registerOnDestroy(()=>{c._unregisterOnDisabledChange(o)})}}(c,u)}function Dn(c,u,o=!0){const l=()=>{};u.valueAccessor&&(u.valueAccessor.registerOnChange(l),u.valueAccessor.registerOnTouched(l)),Bi(c,u),c&&(u._invokeOnDestroyCallbacks(),c._registerOnCollectionChange(()=>{}))}function hn(c,u){c.forEach(o=>{o.registerOnValidatorChange&&o.registerOnValidatorChange(u)})}function qn(c,u){const o=rt(c);null!==u.validator?c.setValidators(Ye(o,u.validator)):"function"==typeof o&&c.setValidators([o]);const l=be(c);null!==u.asyncValidator?c.setAsyncValidators(Ye(l,u.asyncValidator)):"function"==typeof l&&c.setAsyncValidators([l]);const p=()=>c.updateValueAndValidity();hn(u._rawValidators,p),hn(u._rawAsyncValidators,p)}function Bi(c,u){let o=!1;if(null!==c){if(null!==u.validator){const p=rt(c);if(Array.isArray(p)&&p.length>0){const b=p.filter(G=>G!==u.validator);b.length!==p.length&&(o=!0,c.setValidators(b))}}if(null!==u.asyncValidator){const p=be(c);if(Array.isArray(p)&&p.length>0){const b=p.filter(G=>G!==u.asyncValidator);b.length!==p.length&&(o=!0,c.setAsyncValidators(b))}}}const l=()=>{};return hn(u._rawValidators,l),hn(u._rawAsyncValidators,l),o}function Ro(c,u){c._pendingDirty&&c.markAsDirty(),c.setValue(c._pendingValue,{emitModelToViewChange:!1}),u.viewToModelUpdate(c._pendingValue),c._pendingChange=!1}function Jt(c,u){qn(c,u)}function ll(c,u){if(!c.hasOwnProperty("model"))return!1;const o=c.model;return!!o.isFirstChange()||!Object.is(u,o.currentValue)}function Kn(c,u){c._syncPendingControls(),u.forEach(o=>{const l=o.control;"submit"===l.updateOn&&l._pendingChange&&(o.viewToModelUpdate(l._pendingValue),l._pendingChange=!1)})}function Ai(c,u){if(!u)return null;let o,l,p;return Array.isArray(u),u.forEach(b=>{b.constructor===V?o=b:function(c){return Object.getPrototypeOf(c.constructor)===T}(b)?l=b:p=b}),p||l||o||null}function Pr(c,u){const o=c.indexOf(u);o>-1&&c.splice(o,1)}const Do="VALID",Yn="INVALID",Qn="PENDING",xo="DISABLED";function Ls(c){return(hl(c)?c.validators:c)||null}function _u(c){return Array.isArray(c)?Ne(c):c||null}function Jn(c,u){return(hl(u)?u.asyncValidators:c)||null}function Ze(c){return Array.isArray(c)?ke(c):c||null}function hl(c){return null!=c&&!Array.isArray(c)&&"object"==typeof c}class Oo{constructor(u,o){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=u,this._rawAsyncValidators=o,this._composedValidatorFn=_u(this._rawValidators),this._composedAsyncValidatorFn=Ze(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(u){this._rawValidators=this._composedValidatorFn=u}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(u){this._rawAsyncValidators=this._composedAsyncValidatorFn=u}get parent(){return this._parent}get valid(){return this.status===Do}get invalid(){return this.status===Yn}get pending(){return this.status==Qn}get disabled(){return this.status===xo}get enabled(){return this.status!==xo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(u){this._rawValidators=u,this._composedValidatorFn=_u(u)}setAsyncValidators(u){this._rawAsyncValidators=u,this._composedAsyncValidatorFn=Ze(u)}addValidators(u){this.setValidators(Q(u,this._rawValidators))}addAsyncValidators(u){this.setAsyncValidators(Q(u,this._rawAsyncValidators))}removeValidators(u){this.setValidators(it(u,this._rawValidators))}removeAsyncValidators(u){this.setAsyncValidators(it(u,this._rawAsyncValidators))}hasValidator(u){return je(this._rawValidators,u)}hasAsyncValidator(u){return je(this._rawAsyncValidators,u)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(u={}){this.touched=!0,this._parent&&!u.onlySelf&&this._parent.markAsTouched(u)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(u=>u.markAllAsTouched())}markAsUntouched(u={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0})}),this._parent&&!u.onlySelf&&this._parent._updateTouched(u)}markAsDirty(u={}){this.pristine=!1,this._parent&&!u.onlySelf&&this._parent.markAsDirty(u)}markAsPristine(u={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(o=>{o.markAsPristine({onlySelf:!0})}),this._parent&&!u.onlySelf&&this._parent._updatePristine(u)}markAsPending(u={}){this.status=Qn,!1!==u.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!u.onlySelf&&this._parent.markAsPending(u)}disable(u={}){const o=this._parentMarkedDirty(u.onlySelf);this.status=xo,this.errors=null,this._forEachChild(l=>{l.disable(sl(Ft({},u),{onlySelf:!0}))}),this._updateValue(),!1!==u.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(sl(Ft({},u),{skipPristineCheck:o})),this._onDisabledChange.forEach(l=>l(!0))}enable(u={}){const o=this._parentMarkedDirty(u.onlySelf);this.status=Do,this._forEachChild(l=>{l.enable(sl(Ft({},u),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:u.emitEvent}),this._updateAncestors(sl(Ft({},u),{skipPristineCheck:o})),this._onDisabledChange.forEach(l=>l(!1))}_updateAncestors(u){this._parent&&!u.onlySelf&&(this._parent.updateValueAndValidity(u),u.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(u){this._parent=u}updateValueAndValidity(u={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Do||this.status===Qn)&&this._runAsyncValidator(u.emitEvent)),!1!==u.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!u.onlySelf&&this._parent.updateValueAndValidity(u)}_updateTreeValidity(u={emitEvent:!0}){this._forEachChild(o=>o._updateTreeValidity(u)),this.updateValueAndValidity({onlySelf:!0,emitEvent:u.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xo:Do}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(u){if(this.asyncValidator){this.status=Qn,this._hasOwnPendingAsyncValidator=!0;const o=Re(this.asyncValidator(this));this._asyncValidationSubscription=o.subscribe(l=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(l,{emitEvent:u})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(u,o={}){this.errors=u,this._updateControlsErrors(!1!==o.emitEvent)}get(u){return function(c,u,o){if(null==u||(Array.isArray(u)||(u=u.split(".")),Array.isArray(u)&&0===u.length))return null;let l=c;return u.forEach(p=>{l=l instanceof Ns?l.controls.hasOwnProperty(p)?l.controls[p]:null:l instanceof ue&&l.at(p)||null}),l}(this,u)}getError(u,o){const l=o?this.get(o):this;return l&&l.errors?l.errors[u]:null}hasError(u,o){return!!this.getError(u,o)}get root(){let u=this;for(;u._parent;)u=u._parent;return u}_updateControlsErrors(u){this.status=this._calculateStatus(),u&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(u)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?xo:this.errors?Yn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qn)?Qn:this._anyControlsHaveStatus(Yn)?Yn:Do}_anyControlsHaveStatus(u){return this._anyControls(o=>o.status===u)}_anyControlsDirty(){return this._anyControls(u=>u.dirty)}_anyControlsTouched(){return this._anyControls(u=>u.touched)}_updatePristine(u={}){this.pristine=!this._anyControlsDirty(),this._parent&&!u.onlySelf&&this._parent._updatePristine(u)}_updateTouched(u={}){this.touched=this._anyControlsTouched(),this._parent&&!u.onlySelf&&this._parent._updateTouched(u)}_isBoxedValue(u){return"object"==typeof u&&null!==u&&2===Object.keys(u).length&&"value"in u&&"disabled"in u}_registerOnCollectionChange(u){this._onCollectionChange=u}_setUpdateStrategy(u){hl(u)&&null!=u.updateOn&&(this._updateOn=u.updateOn)}_parentMarkedDirty(u){return!u&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ot extends Oo{constructor(u=null,o,l){super(Ls(o),Jn(l,o)),this._onChange=[],this._applyFormState(u),this._setUpdateStrategy(o),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(u,o={}){this.value=this._pendingValue=u,this._onChange.length&&!1!==o.emitModelToViewChange&&this._onChange.forEach(l=>l(this.value,!1!==o.emitViewToModelChange)),this.updateValueAndValidity(o)}patchValue(u,o={}){this.setValue(u,o)}reset(u=null,o={}){this._applyFormState(u),this.markAsPristine(o),this.markAsUntouched(o),this.setValue(this.value,o),this._pendingChange=!1}_updateValue(){}_anyControls(u){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(u){this._onChange.push(u)}_unregisterOnChange(u){Pr(this._onChange,u)}registerOnDisabledChange(u){this._onDisabledChange.push(u)}_unregisterOnDisabledChange(u){Pr(this._onDisabledChange,u)}_forEachChild(u){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(u){this._isBoxedValue(u)?(this.value=this._pendingValue=u.value,u.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=u}}class Ns extends Oo{constructor(u,o,l){super(Ls(o),Jn(l,o)),this.controls=u,this._initObservables(),this._setUpdateStrategy(o),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(u,o){return this.controls[u]?this.controls[u]:(this.controls[u]=o,o.setParent(this),o._registerOnCollectionChange(this._onCollectionChange),o)}addControl(u,o,l={}){this.registerControl(u,o),this.updateValueAndValidity({emitEvent:l.emitEvent}),this._onCollectionChange()}removeControl(u,o={}){this.controls[u]&&this.controls[u]._registerOnCollectionChange(()=>{}),delete this.controls[u],this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}setControl(u,o,l={}){this.controls[u]&&this.controls[u]._registerOnCollectionChange(()=>{}),delete this.controls[u],o&&this.registerControl(u,o),this.updateValueAndValidity({emitEvent:l.emitEvent}),this._onCollectionChange()}contains(u){return this.controls.hasOwnProperty(u)&&this.controls[u].enabled}setValue(u,o={}){this._checkAllValuesPresent(u),Object.keys(u).forEach(l=>{this._throwIfControlMissing(l),this.controls[l].setValue(u[l],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}patchValue(u,o={}){null!=u&&(Object.keys(u).forEach(l=>{this.controls[l]&&this.controls[l].patchValue(u[l],{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}reset(u={},o={}){this._forEachChild((l,p)=>{l.reset(u[p],{onlySelf:!0,emitEvent:o.emitEvent})}),this._updatePristine(o),this._updateTouched(o),this.updateValueAndValidity(o)}getRawValue(){return this._reduceChildren({},(u,o,l)=>(u[l]=o instanceof Ot?o.value:o.getRawValue(),u))}_syncPendingControls(){let u=this._reduceChildren(!1,(o,l)=>!!l._syncPendingControls()||o);return u&&this.updateValueAndValidity({onlySelf:!0}),u}_throwIfControlMissing(u){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[u])throw new Error(`Cannot find form control with name: ${u}.`)}_forEachChild(u){Object.keys(this.controls).forEach(o=>{const l=this.controls[o];l&&u(l,o)})}_setUpControls(){this._forEachChild(u=>{u.setParent(this),u._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(u){for(const o of Object.keys(this.controls)){const l=this.controls[o];if(this.contains(o)&&u(l))return!0}return!1}_reduceValue(){return this._reduceChildren({},(u,o,l)=>((o.enabled||this.disabled)&&(u[l]=o.value),u))}_reduceChildren(u,o){let l=u;return this._forEachChild((p,b)=>{l=o(l,p,b)}),l}_allControlsDisabled(){for(const u of Object.keys(this.controls))if(this.controls[u].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(u){this._forEachChild((o,l)=>{if(void 0===u[l])throw new Error(`Must supply a value for form control with name: '${l}'.`)})}}class ue extends Oo{constructor(u,o,l){super(Ls(o),Jn(l,o)),this.controls=u,this._initObservables(),this._setUpdateStrategy(o),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(u){return this.controls[u]}push(u,o={}){this.controls.push(u),this._registerControl(u),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}insert(u,o,l={}){this.controls.splice(u,0,o),this._registerControl(o),this.updateValueAndValidity({emitEvent:l.emitEvent})}removeAt(u,o={}){this.controls[u]&&this.controls[u]._registerOnCollectionChange(()=>{}),this.controls.splice(u,1),this.updateValueAndValidity({emitEvent:o.emitEvent})}setControl(u,o,l={}){this.controls[u]&&this.controls[u]._registerOnCollectionChange(()=>{}),this.controls.splice(u,1),o&&(this.controls.splice(u,0,o),this._registerControl(o)),this.updateValueAndValidity({emitEvent:l.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(u,o={}){this._checkAllValuesPresent(u),u.forEach((l,p)=>{this._throwIfControlMissing(p),this.at(p).setValue(l,{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o)}patchValue(u,o={}){null!=u&&(u.forEach((l,p)=>{this.at(p)&&this.at(p).patchValue(l,{onlySelf:!0,emitEvent:o.emitEvent})}),this.updateValueAndValidity(o))}reset(u=[],o={}){this._forEachChild((l,p)=>{l.reset(u[p],{onlySelf:!0,emitEvent:o.emitEvent})}),this._updatePristine(o),this._updateTouched(o),this.updateValueAndValidity(o)}getRawValue(){return this.controls.map(u=>u instanceof Ot?u.value:u.getRawValue())}clear(u={}){this.controls.length<1||(this._forEachChild(o=>o._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:u.emitEvent}))}_syncPendingControls(){let u=this.controls.reduce((o,l)=>!!l._syncPendingControls()||o,!1);return u&&this.updateValueAndValidity({onlySelf:!0}),u}_throwIfControlMissing(u){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(u))throw new Error(`Cannot find form control at index ${u}`)}_forEachChild(u){this.controls.forEach((o,l)=>{u(o,l)})}_updateValue(){this.value=this.controls.filter(u=>u.enabled||this.disabled).map(u=>u.value)}_anyControls(u){return this.controls.some(o=>o.enabled&&u(o))}_setUpControls(){this._forEachChild(u=>this._registerControl(u))}_checkAllValuesPresent(u){this._forEachChild((o,l)=>{if(void 0===u[l])throw new Error(`Must supply a value for form control at index: ${l}.`)})}_allControlsDisabled(){for(const u of this.controls)if(u.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(u){u.setParent(this),u._registerOnCollectionChange(this._onCollectionChange)}}const pl={provide:Et,useExisting:(0,r.Gpc)(()=>Mr)},To=(()=>Promise.resolve(null))();let Mr=(()=>{class c extends Et{constructor(o,l){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new Ns({},Ne(o),ke(l))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(o){To.then(()=>{const l=this._findContainer(o.path);o.control=l.registerControl(o.name,o.control),Si(o.control,o),o.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(o)})}getControl(o){return this.form.get(o.path)}removeControl(o){To.then(()=>{const l=this._findContainer(o.path);l&&l.removeControl(o.name),Pr(this._directives,o)})}addFormGroup(o){To.then(()=>{const l=this._findContainer(o.path),p=new Ns({});Jt(p,o),l.registerControl(o.name,p),p.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(o){To.then(()=>{const l=this._findContainer(o.path);l&&l.removeControl(o.name)})}getFormGroup(o){return this.form.get(o.path)}updateModel(o,l){To.then(()=>{this.form.get(o.path).setValue(l)})}setValue(o){this.control.setValue(o)}onSubmit(o){return this.submitted=!0,Kn(this.form,this._directives),this.ngSubmit.emit(o),!1}onReset(){this.resetForm()}resetForm(o){this.form.reset(o),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(o){return o.pop(),o.length?this.form.get(o):this.form}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(ie,10),r.Y36(ee,10))},c.\u0275dir=r.lG2({type:c,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(o,l){1&o&&r.NdJ("submit",function(b){return l.onSubmit(b)})("reset",function(){return l.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([pl]),r.qOj]}),c})();const xn={provide:ne,useExisting:(0,r.Gpc)(()=>Fo)},Eu=(()=>Promise.resolve(null))();let Fo=(()=>{class c extends ne{constructor(o,l,p,b){super(),this.control=new Ot,this._registered=!1,this.update=new r.vpe,this._parent=o,this._setValidators(l),this._setAsyncValidators(p),this.valueAccessor=Ai(0,b)}ngOnChanges(o){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in o&&this._updateDisabled(o),ll(o,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(c,u){return[...u.path,c]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(o){this.viewModel=o,this.update.emit(o)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Si(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(o){Eu.then(()=>{this.control.setValue(o,{emitViewToModelChange:!1})})}_updateDisabled(o){const l=o.isDisabled.currentValue,p=""===l||l&&"false"!==l;Eu.then(()=>{p&&!this.control.disabled?this.control.disable():!p&&this.control.disabled&&this.control.enable()})}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(Et,9),r.Y36(ie,10),r.Y36(ee,10),r.Y36(N,10))},c.\u0275dir=r.lG2({type:c,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([xn]),r.qOj,r.TTD]}),c})(),Su=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({}),c})();const Bs=new r.OlP("NgModelWithFormControlWarning"),Up={provide:ne,useExisting:(0,r.Gpc)(()=>fn)};let fn=(()=>{class c extends ne{constructor(o,l,p,b){super(),this._ngModelWarningConfig=b,this.update=new r.vpe,this._ngModelWarningSent=!1,this._setValidators(o),this._setAsyncValidators(l),this.valueAccessor=Ai(0,p)}set isDisabled(o){}ngOnChanges(o){if(this._isControlChanged(o)){const l=o.form.previousValue;l&&Dn(l,this,!1),Si(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}ll(o,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Dn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(o){this.viewModel=o,this.update.emit(o)}_isControlChanged(o){return o.hasOwnProperty("form")}}return c._ngModelWarningSentOnce=!1,c.\u0275fac=function(o){return new(o||c)(r.Y36(ie,10),r.Y36(ee,10),r.Y36(N,10),r.Y36(Bs,8))},c.\u0275dir=r.lG2({type:c,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[r._Bn([Up]),r.qOj,r.TTD]}),c})();const Du={provide:Et,useExisting:(0,r.Gpc)(()=>Ir)};let Ir=(()=>{class c extends Et{constructor(o,l){super(),this.validators=o,this.asyncValidators=l,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(o),this._setAsyncValidators(l)}ngOnChanges(o){this._checkFormPresent(),o.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(o){const l=this.form.get(o.path);return Si(l,o),l.updateValueAndValidity({emitEvent:!1}),this.directives.push(o),l}getControl(o){return this.form.get(o.path)}removeControl(o){Dn(o.control||null,o,!1),Pr(this.directives,o)}addFormGroup(o){this._setUpFormContainer(o)}removeFormGroup(o){this._cleanUpFormContainer(o)}getFormGroup(o){return this.form.get(o.path)}addFormArray(o){this._setUpFormContainer(o)}removeFormArray(o){this._cleanUpFormContainer(o)}getFormArray(o){return this.form.get(o.path)}updateModel(o,l){this.form.get(o.path).setValue(l)}onSubmit(o){return this.submitted=!0,Kn(this.form,this.directives),this.ngSubmit.emit(o),!1}onReset(){this.resetForm()}resetForm(o){this.form.reset(o),this.submitted=!1}_updateDomValue(){this.directives.forEach(o=>{const l=o.control,p=this.form.get(o.path);l!==p&&(Dn(l||null,o),p instanceof Ot&&(Si(p,o),o.control=p))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(o){const l=this.form.get(o.path);Jt(l,o),l.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(o){if(this.form){const l=this.form.get(o.path);l&&function(c,u){return Bi(c,u)}(l,o)&&l.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qn(this.form,this),this._oldForm&&Bi(this._oldForm,this)}_checkFormPresent(){}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(ie,10),r.Y36(ee,10))},c.\u0275dir=r.lG2({type:c,selectors:[["","formGroup",""]],hostBindings:function(o,l){1&o&&r.NdJ("submit",function(b){return l.onSubmit(b)})("reset",function(){return l.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([Du]),r.qOj,r.TTD]}),c})(),Po=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[[Su]]}),c})(),Iu=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[Po]}),c})(),Lu=(()=>{class c{static withConfig(o){return{ngModule:c,providers:[{provide:Bs,useValue:o.warnOnNgModelWithFormControl}]}}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[Po]}),c})();function bt(...c){const u=c.length;if(0===u)throw new Error("list of properties cannot be empty.");return(0,D.U)(o=>{let l=o;for(let p=0;p<u;p++){const b=null==l?void 0:l[c[p]];if(void 0===b)return;l=b}return l})}function tr(c,u,o,l,p,b,G){try{var Z=c[b](G),oe=Z.value}catch(pe){return void o(pe)}Z.done?u(oe):Promise.resolve(oe).then(l,p)}function ni(c,...u){return u.length?u.some(o=>c[o]):c.altKey||c.shiftKey||c.ctrlKey||c.metaKey}function st(c){return null!=c&&"false"!=`${c}`}function Ji(c,u=0){return function(c){return!isNaN(parseFloat(c))&&!isNaN(Number(c))}(c)?Number(c):u}function Vo(c){return Array.isArray(c)?c:[c]}function He(c){return null==c?"":"string"==typeof c?c:`${c}px`}function Bt(c){return c instanceof r.SBq?c.nativeElement:c}var tt=w(7396),Hi=w(1680),kl=w(9964),Of=w(3472),gn=w(2908);const Gl=["addListener","removeListener"],Xu=["addEventListener","removeEventListener"],Tf=["on","off"];function Ue(c,u,o,l){if((0,gn.m)(o)&&(l=o,o=void 0),l)return Ue(c,u,o).pipe((0,g.Z)(l));const[p,b]=function(c){return(0,gn.m)(c.addEventListener)&&(0,gn.m)(c.removeEventListener)}(c)?Xu.map(G=>Z=>c[G](u,Z,o)):function(c){return(0,gn.m)(c.addListener)&&(0,gn.m)(c.removeListener)}(c)?Gl.map(ed(c,u)):function(c){return(0,gn.m)(c.on)&&(0,gn.m)(c.off)}(c)?Tf.map(ed(c,u)):[];if(!p&&(0,Of.z)(c))return(0,kl.z)(G=>Ue(G,u,o))((0,y.Xf)(c));if(!p)throw new TypeError("Invalid event target");return new m.y(G=>{const Z=(...oe)=>G.next(1<oe.length?oe:oe[0]);return p(Z),()=>b(Z)})}function ed(c,u){return o=>l=>c[o](u,l)}var kt=w(5414);class Vl extends kt.w0{constructor(u,o){super()}schedule(u,o=0){return this}}const Fn={setInterval(...c){const{delegate:u}=Fn;return((null==u?void 0:u.setInterval)||setInterval)(...c)},clearInterval(c){const{delegate:u}=Fn;return((null==u?void 0:u.clearInterval)||clearInterval)(c)},delegate:void 0};var Ff=w(7487);class Wl extends Vl{constructor(u,o){super(u,o),this.scheduler=u,this.work=o,this.pending=!1}schedule(u,o=0){if(this.closed)return this;this.state=u;const l=this.id,p=this.scheduler;return null!=l&&(this.id=this.recycleAsyncId(p,l,o)),this.pending=!0,this.delay=o,this.id=this.id||this.requestAsyncId(p,this.id,o),this}requestAsyncId(u,o,l=0){return Fn.setInterval(u.flush.bind(u,this),l)}recycleAsyncId(u,o,l=0){if(null!=l&&this.delay===l&&!1===this.pending)return o;Fn.clearInterval(o)}execute(u,o){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const l=this._execute(u,o);if(l)return l;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(u,o){let p,l=!1;try{this.work(u)}catch(b){l=!0,p=b||new Error("Scheduled action threw falsy error")}if(l)return this.unsubscribe(),p}unsubscribe(){if(!this.closed){const{id:u,scheduler:o}=this,{actions:l}=o;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ff.P)(l,this),null!=u&&(this.id=this.recycleAsyncId(o,u,null)),this.delay=null,super.unsubscribe()}}}const sr={schedule(c){let u=requestAnimationFrame,o=cancelAnimationFrame;const{delegate:l}=sr;l&&(u=l.requestAnimationFrame,o=l.cancelAnimationFrame);const p=u(b=>{o=void 0,c(b)});return new kt.w0(()=>null==o?void 0:o(p))},requestAnimationFrame(...c){const{delegate:u}=sr;return((null==u?void 0:u.requestAnimationFrame)||requestAnimationFrame)(...c)},cancelAnimationFrame(...c){const{delegate:u}=sr;return((null==u?void 0:u.cancelAnimationFrame)||cancelAnimationFrame)(...c)},delegate:void 0},Vi={now:()=>(Vi.delegate||Date).now(),delegate:void 0};class Wo{constructor(u,o=Wo.now){this.schedulerActionCtor=u,this.now=o}schedule(u,o=0,l){return new this.schedulerActionCtor(this,u).schedule(l,o)}}Wo.now=Vi.now;class $r extends Wo{constructor(u,o=Wo.now){super(u,o),this.actions=[],this._active=!1,this._scheduled=void 0}flush(u){const{actions:o}=this;if(this._active)return void o.push(u);let l;this._active=!0;do{if(l=u.execute(u.state,u.delay))break}while(u=o.shift());if(this._active=!1,l){for(;u=o.shift();)u.unsubscribe();throw l}}}const nd=new class extends $r{flush(u){this._active=!0,this._scheduled=void 0;const{actions:o}=this;let l,p=-1;u=u||o.shift();const b=o.length;do{if(l=u.execute(u.state,u.delay))break}while(++p<b&&(u=o.shift()));if(this._active=!1,l){for(;++p<b&&(u=o.shift());)u.unsubscribe();throw l}}}(class extends Wl{constructor(u,o){super(u,o),this.scheduler=u,this.work=o}requestAsyncId(u,o,l=0){return null!==l&&l>0?super.requestAsyncId(u,o,l):(u.actions.push(this),u._scheduled||(u._scheduled=sr.requestAnimationFrame(()=>u.flush(void 0))))}recycleAsyncId(u,o,l=0){if(null!=l&&l>0||null==l&&this.delay>0)return super.recycleAsyncId(u,o,l);0===u.actions.length&&(sr.cancelAnimationFrame(o),u._scheduled=void 0)}});let $l,rd=1;const $o={};function Ys(c){return c in $o&&(delete $o[c],!0)}const Mf={setImmediate(c){const u=rd++;return $o[u]=!0,$l||($l=Promise.resolve()),$l.then(()=>Ys(u)&&c()),u},clearImmediate(c){Ys(c)}},{setImmediate:vn,clearImmediate:If}=Mf,Xi={setImmediate(...c){const{delegate:u}=Xi;return((null==u?void 0:u.setImmediate)||vn)(...c)},clearImmediate(c){const{delegate:u}=Xi;return((null==u?void 0:u.clearImmediate)||If)(c)},delegate:void 0},Qs=(new class extends $r{flush(u){this._active=!0,this._scheduled=void 0;const{actions:o}=this;let l,p=-1;u=u||o.shift();const b=o.length;do{if(l=u.execute(u.state,u.delay))break}while(++p<b&&(u=o.shift()));if(this._active=!1,l){for(;++p<b&&(u=o.shift());)u.unsubscribe();throw l}}}(class extends Wl{constructor(u,o){super(u,o),this.scheduler=u,this.work=o}requestAsyncId(u,o,l=0){return null!==l&&l>0?super.requestAsyncId(u,o,l):(u.actions.push(this),u._scheduled||(u._scheduled=Xi.setImmediate(u.flush.bind(u,void 0))))}recycleAsyncId(u,o,l=0){if(null!=l&&l>0||null==l&&this.delay>0)return super.recycleAsyncId(u,o,l);0===u.actions.length&&(Xi.clearImmediate(o),u._scheduled=void 0)}}),new $r(Wl)),Js=Qs;var en=w(5711),ad=w(5766);function Xs(c=0,u,o=Js){let l=-1;return null!=u&&((0,ad.K)(u)?o=u:l=u),new m.y(p=>{let b=function(c){return c instanceof Date&&!isNaN(c)}(c)?+c-o.now():c;b<0&&(b=0);let G=0;return o.schedule(function(){p.closed||(p.next(G++),0<=l?this.schedule(void 0,l):p.complete())},b)})}function Ul(c,u=Js){return function(c){return(0,en.e)((u,o)=>{let l=!1,p=null,b=null,G=!1;const Z=()=>{if(null==b||b.unsubscribe(),b=null,l){l=!1;const pe=p;p=null,o.next(pe)}G&&o.complete()},oe=()=>{b=null,G&&o.complete()};u.subscribe(new S.Q(o,pe=>{l=!0,p=pe,b||(0,y.Xf)(c()).subscribe(b=new S.Q(o,Z,oe))},()=>{G=!0,(!l||!b||b.closed)&&o.complete()}))})}(()=>Xs(c,u))}var xi=w(181);let jo;try{jo="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(c){jo=!1}let jr,Gt=(()=>{class c{constructor(o){this._platformId=o,this.isBrowser=this._platformId?(0,E.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!jo)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(r.Lbi))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const ld=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function cd(){if(jr)return jr;if("object"!=typeof document||!document)return jr=new Set(ld),jr;let c=document.createElement("input");return jr=new Set(ld.filter(u=>(c.setAttribute("type",u),c.type===u))),jr}let Pn,tn,Uo;function Mn(c){return function(){if(null==Pn&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Pn=!0}))}finally{Pn=Pn||!1}return Pn}()?c:!!c.capture}function ea(){if(null==tn){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return tn=!1,tn;if("scrollBehavior"in document.documentElement.style)tn=!0;else{const c=Element.prototype.scrollTo;tn=!!c&&!/\{\s*\[native code\]\s*\}/.test(c.toString())}}return tn}function Zl(c){if(function(){if(null==Uo){const c="undefined"!=typeof document?document.head:null;Uo=!(!c||!c.createShadowRoot&&!c.attachShadow)}return Uo}()){const u=c.getRootNode?c.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&u instanceof ShadowRoot)return u}return null}function ta(){let c="undefined"!=typeof document&&document?document.activeElement:null;for(;c&&c.shadowRoot;){const u=c.shadowRoot.activeElement;if(u===c)break;c=u}return c}function Oi(c){return c.composedPath?c.composedPath()[0]:c.target}function ia(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const Ti=new r.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,r.f3M)(E.K0)}}),nn=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Kt=(()=>{class c{constructor(o){if(this.value="ltr",this.change=new r.vpe,o){const p=o.documentElement?o.documentElement.dir:null;this.value=function(c){const u=(null==c?void 0:c.toLowerCase())||"";return"auto"===u&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?nn.test(navigator.language)?"rtl":"ltr":"rtl"===u?"rtl":"ltr"}((o.body?o.body.dir:null)||p||"ltr")}}ngOnDestroy(){this.change.complete()}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(Ti,8))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),Ur=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({}),c})(),na=(()=>{class c{constructor(o,l,p){this._ngZone=o,this._platform=l,this._scrolled=new tt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=p}register(o){this.scrollContainers.has(o)||this.scrollContainers.set(o,o.elementScrolled().subscribe(()=>this._scrolled.next(o)))}deregister(o){const l=this.scrollContainers.get(o);l&&(l.unsubscribe(),this.scrollContainers.delete(o))}scrolled(o=20){return this._platform.isBrowser?new m.y(l=>{this._globalSubscription||this._addGlobalListener();const p=o>0?this._scrolled.pipe(Ul(o)).subscribe(l):this._scrolled.subscribe(l);return this._scrolledCount++,()=>{p.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Hi.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((o,l)=>this.deregister(l)),this._scrolled.complete()}ancestorScrolled(o,l){const p=this.getAncestorScrollContainers(o);return this.scrolled(l).pipe((0,xi.h)(b=>!b||p.indexOf(b)>-1))}getAncestorScrollContainers(o){const l=[];return this.scrollContainers.forEach((p,b)=>{this._scrollableContainsElement(b,o)&&l.push(b)}),l}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(o,l){let p=Bt(l),b=o.getElementRef().nativeElement;do{if(p==b)return!0}while(p=p.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ue(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(r.R0b),r.LFG(Gt),r.LFG(E.K0,8))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),rn=(()=>{class c{constructor(o,l,p){this._platform=o,this._change=new tt.x,this._changeListener=b=>{this._change.next(b)},this._document=p,l.runOutsideAngular(()=>{if(o.isBrowser){const b=this._getWindow();b.addEventListener("resize",this._changeListener),b.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const o=this._getWindow();o.removeEventListener("resize",this._changeListener),o.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const o={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),o}getViewportRect(){const o=this.getViewportScrollPosition(),{width:l,height:p}=this.getViewportSize();return{top:o.top,left:o.left,bottom:o.top+p,right:o.left+l,height:p,width:l}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const o=this._document,l=this._getWindow(),p=o.documentElement,b=p.getBoundingClientRect();return{top:-b.top||o.body.scrollTop||l.scrollY||p.scrollTop||0,left:-b.left||o.body.scrollLeft||l.scrollX||p.scrollLeft||0}}change(o=20){return o>0?this._change.pipe(Ul(o)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const o=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:o.innerWidth,height:o.innerHeight}:{width:0,height:0}}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(Gt),r.LFG(r.R0b),r.LFG(E.K0,8))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),Zo=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({}),c})(),fd=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[[Ur,Zo],Ur,Zo]}),c})();class Kl{attach(u){return this._attachedHost=u,u.attach(this)}detach(){let u=this._attachedHost;null!=u&&(this._attachedHost=null,u.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(u){this._attachedHost=u}}class zr extends Kl{constructor(u,o,l,p){super(),this.component=u,this.viewContainerRef=o,this.injector=l,this.componentFactoryResolver=p}}class yn extends Kl{constructor(u,o,l){super(),this.templateRef=u,this.viewContainerRef=o,this.context=l}get origin(){return this.templateRef.elementRef}attach(u,o=this.context){return this.context=o,super.attach(u)}detach(){return this.context=void 0,super.detach()}}class Wf extends Kl{constructor(u){super(),this.element=u instanceof r.SBq?u.nativeElement:u}}class on{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(u){return u instanceof zr?(this._attachedPortal=u,this.attachComponentPortal(u)):u instanceof yn?(this._attachedPortal=u,this.attachTemplatePortal(u)):this.attachDomPortal&&u instanceof Wf?(this._attachedPortal=u,this.attachDomPortal(u)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(u){this._disposeFn=u}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class hi extends on{constructor(u,o,l,p,b){super(),this.outletElement=u,this._componentFactoryResolver=o,this._appRef=l,this._defaultInjector=p,this.attachDomPortal=G=>{const Z=G.element,oe=this._document.createComment("dom-portal");Z.parentNode.insertBefore(oe,Z),this.outletElement.appendChild(Z),this._attachedPortal=G,super.setDisposeFn(()=>{oe.parentNode&&oe.parentNode.replaceChild(Z,oe)})},this._document=b}attachComponentPortal(u){const l=(u.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(u.component);let p;return u.viewContainerRef?(p=u.viewContainerRef.createComponent(l,u.viewContainerRef.length,u.injector||u.viewContainerRef.injector),this.setDisposeFn(()=>p.destroy())):(p=l.create(u.injector||this._defaultInjector||r.zs3.NULL),this._appRef.attachView(p.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(p.hostView),p.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(p)),this._attachedPortal=u,p}attachTemplatePortal(u){let o=u.viewContainerRef,l=o.createEmbeddedView(u.templateRef,u.context);return l.rootNodes.forEach(p=>this.outletElement.appendChild(p)),l.detectChanges(),this.setDisposeFn(()=>{let p=o.indexOf(l);-1!==p&&o.remove(p)}),this._attachedPortal=u,l}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(u){return u.hostView.rootNodes[0]}}let _n=(()=>{class c extends on{constructor(o,l,p){super(),this._componentFactoryResolver=o,this._viewContainerRef=l,this._isInitialized=!1,this.attached=new r.vpe,this.attachDomPortal=b=>{const G=b.element,Z=this._document.createComment("dom-portal");b.setAttachedHost(this),G.parentNode.insertBefore(Z,G),this._getRootNode().appendChild(G),this._attachedPortal=b,super.setDisposeFn(()=>{Z.parentNode&&Z.parentNode.replaceChild(G,Z)})},this._document=p}get portal(){return this._attachedPortal}set portal(o){this.hasAttached()&&!o&&!this._isInitialized||(this.hasAttached()&&super.detach(),o&&super.attach(o),this._attachedPortal=o||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(o){o.setAttachedHost(this);const l=null!=o.viewContainerRef?o.viewContainerRef:this._viewContainerRef,b=(o.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(o.component),G=l.createComponent(b,l.length,o.injector||l.injector);return l!==this._viewContainerRef&&this._getRootNode().appendChild(G.hostView.rootNodes[0]),super.setDisposeFn(()=>G.destroy()),this._attachedPortal=o,this._attachedRef=G,this.attached.emit(G),G}attachTemplatePortal(o){o.setAttachedHost(this);const l=this._viewContainerRef.createEmbeddedView(o.templateRef,o.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=o,this._attachedRef=l,this.attached.emit(l),l}_getRootNode(){const o=this._viewContainerRef.element.nativeElement;return o.nodeType===o.ELEMENT_NODE?o:o.parentNode}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r._Vd),r.Y36(r.s_b),r.Y36(E.K0))},c.\u0275dir=r.lG2({type:c,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.qOj]}),c})(),qo=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({}),c})();var jt=w(8264),Mt=w(3453),Jl=w(1261);function yt(c){return(0,en.e)((u,o)=>{(0,y.Xf)(c).subscribe(new S.Q(o,()=>o.complete(),Jl.Z)),!o.closed&&u.subscribe(o)})}const oa=ea();class jf{constructor(u,o){this._viewportRuler=u,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=o}attach(){}enable(){if(this._canBeEnabled()){const u=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=u.style.left||"",this._previousHTMLStyles.top=u.style.top||"",u.style.left=He(-this._previousScrollPosition.left),u.style.top=He(-this._previousScrollPosition.top),u.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const u=this._document.documentElement,l=u.style,p=this._document.body.style,b=l.scrollBehavior||"",G=p.scrollBehavior||"";this._isEnabled=!1,l.left=this._previousHTMLStyles.left,l.top=this._previousHTMLStyles.top,u.classList.remove("cdk-global-scrollblock"),oa&&(l.scrollBehavior=p.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),oa&&(l.scrollBehavior=b,p.scrollBehavior=G)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const o=this._document.body,l=this._viewportRuler.getViewportSize();return o.scrollHeight>l.height||o.scrollWidth>l.width}}class zf{constructor(u,o,l,p){this._scrollDispatcher=u,this._ngZone=o,this._viewportRuler=l,this._config=p,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(u){this._overlayRef=u}enable(){if(this._scrollSubscription)return;const u=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=u.subscribe(()=>{const o=this._viewportRuler.getViewportScrollPosition().top;Math.abs(o-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=u.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class gd{enable(){}disable(){}attach(){}}function Xl(c,u){return u.some(o=>c.bottom<o.top||c.top>o.bottom||c.right<o.left||c.left>o.right)}function md(c,u){return u.some(o=>c.top<o.top||c.bottom>o.bottom||c.left<o.left||c.right>o.right)}class Zf{constructor(u,o,l,p){this._scrollDispatcher=u,this._viewportRuler=o,this._ngZone=l,this._config=p,this._scrollSubscription=null}attach(u){this._overlayRef=u}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const o=this._overlayRef.overlayElement.getBoundingClientRect(),{width:l,height:p}=this._viewportRuler.getViewportSize();Xl(o,[{width:l,height:p,bottom:p,right:l,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let qf=(()=>{class c{constructor(o,l,p,b){this._scrollDispatcher=o,this._viewportRuler=l,this._ngZone=p,this.noop=()=>new gd,this.close=G=>new zf(this._scrollDispatcher,this._ngZone,this._viewportRuler,G),this.block=()=>new jf(this._viewportRuler,this._document),this.reposition=G=>new Zf(this._scrollDispatcher,this._viewportRuler,this._ngZone,G),this._document=b}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(na),r.LFG(rn),r.LFG(r.R0b),r.LFG(E.K0))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();class Yo{constructor(u){if(this.scrollStrategy=new gd,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,u){const o=Object.keys(u);for(const l of o)void 0!==u[l]&&(this[l]=u[l])}}}class vd{constructor(u,o){this.connectionPair=u,this.scrollableViewProperties=o}}let yd=(()=>{class c{constructor(o){this._attachedOverlays=[],this._document=o}ngOnDestroy(){this.detach()}add(o){this.remove(o),this._attachedOverlays.push(o)}remove(o){const l=this._attachedOverlays.indexOf(o);l>-1&&this._attachedOverlays.splice(l,1),0===this._attachedOverlays.length&&this.detach()}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(E.K0))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),_d=(()=>{class c extends yd{constructor(o,l){super(o),this._ngZone=l,this._keydownListener=p=>{const b=this._attachedOverlays;for(let G=b.length-1;G>-1;G--)if(b[G]._keydownEvents.observers.length>0){const Z=b[G]._keydownEvents;this._ngZone?this._ngZone.run(()=>Z.next(p)):Z.next(p);break}}}add(o){super.add(o),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(E.K0),r.LFG(r.R0b,8))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),Kf=(()=>{class c extends yd{constructor(o,l,p){super(o),this._platform=l,this._ngZone=p,this._cursorStyleIsSet=!1,this._pointerDownListener=b=>{this._pointerDownEventTarget=Oi(b)},this._clickListener=b=>{const G=Oi(b),Z="click"===b.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:G;this._pointerDownEventTarget=null;const oe=this._attachedOverlays.slice();for(let pe=oe.length-1;pe>-1;pe--){const Oe=oe[pe];if(Oe._outsidePointerEvents.observers.length<1||!Oe.hasAttached())continue;if(Oe.overlayElement.contains(G)||Oe.overlayElement.contains(Z))break;const qe=Oe._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>qe.next(b)):qe.next(b)}}}add(o){if(super.add(o),!this._isAttached){const l=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(l)):this._addEventListeners(l),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=l.style.cursor,l.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const o=this._document.body;o.removeEventListener("pointerdown",this._pointerDownListener,!0),o.removeEventListener("click",this._clickListener,!0),o.removeEventListener("auxclick",this._clickListener,!0),o.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(o.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(o){o.addEventListener("pointerdown",this._pointerDownListener,!0),o.addEventListener("click",this._clickListener,!0),o.addEventListener("auxclick",this._clickListener,!0),o.addEventListener("contextmenu",this._clickListener,!0)}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(E.K0),r.LFG(Gt),r.LFG(r.R0b,8))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),sa=(()=>{class c{constructor(o,l){this._platform=l,this._document=o}ngOnDestroy(){var o;null==(o=this._containerElement)||o.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const o="cdk-overlay-container";if(this._platform.isBrowser||ia()){const p=this._document.querySelectorAll(`.${o}[platform="server"], .${o}[platform="test"]`);for(let b=0;b<p.length;b++)p[b].remove()}const l=this._document.createElement("div");l.classList.add(o),ia()?l.setAttribute("platform","test"):this._platform.isBrowser||l.setAttribute("platform","server"),this._document.body.appendChild(l),this._containerElement=l}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(E.K0),r.LFG(Gt))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();class Yf{constructor(u,o,l,p,b,G,Z,oe,pe){this._portalOutlet=u,this._host=o,this._pane=l,this._config=p,this._ngZone=b,this._keyboardDispatcher=G,this._document=Z,this._location=oe,this._outsideClickDispatcher=pe,this._backdropElement=null,this._backdropClick=new tt.x,this._attachments=new tt.x,this._detachments=new tt.x,this._locationChanges=kt.w0.EMPTY,this._backdropClickHandler=Oe=>this._backdropClick.next(Oe),this._backdropTransitionendHandler=Oe=>{this._disposeBackdrop(Oe.target)},this._keydownEvents=new tt.x,this._outsidePointerEvents=new tt.x,p.scrollStrategy&&(this._scrollStrategy=p.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=p.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(u){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const o=this._portalOutlet.attach(u);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Mt.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),o}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const u=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),u}dispose(){var o;const u=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null==(o=this._host)||o.remove(),this._previousHostParent=this._pane=this._host=null,u&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(u){u!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=u,this.hasAttached()&&(u.attach(this),this.updatePosition()))}updateSize(u){this._config=Ft(Ft({},this._config),u),this._updateElementSize()}setDirection(u){this._config=sl(Ft({},this._config),{direction:u}),this._updateElementDirection()}addPanelClass(u){this._pane&&this._toggleClasses(this._pane,u,!0)}removePanelClass(u){this._pane&&this._toggleClasses(this._pane,u,!1)}getDirection(){const u=this._config.direction;return u?"string"==typeof u?u:u.value:"ltr"}updateScrollStrategy(u){u!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=u,this.hasAttached()&&(u.attach(this),u.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const u=this._pane.style;u.width=He(this._config.width),u.height=He(this._config.height),u.minWidth=He(this._config.minWidth),u.minHeight=He(this._config.minHeight),u.maxWidth=He(this._config.maxWidth),u.maxHeight=He(this._config.maxHeight)}_togglePointerEvents(u){this._pane.style.pointerEvents=u?"":"none"}_attachBackdrop(){const u="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(u)})}):this._backdropElement.classList.add(u)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const u=this._backdropElement;!u||(u.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{u.addEventListener("transitionend",this._backdropTransitionendHandler)}),u.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(u)},500)))}_toggleClasses(u,o,l){const p=Vo(o||[]).filter(b=>!!b);p.length&&(l?u.classList.add(...p):u.classList.remove(...p))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const u=this._ngZone.onStable.pipe(yt((0,jt.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),u.unsubscribe())})})}_disposeScrollStrategy(){const u=this._scrollStrategy;u&&(u.disable(),u.detach&&u.detach())}_disposeBackdrop(u){u&&(u.removeEventListener("click",this._backdropClickHandler),u.removeEventListener("transitionend",this._backdropTransitionendHandler),u.remove(),this._backdropElement===u&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Cd="cdk-overlay-connected-position-bounding-box",Qf=/([A-Za-z%]+)$/;class tc{constructor(u,o,l,p,b){this._viewportRuler=o,this._document=l,this._platform=p,this._overlayContainer=b,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new tt.x,this._resizeSubscription=kt.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(u)}get positions(){return this._preferredPositions}attach(u){this._validatePositions(),u.hostElement.classList.add(Cd),this._overlayRef=u,this._boundingBox=u.hostElement,this._pane=u.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const u=this._originRect,o=this._overlayRect,l=this._viewportRect,p=this._containerRect,b=[];let G;for(let Z of this._preferredPositions){let oe=this._getOriginPoint(u,p,Z),pe=this._getOverlayPoint(oe,o,Z),Oe=this._getOverlayFit(pe,o,l,Z);if(Oe.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Z,oe);this._canFitWithFlexibleDimensions(Oe,pe,l)?b.push({position:Z,origin:oe,overlayRect:o,boundingBoxRect:this._calculateBoundingBoxRect(oe,Z)}):(!G||G.overlayFit.visibleArea<Oe.visibleArea)&&(G={overlayFit:Oe,overlayPoint:pe,originPoint:oe,position:Z,overlayRect:o})}if(b.length){let Z=null,oe=-1;for(const pe of b){const Oe=pe.boundingBoxRect.width*pe.boundingBoxRect.height*(pe.position.weight||1);Oe>oe&&(oe=Oe,Z=pe)}return this._isPushed=!1,void this._applyPosition(Z.position,Z.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(G.position,G.originPoint);this._applyPosition(G.position,G.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&lr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Cd),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const u=this._lastPosition;if(u){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const o=this._getOriginPoint(this._originRect,this._containerRect,u);this._applyPosition(u,o)}else this.apply()}withScrollableContainers(u){return this._scrollables=u,this}withPositions(u){return this._preferredPositions=u,-1===u.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(u){return this._viewportMargin=u,this}withFlexibleDimensions(u=!0){return this._hasFlexibleDimensions=u,this}withGrowAfterOpen(u=!0){return this._growAfterOpen=u,this}withPush(u=!0){return this._canPush=u,this}withLockedPosition(u=!0){return this._positionLocked=u,this}setOrigin(u){return this._origin=u,this}withDefaultOffsetX(u){return this._offsetX=u,this}withDefaultOffsetY(u){return this._offsetY=u,this}withTransformOriginOn(u){return this._transformOriginSelector=u,this}_getOriginPoint(u,o,l){let p,b;if("center"==l.originX)p=u.left+u.width/2;else{const G=this._isRtl()?u.right:u.left,Z=this._isRtl()?u.left:u.right;p="start"==l.originX?G:Z}return o.left<0&&(p-=o.left),b="center"==l.originY?u.top+u.height/2:"top"==l.originY?u.top:u.bottom,o.top<0&&(b-=o.top),{x:p,y:b}}_getOverlayPoint(u,o,l){let p,b;return p="center"==l.overlayX?-o.width/2:"start"===l.overlayX?this._isRtl()?-o.width:0:this._isRtl()?0:-o.width,b="center"==l.overlayY?-o.height/2:"top"==l.overlayY?0:-o.height,{x:u.x+p,y:u.y+b}}_getOverlayFit(u,o,l,p){const b=bd(o);let{x:G,y:Z}=u,oe=this._getOffset(p,"x"),pe=this._getOffset(p,"y");oe&&(G+=oe),pe&&(Z+=pe);let nt=0-Z,ht=Z+b.height-l.height,At=this._subtractOverflows(b.width,0-G,G+b.width-l.width),xt=this._subtractOverflows(b.height,nt,ht),ti=At*xt;return{visibleArea:ti,isCompletelyWithinViewport:b.width*b.height===ti,fitsInViewportVertically:xt===b.height,fitsInViewportHorizontally:At==b.width}}_canFitWithFlexibleDimensions(u,o,l){if(this._hasFlexibleDimensions){const p=l.bottom-o.y,b=l.right-o.x,G=wd(this._overlayRef.getConfig().minHeight),Z=wd(this._overlayRef.getConfig().minWidth),pe=u.fitsInViewportHorizontally||null!=Z&&Z<=b;return(u.fitsInViewportVertically||null!=G&&G<=p)&&pe}return!1}_pushOverlayOnScreen(u,o,l){if(this._previousPushAmount&&this._positionLocked)return{x:u.x+this._previousPushAmount.x,y:u.y+this._previousPushAmount.y};const p=bd(o),b=this._viewportRect,G=Math.max(u.x+p.width-b.width,0),Z=Math.max(u.y+p.height-b.height,0),oe=Math.max(b.top-l.top-u.y,0),pe=Math.max(b.left-l.left-u.x,0);let Oe=0,qe=0;return Oe=p.width<=b.width?pe||-G:u.x<this._viewportMargin?b.left-l.left-u.x:0,qe=p.height<=b.height?oe||-Z:u.y<this._viewportMargin?b.top-l.top-u.y:0,this._previousPushAmount={x:Oe,y:qe},{x:u.x+Oe,y:u.y+qe}}_applyPosition(u,o){if(this._setTransformOrigin(u),this._setOverlayElementStyles(o,u),this._setBoundingBoxStyles(o,u),u.panelClass&&this._addPanelClasses(u.panelClass),this._lastPosition=u,this._positionChanges.observers.length){const l=this._getScrollVisibility(),p=new vd(u,l);this._positionChanges.next(p)}this._isInitialRender=!1}_setTransformOrigin(u){if(!this._transformOriginSelector)return;const o=this._boundingBox.querySelectorAll(this._transformOriginSelector);let l,p=u.overlayY;l="center"===u.overlayX?"center":this._isRtl()?"start"===u.overlayX?"right":"left":"start"===u.overlayX?"left":"right";for(let b=0;b<o.length;b++)o[b].style.transformOrigin=`${l} ${p}`}_calculateBoundingBoxRect(u,o){const l=this._viewportRect,p=this._isRtl();let b,G,Z,Oe,qe,nt;if("top"===o.overlayY)G=u.y,b=l.height-G+this._viewportMargin;else if("bottom"===o.overlayY)Z=l.height-u.y+2*this._viewportMargin,b=l.height-Z+this._viewportMargin;else{const ht=Math.min(l.bottom-u.y+l.top,u.y),At=this._lastBoundingBoxSize.height;b=2*ht,G=u.y-ht,b>At&&!this._isInitialRender&&!this._growAfterOpen&&(G=u.y-At/2)}if("end"===o.overlayX&&!p||"start"===o.overlayX&&p)nt=l.width-u.x+this._viewportMargin,Oe=u.x-this._viewportMargin;else if("start"===o.overlayX&&!p||"end"===o.overlayX&&p)qe=u.x,Oe=l.right-u.x;else{const ht=Math.min(l.right-u.x+l.left,u.x),At=this._lastBoundingBoxSize.width;Oe=2*ht,qe=u.x-ht,Oe>At&&!this._isInitialRender&&!this._growAfterOpen&&(qe=u.x-At/2)}return{top:G,left:qe,bottom:Z,right:nt,width:Oe,height:b}}_setBoundingBoxStyles(u,o){const l=this._calculateBoundingBoxRect(u,o);!this._isInitialRender&&!this._growAfterOpen&&(l.height=Math.min(l.height,this._lastBoundingBoxSize.height),l.width=Math.min(l.width,this._lastBoundingBoxSize.width));const p={};if(this._hasExactPosition())p.top=p.left="0",p.bottom=p.right=p.maxHeight=p.maxWidth="",p.width=p.height="100%";else{const b=this._overlayRef.getConfig().maxHeight,G=this._overlayRef.getConfig().maxWidth;p.height=He(l.height),p.top=He(l.top),p.bottom=He(l.bottom),p.width=He(l.width),p.left=He(l.left),p.right=He(l.right),p.alignItems="center"===o.overlayX?"center":"end"===o.overlayX?"flex-end":"flex-start",p.justifyContent="center"===o.overlayY?"center":"bottom"===o.overlayY?"flex-end":"flex-start",b&&(p.maxHeight=He(b)),G&&(p.maxWidth=He(G))}this._lastBoundingBoxSize=l,lr(this._boundingBox.style,p)}_resetBoundingBoxStyles(){lr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){lr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(u,o){const l={},p=this._hasExactPosition(),b=this._hasFlexibleDimensions,G=this._overlayRef.getConfig();if(p){const Oe=this._viewportRuler.getViewportScrollPosition();lr(l,this._getExactOverlayY(o,u,Oe)),lr(l,this._getExactOverlayX(o,u,Oe))}else l.position="static";let Z="",oe=this._getOffset(o,"x"),pe=this._getOffset(o,"y");oe&&(Z+=`translateX(${oe}px) `),pe&&(Z+=`translateY(${pe}px)`),l.transform=Z.trim(),G.maxHeight&&(p?l.maxHeight=He(G.maxHeight):b&&(l.maxHeight="")),G.maxWidth&&(p?l.maxWidth=He(G.maxWidth):b&&(l.maxWidth="")),lr(this._pane.style,l)}_getExactOverlayY(u,o,l){let p={top:"",bottom:""},b=this._getOverlayPoint(o,this._overlayRect,u);return this._isPushed&&(b=this._pushOverlayOnScreen(b,this._overlayRect,l)),"bottom"===u.overlayY?p.bottom=this._document.documentElement.clientHeight-(b.y+this._overlayRect.height)+"px":p.top=He(b.y),p}_getExactOverlayX(u,o,l){let G,p={left:"",right:""},b=this._getOverlayPoint(o,this._overlayRect,u);return this._isPushed&&(b=this._pushOverlayOnScreen(b,this._overlayRect,l)),G=this._isRtl()?"end"===u.overlayX?"left":"right":"end"===u.overlayX?"right":"left","right"===G?p.right=this._document.documentElement.clientWidth-(b.x+this._overlayRect.width)+"px":p.left=He(b.x),p}_getScrollVisibility(){const u=this._getOriginRect(),o=this._pane.getBoundingClientRect(),l=this._scrollables.map(p=>p.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:md(u,l),isOriginOutsideView:Xl(u,l),isOverlayClipped:md(o,l),isOverlayOutsideView:Xl(o,l)}}_subtractOverflows(u,...o){return o.reduce((l,p)=>l-Math.max(p,0),u)}_getNarrowedViewportRect(){const u=this._document.documentElement.clientWidth,o=this._document.documentElement.clientHeight,l=this._viewportRuler.getViewportScrollPosition();return{top:l.top+this._viewportMargin,left:l.left+this._viewportMargin,right:l.left+u-this._viewportMargin,bottom:l.top+o-this._viewportMargin,width:u-2*this._viewportMargin,height:o-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(u,o){return"x"===o?null==u.offsetX?this._offsetX:u.offsetX:null==u.offsetY?this._offsetY:u.offsetY}_validatePositions(){}_addPanelClasses(u){this._pane&&Vo(u).forEach(o=>{""!==o&&-1===this._appliedPanelClasses.indexOf(o)&&(this._appliedPanelClasses.push(o),this._pane.classList.add(o))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(u=>{this._pane.classList.remove(u)}),this._appliedPanelClasses=[])}_getOriginRect(){const u=this._origin;if(u instanceof r.SBq)return u.nativeElement.getBoundingClientRect();if(u instanceof Element)return u.getBoundingClientRect();const o=u.width||0,l=u.height||0;return{top:u.y,bottom:u.y+l,left:u.x,right:u.x+o,height:l,width:o}}}function lr(c,u){for(let o in u)u.hasOwnProperty(o)&&(c[o]=u[o]);return c}function wd(c){if("number"!=typeof c&&null!=c){const[u,o]=c.split(Qf);return o&&"px"!==o?null:parseFloat(u)}return c||null}function bd(c){return{top:Math.floor(c.top),right:Math.floor(c.right),bottom:Math.floor(c.bottom),left:Math.floor(c.left),width:Math.floor(c.width),height:Math.floor(c.height)}}const Ed="cdk-global-overlay-wrapper";class Jf{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(u){const o=u.getConfig();this._overlayRef=u,this._width&&!o.width&&u.updateSize({width:this._width}),this._height&&!o.height&&u.updateSize({height:this._height}),u.hostElement.classList.add(Ed),this._isDisposed=!1}top(u=""){return this._bottomOffset="",this._topOffset=u,this._alignItems="flex-start",this}left(u=""){return this._rightOffset="",this._leftOffset=u,this._justifyContent="flex-start",this}bottom(u=""){return this._topOffset="",this._bottomOffset=u,this._alignItems="flex-end",this}right(u=""){return this._leftOffset="",this._rightOffset=u,this._justifyContent="flex-end",this}width(u=""){return this._overlayRef?this._overlayRef.updateSize({width:u}):this._width=u,this}height(u=""){return this._overlayRef?this._overlayRef.updateSize({height:u}):this._height=u,this}centerHorizontally(u=""){return this.left(u),this._justifyContent="center",this}centerVertically(u=""){return this.top(u),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const u=this._overlayRef.overlayElement.style,o=this._overlayRef.hostElement.style,l=this._overlayRef.getConfig(),{width:p,height:b,maxWidth:G,maxHeight:Z}=l,oe=!("100%"!==p&&"100vw"!==p||G&&"100%"!==G&&"100vw"!==G),pe=!("100%"!==b&&"100vh"!==b||Z&&"100%"!==Z&&"100vh"!==Z);u.position=this._cssPosition,u.marginLeft=oe?"0":this._leftOffset,u.marginTop=pe?"0":this._topOffset,u.marginBottom=this._bottomOffset,u.marginRight=this._rightOffset,oe?o.justifyContent="flex-start":"center"===this._justifyContent?o.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?o.justifyContent="flex-end":"flex-end"===this._justifyContent&&(o.justifyContent="flex-start"):o.justifyContent=this._justifyContent,o.alignItems=pe?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const u=this._overlayRef.overlayElement.style,o=this._overlayRef.hostElement,l=o.style;o.classList.remove(Ed),l.justifyContent=l.alignItems=u.marginTop=u.marginBottom=u.marginLeft=u.marginRight=u.position="",this._overlayRef=null,this._isDisposed=!0}}let Xf=(()=>{class c{constructor(o,l,p,b){this._viewportRuler=o,this._document=l,this._platform=p,this._overlayContainer=b}global(){return new Jf}flexibleConnectedTo(o){return new tc(o,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(rn),r.LFG(E.K0),r.LFG(Gt),r.LFG(sa))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),eg=0,Wi=(()=>{class c{constructor(o,l,p,b,G,Z,oe,pe,Oe,qe,nt){this.scrollStrategies=o,this._overlayContainer=l,this._componentFactoryResolver=p,this._positionBuilder=b,this._keyboardDispatcher=G,this._injector=Z,this._ngZone=oe,this._document=pe,this._directionality=Oe,this._location=qe,this._outsideClickDispatcher=nt}create(o){const l=this._createHostElement(),p=this._createPaneElement(l),b=this._createPortalOutlet(p),G=new Yo(o);return G.direction=G.direction||this._directionality.value,new Yf(b,l,p,G,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(o){const l=this._document.createElement("div");return l.id="cdk-overlay-"+eg++,l.classList.add("cdk-overlay-pane"),o.appendChild(l),l}_createHostElement(){const o=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(o),o}_createPortalOutlet(o){return this._appRef||(this._appRef=this._injector.get(r.z2F)),new hi(o,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(qf),r.LFG(sa),r.LFG(r._Vd),r.LFG(Xf),r.LFG(_d),r.LFG(r.zs3),r.LFG(r.R0b),r.LFG(E.K0),r.LFG(Kt),r.LFG(E.Ye),r.LFG(Kf))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac}),c})();const tg=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],cr=new r.OlP("cdk-connected-overlay-scroll-strategy");let aa=(()=>{class c{constructor(o){this.elementRef=o}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq))},c.\u0275dir=r.lG2({type:c,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),c})(),la=(()=>{class c{constructor(o,l,p,b,G){this._overlay=o,this._dir=G,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=kt.w0.EMPTY,this._attachSubscription=kt.w0.EMPTY,this._detachSubscription=kt.w0.EMPTY,this._positionSubscription=kt.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new r.vpe,this.positionChange=new r.vpe,this.attach=new r.vpe,this.detach=new r.vpe,this.overlayKeydown=new r.vpe,this.overlayOutsideClick=new r.vpe,this._templatePortal=new yn(l,p),this._scrollStrategyFactory=b,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(o){this._offsetX=o,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(o){this._offsetY=o,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(o){this._hasBackdrop=st(o)}get lockPosition(){return this._lockPosition}set lockPosition(o){this._lockPosition=st(o)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(o){this._flexibleDimensions=st(o)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(o){this._growAfterOpen=st(o)}get push(){return this._push}set push(o){this._push=st(o)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(o){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),o.origin&&this.open&&this._position.apply()),o.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=tg);const o=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=o.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=o.detachments().subscribe(()=>this.detach.emit()),o.keydownEvents().subscribe(l=>{this.overlayKeydown.next(l),27===l.keyCode&&!this.disableClose&&!ni(l)&&(l.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(l=>{this.overlayOutsideClick.next(l)})}_buildConfig(){const o=this._position=this.positionStrategy||this._createPositionStrategy(),l=new Yo({direction:this._dir,positionStrategy:o,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(l.width=this.width),(this.height||0===this.height)&&(l.height=this.height),(this.minWidth||0===this.minWidth)&&(l.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(l.minHeight=this.minHeight),this.backdropClass&&(l.backdropClass=this.backdropClass),this.panelClass&&(l.panelClass=this.panelClass),l}_updatePositionStrategy(o){const l=this.positions.map(p=>({originX:p.originX,originY:p.originY,overlayX:p.overlayX,overlayY:p.overlayY,offsetX:p.offsetX||this.offsetX,offsetY:p.offsetY||this.offsetY,panelClass:p.panelClass||void 0}));return o.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(l).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const o=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(o),o}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof aa?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(o=>{this.backdropClick.emit(o)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(c,u=!1){return(0,en.e)((o,l)=>{let p=0;o.subscribe(new S.Q(l,b=>{const G=c(b,p++);(G||u)&&l.next(b),!G&&l.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(o=>{this.positionChange.emit(o),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(Wi),r.Y36(r.Rgc),r.Y36(r.s_b),r.Y36(cr),r.Y36(Kt,8))},c.\u0275dir=r.lG2({type:c,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[r.TTD]}),c})();const Sd={provide:cr,deps:[Wi],useFactory:function(c){return()=>c.scrollStrategies.reposition()}};let Qo=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({providers:[Wi,Sd],imports:[[Ur,qo,fd],fd]}),c})();var ig=w(9978),Zr=w(6801);function ic(c,u=Qs){return(0,en.e)((o,l)=>{let p=null,b=null,G=null;const Z=()=>{if(p){p.unsubscribe(),p=null;const pe=b;b=null,l.next(pe)}};function oe(){const pe=G+c,Oe=u.now();if(Oe<pe)return p=this.schedule(void 0,pe-Oe),void l.add(p);Z()}o.subscribe(new S.Q(l,pe=>{b=pe,G=u.now(),p||(p=u.schedule(oe,c),l.add(p))},()=>{Z(),l.complete()},void 0,()=>{b=p=null}))})}function nc(c){return(0,xi.h)((u,o)=>c<=o)}var ng=w(7190);function Ge(c,u=ng.y){return c=null!=c?c:rc,(0,en.e)((o,l)=>{let p,b=!0;o.subscribe(new S.Q(l,G=>{const Z=u(G);(b||!c(p,Z))&&(b=!1,p=Z,l.next(G))}))})}function rc(c,u){return c===u}let Rd=(()=>{class c{create(o){return"undefined"==typeof MutationObserver?null:new MutationObserver(o)}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),Dd=(()=>{class c{constructor(o){this._mutationObserverFactory=o,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((o,l)=>this._cleanupObserver(l))}observe(o){const l=Bt(o);return new m.y(p=>{const G=this._observeElement(l).subscribe(p);return()=>{G.unsubscribe(),this._unobserveElement(l)}})}_observeElement(o){if(this._observedElements.has(o))this._observedElements.get(o).count++;else{const l=new tt.x,p=this._mutationObserverFactory.create(b=>l.next(b));p&&p.observe(o,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(o,{observer:p,stream:l,count:1})}return this._observedElements.get(o).stream}_unobserveElement(o){this._observedElements.has(o)&&(this._observedElements.get(o).count--,this._observedElements.get(o).count||this._cleanupObserver(o))}_cleanupObserver(o){if(this._observedElements.has(o)){const{observer:l,stream:p}=this._observedElements.get(o);l&&l.disconnect(),p.complete(),this._observedElements.delete(o)}}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(Rd))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),et=(()=>{class c{constructor(o,l,p){this._contentObserver=o,this._elementRef=l,this._ngZone=p,this.event=new r.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(o){this._disabled=st(o),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(o){this._debounce=Ji(o),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const o=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?o.pipe(ic(this.debounce)):o).subscribe(this.event)})}_unsubscribe(){var o;null==(o=this._currentSubscription)||o.unsubscribe()}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(Dd),r.Y36(r.SBq),r.Y36(r.R0b))},c.\u0275dir=r.lG2({type:c,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),c})(),qr=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({providers:[Rd]}),c})();class Fd{constructor(u){this._items=u,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new tt.x,this._typeaheadSubscription=kt.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=o=>o.disabled,this._pressedLetters=[],this.tabOut=new tt.x,this.change=new tt.x,u instanceof r.n_E&&u.changes.subscribe(o=>{if(this._activeItem){const p=o.toArray().indexOf(this._activeItem);p>-1&&p!==this._activeItemIndex&&(this._activeItemIndex=p)}})}skipPredicate(u){return this._skipPredicateFn=u,this}withWrap(u=!0){return this._wrap=u,this}withVerticalOrientation(u=!0){return this._vertical=u,this}withHorizontalOrientation(u){return this._horizontal=u,this}withAllowedModifierKeys(u){return this._allowedModifierKeys=u,this}withTypeAhead(u=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Zr.b)(o=>this._pressedLetters.push(o)),ic(u),(0,xi.h)(()=>this._pressedLetters.length>0),(0,D.U)(()=>this._pressedLetters.join(""))).subscribe(o=>{const l=this._getItemsArray();for(let p=1;p<l.length+1;p++){const b=(this._activeItemIndex+p)%l.length,G=l[b];if(!this._skipPredicateFn(G)&&0===G.getLabel().toUpperCase().trim().indexOf(o)){this.setActiveItem(b);break}}this._pressedLetters=[]}),this}withHomeAndEnd(u=!0){return this._homeAndEnd=u,this}setActiveItem(u){const o=this._activeItem;this.updateActiveItem(u),this._activeItem!==o&&this.change.next(this._activeItemIndex)}onKeydown(u){const o=u.keyCode,p=["altKey","ctrlKey","metaKey","shiftKey"].every(b=>!u[b]||this._allowedModifierKeys.indexOf(b)>-1);switch(o){case 9:return void this.tabOut.next();case 40:if(this._vertical&&p){this.setNextItemActive();break}return;case 38:if(this._vertical&&p){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&p){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&p){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&p){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&p){this.setLastItemActive();break}return;default:return void((p||ni(u,"shiftKey"))&&(u.key&&1===u.key.length?this._letterKeyStream.next(u.key.toLocaleUpperCase()):(o>=65&&o<=90||o>=48&&o<=57)&&this._letterKeyStream.next(String.fromCharCode(o))))}this._pressedLetters=[],u.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(u){const o=this._getItemsArray(),l="number"==typeof u?u:o.indexOf(u),p=o[l];this._activeItem=null==p?null:p,this._activeItemIndex=l}_setActiveItemByDelta(u){this._wrap?this._setActiveInWrapMode(u):this._setActiveInDefaultMode(u)}_setActiveInWrapMode(u){const o=this._getItemsArray();for(let l=1;l<=o.length;l++){const p=(this._activeItemIndex+u*l+o.length)%o.length;if(!this._skipPredicateFn(o[p]))return void this.setActiveItem(p)}}_setActiveInDefaultMode(u){this._setActiveItemByIndex(this._activeItemIndex+u,u)}_setActiveItemByIndex(u,o){const l=this._getItemsArray();if(l[u]){for(;this._skipPredicateFn(l[u]);)if(!l[u+=o])return;this.setActiveItem(u)}}_getItemsArray(){return this._items instanceof r.n_E?this._items.toArray():this._items}}class Pd extends Fd{setActiveItem(u){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(u),this.activeItem&&this.activeItem.setActiveStyles()}}class ua extends Fd{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(u){return this._origin=u,this}setActiveItem(u){super.setActiveItem(u),this.activeItem&&this.activeItem.focus(this._origin)}}let Md=(()=>{class c{constructor(o){this._platform=o}isDisabled(o){return o.hasAttribute("disabled")}isVisible(o){return function(c){return!!(c.offsetWidth||c.offsetHeight||"function"==typeof c.getClientRects&&c.getClientRects().length)}(o)&&"visible"===getComputedStyle(o).visibility}isTabbable(o){if(!this._platform.isBrowser)return!1;const l=function(c){try{return c.frameElement}catch(u){return null}}(function(c){return c.ownerDocument&&c.ownerDocument.defaultView||window}(o));if(l&&(-1===Id(l)||!this.isVisible(l)))return!1;let p=o.nodeName.toLowerCase(),b=Id(o);return o.hasAttribute("contenteditable")?-1!==b:!("iframe"===p||"object"===p||this._platform.WEBKIT&&this._platform.IOS&&!function(c){let u=c.nodeName.toLowerCase(),o="input"===u&&c.type;return"text"===o||"password"===o||"select"===u||"textarea"===u}(o))&&("audio"===p?!!o.hasAttribute("controls")&&-1!==b:"video"===p?-1!==b&&(null!==b||this._platform.FIREFOX||o.hasAttribute("controls")):o.tabIndex>=0)}isFocusable(o,l){return function(c){return!function(c){return function(c){return"input"==c.nodeName.toLowerCase()}(c)&&"hidden"==c.type}(c)&&(function(c){let u=c.nodeName.toLowerCase();return"input"===u||"select"===u||"button"===u||"textarea"===u}(c)||function(c){return function(c){return"a"==c.nodeName.toLowerCase()}(c)&&c.hasAttribute("href")}(c)||c.hasAttribute("contenteditable")||da(c))}(o)&&!this.isDisabled(o)&&((null==l?void 0:l.ignoreVisibility)||this.isVisible(o))}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(Gt))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();function da(c){if(!c.hasAttribute("tabindex")||void 0===c.tabIndex)return!1;let u=c.getAttribute("tabindex");return!(!u||isNaN(parseInt(u,10)))}function Id(c){if(!da(c))return null;const u=parseInt(c.getAttribute("tabindex")||"",10);return isNaN(u)?-1:u}class pg{constructor(u,o,l,p,b=!1){this._element=u,this._checker=o,this._ngZone=l,this._document=p,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,b||this.attachAnchors()}get enabled(){return this._enabled}set enabled(u){this._enabled=u,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(u,this._startAnchor),this._toggleAnchorTabIndex(u,this._endAnchor))}destroy(){const u=this._startAnchor,o=this._endAnchor;u&&(u.removeEventListener("focus",this.startAnchorListener),u.remove()),o&&(o.removeEventListener("focus",this.endAnchorListener),o.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(u){return new Promise(o=>{this._executeOnStable(()=>o(this.focusInitialElement(u)))})}focusFirstTabbableElementWhenReady(u){return new Promise(o=>{this._executeOnStable(()=>o(this.focusFirstTabbableElement(u)))})}focusLastTabbableElementWhenReady(u){return new Promise(o=>{this._executeOnStable(()=>o(this.focusLastTabbableElement(u)))})}_getRegionBoundary(u){const o=this._element.querySelectorAll(`[cdk-focus-region-${u}], [cdkFocusRegion${u}], [cdk-focus-${u}]`);return"start"==u?o.length?o[0]:this._getFirstTabbableElement(this._element):o.length?o[o.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(u){const o=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(o){if(!this._checker.isFocusable(o)){const l=this._getFirstTabbableElement(o);return null==l||l.focus(u),!!l}return o.focus(u),!0}return this.focusFirstTabbableElement(u)}focusFirstTabbableElement(u){const o=this._getRegionBoundary("start");return o&&o.focus(u),!!o}focusLastTabbableElement(u){const o=this._getRegionBoundary("end");return o&&o.focus(u),!!o}hasAttached(){return this._hasAttached}_getFirstTabbableElement(u){if(this._checker.isFocusable(u)&&this._checker.isTabbable(u))return u;const o=u.children;for(let l=0;l<o.length;l++){const p=o[l].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(o[l]):null;if(p)return p}return null}_getLastTabbableElement(u){if(this._checker.isFocusable(u)&&this._checker.isTabbable(u))return u;const o=u.children;for(let l=o.length-1;l>=0;l--){const p=o[l].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(o[l]):null;if(p)return p}return null}_createAnchor(){const u=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,u),u.classList.add("cdk-visually-hidden"),u.classList.add("cdk-focus-trap-anchor"),u.setAttribute("aria-hidden","true"),u}_toggleAnchorTabIndex(u,o){u?o.setAttribute("tabindex","0"):o.removeAttribute("tabindex")}toggleAnchors(u){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(u,this._startAnchor),this._toggleAnchorTabIndex(u,this._endAnchor))}_executeOnStable(u){this._ngZone.isStable?u():this._ngZone.onStable.pipe((0,Mt.q)(1)).subscribe(u)}}let fg=(()=>{class c{constructor(o,l,p){this._checker=o,this._ngZone=l,this._document=p}create(o,l=!1){return new pg(o,this._checker,this._ngZone,this._document,l)}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(Md),r.LFG(r.R0b),r.LFG(E.K0))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();function lc(c){return 0===c.buttons||0===c.offsetX&&0===c.offsetY}function cc(c){const u=c.touches&&c.touches[0]||c.changedTouches&&c.changedTouches[0];return!(!u||-1!==u.identifier||null!=u.radiusX&&1!==u.radiusX||null!=u.radiusY&&1!==u.radiusY)}const gg=new r.OlP("cdk-input-modality-detector-options"),Ld={ignoreKeys:[18,17,224,91,16]},Kr=Mn({passive:!0,capture:!0});let mg=(()=>{class c{constructor(o,l,p,b){this._platform=o,this._mostRecentTarget=null,this._modality=new ig.X(null),this._lastTouchMs=0,this._onKeydown=G=>{var Z,oe;(null==(oe=null==(Z=this._options)?void 0:Z.ignoreKeys)?void 0:oe.some(pe=>pe===G.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Oi(G))},this._onMousedown=G=>{Date.now()-this._lastTouchMs<650||(this._modality.next(lc(G)?"keyboard":"mouse"),this._mostRecentTarget=Oi(G))},this._onTouchstart=G=>{cc(G)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Oi(G))},this._options=Ft(Ft({},Ld),b),this.modalityDetected=this._modality.pipe(nc(1)),this.modalityChanged=this.modalityDetected.pipe(Ge()),o.isBrowser&&l.runOutsideAngular(()=>{p.addEventListener("keydown",this._onKeydown,Kr),p.addEventListener("mousedown",this._onMousedown,Kr),p.addEventListener("touchstart",this._onTouchstart,Kr)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Kr),document.removeEventListener("mousedown",this._onMousedown,Kr),document.removeEventListener("touchstart",this._onTouchstart,Kr))}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(Gt),r.LFG(r.R0b),r.LFG(E.K0),r.LFG(gg,8))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const vg=new r.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Ln=new r.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Xo=(()=>{class c{constructor(o,l,p,b){this._ngZone=l,this._defaultOptions=b,this._document=p,this._liveElement=o||this._createLiveElement()}announce(o,...l){const p=this._defaultOptions;let b,G;return 1===l.length&&"number"==typeof l[0]?G=l[0]:[b,G]=l,this.clear(),clearTimeout(this._previousTimeout),b||(b=p&&p.politeness?p.politeness:"polite"),null==G&&p&&(G=p.duration),this._liveElement.setAttribute("aria-live",b),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(Z=>this._currentResolve=Z)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=o,"number"==typeof G&&(this._previousTimeout=setTimeout(()=>this.clear(),G)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var o,l;clearTimeout(this._previousTimeout),null==(o=this._liveElement)||o.remove(),this._liveElement=null,null==(l=this._currentResolve)||l.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const o="cdk-live-announcer-element",l=this._document.getElementsByClassName(o),p=this._document.createElement("div");for(let b=0;b<l.length;b++)l[b].remove();return p.classList.add(o),p.classList.add("cdk-visually-hidden"),p.setAttribute("aria-atomic","true"),p.setAttribute("aria-live","polite"),this._document.body.appendChild(p),p}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(vg,8),r.LFG(r.R0b),r.LFG(E.K0),r.LFG(Ln,8))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const _g=new r.OlP("cdk-focus-monitor-default-options"),ci=Mn({passive:!0,capture:!0});let Nn=(()=>{class c{constructor(o,l,p,b,G){this._ngZone=o,this._platform=l,this._inputModalityDetector=p,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new tt.x,this._rootNodeFocusAndBlurListener=Z=>{const oe=Oi(Z),pe="focus"===Z.type?this._onFocus:this._onBlur;for(let Oe=oe;Oe;Oe=Oe.parentElement)pe.call(this,Z,Oe)},this._document=b,this._detectionMode=(null==G?void 0:G.detectionMode)||0}monitor(o,l=!1){const p=Bt(o);if(!this._platform.isBrowser||1!==p.nodeType)return(0,Hi.of)(null);const b=Zl(p)||this._getDocument(),G=this._elementInfo.get(p);if(G)return l&&(G.checkChildren=!0),G.subject;const Z={checkChildren:l,subject:new tt.x,rootNode:b};return this._elementInfo.set(p,Z),this._registerGlobalListeners(Z),Z.subject}stopMonitoring(o){const l=Bt(o),p=this._elementInfo.get(l);p&&(p.subject.complete(),this._setClasses(l),this._elementInfo.delete(l),this._removeGlobalListeners(p))}focusVia(o,l,p){const b=Bt(o);b===this._getDocument().activeElement?this._getClosestElementsInfo(b).forEach(([Z,oe])=>this._originChanged(Z,l,oe)):(this._setOrigin(l),"function"==typeof b.focus&&b.focus(p))}ngOnDestroy(){this._elementInfo.forEach((o,l)=>this.stopMonitoring(l))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(o){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(o)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(o){return 1===this._detectionMode||!!(null==o?void 0:o.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(o,l){o.classList.toggle("cdk-focused",!!l),o.classList.toggle("cdk-touch-focused","touch"===l),o.classList.toggle("cdk-keyboard-focused","keyboard"===l),o.classList.toggle("cdk-mouse-focused","mouse"===l),o.classList.toggle("cdk-program-focused","program"===l)}_setOrigin(o,l=!1){this._ngZone.runOutsideAngular(()=>{this._origin=o,this._originFromTouchInteraction="touch"===o&&l,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(o,l){const p=this._elementInfo.get(l),b=Oi(o);!p||!p.checkChildren&&l!==b||this._originChanged(l,this._getFocusOrigin(b),p)}_onBlur(o,l){const p=this._elementInfo.get(l);!p||p.checkChildren&&o.relatedTarget instanceof Node&&l.contains(o.relatedTarget)||(this._setClasses(l),this._emitOrigin(p.subject,null))}_emitOrigin(o,l){this._ngZone.run(()=>o.next(l))}_registerGlobalListeners(o){if(!this._platform.isBrowser)return;const l=o.rootNode,p=this._rootNodeFocusListenerCount.get(l)||0;p||this._ngZone.runOutsideAngular(()=>{l.addEventListener("focus",this._rootNodeFocusAndBlurListener,ci),l.addEventListener("blur",this._rootNodeFocusAndBlurListener,ci)}),this._rootNodeFocusListenerCount.set(l,p+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(yt(this._stopInputModalityDetector)).subscribe(b=>{this._setOrigin(b,!0)}))}_removeGlobalListeners(o){const l=o.rootNode;if(this._rootNodeFocusListenerCount.has(l)){const p=this._rootNodeFocusListenerCount.get(l);p>1?this._rootNodeFocusListenerCount.set(l,p-1):(l.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ci),l.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ci),this._rootNodeFocusListenerCount.delete(l))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(o,l,p){this._setClasses(o,l),this._emitOrigin(p.subject,l),this._lastFocusOrigin=l}_getClosestElementsInfo(o){const l=[];return this._elementInfo.forEach((p,b)=>{(b===o||p.checkChildren&&b.contains(o))&&l.push([b,p])}),l}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(r.R0b),r.LFG(Gt),r.LFG(mg),r.LFG(E.K0,8),r.LFG(_g,8))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),Cg=(()=>{class c{constructor(o,l){this._elementRef=o,this._focusMonitor=l,this.cdkFocusChange=new r.vpe}ngAfterViewInit(){const o=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(o,1===o.nodeType&&o.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(l=>this.cdkFocusChange.emit(l))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(Nn))},c.\u0275dir=r.lG2({type:c,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),c})();const Bd="cdk-high-contrast-black-on-white",ur="cdk-high-contrast-white-on-black",uc="cdk-high-contrast-active";let kd=(()=>{class c{constructor(o,l){this._platform=o,this._document=l}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const o=this._document.createElement("div");o.style.backgroundColor="rgb(1,2,3)",o.style.position="absolute",this._document.body.appendChild(o);const l=this._document.defaultView||window,p=l&&l.getComputedStyle?l.getComputedStyle(o):null,b=(p&&p.backgroundColor||"").replace(/ /g,"");switch(o.remove(),b){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const o=this._document.body.classList;o.remove(uc),o.remove(Bd),o.remove(ur),this._hasCheckedHighContrastMode=!0;const l=this.getHighContrastMode();1===l?(o.add(uc),o.add(Bd)):2===l&&(o.add(uc),o.add(ur))}}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(Gt),r.LFG(E.K0))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),Gd=(()=>{class c{constructor(o){o._applyBodyHighContrastModeCssClasses()}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(kd))},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[[qr]]}),c})();var Dt=w(579),oi=w(9555);function Vd(c,u){if(1&c&&r._UZ(0,"mat-pseudo-checkbox",4),2&c){const o=r.oxw();r.Q6J("state",o.selected?"checked":"unchecked")("disabled",o.disabled)}}function wg(c,u){if(1&c&&(r.TgZ(0,"span",5),r._uU(1),r.qZA()),2&c){const o=r.oxw();r.xp6(1),r.hij("(",o.group.label,")")}}const bg=["*"],dc=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Rt=(()=>{class c{constructor(o,l,p){this._sanityChecks=l,this._document=p,this._hasDoneGlobalChecks=!1,o._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(o){return!ia()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[o])}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(kd),r.LFG(dc,8),r.LFG(E.K0))},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[[Ur],Ur]}),c})();function dr(c){return class extends c{constructor(...u){super(...u),this._disabled=!1}get disabled(){return this._disabled}set disabled(u){this._disabled=st(u)}}}function Qr(c,u){return class extends c{constructor(...o){super(...o),this.defaultColor=u,this.color=u}get color(){return this._color}set color(o){const l=o||this.defaultColor;l!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),l&&this._elementRef.nativeElement.classList.add(`mat-${l}`),this._color=l)}}}function $i(c){return class extends c{constructor(...u){super(...u),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(u){this._disableRipple=st(u)}}}function hc(c,u=0){return class extends c{constructor(...o){super(...o),this._tabIndex=u,this.defaultTabIndex=u}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(o){this._tabIndex=null!=o?Ji(o):this.defaultTabIndex}}}function Jr(c){return class extends c{constructor(...u){super(...u),this.stateChanges=new tt.x,this.errorState=!1}updateErrorState(){const u=this.errorState,b=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);b!==u&&(this.errorState=b,this.stateChanges.next())}}}let Bn=(()=>{class c{isErrorState(o,l){return!!(o&&o.invalid&&(o.touched||l&&l.submitted))}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),Xr=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275dir=r.lG2({type:c,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),c})();function $d(c,u,o="mat"){c.changes.pipe((0,Dt.O)(c)).subscribe(({length:l})=>{pr(u,`${o}-2-line`,!1),pr(u,`${o}-3-line`,!1),pr(u,`${o}-multi-line`,!1),2===l||3===l?pr(u,`${o}-${l}-line`,!0):l>3&&pr(u,`${o}-multi-line`,!0)})}function pr(c,u,o){c.nativeElement.classList.toggle(u,o)}let jd=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[[Rt],Rt]}),c})();class Rg{constructor(u,o,l){this._renderer=u,this.element=o,this.config=l,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const pa={enterDuration:225,exitDuration:150},pc=Mn({passive:!0}),es=["mousedown","touchstart"],fc=["mouseup","mouseleave","touchend","touchcancel"];class gc{constructor(u,o,l,p){this._target=u,this._ngZone=o,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,p.isBrowser&&(this._containerElement=Bt(l))}fadeInRipple(u,o,l={}){const p=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),b=Ft(Ft({},pa),l.animation);l.centered&&(u=p.left+p.width/2,o=p.top+p.height/2);const G=l.radius||function(c,u,o){const l=Math.max(Math.abs(c-o.left),Math.abs(c-o.right)),p=Math.max(Math.abs(u-o.top),Math.abs(u-o.bottom));return Math.sqrt(l*l+p*p)}(u,o,p),Z=u-p.left,oe=o-p.top,pe=b.enterDuration,Oe=document.createElement("div");Oe.classList.add("mat-ripple-element"),Oe.style.left=Z-G+"px",Oe.style.top=oe-G+"px",Oe.style.height=2*G+"px",Oe.style.width=2*G+"px",null!=l.color&&(Oe.style.backgroundColor=l.color),Oe.style.transitionDuration=`${pe}ms`,this._containerElement.appendChild(Oe),window.getComputedStyle(Oe).getPropertyValue("opacity"),Oe.style.transform="scale(1)";const qe=new Rg(this,Oe,l);return qe.state=0,this._activeRipples.add(qe),l.persistent||(this._mostRecentTransientRipple=qe),this._runTimeoutOutsideZone(()=>{const nt=qe===this._mostRecentTransientRipple;qe.state=1,!l.persistent&&(!nt||!this._isPointerDown)&&qe.fadeOut()},pe),qe}fadeOutRipple(u){const o=this._activeRipples.delete(u);if(u===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!o)return;const l=u.element,p=Ft(Ft({},pa),u.config.animation);l.style.transitionDuration=`${p.exitDuration}ms`,l.style.opacity="0",u.state=2,this._runTimeoutOutsideZone(()=>{u.state=3,l.remove()},p.exitDuration)}fadeOutAll(){this._activeRipples.forEach(u=>u.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(u=>{u.config.persistent||u.fadeOut()})}setupTriggerEvents(u){const o=Bt(u);!o||o===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=o,this._registerEvents(es))}handleEvent(u){"mousedown"===u.type?this._onMousedown(u):"touchstart"===u.type?this._onTouchStart(u):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(fc),this._pointerUpEventsRegistered=!0)}_onMousedown(u){const o=lc(u),l=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!o&&!l&&(this._isPointerDown=!0,this.fadeInRipple(u.clientX,u.clientY,this._target.rippleConfig))}_onTouchStart(u){if(!this._target.rippleDisabled&&!cc(u)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const o=u.changedTouches;for(let l=0;l<o.length;l++)this.fadeInRipple(o[l].clientX,o[l].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(u=>{!u.config.persistent&&(1===u.state||u.config.terminateOnPointerUp&&0===u.state)&&u.fadeOut()}))}_runTimeoutOutsideZone(u,o=0){this._ngZone.runOutsideAngular(()=>setTimeout(u,o))}_registerEvents(u){this._ngZone.runOutsideAngular(()=>{u.forEach(o=>{this._triggerElement.addEventListener(o,this,pc)})})}_removeTriggerEvents(){this._triggerElement&&(es.forEach(u=>{this._triggerElement.removeEventListener(u,this,pc)}),this._pointerUpEventsRegistered&&fc.forEach(u=>{this._triggerElement.removeEventListener(u,this,pc)}))}}const fa=new r.OlP("mat-ripple-global-options");let pi=(()=>{class c{constructor(o,l,p,b,G){this._elementRef=o,this._animationMode=G,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=b||{},this._rippleRenderer=new gc(this,l,o,p)}get disabled(){return this._disabled}set disabled(o){o&&this.fadeOutAllNonPersistent(),this._disabled=o,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(o){this._trigger=o,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Ft(Ft(Ft({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(o,l=0,p){return"number"==typeof o?this._rippleRenderer.fadeInRipple(o,l,Ft(Ft({},this.rippleConfig),p)):this._rippleRenderer.fadeInRipple(0,0,Ft(Ft({},this.rippleConfig),o))}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(Gt),r.Y36(fa,8),r.Y36(oi.Qb,8))},c.\u0275dir=r.lG2({type:c,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(o,l){2&o&&r.ekj("mat-ripple-unbounded",l.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),c})(),fr=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[[Rt],Rt]}),c})(),Zd=(()=>{class c{constructor(o){this._animationMode=o,this.state="unchecked",this.disabled=!1}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(oi.Qb,8))},c.\u0275cmp=r.Xpm({type:c,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(o,l){2&o&&r.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===l.state)("mat-pseudo-checkbox-checked","checked"===l.state)("mat-pseudo-checkbox-disabled",l.disabled)("_mat-animation-noopable","NoopAnimations"===l._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(o,l){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),c})(),eo=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[[Rt]]}),c})();const ga=new r.OlP("MAT_OPTION_PARENT_COMPONENT"),va=new r.OlP("MatOptgroup");let ts=0;class mc{constructor(u,o=!1){this.source=u,this.isUserInput=o}}let Tg=(()=>{class c{constructor(o,l,p,b){this._element=o,this._changeDetectorRef=l,this._parent=p,this.group=b,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+ts++,this.onSelectionChange=new r.vpe,this._stateChanges=new tt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(o){this._disabled=st(o)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(o,l){const p=this._getHostElement();"function"==typeof p.focus&&p.focus(l)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(o){(13===o.keyCode||32===o.keyCode)&&!ni(o)&&(this._selectViaInteraction(),o.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const o=this.viewValue;o!==this._mostRecentViewValue&&(this._mostRecentViewValue=o,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(o=!1){this.onSelectionChange.emit(new mc(this,o))}}return c.\u0275fac=function(o){r.$Z()},c.\u0275dir=r.lG2({type:c,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),c})(),kn=(()=>{class c extends Tg{constructor(o,l,p,b){super(o,l,p,b)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(ga,8),r.Y36(va,8))},c.\u0275cmp=r.Xpm({type:c,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(o,l){1&o&&r.NdJ("click",function(){return l._selectViaInteraction()})("keydown",function(b){return l._handleKeydown(b)}),2&o&&(r.Ikx("id",l.id),r.uIk("tabindex",l._getTabIndex())("aria-selected",l._getAriaSelected())("aria-disabled",l.disabled.toString()),r.ekj("mat-selected",l.selected)("mat-option-multiple",l.multiple)("mat-active",l.active)("mat-option-disabled",l.disabled))},exportAs:["matOption"],features:[r.qOj],ngContentSelectors:bg,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(o,l){1&o&&(r.F$t(),r.YNc(0,Vd,1,2,"mat-pseudo-checkbox",0),r.TgZ(1,"span",1),r.Hsn(2),r.qZA(),r.YNc(3,wg,2,1,"span",2),r._UZ(4,"div",3)),2&o&&(r.Q6J("ngIf",l.multiple),r.xp6(3),r.Q6J("ngIf",l.group&&l.group._inert),r.xp6(1),r.Q6J("matRippleTrigger",l._getHostElement())("matRippleDisabled",l.disabled||l.disableRipple))},directives:[E.O5,pi,Zd],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),c})();function vc(c,u,o){if(o.length){let l=u.toArray(),p=o.toArray(),b=0;for(let G=0;G<c+1;G++)l[G].group&&l[G].group===p[b]&&b++;return b}return 0}function to(c,u,o,l){return c<o?c:c+u>o+l?Math.max(0,c-l+u):o}let _t=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[[fr,E.ez,Rt,eo]]}),c})();var Cn=w(4923),Je=w(9814);function Fg(c,u){}class yc{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const ya={dialogContainer:(0,Je.X$)("dialogContainer",[(0,Je.SB)("void, exit",(0,Je.oB)({opacity:0,transform:"scale(0.7)"})),(0,Je.SB)("enter",(0,Je.oB)({transform:"none"})),(0,Je.eR)("* => enter",(0,Je.ru)([(0,Je.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,Je.oB)({transform:"none",opacity:1})),(0,Je.IO)("@*",(0,Je.pV)(),{optional:!0})])),(0,Je.eR)("* => void, * => exit",(0,Je.ru)([(0,Je.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,Je.oB)({opacity:0})),(0,Je.IO)("@*",(0,Je.pV)(),{optional:!0})]))])};let qd=(()=>{class c extends on{constructor(o,l,p,b,G,Z,oe,pe){super(),this._elementRef=o,this._focusTrapFactory=l,this._changeDetectorRef=p,this._config=G,this._interactivityChecker=Z,this._ngZone=oe,this._focusMonitor=pe,this._animationStateChanged=new r.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=Oe=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(Oe)),this._ariaLabelledBy=G.ariaLabelledBy||null,this._document=b}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=ta())}attachComponentPortal(o){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(o)}attachTemplatePortal(o){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(o)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(o,l){this._interactivityChecker.isFocusable(o)||(o.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const p=()=>{o.removeEventListener("blur",p),o.removeEventListener("mousedown",p),o.removeAttribute("tabindex")};o.addEventListener("blur",p),o.addEventListener("mousedown",p)})),o.focus(l)}_focusByCssSelector(o,l){let p=this._elementRef.nativeElement.querySelector(o);p&&this._forceFocus(p,l)}_trapFocus(){const o=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||o.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(l=>{l||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const o=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&o&&"function"==typeof o.focus){const l=ta(),p=this._elementRef.nativeElement;(!l||l===this._document.body||l===p||p.contains(l))&&(this._focusMonitor?(this._focusMonitor.focusVia(o,this._closeInteractionType),this._closeInteractionType=null):o.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const o=this._elementRef.nativeElement,l=ta();return o===l||o.contains(l)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(fg),r.Y36(r.sBO),r.Y36(E.K0,8),r.Y36(yc),r.Y36(Md),r.Y36(r.R0b),r.Y36(Nn))},c.\u0275dir=r.lG2({type:c,viewQuery:function(o,l){if(1&o&&r.Gf(_n,7),2&o){let p;r.iGM(p=r.CRH())&&(l._portalOutlet=p.first)}},features:[r.qOj]}),c})(),_c=(()=>{class c extends qd{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:o,totalTime:l}){"enter"===o?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:l})):"exit"===o&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:l}))}_onAnimationStart({toState:o,totalTime:l}){"enter"===o?this._animationStateChanged.next({state:"opening",totalTime:l}):("exit"===o||"void"===o)&&this._animationStateChanged.next({state:"closing",totalTime:l})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return c.\u0275fac=function(){let u;return function(l){return(u||(u=r.n5z(c)))(l||c)}}(),c.\u0275cmp=r.Xpm({type:c,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(o,l){1&o&&r.WFA("@dialogContainer.start",function(b){return l._onAnimationStart(b)})("@dialogContainer.done",function(b){return l._onAnimationDone(b)}),2&o&&(r.Ikx("id",l._id),r.uIk("role",l._config.role)("aria-labelledby",l._config.ariaLabel?null:l._ariaLabelledBy)("aria-label",l._config.ariaLabel)("aria-describedby",l._config.ariaDescribedBy||null),r.d8E("@dialogContainer",l._state))},features:[r.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(o,l){1&o&&r.YNc(0,Fg,0,0,"ng-template",0)},directives:[_n],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[ya.dialogContainer]}}),c})(),Pg=0;class wn{constructor(u,o,l="mat-dialog-"+Pg++){this._overlayRef=u,this._containerInstance=o,this.id=l,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new tt.x,this._afterClosed=new tt.x,this._beforeClosed=new tt.x,this._state=0,o._id=l,o._animationStateChanged.pipe((0,xi.h)(p=>"opened"===p.state),(0,Mt.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),o._animationStateChanged.pipe((0,xi.h)(p=>"closed"===p.state),(0,Mt.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),u.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),u.keydownEvents().pipe((0,xi.h)(p=>27===p.keyCode&&!this.disableClose&&!ni(p))).subscribe(p=>{p.preventDefault(),_a(this,"keyboard")}),u.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():_a(this,"mouse")})}close(u){this._result=u,this._containerInstance._animationStateChanged.pipe((0,xi.h)(o=>"closing"===o.state),(0,Mt.q)(1)).subscribe(o=>{this._beforeClosed.next(u),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),o.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(u){let o=this._getPositionStrategy();return u&&(u.left||u.right)?u.left?o.left(u.left):o.right(u.right):o.centerHorizontally(),u&&(u.top||u.bottom)?u.top?o.top(u.top):o.bottom(u.bottom):o.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(u="",o=""){return this._overlayRef.updateSize({width:u,height:o}),this._overlayRef.updatePosition(),this}addPanelClass(u){return this._overlayRef.addPanelClass(u),this}removePanelClass(u){return this._overlayRef.removePanelClass(u),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function _a(c,u,o){return void 0!==c._containerInstance&&(c._containerInstance._closeInteractionType=u),c.close(o)}const no=new r.OlP("MatDialogData"),Mg=new r.OlP("mat-dialog-default-options"),Ca=new r.OlP("mat-dialog-scroll-strategy"),ro={provide:Ca,deps:[Wi],useFactory:function(c){return()=>c.scrollStrategies.block()}};let Lg=(()=>{class c{constructor(o,l,p,b,G,Z,oe,pe,Oe,qe){this._overlay=o,this._injector=l,this._defaultOptions=p,this._parentDialog=b,this._overlayContainer=G,this._dialogRefConstructor=oe,this._dialogContainerType=pe,this._dialogDataToken=Oe,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new tt.x,this._afterOpenedAtThisLevel=new tt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,Cn.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Dt.O)(void 0))),this._scrollStrategy=Z}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const o=this._parentDialog;return o?o._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(o,l){l=function(c,u){return Ft(Ft({},u),c)}(l,this._defaultOptions||new yc),l.id&&this.getDialogById(l.id);const p=this._createOverlay(l),b=this._attachDialogContainer(p,l),G=this._attachDialogContent(o,b,p,l);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(G),G.afterClosed().subscribe(()=>this._removeOpenDialog(G)),this.afterOpened.next(G),b._initializeWithAttachedContent(),G}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(o){return this.openDialogs.find(l=>l.id===o)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(o){const l=this._getOverlayConfig(o);return this._overlay.create(l)}_getOverlayConfig(o){const l=new Yo({positionStrategy:this._overlay.position().global(),scrollStrategy:o.scrollStrategy||this._scrollStrategy(),panelClass:o.panelClass,hasBackdrop:o.hasBackdrop,direction:o.direction,minWidth:o.minWidth,minHeight:o.minHeight,maxWidth:o.maxWidth,maxHeight:o.maxHeight,disposeOnNavigation:o.closeOnNavigation});return o.backdropClass&&(l.backdropClass=o.backdropClass),l}_attachDialogContainer(o,l){const b=r.zs3.create({parent:l&&l.viewContainerRef&&l.viewContainerRef.injector||this._injector,providers:[{provide:yc,useValue:l}]}),G=new zr(this._dialogContainerType,l.viewContainerRef,b,l.componentFactoryResolver);return o.attach(G).instance}_attachDialogContent(o,l,p,b){const G=new this._dialogRefConstructor(p,l,b.id);if(o instanceof r.Rgc)l.attachTemplatePortal(new yn(o,null,{$implicit:b.data,dialogRef:G}));else{const Z=this._createInjector(b,G,l),oe=l.attachComponentPortal(new zr(o,b.viewContainerRef,Z,b.componentFactoryResolver));G.componentInstance=oe.instance}return G.updateSize(b.width,b.height).updatePosition(b.position),G}_createInjector(o,l,p){const b=o&&o.viewContainerRef&&o.viewContainerRef.injector,G=[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:o.data},{provide:this._dialogRefConstructor,useValue:l}];return o.direction&&(!b||!b.get(Kt,null,r.XFs.Optional))&&G.push({provide:Kt,useValue:{value:o.direction,change:(0,Hi.of)()}}),r.zs3.create({parent:b||this._injector,providers:G})}_removeOpenDialog(o){const l=this.openDialogs.indexOf(o);l>-1&&(this.openDialogs.splice(l,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((p,b)=>{p?b.setAttribute("aria-hidden",p):b.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const o=this._overlayContainer.getContainerElement();if(o.parentElement){const l=o.parentElement.children;for(let p=l.length-1;p>-1;p--){let b=l[p];b!==o&&"SCRIPT"!==b.nodeName&&"STYLE"!==b.nodeName&&!b.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(b,b.getAttribute("aria-hidden")),b.setAttribute("aria-hidden","true"))}}}_closeDialogs(o){let l=o.length;for(;l--;)o[l].close()}}return c.\u0275fac=function(o){r.$Z()},c.\u0275dir=r.lG2({type:c}),c})(),bn=(()=>{class c extends Lg{constructor(o,l,p,b,G,Z,oe,pe){super(o,l,b,Z,oe,G,wn,_c,no,pe)}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(Wi),r.LFG(r.zs3),r.LFG(E.Ye,8),r.LFG(Mg,8),r.LFG(Ca),r.LFG(c,12),r.LFG(sa),r.LFG(oi.Qb,8))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac}),c})(),Bg=0,sn=(()=>{class c{constructor(o,l,p){this.dialogRef=o,this._elementRef=l,this._dialog=p,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=Kd(this._elementRef,this._dialog.openDialogs))}ngOnChanges(o){const l=o._matDialogClose||o._matDialogCloseResult;l&&(this.dialogResult=l.currentValue)}_onButtonClick(o){_a(this.dialogRef,0===o.screenX&&0===o.screenY?"keyboard":"mouse",this.dialogResult)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(wn,8),r.Y36(r.SBq),r.Y36(bn))},c.\u0275dir=r.lG2({type:c,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(o,l){1&o&&r.NdJ("click",function(b){return l._onButtonClick(b)}),2&o&&r.uIk("aria-label",l.ariaLabel||null)("type",l.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[r.TTD]}),c})(),Cc=(()=>{class c{constructor(o,l,p){this._dialogRef=o,this._elementRef=l,this._dialog=p,this.id="mat-dialog-title-"+Bg++}ngOnInit(){this._dialogRef||(this._dialogRef=Kd(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const o=this._dialogRef._containerInstance;o&&!o._ariaLabelledBy&&(o._ariaLabelledBy=this.id)})}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(wn,8),r.Y36(r.SBq),r.Y36(bn))},c.\u0275dir=r.lG2({type:c,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(o,l){2&o&&r.Ikx("id",l.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),c})();function Kd(c,u){let o=c.nativeElement.parentElement;for(;o&&!o.classList.contains("mat-dialog-container");)o=o.parentElement;return o?u.find(l=>l.id===o.id):null}let kg=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({providers:[bn,ro],imports:[[Qo,qo,Rt],Rt]}),c})();var Gn=w(7878),Yd=w(3703);function Gg(c,u){1&c&&r.Hsn(0)}const Hn=["*"];function Qd(c,u){}const Hg=function(c){return{animationDuration:c}},bc=function(c,u){return{value:c,params:u}},Jd=["tabListContainer"],is=["tabList"],Xd=["tabListInner"],oo=["nextPaginator"],eh=["previousPaginator"],Vg=["tabBodyWrapper"],th=["tabHeader"];function Wg(c,u){}function Ec(c,u){if(1&c&&r.YNc(0,Wg,0,0,"ng-template",10),2&c){const o=r.oxw().$implicit;r.Q6J("cdkPortalOutlet",o.templateLabel)}}function wa(c,u){if(1&c&&r._uU(0),2&c){const o=r.oxw().$implicit;r.Oqu(o.textLabel)}}function $g(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"div",6),r.NdJ("click",function(){const p=r.CHM(o),b=p.$implicit,G=p.index,Z=r.oxw(),oe=r.MAs(1);return Z._handleClick(b,oe,G)})("cdkFocusChange",function(p){const G=r.CHM(o).index;return r.oxw()._tabFocusChanged(p,G)}),r.TgZ(1,"div",7),r.YNc(2,Ec,1,1,"ng-template",8),r.YNc(3,wa,1,1,"ng-template",null,9,r.W1O),r.qZA(),r.qZA()}if(2&c){const o=u.$implicit,l=u.index,p=r.MAs(4),b=r.oxw();r.ekj("mat-tab-label-active",b.selectedIndex===l),r.Q6J("id",b._getTabLabelId(l))("ngClass",o.labelClass)("disabled",o.disabled)("matRippleDisabled",o.disabled||b.disableRipple),r.uIk("tabIndex",b._getTabIndex(o,l))("aria-posinset",l+1)("aria-setsize",b._tabs.length)("aria-controls",b._getTabContentId(l))("aria-selected",b.selectedIndex===l)("aria-label",o.ariaLabel||null)("aria-labelledby",!o.ariaLabel&&o.ariaLabelledby?o.ariaLabelledby:null),r.xp6(2),r.Q6J("ngIf",o.templateLabel)("ngIfElse",p)}}function jg(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"mat-tab-body",11),r.NdJ("_onCentered",function(){return r.CHM(o),r.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(p){return r.CHM(o),r.oxw()._setTabBodyWrapperHeight(p)}),r.qZA()}if(2&c){const o=u.$implicit,l=u.index,p=r.oxw();r.ekj("mat-tab-body-active",p.selectedIndex===l),r.Q6J("id",p._getTabContentId(l))("ngClass",o.bodyClass)("content",o.content)("position",o.position)("origin",o.origin)("animationDuration",p.animationDuration),r.uIk("tabindex",null!=p.contentTabIndex&&p.selectedIndex===l?p.contentTabIndex:null)("aria-labelledby",p._getTabLabelId(l))}}const ih=["mat-tab-nav-bar",""],Ug=new r.OlP("MatInkBarPositioner",{providedIn:"root",factory:function(){return u=>({left:u?(u.offsetLeft||0)+"px":"0",width:u?(u.offsetWidth||0)+"px":"0"})}});let mi=(()=>{class c{constructor(o,l,p,b){this._elementRef=o,this._ngZone=l,this._inkBarPositioner=p,this._animationMode=b}alignToElement(o){this.show(),this._ngZone.onStable.pipe((0,Mt.q)(1)).subscribe(()=>{const l=this._inkBarPositioner(o),p=this._elementRef.nativeElement;p.style.left=l.left,p.style.width=l.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(Ug),r.Y36(oi.Qb,8))},c.\u0275dir=r.lG2({type:c,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(o,l){2&o&&r.ekj("_mat-animation-noopable","NoopAnimations"===l._animationMode)}}),c})();const nh=new r.OlP("MatTabContent"),ns=new r.OlP("MatTabLabel"),rh=new r.OlP("MAT_TAB"),oh=dr(class{}),Ea=new r.OlP("MAT_TAB_GROUP");let sh=(()=>{class c extends oh{constructor(o,l){super(),this._viewContainerRef=o,this._closestTabGroup=l,this.textLabel="",this._contentPortal=null,this._stateChanges=new tt.x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(o){this._setTemplateLabelInput(o)}get content(){return this._contentPortal}ngOnChanges(o){(o.hasOwnProperty("textLabel")||o.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new yn(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(o){o&&o._closestTab===this&&(this._templateLabel=o)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.s_b),r.Y36(Ea,8))},c.\u0275cmp=r.Xpm({type:c,selectors:[["mat-tab"]],contentQueries:function(o,l,p){if(1&o&&(r.Suo(p,ns,5),r.Suo(p,nh,7,r.Rgc)),2&o){let b;r.iGM(b=r.CRH())&&(l.templateLabel=b.first),r.iGM(b=r.CRH())&&(l._explicitContent=b.first)}},viewQuery:function(o,l){if(1&o&&r.Gf(r.Rgc,7),2&o){let p;r.iGM(p=r.CRH())&&(l._implicitContent=p.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[r._Bn([{provide:rh,useExisting:c}]),r.qOj,r.TTD],ngContentSelectors:Hn,decls:1,vars:0,template:function(o,l){1&o&&(r.F$t(),r.YNc(0,Gg,1,0,"ng-template"))},encapsulation:2}),c})();const an={translateTab:(0,Je.X$)("translateTab",[(0,Je.SB)("center, void, left-origin-center, right-origin-center",(0,Je.oB)({transform:"none"})),(0,Je.SB)("left",(0,Je.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),(0,Je.SB)("right",(0,Je.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),(0,Je.eR)("* => left, * => right, left => center, right => center",(0,Je.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,Je.eR)("void => left-origin-center",[(0,Je.oB)({transform:"translate3d(-100%, 0, 0)"}),(0,Je.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,Je.eR)("void => right-origin-center",[(0,Je.oB)({transform:"translate3d(100%, 0, 0)"}),(0,Je.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let zg=(()=>{class c extends _n{constructor(o,l,p,b){super(o,l,b),this._host=p,this._centeringSub=kt.w0.EMPTY,this._leavingSub=kt.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,Dt.O)(this._host._isCenterPosition(this._host._position))).subscribe(o=>{o&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r._Vd),r.Y36(r.s_b),r.Y36((0,r.Gpc)(()=>lh)),r.Y36(E.K0))},c.\u0275dir=r.lG2({type:c,selectors:[["","matTabBodyHost",""]],features:[r.qOj]}),c})(),ah=(()=>{class c{constructor(o,l,p){this._elementRef=o,this._dir=l,this._dirChangeSubscription=kt.w0.EMPTY,this._translateTabComplete=new tt.x,this._onCentering=new r.vpe,this._beforeCentering=new r.vpe,this._afterLeavingCenter=new r.vpe,this._onCentered=new r.vpe(!0),this.animationDuration="500ms",l&&(this._dirChangeSubscription=l.change.subscribe(b=>{this._computePositionAnimationState(b),p.markForCheck()})),this._translateTabComplete.pipe(Ge((b,G)=>b.fromState===G.fromState&&b.toState===G.toState)).subscribe(b=>{this._isCenterPosition(b.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(b.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(o){this._positionIndex=o,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(o){const l=this._isCenterPosition(o.toState);this._beforeCentering.emit(l),l&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(o){return"center"==o||"left-origin-center"==o||"right-origin-center"==o}_computePositionAnimationState(o=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==o?"left":"right":this._positionIndex>0?"ltr"==o?"right":"left":"center"}_computePositionFromOrigin(o){const l=this._getLayoutDirection();return"ltr"==l&&o<=0||"rtl"==l&&o>0?"left-origin-center":"right-origin-center"}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(Kt,8),r.Y36(r.sBO))},c.\u0275dir=r.lG2({type:c,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),c})(),lh=(()=>{class c extends ah{constructor(o,l,p){super(o,l,p)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(Kt,8),r.Y36(r.sBO))},c.\u0275cmp=r.Xpm({type:c,selectors:[["mat-tab-body"]],viewQuery:function(o,l){if(1&o&&r.Gf(_n,5),2&o){let p;r.iGM(p=r.CRH())&&(l._portalHost=p.first)}},hostAttrs:[1,"mat-tab-body"],features:[r.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(o,l){1&o&&(r.TgZ(0,"div",0,1),r.NdJ("@translateTab.start",function(b){return l._onTranslateTabStarted(b)})("@translateTab.done",function(b){return l._translateTabComplete.next(b)}),r.YNc(2,Qd,0,0,"ng-template",2),r.qZA()),2&o&&r.Q6J("@translateTab",r.WLB(3,bc,l._position,r.VKq(1,Hg,l.animationDuration)))},directives:[zg],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}\n'],encapsulation:2,data:{animation:[an.translateTab]}}),c})();const Sa=new r.OlP("MAT_TABS_CONFIG"),vi=dr(class{});let ch=(()=>{class c extends vi{constructor(o){super(),this.elementRef=o}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq))},c.\u0275dir=r.lG2({type:c,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(o,l){2&o&&(r.uIk("aria-disabled",!!l.disabled),r.ekj("mat-tab-disabled",l.disabled))},inputs:{disabled:"disabled"},features:[r.qOj]}),c})();const uh=Mn({passive:!0});let Sc=(()=>{class c{constructor(o,l,p,b,G,Z,oe){this._elementRef=o,this._changeDetectorRef=l,this._viewportRuler=p,this._dir=b,this._ngZone=G,this._platform=Z,this._animationMode=oe,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new tt.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new tt.x,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new r.vpe,this.indexFocused=new r.vpe,G.runOutsideAngular(()=>{Ue(o.nativeElement,"mouseleave").pipe(yt(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(o){o=Ji(o),this._selectedIndex!=o&&(this._selectedIndexChanged=!0,this._selectedIndex=o,this._keyManager&&this._keyManager.updateActiveItem(o))}ngAfterViewInit(){Ue(this._previousPaginator.nativeElement,"touchstart",uh).pipe(yt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Ue(this._nextPaginator.nativeElement,"touchstart",uh).pipe(yt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const o=this._dir?this._dir.change:(0,Hi.of)("ltr"),l=this._viewportRuler.change(150),p=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new ua(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,Mt.q)(1)).subscribe(p),(0,jt.T)(o,l,this._items.changes,this._itemsResized()).pipe(yt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),p()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(yt(this._destroyed)).subscribe(b=>{this.indexFocused.emit(b),this._setTabFocus(b)})}_itemsResized(){return"function"!=typeof ResizeObserver?Yd.E:this._items.changes.pipe((0,Dt.O)(this._items),(0,Gn.w)(o=>new m.y(l=>this._ngZone.runOutsideAngular(()=>{const p=new ResizeObserver(()=>{l.next()});return o.forEach(b=>{p.observe(b.elementRef.nativeElement)}),()=>{p.disconnect()}}))),nc(1))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(o){if(!ni(o))switch(o.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(o));break;default:this._keyManager.onKeydown(o)}}_onContentChanges(){const o=this._elementRef.nativeElement.textContent;o!==this._currentTextContent&&(this._currentTextContent=o||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(o){!this._isValidIndex(o)||this.focusIndex===o||!this._keyManager||this._keyManager.setActiveItem(o)}_isValidIndex(o){if(!this._items)return!0;const l=this._items?this._items.toArray()[o]:null;return!!l&&!l.disabled}_setTabFocus(o){if(this._showPaginationControls&&this._scrollToLabel(o),this._items&&this._items.length){this._items.toArray()[o].focus();const l=this._tabListContainer.nativeElement;l.scrollLeft="ltr"==this._getLayoutDirection()?0:l.scrollWidth-l.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const o=this.scrollDistance,l="ltr"===this._getLayoutDirection()?-o:o;this._tabList.nativeElement.style.transform=`translateX(${Math.round(l)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(o){this._scrollTo(o)}_scrollHeader(o){return this._scrollTo(this._scrollDistance+("before"==o?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(o){this._stopInterval(),this._scrollHeader(o)}_scrollToLabel(o){if(this.disablePagination)return;const l=this._items?this._items.toArray()[o]:null;if(!l)return;const p=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:b,offsetWidth:G}=l.elementRef.nativeElement;let Z,oe;"ltr"==this._getLayoutDirection()?(Z=b,oe=Z+G):(oe=this._tabListInner.nativeElement.offsetWidth-b,Z=oe-G);const pe=this.scrollDistance,Oe=this.scrollDistance+p;Z<pe?this.scrollDistance-=pe-Z+60:oe>Oe&&(this.scrollDistance+=oe-Oe+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const o=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;o||(this.scrollDistance=0),o!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=o}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const o=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,l=o?o.elementRef.nativeElement:null;l?this._inkBar.alignToElement(l):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(o,l){l&&null!=l.button&&0!==l.button||(this._stopInterval(),Xs(650,100).pipe(yt((0,jt.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:p,distance:b}=this._scrollHeader(o);(0===b||b>=p)&&this._stopInterval()}))}_scrollTo(o){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const l=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(l,o)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:l,distance:this._scrollDistance}}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(rn),r.Y36(Kt,8),r.Y36(r.R0b),r.Y36(Gt),r.Y36(oi.Qb,8))},c.\u0275dir=r.lG2({type:c,inputs:{disablePagination:"disablePagination"}}),c})(),hh=(()=>{class c extends Sc{constructor(o,l,p,b,G,Z,oe){super(o,l,p,b,G,Z,oe),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(o){this._disableRipple=st(o)}_itemSelected(o){o.preventDefault()}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(rn),r.Y36(Kt,8),r.Y36(r.R0b),r.Y36(Gt),r.Y36(oi.Qb,8))},c.\u0275dir=r.lG2({type:c,inputs:{disableRipple:"disableRipple"},features:[r.qOj]}),c})(),ph=(()=>{class c extends hh{constructor(o,l,p,b,G,Z,oe){super(o,l,p,b,G,Z,oe)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(rn),r.Y36(Kt,8),r.Y36(r.R0b),r.Y36(Gt),r.Y36(oi.Qb,8))},c.\u0275cmp=r.Xpm({type:c,selectors:[["mat-tab-header"]],contentQueries:function(o,l,p){if(1&o&&r.Suo(p,ch,4),2&o){let b;r.iGM(b=r.CRH())&&(l._items=b)}},viewQuery:function(o,l){if(1&o&&(r.Gf(mi,7),r.Gf(Jd,7),r.Gf(is,7),r.Gf(Xd,7),r.Gf(oo,5),r.Gf(eh,5)),2&o){let p;r.iGM(p=r.CRH())&&(l._inkBar=p.first),r.iGM(p=r.CRH())&&(l._tabListContainer=p.first),r.iGM(p=r.CRH())&&(l._tabList=p.first),r.iGM(p=r.CRH())&&(l._tabListInner=p.first),r.iGM(p=r.CRH())&&(l._nextPaginator=p.first),r.iGM(p=r.CRH())&&(l._previousPaginator=p.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(o,l){2&o&&r.ekj("mat-tab-header-pagination-controls-enabled",l._showPaginationControls)("mat-tab-header-rtl","rtl"==l._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[r.qOj],ngContentSelectors:Hn,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(o,l){1&o&&(r.F$t(),r.TgZ(0,"button",0,1),r.NdJ("click",function(){return l._handlePaginatorClick("before")})("mousedown",function(b){return l._handlePaginatorPress("before",b)})("touchend",function(){return l._stopInterval()}),r._UZ(2,"div",2),r.qZA(),r.TgZ(3,"div",3,4),r.NdJ("keydown",function(b){return l._handleKeydown(b)}),r.TgZ(5,"div",5,6),r.NdJ("cdkObserveContent",function(){return l._onContentChanges()}),r.TgZ(7,"div",7,8),r.Hsn(9),r.qZA(),r._UZ(10,"mat-ink-bar"),r.qZA(),r.qZA(),r.TgZ(11,"button",9,10),r.NdJ("mousedown",function(b){return l._handlePaginatorPress("after",b)})("click",function(){return l._handlePaginatorClick("after")})("touchend",function(){return l._stopInterval()}),r._UZ(13,"div",2),r.qZA()),2&o&&(r.ekj("mat-tab-header-pagination-disabled",l._disableScrollBefore),r.Q6J("matRippleDisabled",l._disableScrollBefore||l.disableRipple)("disabled",l._disableScrollBefore||null),r.xp6(5),r.ekj("_mat-animation-noopable","NoopAnimations"===l._animationMode),r.xp6(6),r.ekj("mat-tab-header-pagination-disabled",l._disableScrollAfter),r.Q6J("matRippleDisabled",l._disableScrollAfter||l.disableRipple)("disabled",l._disableScrollAfter||null))},directives:[pi,et,mi],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n"],encapsulation:2}),c})(),fh=0;class qg{}const gr=Qr($i(class{constructor(c){this._elementRef=c}}),"primary");let Kg=(()=>{class c extends gr{constructor(o,l,p,b){var G;super(o),this._changeDetectorRef=l,this._animationMode=b,this._tabs=new r.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=kt.w0.EMPTY,this._tabLabelSubscription=kt.w0.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new r.vpe,this.focusChange=new r.vpe,this.animationDone=new r.vpe,this.selectedTabChange=new r.vpe(!0),this._groupId=fh++,this.animationDuration=p&&p.animationDuration?p.animationDuration:"500ms",this.disablePagination=!(!p||null==p.disablePagination)&&p.disablePagination,this.dynamicHeight=!(!p||null==p.dynamicHeight)&&p.dynamicHeight,this.contentTabIndex=null!=(G=null==p?void 0:p.contentTabIndex)?G:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(o){this._dynamicHeight=st(o)}get selectedIndex(){return this._selectedIndex}set selectedIndex(o){this._indexToSelect=Ji(o,null)}get animationDuration(){return this._animationDuration}set animationDuration(o){this._animationDuration=/^\d+$/.test(o+"")?o+"ms":o}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(o){this._contentTabIndex=Ji(o,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(o){const l=this._elementRef.nativeElement;l.classList.remove(`mat-background-${this.backgroundColor}`),o&&l.classList.add(`mat-background-${o}`),this._backgroundColor=o}ngAfterContentChecked(){const o=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=o){const l=null==this._selectedIndex;if(!l){this.selectedTabChange.emit(this._createChangeEvent(o));const p=this._tabBodyWrapper.nativeElement;p.style.minHeight=p.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((p,b)=>p.isActive=b===o),l||(this.selectedIndexChange.emit(o),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((l,p)=>{l.position=p-o,null!=this._selectedIndex&&0==l.position&&!l.origin&&(l.origin=o-this._selectedIndex)}),this._selectedIndex!==o&&(this._selectedIndex=o,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const o=this._clampTabIndex(this._indexToSelect);if(o===this._selectedIndex){const l=this._tabs.toArray();let p;for(let b=0;b<l.length;b++)if(l[b].isActive){this._indexToSelect=this._selectedIndex=b,this._lastFocusedTabIndex=null,p=l[b];break}!p&&l[o]&&Promise.resolve().then(()=>{l[o].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(o))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,Dt.O)(this._allTabs)).subscribe(o=>{this._tabs.reset(o.filter(l=>l._closestTabGroup===this||!l._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(o){const l=this._tabHeader;l&&(l.focusIndex=o)}_focusChanged(o){this._lastFocusedTabIndex=o,this.focusChange.emit(this._createChangeEvent(o))}_createChangeEvent(o){const l=new qg;return l.index=o,this._tabs&&this._tabs.length&&(l.tab=this._tabs.toArray()[o]),l}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,jt.T)(...this._tabs.map(o=>o._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(o){return Math.min(this._tabs.length-1,Math.max(o||0,0))}_getTabLabelId(o){return`mat-tab-label-${this._groupId}-${o}`}_getTabContentId(o){return`mat-tab-content-${this._groupId}-${o}`}_setTabBodyWrapperHeight(o){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const l=this._tabBodyWrapper.nativeElement;l.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(l.style.height=o+"px")}_removeTabBodyWrapperHeight(){const o=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=o.clientHeight,o.style.height="",this.animationDone.emit()}_handleClick(o,l,p){o.disabled||(this.selectedIndex=l.focusIndex=p)}_getTabIndex(o,l){var b;return o.disabled?null:l===(null!=(b=this._lastFocusedTabIndex)?b:this.selectedIndex)?0:-1}_tabFocusChanged(o,l){o&&"mouse"!==o&&"touch"!==o&&(this._tabHeader.focusIndex=l)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Sa,8),r.Y36(oi.Qb,8))},c.\u0275dir=r.lG2({type:c,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[r.qOj]}),c})(),gh=(()=>{class c extends Kg{constructor(o,l,p,b){super(o,l,p,b)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Sa,8),r.Y36(oi.Qb,8))},c.\u0275cmp=r.Xpm({type:c,selectors:[["mat-tab-group"]],contentQueries:function(o,l,p){if(1&o&&r.Suo(p,sh,5),2&o){let b;r.iGM(b=r.CRH())&&(l._allTabs=b)}},viewQuery:function(o,l){if(1&o&&(r.Gf(Vg,5),r.Gf(th,5)),2&o){let p;r.iGM(p=r.CRH())&&(l._tabBodyWrapper=p.first),r.iGM(p=r.CRH())&&(l._tabHeader=p.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(o,l){2&o&&r.ekj("mat-tab-group-dynamic-height",l.dynamicHeight)("mat-tab-group-inverted-header","below"===l.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[r._Bn([{provide:Ea,useExisting:c}]),r.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(o,l){1&o&&(r.TgZ(0,"mat-tab-header",0,1),r.NdJ("indexFocused",function(b){return l._focusChanged(b)})("selectFocusedIndex",function(b){return l.selectedIndex=b}),r.YNc(2,$g,5,15,"div",2),r.qZA(),r.TgZ(3,"div",3,4),r.YNc(5,jg,1,10,"mat-tab-body",5),r.qZA()),2&o&&(r.Q6J("selectedIndex",l.selectedIndex||0)("disableRipple",l.disableRipple)("disablePagination",l.disablePagination),r.xp6(2),r.Q6J("ngForOf",l._tabs),r.xp6(1),r.ekj("_mat-animation-noopable","NoopAnimations"===l._animationMode),r.xp6(2),r.Q6J("ngForOf",l._tabs))},directives:[ph,E.sg,ch,pi,Cg,E.mk,E.O5,_n,lh],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),c})(),Yg=0,Ac=(()=>{class c extends Sc{constructor(o,l,p,b,G,Z,oe){super(o,b,G,l,p,Z,oe),this._disableRipple=!1,this.color="primary"}get backgroundColor(){return this._backgroundColor}set backgroundColor(o){const l=this._elementRef.nativeElement.classList;l.remove(`mat-background-${this.backgroundColor}`),o&&l.add(`mat-background-${o}`),this._backgroundColor=o}get disableRipple(){return this._disableRipple}set disableRipple(o){this._disableRipple=st(o)}_itemSelected(){}ngAfterContentInit(){this._items.changes.pipe((0,Dt.O)(null),yt(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}updateActiveLink(){if(!this._items)return;const o=this._items.toArray();for(let l=0;l<o.length;l++)if(o[l].active)return this.selectedIndex=l,this._changeDetectorRef.markForCheck(),void(this.tabPanel&&(this.tabPanel._activeTabId=o[l].id));this.selectedIndex=-1,this._inkBar.hide()}_getRole(){return this.tabPanel?"tablist":this._elementRef.nativeElement.getAttribute("role")}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(Kt,8),r.Y36(r.R0b),r.Y36(r.sBO),r.Y36(rn),r.Y36(Gt),r.Y36(oi.Qb,8))},c.\u0275dir=r.lG2({type:c,inputs:{backgroundColor:"backgroundColor",disableRipple:"disableRipple",color:"color",tabPanel:"tabPanel"},features:[r.qOj]}),c})(),mh=(()=>{class c extends Ac{constructor(o,l,p,b,G,Z,oe){super(o,l,p,b,G,Z,oe)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(Kt,8),r.Y36(r.R0b),r.Y36(r.sBO),r.Y36(rn),r.Y36(Gt),r.Y36(oi.Qb,8))},c.\u0275cmp=r.Xpm({type:c,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(o,l,p){if(1&o&&r.Suo(p,Rc,5),2&o){let b;r.iGM(b=r.CRH())&&(l._items=b)}},viewQuery:function(o,l){if(1&o&&(r.Gf(mi,7),r.Gf(Jd,7),r.Gf(is,7),r.Gf(Xd,7),r.Gf(oo,5),r.Gf(eh,5)),2&o){let p;r.iGM(p=r.CRH())&&(l._inkBar=p.first),r.iGM(p=r.CRH())&&(l._tabListContainer=p.first),r.iGM(p=r.CRH())&&(l._tabList=p.first),r.iGM(p=r.CRH())&&(l._tabListInner=p.first),r.iGM(p=r.CRH())&&(l._nextPaginator=p.first),r.iGM(p=r.CRH())&&(l._previousPaginator=p.first)}},hostAttrs:[1,"mat-tab-nav-bar","mat-tab-header"],hostVars:11,hostBindings:function(o,l){2&o&&(r.uIk("role",l._getRole()),r.ekj("mat-tab-header-pagination-controls-enabled",l._showPaginationControls)("mat-tab-header-rtl","rtl"==l._getLayoutDirection())("mat-primary","warn"!==l.color&&"accent"!==l.color)("mat-accent","accent"===l.color)("mat-warn","warn"===l.color))},inputs:{color:"color"},exportAs:["matTabNavBar","matTabNav"],features:[r.qOj],attrs:ih,ngContentSelectors:Hn,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-links"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(o,l){1&o&&(r.F$t(),r.TgZ(0,"button",0,1),r.NdJ("click",function(){return l._handlePaginatorClick("before")})("mousedown",function(b){return l._handlePaginatorPress("before",b)})("touchend",function(){return l._stopInterval()}),r._UZ(2,"div",2),r.qZA(),r.TgZ(3,"div",3,4),r.NdJ("keydown",function(b){return l._handleKeydown(b)}),r.TgZ(5,"div",5,6),r.NdJ("cdkObserveContent",function(){return l._onContentChanges()}),r.TgZ(7,"div",7,8),r.Hsn(9),r.qZA(),r._UZ(10,"mat-ink-bar"),r.qZA(),r.qZA(),r.TgZ(11,"button",9,10),r.NdJ("mousedown",function(b){return l._handlePaginatorPress("after",b)})("click",function(){return l._handlePaginatorClick("after")})("touchend",function(){return l._stopInterval()}),r._UZ(13,"div",2),r.qZA()),2&o&&(r.ekj("mat-tab-header-pagination-disabled",l._disableScrollBefore),r.Q6J("matRippleDisabled",l._disableScrollBefore||l.disableRipple)("disabled",l._disableScrollBefore||null),r.xp6(5),r.ekj("_mat-animation-noopable","NoopAnimations"===l._animationMode),r.xp6(6),r.ekj("mat-tab-header-pagination-disabled",l._disableScrollAfter),r.Q6J("matRippleDisabled",l._disableScrollAfter||l.disableRipple)("disabled",l._disableScrollAfter||null))},directives:[pi,et,mi],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-links{display:flex}[mat-align-tabs=center]>.mat-tab-link-container .mat-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-tab-link-container .mat-tab-links{justify-content:flex-end}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:transparent}.mat-tab-link:focus{outline:none}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-link:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-link.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-link.mat-tab-disabled{opacity:.5}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-link{opacity:1}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}.mat-tab-link.mat-tab-disabled{pointer-events:none}@media(max-width: 599px){.mat-tab-link{min-width:72px}}\n"],encapsulation:2}),c})();const vh=hc($i(dr(class{})));let Qg=(()=>{class c extends vh{constructor(o,l,p,b,G,Z){super(),this._tabNavBar=o,this.elementRef=l,this._focusMonitor=G,this._isActive=!1,this.id="mat-tab-link-"+Yg++,this.rippleConfig=p||{},this.tabIndex=parseInt(b)||0,"NoopAnimations"===Z&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get active(){return this._isActive}set active(o){const l=st(o);l!==this._isActive&&(this._isActive=l,this._tabNavBar.updateActiveLink())}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}focus(){this.elementRef.nativeElement.focus()}ngAfterViewInit(){this._focusMonitor.monitor(this.elementRef)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.elementRef)}_handleFocus(){this._tabNavBar.focusIndex=this._tabNavBar._items.toArray().indexOf(this)}_handleKeydown(o){this._tabNavBar.tabPanel&&32===o.keyCode&&this.elementRef.nativeElement.click()}_getAriaControls(){var o;return this._tabNavBar.tabPanel?null==(o=this._tabNavBar.tabPanel)?void 0:o.id:this.elementRef.nativeElement.getAttribute("aria-controls")}_getAriaSelected(){return this._tabNavBar.tabPanel?this.active?"true":"false":this.elementRef.nativeElement.getAttribute("aria-selected")}_getAriaCurrent(){return this.active&&!this._tabNavBar.tabPanel?"page":null}_getRole(){return this._tabNavBar.tabPanel?"tab":this.elementRef.nativeElement.getAttribute("role")}_getTabIndex(){return this._tabNavBar.tabPanel?this._isActive?0:-1:this.tabIndex}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(Ac),r.Y36(r.SBq),r.Y36(fa,8),r.$8M("tabindex"),r.Y36(Nn),r.Y36(oi.Qb,8))},c.\u0275dir=r.lG2({type:c,inputs:{active:"active",id:"id"},features:[r.qOj]}),c})(),Rc=(()=>{class c extends Qg{constructor(o,l,p,b,G,Z,oe,pe){super(o,l,G,Z,oe,pe),this._tabLinkRipple=new gc(this,p,l,b),this._tabLinkRipple.setupTriggerEvents(l.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this._tabLinkRipple._removeTriggerEvents()}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(mh),r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(Gt),r.Y36(fa,8),r.$8M("tabindex"),r.Y36(Nn),r.Y36(oi.Qb,8))},c.\u0275dir=r.lG2({type:c,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mat-tab-link","mat-focus-indicator"],hostVars:11,hostBindings:function(o,l){1&o&&r.NdJ("focus",function(){return l._handleFocus()})("keydown",function(b){return l._handleKeydown(b)}),2&o&&(r.uIk("aria-controls",l._getAriaControls())("aria-current",l._getAriaCurrent())("aria-disabled",l.disabled)("aria-selected",l._getAriaSelected())("id",l.id)("tabIndex",l._getTabIndex())("role",l._getRole()),r.ekj("mat-tab-disabled",l.disabled)("mat-tab-label-active",l.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matTabLink"],features:[r.qOj]}),c})(),Xg=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[[E.ez,Rt,qo,fr,qr,Gd],Rt]}),c})();const Pi=["connectionContainer"],em=["inputContainer"],tm=["label"];function so(c,u){1&c&&(r.ynx(0),r.TgZ(1,"div",14),r._UZ(2,"div",15),r._UZ(3,"div",16),r._UZ(4,"div",17),r.qZA(),r.TgZ(5,"div",18),r._UZ(6,"div",15),r._UZ(7,"div",16),r._UZ(8,"div",17),r.qZA(),r.BQk())}function im(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"div",19),r.NdJ("cdkObserveContent",function(){return r.CHM(o),r.oxw().updateOutlineGap()}),r.Hsn(1,1),r.qZA()}if(2&c){const o=r.oxw();r.Q6J("cdkObserveContentDisabled","outline"!=o.appearance)}}function rs(c,u){if(1&c&&(r.ynx(0),r.Hsn(1,2),r.TgZ(2,"span"),r._uU(3),r.qZA(),r.BQk()),2&c){const o=r.oxw(2);r.xp6(3),r.Oqu(o._control.placeholder)}}function En(c,u){1&c&&r.Hsn(0,3,["*ngSwitchCase","true"])}function nm(c,u){1&c&&(r.TgZ(0,"span",23),r._uU(1," *"),r.qZA())}function yh(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"label",20,21),r.NdJ("cdkObserveContent",function(){return r.CHM(o),r.oxw().updateOutlineGap()}),r.YNc(2,rs,4,1,"ng-container",12),r.YNc(3,En,1,0,"ng-content",12),r.YNc(4,nm,2,0,"span",22),r.qZA()}if(2&c){const o=r.oxw();r.ekj("mat-empty",o._control.empty&&!o._shouldAlwaysFloat())("mat-form-field-empty",o._control.empty&&!o._shouldAlwaysFloat())("mat-accent","accent"==o.color)("mat-warn","warn"==o.color),r.Q6J("cdkObserveContentDisabled","outline"!=o.appearance)("id",o._labelId)("ngSwitch",o._hasLabel()),r.uIk("for",o._control.id)("aria-owns",o._control.id),r.xp6(2),r.Q6J("ngSwitchCase",!1),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngIf",!o.hideRequiredMarker&&o._control.required&&!o._control.disabled)}}function rm(c,u){1&c&&(r.TgZ(0,"div",24),r.Hsn(1,4),r.qZA())}function _h(c,u){if(1&c&&(r.TgZ(0,"div",25),r._UZ(1,"span",26),r.qZA()),2&c){const o=r.oxw();r.xp6(1),r.ekj("mat-accent","accent"==o.color)("mat-warn","warn"==o.color)}}function om(c,u){if(1&c&&(r.TgZ(0,"div"),r.Hsn(1,5),r.qZA()),2&c){const o=r.oxw();r.Q6J("@transitionMessages",o._subscriptAnimationState)}}function Ch(c,u){if(1&c&&(r.TgZ(0,"div",30),r._uU(1),r.qZA()),2&c){const o=r.oxw(2);r.Q6J("id",o._hintLabelId),r.xp6(1),r.Oqu(o.hintLabel)}}function Aa(c,u){if(1&c&&(r.TgZ(0,"div",27),r.YNc(1,Ch,2,2,"div",28),r.Hsn(2,6),r._UZ(3,"div",29),r.Hsn(4,7),r.qZA()),2&c){const o=r.oxw();r.Q6J("@transitionMessages",o._subscriptAnimationState),r.xp6(1),r.Q6J("ngIf",o.hintLabel)}}const sm=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],os=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],lm=new r.OlP("MatError"),bh={transitionMessages:(0,Je.X$)("transitionMessages",[(0,Je.SB)("enter",(0,Je.oB)({opacity:1,transform:"translateY(0%)"})),(0,Je.eR)("void => enter",[(0,Je.oB)({opacity:0,transform:"translateY(-5px)"}),(0,Je.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ss=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275dir=r.lG2({type:c}),c})();const Eh=new r.OlP("MatHint");let Vn=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275dir=r.lG2({type:c,selectors:[["mat-label"]]}),c})(),dm=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275dir=r.lG2({type:c,selectors:[["mat-placeholder"]]}),c})();const as=new r.OlP("MatPrefix"),ls=new r.OlP("MatSuffix");let Sh=0;const pm=Qr(class{constructor(c){this._elementRef=c}},"primary"),Ra=new r.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),cs=new r.OlP("MatFormField");let lo=(()=>{class c extends pm{constructor(o,l,p,b,G,Z,oe){super(o),this._changeDetectorRef=l,this._dir=p,this._defaults=b,this._platform=G,this._ngZone=Z,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new tt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Sh++,this._labelId="mat-form-field-label-"+Sh++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==oe,this.appearance=b&&b.appearance?b.appearance:"legacy",this._hideRequiredMarker=!(!b||null==b.hideRequiredMarker)&&b.hideRequiredMarker}get appearance(){return this._appearance}set appearance(o){const l=this._appearance;this._appearance=o||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&l!==o&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(o){this._hideRequiredMarker=st(o)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(o){this._hintLabel=o,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(o){o!==this._floatLabel&&(this._floatLabel=o||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(o){this._explicitFormFieldControl=o}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const o=this._control;o.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${o.controlType}`),o.stateChanges.pipe((0,Dt.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),o.ngControl&&o.ngControl.valueChanges&&o.ngControl.valueChanges.pipe(yt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(yt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,jt.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,Dt.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,Dt.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(yt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(o){const l=this._control?this._control.ngControl:null;return l&&l[o]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ue(this._label.nativeElement,"transitionend").pipe((0,Mt.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let o=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&o.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const l=this._hintChildren?this._hintChildren.find(b=>"start"===b.align):null,p=this._hintChildren?this._hintChildren.find(b=>"end"===b.align):null;l?o.push(l.id):this._hintLabel&&o.push(this._hintLabelId),p&&o.push(p.id)}else this._errorChildren&&o.push(...this._errorChildren.map(l=>l.id));this._control.setDescribedByIds(o)}}_validateControlChild(){}updateOutlineGap(){const o=this._label?this._label.nativeElement:null,l=this._connectionContainerRef.nativeElement,p=".mat-form-field-outline-start",b=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!o||!o.children.length||!o.textContent.trim()){const Oe=l.querySelectorAll(`${p}, ${b}`);for(let qe=0;qe<Oe.length;qe++)Oe[qe].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let G=0,Z=0;const oe=l.querySelectorAll(p),pe=l.querySelectorAll(b);if(this._label&&this._label.nativeElement.children.length){const Oe=l.getBoundingClientRect();if(0===Oe.width&&0===Oe.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const qe=this._getStartEnd(Oe),nt=o.children,ht=this._getStartEnd(nt[0].getBoundingClientRect());let At=0;for(let xt=0;xt<nt.length;xt++)At+=nt[xt].offsetWidth;G=Math.abs(ht-qe)-5,Z=At>0?.75*At+10:0}for(let Oe=0;Oe<oe.length;Oe++)oe[Oe].style.width=`${G}px`;for(let Oe=0;Oe<pe.length;Oe++)pe[Oe].style.width=`${Z}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(o){return this._dir&&"rtl"===this._dir.value?o.right:o.left}_isAttachedToDOM(){const o=this._elementRef.nativeElement;if(o.getRootNode){const l=o.getRootNode();return l&&l!==o}return document.documentElement.contains(o)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Kt,8),r.Y36(Ra,8),r.Y36(Gt),r.Y36(r.R0b),r.Y36(oi.Qb,8))},c.\u0275cmp=r.Xpm({type:c,selectors:[["mat-form-field"]],contentQueries:function(o,l,p){if(1&o&&(r.Suo(p,ss,5),r.Suo(p,ss,7),r.Suo(p,Vn,5),r.Suo(p,Vn,7),r.Suo(p,dm,5),r.Suo(p,lm,5),r.Suo(p,Eh,5),r.Suo(p,as,5),r.Suo(p,ls,5)),2&o){let b;r.iGM(b=r.CRH())&&(l._controlNonStatic=b.first),r.iGM(b=r.CRH())&&(l._controlStatic=b.first),r.iGM(b=r.CRH())&&(l._labelChildNonStatic=b.first),r.iGM(b=r.CRH())&&(l._labelChildStatic=b.first),r.iGM(b=r.CRH())&&(l._placeholderChild=b.first),r.iGM(b=r.CRH())&&(l._errorChildren=b),r.iGM(b=r.CRH())&&(l._hintChildren=b),r.iGM(b=r.CRH())&&(l._prefixChildren=b),r.iGM(b=r.CRH())&&(l._suffixChildren=b)}},viewQuery:function(o,l){if(1&o&&(r.Gf(Pi,7),r.Gf(em,5),r.Gf(tm,5)),2&o){let p;r.iGM(p=r.CRH())&&(l._connectionContainerRef=p.first),r.iGM(p=r.CRH())&&(l._inputContainerRef=p.first),r.iGM(p=r.CRH())&&(l._label=p.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(o,l){2&o&&r.ekj("mat-form-field-appearance-standard","standard"==l.appearance)("mat-form-field-appearance-fill","fill"==l.appearance)("mat-form-field-appearance-outline","outline"==l.appearance)("mat-form-field-appearance-legacy","legacy"==l.appearance)("mat-form-field-invalid",l._control.errorState)("mat-form-field-can-float",l._canLabelFloat())("mat-form-field-should-float",l._shouldLabelFloat())("mat-form-field-has-label",l._hasFloatingLabel())("mat-form-field-hide-placeholder",l._hideControlPlaceholder())("mat-form-field-disabled",l._control.disabled)("mat-form-field-autofilled",l._control.autofilled)("mat-focused",l._control.focused)("ng-untouched",l._shouldForward("untouched"))("ng-touched",l._shouldForward("touched"))("ng-pristine",l._shouldForward("pristine"))("ng-dirty",l._shouldForward("dirty"))("ng-valid",l._shouldForward("valid"))("ng-invalid",l._shouldForward("invalid"))("ng-pending",l._shouldForward("pending"))("_mat-animation-noopable",!l._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[r._Bn([{provide:cs,useExisting:c}]),r.qOj],ngContentSelectors:os,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(o,l){1&o&&(r.F$t(sm),r.TgZ(0,"div",0),r.TgZ(1,"div",1,2),r.NdJ("click",function(b){return l._control.onContainerClick&&l._control.onContainerClick(b)}),r.YNc(3,so,9,0,"ng-container",3),r.YNc(4,im,2,1,"div",4),r.TgZ(5,"div",5,6),r.Hsn(7),r.TgZ(8,"span",7),r.YNc(9,yh,5,16,"label",8),r.qZA(),r.qZA(),r.YNc(10,rm,2,0,"div",9),r.qZA(),r.YNc(11,_h,2,4,"div",10),r.TgZ(12,"div",11),r.YNc(13,om,2,1,"div",12),r.YNc(14,Aa,5,2,"div",13),r.qZA(),r.qZA()),2&o&&(r.xp6(3),r.Q6J("ngIf","outline"==l.appearance),r.xp6(1),r.Q6J("ngIf",l._prefixChildren.length),r.xp6(5),r.Q6J("ngIf",l._hasFloatingLabel()),r.xp6(1),r.Q6J("ngIf",l._suffixChildren.length),r.xp6(1),r.Q6J("ngIf","outline"!=l.appearance),r.xp6(1),r.Q6J("ngSwitch",l._getDisplayedMessages()),r.xp6(1),r.Q6J("ngSwitchCase","error"),r.xp6(1),r.Q6J("ngSwitchCase","hint"))},directives:[E.O5,E.RF,E.n9,et],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[bh.transitionMessages]},changeDetection:0}),c})(),Da=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[[E.ez,Rt,qr],Rt]}),c})();class co{constructor(u=!1,o,l=!0){this._multiple=u,this._emitChanges=l,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new tt.x,o&&o.length&&(u?o.forEach(p=>this._markSelected(p)):this._markSelected(o[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...u){this._verifyValueAssignment(u),u.forEach(o=>this._markSelected(o)),this._emitChangeEvent()}deselect(...u){this._verifyValueAssignment(u),u.forEach(o=>this._unmarkSelected(o)),this._emitChangeEvent()}toggle(u){this.isSelected(u)?this.deselect(u):this.select(u)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(u){return this._selection.has(u)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(u){this._multiple&&this.selected&&this._selected.sort(u)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(u){this.isSelected(u)||(this._multiple||this._unmarkAll(),this._selection.add(u),this._emitChanges&&this._selectedToEmit.push(u))}_unmarkSelected(u){this.isSelected(u)&&(this._selection.delete(u),this._emitChanges&&this._deselectedToEmit.push(u))}_unmarkAll(){this.isEmpty()||this._selection.forEach(u=>this._unmarkSelected(u))}_verifyValueAssignment(u){}}const ym=["*"],xc=new r.OlP("MatChipRemove"),Ah=new r.OlP("MatChipAvatar"),uo=new r.OlP("MatChipTrailingIcon");class Rh{constructor(u){this._elementRef=u}}const _m=hc(Qr($i(Rh),"primary"),-1);let Sn=(()=>{class c extends _m{constructor(o,l,p,b,G,Z,oe,pe){super(o),this._ngZone=l,this._changeDetectorRef=G,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new tt.x,this._onBlur=new tt.x,this.selectionChange=new r.vpe,this.destroyed=new r.vpe,this.removed=new r.vpe,this._addHostClassName(),this._chipRippleTarget=Z.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new gc(this,l,this._chipRippleTarget,p),this._chipRipple.setupTriggerEvents(o),this.rippleConfig=b||{},this._animationsDisabled="NoopAnimations"===oe,this.tabIndex=null!=pe&&parseInt(pe)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(o){const l=st(o);l!==this._selected&&(this._selected=l,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(o){this._value=o}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(o){this._selectable=st(o)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(o){this._disabled=st(o)}get removable(){return this._removable}set removable(o){this._removable=st(o)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const o="mat-basic-chip",l=this._elementRef.nativeElement;l.hasAttribute(o)||l.tagName.toLowerCase()===o?l.classList.add(o):l.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(o=!1){return this._selected=!this.selected,this._dispatchSelectionChange(o),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(o){this.disabled&&o.preventDefault()}_handleKeydown(o){if(!this.disabled)switch(o.keyCode){case 46:case 8:this.remove(),o.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),o.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,Mt.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(o=!1){this.selectionChange.emit({source:this,isUserInput:o,selected:this._selected})}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(Gt),r.Y36(fa,8),r.Y36(r.sBO),r.Y36(E.K0),r.Y36(oi.Qb,8),r.$8M("tabindex"))},c.\u0275dir=r.lG2({type:c,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(o,l,p){if(1&o&&(r.Suo(p,Ah,5),r.Suo(p,uo,5),r.Suo(p,xc,5)),2&o){let b;r.iGM(b=r.CRH())&&(l.avatar=b.first),r.iGM(b=r.CRH())&&(l.trailingIcon=b.first),r.iGM(b=r.CRH())&&(l.removeIcon=b.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(o,l){1&o&&r.NdJ("click",function(b){return l._handleClick(b)})("keydown",function(b){return l._handleKeydown(b)})("focus",function(){return l.focus()})("blur",function(){return l._blur()}),2&o&&(r.uIk("tabindex",l.disabled?null:l.tabIndex)("disabled",l.disabled||null)("aria-disabled",l.disabled.toString())("aria-selected",l.ariaSelected),r.ekj("mat-chip-selected",l.selected)("mat-chip-with-avatar",l.avatar)("mat-chip-with-trailing-icon",l.trailingIcon||l.removeIcon)("mat-chip-disabled",l.disabled)("_mat-animation-noopable",l._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[r.qOj]}),c})(),An=(()=>{class c{constructor(o,l){this._parentChip=o,"BUTTON"===l.nativeElement.nodeName&&l.nativeElement.setAttribute("type","button")}_handleClick(o){const l=this._parentChip;l.removable&&!l.disabled&&l.remove(),o.stopPropagation(),o.preventDefault()}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(Sn),r.Y36(r.SBq))},c.\u0275dir=r.lG2({type:c,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(o,l){1&o&&r.NdJ("click",function(b){return l._handleClick(b)})},features:[r._Bn([{provide:xc,useExisting:c}])]}),c})();const Oh=new r.OlP("mat-chips-default-options"),Cm=Jr(class{constructor(c,u,o,l){this._defaultErrorStateMatcher=c,this._parentForm=u,this._parentFormGroup=o,this.ngControl=l}});let Oc=0;class wm{constructor(u,o){this.source=u,this.value=o}}let vr=(()=>{class c extends Cm{constructor(o,l,p,b,G,Z,oe){super(Z,b,G,oe),this._elementRef=o,this._changeDetectorRef=l,this._dir=p,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new tt.x,this._uid="mat-chip-list-"+Oc++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(pe,Oe)=>pe===Oe,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new r.vpe,this.valueChange=new r.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var o,l;return this.multiple?(null==(o=this._selectionModel)?void 0:o.selected)||[]:null==(l=this._selectionModel)?void 0:l.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(o){this._multiple=st(o),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(o){this._compareWith=o,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(o){this.writeValue(o),this._value=o}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){var o,l,p,b;return null!=(b=null!=(p=this._required)?p:null==(l=null==(o=this.ngControl)?void 0:o.control)?void 0:l.hasValidator(_e.required))&&b}set required(o){this._required=st(o),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(o){this._placeholder=o,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(o){this._disabled=st(o),this._syncChipsState()}get selectable(){return this._selectable}set selectable(o){this._selectable=st(o),this.chips&&this.chips.forEach(l=>l.chipListSelectable=this._selectable)}set tabIndex(o){this._userTabIndex=o,this._tabIndex=o}get chipSelectionChanges(){return(0,jt.T)(...this.chips.map(o=>o.selectionChange))}get chipFocusChanges(){return(0,jt.T)(...this.chips.map(o=>o._onFocus))}get chipBlurChanges(){return(0,jt.T)(...this.chips.map(o=>o._onBlur))}get chipRemoveChanges(){return(0,jt.T)(...this.chips.map(o=>o.destroyed))}ngAfterContentInit(){this._keyManager=new ua(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(yt(this._destroyed)).subscribe(o=>this._keyManager.withHorizontalOrientation(o)),this._keyManager.tabOut.pipe(yt(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe((0,Dt.O)(null),yt(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new co(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(o){this._chipInput=o,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",o.id)}setDescribedByIds(o){this._ariaDescribedby=o.join(" ")}writeValue(o){this.chips&&this._setSelectionByValue(o,!1)}registerOnChange(o){this._onChange=o}registerOnTouched(o){this._onTouched=o}setDisabledState(o){this.disabled=o,this.stateChanges.next()}onContainerClick(o){this._originatesFromChip(o)||this.focus()}focus(o){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(o),this.stateChanges.next()))}_focusInput(o){this._chipInput&&this._chipInput.focus(o)}_keydown(o){const l=o.target;l&&l.classList.contains("mat-chip")&&(this._keyManager.onKeydown(o),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const o=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(o)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(o){return o>=0&&o<this.chips.length}_setSelectionByValue(o,l=!0){if(this._clearSelection(),this.chips.forEach(p=>p.deselect()),Array.isArray(o))o.forEach(p=>this._selectValue(p,l)),this._sortValues();else{const p=this._selectValue(o,l);p&&l&&this._keyManager.setActiveItem(p)}}_selectValue(o,l=!0){const p=this.chips.find(b=>null!=b.value&&this._compareWith(b.value,o));return p&&(l?p.selectViaInteraction():p.select(),this._selectionModel.select(p)),p}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(o){this._selectionModel.clear(),this.chips.forEach(l=>{l!==o&&l.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(o=>{o.selected&&this._selectionModel.select(o)}),this.stateChanges.next())}_propagateChanges(o){let l=null;l=Array.isArray(this.selected)?this.selected.map(p=>p.value):this.selected?this.selected.value:o,this._value=l,this.change.emit(new wm(this,l)),this.valueChange.emit(l),this._onChange(l),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(o=>{o.source.selected?this._selectionModel.select(o.source):this._selectionModel.deselect(o.source),this.multiple||this.chips.forEach(l=>{!this._selectionModel.isSelected(l)&&l.selected&&l.deselect()}),o.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(o=>{let l=this.chips.toArray().indexOf(o.chip);this._isValidIndex(l)&&this._keyManager.updateActiveItem(l),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(o=>{const l=o.chip,p=this.chips.toArray().indexOf(o.chip);this._isValidIndex(p)&&l._hasFocus&&(this._lastDestroyedChipIndex=p)})}_originatesFromChip(o){let l=o.target;for(;l&&l!==this._elementRef.nativeElement;){if(l.classList.contains("mat-chip"))return!0;l=l.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(o=>o._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(o=>{o._chipListDisabled=this._disabled,o._chipListMultiple=this.multiple})}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Kt,8),r.Y36(Mr,8),r.Y36(Ir,8),r.Y36(Bn),r.Y36(ne,10))},c.\u0275cmp=r.Xpm({type:c,selectors:[["mat-chip-list"]],contentQueries:function(o,l,p){if(1&o&&r.Suo(p,Sn,5),2&o){let b;r.iGM(b=r.CRH())&&(l.chips=b)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(o,l){1&o&&r.NdJ("focus",function(){return l.focus()})("blur",function(){return l._blur()})("keydown",function(b){return l._keydown(b)}),2&o&&(r.Ikx("id",l._uid),r.uIk("tabindex",l.disabled?null:l._tabIndex)("aria-describedby",l._ariaDescribedby||null)("aria-required",l.role?l.required:null)("aria-disabled",l.disabled.toString())("aria-invalid",l.errorState)("aria-multiselectable",l.multiple)("role",l.role)("aria-orientation",l.ariaOrientation),r.ekj("mat-chip-list-disabled",l.disabled)("mat-chip-list-invalid",l.errorState)("mat-chip-list-required",l.required))},inputs:{errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[r._Bn([{provide:ss,useExisting:c}]),r.qOj],ngContentSelectors:ym,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(o,l){1&o&&(r.F$t(),r.TgZ(0,"div",0),r.Hsn(1),r.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),c})(),Tc=0,yr=(()=>{class c{constructor(o,l){this._elementRef=o,this._defaultOptions=l,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new r.vpe,this.placeholder="",this.id="mat-chip-list-input-"+Tc++,this._disabled=!1,this.inputElement=this._elementRef.nativeElement}set chipList(o){o&&(this._chipList=o,this._chipList.registerInput(this))}get addOnBlur(){return this._addOnBlur}set addOnBlur(o){this._addOnBlur=st(o)}get disabled(){return this._disabled||this._chipList&&this._chipList.disabled}set disabled(o){this._disabled=st(o)}get empty(){return!this.inputElement.value}ngOnChanges(){this._chipList.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}ngAfterContentInit(){this._focusLastChipOnBackspace=this.empty}_keydown(o){if(o){if(9===o.keyCode&&!ni(o,"shiftKey")&&this._chipList._allowFocusEscape(),8===o.keyCode&&this._focusLastChipOnBackspace)return this._chipList._keyManager.setLastItemActive(),void o.preventDefault();this._focusLastChipOnBackspace=!1}this._emitChipEnd(o)}_keyup(o){!this._focusLastChipOnBackspace&&8===o.keyCode&&this.empty&&(this._focusLastChipOnBackspace=!0,o.preventDefault())}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}_focus(){this.focused=!0,this._focusLastChipOnBackspace=this.empty,this._chipList.stateChanges.next()}_emitChipEnd(o){!this.inputElement.value&&!!o&&this._chipList._keydown(o),(!o||this._isSeparatorKey(o))&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),null==o||o.preventDefault())}_onInput(){this._chipList.stateChanges.next()}focus(o){this.inputElement.focus(o)}clear(){this.inputElement.value="",this._focusLastChipOnBackspace=!0}_isSeparatorKey(o){return!ni(o)&&new Set(this.separatorKeyCodes).has(o.keyCode)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(Oh))},c.\u0275dir=r.lG2({type:c,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(o,l){1&o&&r.NdJ("keydown",function(b){return l._keydown(b)})("keyup",function(b){return l._keyup(b)})("blur",function(){return l._blur()})("focus",function(){return l._focus()})("input",function(){return l._onInput()}),2&o&&(r.Ikx("id",l.id),r.uIk("disabled",l.disabled||null)("placeholder",l.placeholder||null)("aria-invalid",l._chipList&&l._chipList.ngControl?l._chipList.ngControl.invalid:null)("aria-required",l._chipList&&l._chipList.required||null))},inputs:{chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[r.TTD]}),c})(),us=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({providers:[Bn,{provide:Oh,useValue:{separatorKeyCodes:[13]}}],imports:[[Rt]]}),c})();var Fc=w(5514);function Th(c,u){return u?o=>(0,Fc.z)(u.pipe((0,Mt.q)(1),(0,en.e)((c,u)=>{c.subscribe(new S.Q(u,Jl.Z))})),o.pipe(Th(c))):(0,kl.z)((o,l)=>c(o,l).pipe((0,Mt.q)(1),function(c){return(0,D.U)(()=>c)}(o)))}const Fh=["panel"];function Ph(c,u){if(1&c&&(r.TgZ(0,"div",0,1),r.Hsn(2),r.qZA()),2&c){const o=u.id,l=r.oxw();r.Q6J("id",l.id)("ngClass",l._classList),r.uIk("aria-label",l.ariaLabel||null)("aria-labelledby",l._getPanelAriaLabelledby(o))}}const Sm=["*"];let Oa=0;class Am{constructor(u,o){this.source=u,this.option=o}}const Rm=$i(class{}),ho=new r.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let Mh=(()=>{class c extends Rm{constructor(o,l,p,b){super(),this._changeDetectorRef=o,this._elementRef=l,this._activeOptionChanges=kt.w0.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new r.vpe,this.opened=new r.vpe,this.closed=new r.vpe,this.optionActivated=new r.vpe,this._classList={},this.id="mat-autocomplete-"+Oa++,this.inertGroups=(null==b?void 0:b.SAFARI)||!1,this._autoActiveFirstOption=!!p.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(o){this._autoActiveFirstOption=st(o)}set classList(o){this._classList=o&&o.length?function(c,u=/\s+/){const o=[];if(null!=c){const l=Array.isArray(c)?c:`${c}`.split(u);for(const p of l){const b=`${p}`.trim();b&&o.push(b)}}return o}(o).reduce((l,p)=>(l[p]=!0,l),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new Pd(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(o=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[o]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(o){this.panel&&(this.panel.nativeElement.scrollTop=o)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(o){const l=new Am(this,o);this.optionSelected.emit(l)}_getPanelAriaLabelledby(o){return this.ariaLabel?null:this.ariaLabelledby?(o?o+" ":"")+this.ariaLabelledby:o}_setVisibilityClasses(o){o[this._visibleClass]=this.showPanel,o[this._hiddenClass]=!this.showPanel}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(ho),r.Y36(Gt))},c.\u0275dir=r.lG2({type:c,viewQuery:function(o,l){if(1&o&&(r.Gf(r.Rgc,7),r.Gf(Fh,5)),2&o){let p;r.iGM(p=r.CRH())&&(l.template=p.first),r.iGM(p=r.CRH())&&(l.panel=p.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[r.qOj]}),c})(),ds=(()=>{class c extends Mh{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return c.\u0275fac=function(){let u;return function(l){return(u||(u=r.n5z(c)))(l||c)}}(),c.\u0275cmp=r.Xpm({type:c,selectors:[["mat-autocomplete"]],contentQueries:function(o,l,p){if(1&o&&(r.Suo(p,va,5),r.Suo(p,kn,5)),2&o){let b;r.iGM(b=r.CRH())&&(l.optionGroups=b),r.iGM(b=r.CRH())&&(l.options=b)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[r._Bn([{provide:ga,useExisting:c}]),r.qOj],ngContentSelectors:Sm,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(o,l){1&o&&(r.F$t(),r.YNc(0,Ph,3,4,"ng-template"))},directives:[E.mk],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0}),c})();const Ih=new r.OlP("mat-autocomplete-scroll-strategy"),Om={provide:Ih,deps:[Wi],useFactory:function(c){return()=>c.scrollStrategies.reposition()}},Tm={provide:N,useExisting:(0,r.Gpc)(()=>po),multi:!0};let Ic=(()=>{class c{constructor(o,l,p,b,G,Z,oe,pe,Oe,qe,nt){this._element=o,this._overlay=l,this._viewContainerRef=p,this._zone=b,this._changeDetectorRef=G,this._dir=oe,this._formField=pe,this._document=Oe,this._viewportRuler=qe,this._defaults=nt,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=kt.w0.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new tt.x,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=(0,Cn.P)(()=>{const ht=this.autocomplete?this.autocomplete.options:null;return ht?ht.changes.pipe((0,Dt.O)(ht),(0,Gn.w)(()=>(0,jt.T)(...ht.map(At=>At.onSelectionChange)))):this._zone.onStable.pipe((0,Mt.q)(1),(0,Gn.w)(()=>this.optionSelections))}),this._scrollStrategy=Z}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(o){this._autocompleteDisabled=st(o)}ngAfterViewInit(){const o=this._getWindow();void 0!==o&&this._zone.runOutsideAngular(()=>o.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(o){o.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const o=this._getWindow();void 0!==o&&o.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,jt.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,xi.h)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,xi.h)(()=>this._overlayAttached)):(0,Hi.of)()).pipe((0,D.U)(o=>o instanceof mc?o:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,jt.T)(Ue(this._document,"click"),Ue(this._document,"auxclick"),Ue(this._document,"touchend")).pipe((0,xi.h)(o=>{const l=Oi(o),p=this._formField?this._formField._elementRef.nativeElement:null,b=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&l!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!p||!p.contains(l))&&(!b||!b.contains(l))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(l)}))}writeValue(o){Promise.resolve().then(()=>this._setTriggerValue(o))}registerOnChange(o){this._onChange=o}registerOnTouched(o){this._onTouched=o}setDisabledState(o){this._element.nativeElement.disabled=o}_handleKeydown(o){const l=o.keyCode,p=ni(o);if(27===l&&!p&&o.preventDefault(),this.activeOption&&13===l&&this.panelOpen&&!p)this.activeOption._selectViaInteraction(),this._resetActiveItem(),o.preventDefault();else if(this.autocomplete){const b=this.autocomplete._keyManager.activeItem,G=38===l||40===l;9===l||G&&!p&&this.panelOpen?this.autocomplete._keyManager.onKeydown(o):G&&this._canOpen()&&this.openPanel(),(G||this.autocomplete._keyManager.activeItem!==b)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(o){let l=o.target,p=l.value;"number"===l.type&&(p=""==p?null:parseFloat(p)),this._previousValue!==p&&(this._previousValue=p,this._onChange(p),this._canOpen()&&this._document.activeElement===o.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this.openPanel()}_floatLabel(o=!1){this._formField&&"auto"===this._formField.floatLabel&&(o?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const o=this._zone.onStable.pipe((0,Mt.q)(1)),l=this.autocomplete.options.changes.pipe((0,Zr.b)(()=>this._positionStrategy.reapplyLastPosition()),function(c,u=Qs){const o=Xs(0,u);return Th(()=>o)}());return(0,jt.T)(o,l).pipe((0,Gn.w)(()=>(this._zone.run(()=>{const p=this.panelOpen;this._resetActiveItem(),this.autocomplete._setVisibility(),this._changeDetectorRef.detectChanges(),this.panelOpen&&(this._overlayRef.updatePosition(),p!==this.panelOpen&&this.autocomplete.opened.emit())}),this.panelClosingActions)),(0,Mt.q)(1)).subscribe(p=>this._setValueAndClose(p))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(o){const l=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(o):o,p=null!=l?l:"";this._formField?this._formField._control.value=p:this._element.nativeElement.value=p,this._previousValue=p}_setValueAndClose(o){const l=o&&o.source;l&&(this._clearPreviousSelectedOption(l),this._setTriggerValue(l.value),this._onChange(l.value),this.autocomplete._emitSelectEvent(l),this._element.nativeElement.focus()),this.closePanel()}_clearPreviousSelectedOption(o){this.autocomplete.options.forEach(l=>{l!==o&&l.selected&&l.deselect()})}_attachOverlay(){var p;let o=this._overlayRef;o?(this._positionStrategy.setOrigin(this._getConnectedElement()),o.updateSize({width:this._getPanelWidth()})):(this._portal=new yn(this.autocomplete.template,this._viewContainerRef,{id:null==(p=this._formField)?void 0:p.getLabelId()}),o=this._overlay.create(this._getOverlayConfig()),this._overlayRef=o,o.keydownEvents().subscribe(b=>{(27===b.keyCode&&!ni(b)||38===b.keyCode&&ni(b,"altKey"))&&(this._closeKeyEventStream.next(),this._resetActiveItem(),b.stopPropagation(),b.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&o&&o.updateSize({width:this._getPanelWidth()})})),o&&!o.hasAttached()&&(o.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const l=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&l!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){var o;return new Yo({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:null==(o=this._defaults)?void 0:o.overlayPanelClass})}_getOverlayPosition(){const o=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(o),this._positionStrategy=o,o}_setStrategyPositions(o){const l=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],p=this._aboveClass,b=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:p},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:p}];let G;G="above"===this.position?b:"below"===this.position?l:[...l,...b],o.withPositions(G)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const o=this.autocomplete;o.autoActiveFirstOption?o._keyManager.setFirstItemActive():o._keyManager.setActiveItem(-1)}_canOpen(){const o=this._element.nativeElement;return!o.readOnly&&!o.disabled&&!this._autocompleteDisabled}_getWindow(){var o;return(null==(o=this._document)?void 0:o.defaultView)||window}_scrollToOption(o){const l=this.autocomplete,p=vc(o,l.options,l.optionGroups);if(0===o&&1===p)l._setScrollTop(0);else if(l.panel){const b=l.options.toArray()[o];if(b){const G=b._getHostElement(),Z=to(G.offsetTop,G.offsetHeight,l._getScrollTop(),l.panel.nativeElement.offsetHeight);l._setScrollTop(Z)}}}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(Wi),r.Y36(r.s_b),r.Y36(r.R0b),r.Y36(r.sBO),r.Y36(Ih),r.Y36(Kt,8),r.Y36(cs,9),r.Y36(E.K0,8),r.Y36(rn),r.Y36(ho,8))},c.\u0275dir=r.lG2({type:c,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[r.TTD]}),c})(),po=(()=>{class c extends Ic{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return c.\u0275fac=function(){let u;return function(l){return(u||(u=r.n5z(c)))(l||c)}}(),c.\u0275dir=r.lG2({type:c,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(o,l){1&o&&r.NdJ("focusin",function(){return l._handleFocus()})("blur",function(){return l._onTouched()})("input",function(b){return l._handleInput(b)})("keydown",function(b){return l._handleKeydown(b)})("click",function(){return l._handleClick()}),2&o&&r.uIk("autocomplete",l.autocompleteAttribute)("role",l.autocompleteDisabled?null:"combobox")("aria-autocomplete",l.autocompleteDisabled?null:"list")("aria-activedescendant",l.panelOpen&&l.activeOption?l.activeOption.id:null)("aria-expanded",l.autocompleteDisabled?null:l.panelOpen.toString())("aria-owns",l.autocompleteDisabled||!l.panelOpen||null==l.autocomplete?null:l.autocomplete.id)("aria-haspopup",l.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[r._Bn([Tm]),r.qOj]}),c})(),Lc=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({providers:[Om],imports:[[Qo,_t,Rt,E.ez],Zo,_t,Rt]}),c})();var Pm=w(4793),Lh=w(6380),hs=w(9452),Bc=w(5427);const Mm=["*"];let fo;function ps(c){var u;return(null==(u=function(){if(void 0===fo&&(fo=null,"undefined"!=typeof window)){const c=window;void 0!==c.trustedTypes&&(fo=c.trustedTypes.createPolicy("angular#components",{createHTML:u=>u}))}return fo}())?void 0:u.createHTML(c))||c}function fs(c){return Error(`Unable to find icon with the name "${c}"`)}function kc(c){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${c}".`)}function Bh(c){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${c}".`)}class ln{constructor(u,o,l){this.url=u,this.svgText=o,this.options=l}}let Ta=(()=>{class c{constructor(o,l,p,b){this._httpClient=o,this._sanitizer=l,this._errorHandler=b,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=p}addSvgIcon(o,l,p){return this.addSvgIconInNamespace("",o,l,p)}addSvgIconLiteral(o,l,p){return this.addSvgIconLiteralInNamespace("",o,l,p)}addSvgIconInNamespace(o,l,p,b){return this._addSvgIconConfig(o,l,new ln(p,null,b))}addSvgIconResolver(o){return this._resolvers.push(o),this}addSvgIconLiteralInNamespace(o,l,p,b){const G=this._sanitizer.sanitize(r.q3G.HTML,p);if(!G)throw Bh(p);const Z=ps(G);return this._addSvgIconConfig(o,l,new ln("",Z,b))}addSvgIconSet(o,l){return this.addSvgIconSetInNamespace("",o,l)}addSvgIconSetLiteral(o,l){return this.addSvgIconSetLiteralInNamespace("",o,l)}addSvgIconSetInNamespace(o,l,p){return this._addSvgIconSetConfig(o,new ln(l,null,p))}addSvgIconSetLiteralInNamespace(o,l,p){const b=this._sanitizer.sanitize(r.q3G.HTML,l);if(!b)throw Bh(l);const G=ps(b);return this._addSvgIconSetConfig(o,new ln("",G,p))}registerFontClassAlias(o,l=o){return this._fontCssClassesByAlias.set(o,l),this}classNameForFontAlias(o){return this._fontCssClassesByAlias.get(o)||o}setDefaultFontSetClass(o){return this._defaultFontSetClass=o,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(o){const l=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,o);if(!l)throw kc(o);const p=this._cachedIconsByUrl.get(l);return p?(0,Hi.of)(gs(p)):this._loadSvgIconFromConfig(new ln(o,null)).pipe((0,Zr.b)(b=>this._cachedIconsByUrl.set(l,b)),(0,D.U)(b=>gs(b)))}getNamedSvgIcon(o,l=""){const p=Gc(l,o);let b=this._svgIconConfigs.get(p);if(b)return this._getSvgFromConfig(b);if(b=this._getIconConfigFromResolvers(l,o),b)return this._svgIconConfigs.set(p,b),this._getSvgFromConfig(b);const G=this._iconSetConfigs.get(l);return G?this._getSvgFromIconSetConfigs(o,G):function(c,u){const o=(0,gn.m)(c)?c:()=>c,l=p=>p.error(o());return new m.y(l)}(fs(p))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(o){return o.svgText?(0,Hi.of)(gs(this._svgElementFromConfig(o))):this._loadSvgIconFromConfig(o).pipe((0,D.U)(l=>gs(l)))}_getSvgFromIconSetConfigs(o,l){const p=this._extractIconWithNameFromAnySet(o,l);return p?(0,Hi.of)(p):A(l.filter(G=>!G.svgText).map(G=>this._loadSvgIconSetFromConfig(G).pipe((0,Pm.K)(Z=>{const pe=`Loading icon set URL: ${this._sanitizer.sanitize(r.q3G.RESOURCE_URL,G.url)} failed: ${Z.message}`;return this._errorHandler.handleError(new Error(pe)),(0,Hi.of)(null)})))).pipe((0,D.U)(()=>{const G=this._extractIconWithNameFromAnySet(o,l);if(!G)throw fs(o);return G}))}_extractIconWithNameFromAnySet(o,l){for(let p=l.length-1;p>=0;p--){const b=l[p];if(b.svgText&&b.svgText.toString().indexOf(o)>-1){const G=this._svgElementFromConfig(b),Z=this._extractSvgIconFromSet(G,o,b.options);if(Z)return Z}}return null}_loadSvgIconFromConfig(o){return this._fetchIcon(o).pipe((0,Zr.b)(l=>o.svgText=l),(0,D.U)(()=>this._svgElementFromConfig(o)))}_loadSvgIconSetFromConfig(o){return o.svgText?(0,Hi.of)(null):this._fetchIcon(o).pipe((0,Zr.b)(l=>o.svgText=l))}_extractSvgIconFromSet(o,l,p){const b=o.querySelector(`[id="${l}"]`);if(!b)return null;const G=b.cloneNode(!0);if(G.removeAttribute("id"),"svg"===G.nodeName.toLowerCase())return this._setSvgAttributes(G,p);if("symbol"===G.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(G),p);const Z=this._svgElementFromString(ps("<svg></svg>"));return Z.appendChild(G),this._setSvgAttributes(Z,p)}_svgElementFromString(o){const l=this._document.createElement("DIV");l.innerHTML=o;const p=l.querySelector("svg");if(!p)throw Error("<svg> tag not found");return p}_toSvgElement(o){const l=this._svgElementFromString(ps("<svg></svg>")),p=o.attributes;for(let b=0;b<p.length;b++){const{name:G,value:Z}=p[b];"id"!==G&&l.setAttribute(G,Z)}for(let b=0;b<o.childNodes.length;b++)o.childNodes[b].nodeType===this._document.ELEMENT_NODE&&l.appendChild(o.childNodes[b].cloneNode(!0));return l}_setSvgAttributes(o,l){return o.setAttribute("fit",""),o.setAttribute("height","100%"),o.setAttribute("width","100%"),o.setAttribute("preserveAspectRatio","xMidYMid meet"),o.setAttribute("focusable","false"),l&&l.viewBox&&o.setAttribute("viewBox",l.viewBox),o}_fetchIcon(o){var pe;const{url:l,options:p}=o,b=null!=(pe=null==p?void 0:p.withCredentials)&&pe;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==l)throw Error(`Cannot fetch icon from URL "${l}".`);const G=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,l);if(!G)throw kc(l);const Z=this._inProgressUrlFetches.get(G);if(Z)return Z;const oe=this._httpClient.get(G,{responseType:"text",withCredentials:b}).pipe((0,D.U)(Oe=>ps(Oe)),(0,Lh.x)(()=>this._inProgressUrlFetches.delete(G)),(0,hs.B)());return this._inProgressUrlFetches.set(G,oe),oe}_addSvgIconConfig(o,l,p){return this._svgIconConfigs.set(Gc(o,l),p),this}_addSvgIconSetConfig(o,l){const p=this._iconSetConfigs.get(o);return p?p.push(l):this._iconSetConfigs.set(o,[l]),this}_svgElementFromConfig(o){if(!o.svgElement){const l=this._svgElementFromString(o.svgText);this._setSvgAttributes(l,o.options),o.svgElement=l}return o.svgElement}_getIconConfigFromResolvers(o,l){for(let p=0;p<this._resolvers.length;p++){const b=this._resolvers[p](l,o);if(b)return Lm(b)?new ln(b.url,null,b.options):new ln(b,null)}}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(F.eN,8),r.LFG(Bc.H7),r.LFG(E.K0,8),r.LFG(r.qLn))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();function gs(c){return c.cloneNode(!0)}function Gc(c,u){return c+":"+u}function Lm(c){return!(!c.url||!c.options)}const Mi=Qr(class{constructor(c){this._elementRef=c}}),Nm=new r.OlP("mat-icon-location",{providedIn:"root",factory:function(){const c=(0,r.f3M)(E.K0),u=c?c.location:null;return{getPathname:()=>u?u.pathname+u.search:""}}}),kh=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Gh=kh.map(c=>`[${c}]`).join(", "),Hh=/^url\(['"]?#(.*?)['"]?\)$/;let Wn=(()=>{class c extends Mi{constructor(o,l,p,b,G){super(o),this._iconRegistry=l,this._location=b,this._errorHandler=G,this._inline=!1,this._currentIconFetch=kt.w0.EMPTY,p||o.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(o){this._inline=st(o)}get svgIcon(){return this._svgIcon}set svgIcon(o){o!==this._svgIcon&&(o?this._updateSvgIcon(o):this._svgIcon&&this._clearSvgElement(),this._svgIcon=o)}get fontSet(){return this._fontSet}set fontSet(o){const l=this._cleanupFontValue(o);l!==this._fontSet&&(this._fontSet=l,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(o){const l=this._cleanupFontValue(o);l!==this._fontIcon&&(this._fontIcon=l,this._updateFontIconClasses())}_splitIconName(o){if(!o)return["",""];const l=o.split(":");switch(l.length){case 1:return["",l[0]];case 2:return l;default:throw Error(`Invalid icon name: "${o}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const o=this._elementsWithExternalReferences;if(o&&o.size){const l=this._location.getPathname();l!==this._previousPath&&(this._previousPath=l,this._prependPathToReferences(l))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(o){this._clearSvgElement();const l=this._location.getPathname();this._previousPath=l,this._cacheChildrenWithExternalReferences(o),this._prependPathToReferences(l),this._elementRef.nativeElement.appendChild(o)}_clearSvgElement(){const o=this._elementRef.nativeElement;let l=o.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();l--;){const p=o.childNodes[l];(1!==p.nodeType||"svg"===p.nodeName.toLowerCase())&&p.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const o=this._elementRef.nativeElement,l=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();l!=this._previousFontSetClass&&(this._previousFontSetClass&&o.classList.remove(this._previousFontSetClass),l&&o.classList.add(l),this._previousFontSetClass=l),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&o.classList.remove(this._previousFontIconClass),this.fontIcon&&o.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(o){return"string"==typeof o?o.trim().split(" ")[0]:o}_prependPathToReferences(o){const l=this._elementsWithExternalReferences;l&&l.forEach((p,b)=>{p.forEach(G=>{b.setAttribute(G.name,`url('${o}#${G.value}')`)})})}_cacheChildrenWithExternalReferences(o){const l=o.querySelectorAll(Gh),p=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let b=0;b<l.length;b++)kh.forEach(G=>{const Z=l[b],oe=Z.getAttribute(G),pe=oe?oe.match(Hh):null;if(pe){let Oe=p.get(Z);Oe||(Oe=[],p.set(Z,Oe)),Oe.push({name:G,value:pe[1]})}})}_updateSvgIcon(o){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),o){const[l,p]=this._splitIconName(o);l&&(this._svgNamespace=l),p&&(this._svgName=p),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(p,l).pipe((0,Mt.q)(1)).subscribe(b=>this._setSvgElement(b),b=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${l}:${p}! ${b.message}`))})}}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(Ta),r.$8M("aria-hidden"),r.Y36(Nm),r.Y36(r.qLn))},c.\u0275cmp=r.Xpm({type:c,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(o,l){2&o&&(r.uIk("data-mat-icon-type",l._usingFontIcon()?"font":"svg")("data-mat-icon-name",l._svgName||l.fontIcon)("data-mat-icon-namespace",l._svgNamespace||l.fontSet),r.ekj("mat-icon-inline",l.inline)("mat-icon-no-color","primary"!==l.color&&"accent"!==l.color&&"warn"!==l.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.qOj],ngContentSelectors:Mm,decls:1,vars:0,template:function(o,l){1&o&&(r.F$t(),r.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),c})(),_r=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[[Rt],Rt]}),c})();const Cr=["roleGrpInput"];function km(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"mat-chip",13),r.NdJ("removed",function(){const b=r.CHM(o).index;return r.oxw().remove(b)}),r._uU(1),r.TgZ(2,"button",14),r.TgZ(3,"mat-icon"),r._uU(4,"cancel"),r.qZA(),r.qZA(),r.qZA()}if(2&c){const o=u.$implicit;r.xp6(1),r.AsE(" ",o.role_name,"|",o.role_id," ")}}function Gm(c,u){if(1&c&&(r.TgZ(0,"mat-option",15),r._uU(1),r.qZA()),2&c){const o=u.$implicit;r.Q6J("value",o),r.xp6(1),r.hij(" ",o.role_name," ")}}let $n=(()=>{class c{constructor(o,l,p){this.dialogRef=o,this.data=l,this._es=p,this.roleGroupCtrl=new Ot,this.selectedRoleGroups=[],this.allRoleGroups=[],this.separatorKeysCodes=[13,188],this.indexConfig={},this.getRoleGroups=()=>{this._es.getRoleGroups().pipe(bt("data")).subscribe({next:b=>{this.allRoleGroups=b},error:b=>console.error(b)})},this.getIndexConfig=()=>new Promise((b,G)=>{this._es.getIndexConfigs(this.data.index_name).pipe(bt("data")).subscribe({next:Z=>{b(Z)},error:Z=>{console.error(Z),G(Z)}})}),this.updateUiMapping=()=>{console.log(JSON.parse(this.indexUiMapping)),this._es.updateUiMap(this.indexConfig.index_ui_mapping._id,this.data.index_name,JSON.parse(this.indexUiMapping)).subscribe({next:b=>{console.log(b),window.location.reload()},error:b=>{console.error(b)}})},this.updateFilterConfig=()=>{},this.updateRoleGroups=()=>{this._es.updateIndexRole(this.selectedRoleGroups,this.data._id).subscribe({next:b=>{window.location.reload()},error:b=>{console.error(b)}})},this.filteredRoleGroups=this.roleGroupCtrl.valueChanges.pipe((0,Dt.O)(null),(0,D.U)(b=>b?this._filter(b):this.allRoleGroups.slice()))}_filter(o){let l=null;return l="object"==typeof o?o.role_name.toLowerCase():o.toLowerCase(),this.allRoleGroups.filter(p=>p.role_name.toLowerCase().includes(l))}ngOnInit(){var o=this;return function(c){return function(){var u=this,o=arguments;return new Promise(function(l,p){var b=c.apply(u,o);function G(oe){tr(b,l,p,G,Z,"next",oe)}function Z(oe){tr(b,l,p,G,Z,"throw",oe)}G(void 0)})}}(function*(){var l;o.indexConfig=yield o.getIndexConfig(),o.indexUiMapping=JSON.stringify(null===(l=o.indexConfig.index_ui_mapping)||void 0===l?void 0:l.fields,null,2),o.getRoleGroups(),o.selectedRoleGroups=o.data.accessible_roleGroups})()}remove(o){this.selectedRoleGroups.splice(o,1)}selected(o){this.selectedRoleGroups.push(o.option.value),this.roleGrpInput.nativeElement.value="",this.roleGroupCtrl.setValue(null)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(wn),r.Y36(no),r.Y36(R))},c.\u0275cmp=r.Xpm({type:c,selectors:[["app-edit-index-configs"]],viewQuery:function(o,l){if(1&o&&r.Gf(Cr,5),2&o){let p;r.iGM(p=r.CRH())&&(l.roleGrpInput=p.first)}},decls:24,vars:9,consts:[["label","Ui mapping"],[1,"row"],[1,"update-btn",3,"click"],["name","","id","","cols","30","rows","10",3,"ngModel","ngModelChange"],["label","Role groups"],["appearance","fill",1,"example-chip-list"],["chipList",""],[3,"removed",4,"ngFor","ngForOf"],["placeholder","New Role Group...",3,"formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],["roleGrpInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"removed"],["matChipRemove",""],[3,"value"]],template:function(o,l){if(1&o&&(r.TgZ(0,"mat-tab-group"),r.TgZ(1,"mat-tab",0),r.TgZ(2,"div",1),r.TgZ(3,"button",2),r.NdJ("click",function(){return l.updateUiMapping()}),r._uU(4,"Update UI mapping"),r.qZA(),r.qZA(),r.TgZ(5,"textarea",3),r.NdJ("ngModelChange",function(b){return l.indexUiMapping=b}),r.qZA(),r.qZA(),r.TgZ(6,"mat-tab",4),r.TgZ(7,"div",1),r.TgZ(8,"mat-form-field",5),r.TgZ(9,"mat-label"),r._uU(10,"Role groups"),r.qZA(),r.TgZ(11,"mat-chip-list",null,6),r.YNc(13,km,5,2,"mat-chip",7),r._UZ(14,"input",8,9),r.qZA(),r.TgZ(16,"mat-autocomplete",10,11),r.NdJ("optionSelected",function(b){return l.selected(b)}),r.YNc(18,Gm,2,2,"mat-option",12),r.ALo(19,"async"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(20,"div",1),r.TgZ(21,"div",1),r.TgZ(22,"button",2),r.NdJ("click",function(){return l.updateRoleGroups()}),r._uU(23,"Update Role Groups"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&o){const p=r.MAs(12),b=r.MAs(17);r.xp6(5),r.Q6J("ngModel",l.indexUiMapping),r.xp6(8),r.Q6J("ngForOf",l.selectedRoleGroups),r.xp6(1),r.Q6J("formControl",l.roleGroupCtrl)("matAutocomplete",b)("matChipInputFor",p)("matChipInputSeparatorKeyCodes",l.separatorKeysCodes),r.xp6(4),r.Q6J("ngForOf",r.lcZ(19,7,l.filteredRoleGroups))}},directives:[gh,sh,V,ae,Fo,lo,Vn,vr,E.sg,po,yr,fn,ds,Sn,An,Wn,kn],pipes:[E.Ov],styles:[".update-btn[_ngcontent-%COMP%]{height:38px;background:gray;color:#fff}textarea[_ngcontent-%COMP%]{height:32rem;width:48rem}"]}),c})();const Vh=["mat-button",""],Hm=["*"],Wm=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],$h=Qr(dr($i(class{constructor(c){this._elementRef=c}})));let jn=(()=>{class c extends $h{constructor(o,l,p){super(o),this._focusMonitor=l,this._animationMode=p,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const b of Wm)this._hasHostAttributes(b)&&this._getHostElement().classList.add(b);o.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(o,l){o?this._focusMonitor.focusVia(this._getHostElement(),o,l):this._getHostElement().focus(l)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...o){return o.some(l=>this._getHostElement().hasAttribute(l))}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(Nn),r.Y36(oi.Qb,8))},c.\u0275cmp=r.Xpm({type:c,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(o,l){if(1&o&&r.Gf(pi,5),2&o){let p;r.iGM(p=r.CRH())&&(l.ripple=p.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(o,l){2&o&&(r.uIk("disabled",l.disabled||null),r.ekj("_mat-animation-noopable","NoopAnimations"===l._animationMode)("mat-button-disabled",l.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.qOj],attrs:Vh,ngContentSelectors:Hm,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(o,l){1&o&&(r.F$t(),r.TgZ(0,"span",0),r.Hsn(1),r.qZA(),r._UZ(2,"span",1),r._UZ(3,"span",2)),2&o&&(r.xp6(2),r.ekj("mat-button-ripple-round",l.isRoundButton||l.isIconButton),r.Q6J("matRippleDisabled",l._isRippleDisabled())("matRippleCentered",l.isIconButton)("matRippleTrigger",l._getHostElement()))},directives:[pi],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),c})(),ms=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[[fr,Rt],Rt]}),c})();var $m=w(2331);const jh=new Set;let Un,jm=(()=>{class c{constructor(o){this._platform=o,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Um}matchMedia(o){return(this._platform.WEBKIT||this._platform.BLINK)&&function(c){if(!jh.has(c))try{Un||(Un=document.createElement("style"),Un.setAttribute("type","text/css"),document.head.appendChild(Un)),Un.sheet&&(Un.sheet.insertRule(`@media ${c} {body{ }}`,0),jh.add(c))}catch(u){console.error(u)}}(o),this._matchMedia(o)}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(Gt))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();function Um(c){return{matches:"all"===c||""===c,media:c,addListener:()=>{},removeListener:()=>{}}}let Wc=(()=>{class c{constructor(o,l){this._mediaMatcher=o,this._zone=l,this._queries=new Map,this._destroySubject=new tt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(o){return Uh(Vo(o)).some(p=>this._registerQuery(p).mql.matches)}observe(o){const p=Uh(Vo(o)).map(G=>this._registerQuery(G).observable);let b=(0,$m.a)(p);return b=(0,Fc.z)(b.pipe((0,Mt.q)(1)),b.pipe(nc(1),ic(0))),b.pipe((0,D.U)(G=>{const Z={matches:!1,breakpoints:{}};return G.forEach(({matches:oe,query:pe})=>{Z.matches=Z.matches||oe,Z.breakpoints[pe]=oe}),Z}))}_registerQuery(o){if(this._queries.has(o))return this._queries.get(o);const l=this._mediaMatcher.matchMedia(o),b={observable:new m.y(G=>{const Z=oe=>this._zone.run(()=>G.next(oe));return l.addListener(Z),()=>{l.removeListener(Z)}}).pipe((0,Dt.O)(l),(0,D.U)(({matches:G})=>({query:o,matches:G})),yt(this._destroySubject)),mql:l};return this._queries.set(o,b),b}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(jm),r.LFG(r.R0b))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();function Uh(c){return c.map(u=>u.split(",")).reduce((u,o)=>u.concat(o)).map(u=>u.trim())}function zh(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"div",2),r.TgZ(1,"button",3),r.NdJ("click",function(){return r.CHM(o),r.oxw().action()}),r._uU(2),r.qZA(),r.qZA()}if(2&c){const o=r.oxw();r.xp6(2),r.Oqu(o.data.action)}}function zm(c,u){}const cn=new r.OlP("MatSnackBarData");class Ma{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const Zm=Math.pow(2,31)-1;class $c{constructor(u,o){this._overlayRef=o,this._afterDismissed=new tt.x,this._afterOpened=new tt.x,this._onAction=new tt.x,this._dismissedByAction=!1,this.containerInstance=u,u._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(u){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(u,Zm))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Zh=(()=>{class c{constructor(o,l){this.snackBarRef=o,this.data=l}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return c.\u0275fac=function(o){return new(o||c)(r.Y36($c),r.Y36(cn))},c.\u0275cmp=r.Xpm({type:c,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(o,l){1&o&&(r.TgZ(0,"span",0),r._uU(1),r.qZA(),r.YNc(2,zh,3,1,"div",1)),2&o&&(r.xp6(1),r.Oqu(l.data.message),r.xp6(1),r.Q6J("ngIf",l.hasAction))},directives:[E.O5,jn],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),c})();const qm={snackBarState:(0,Je.X$)("state",[(0,Je.SB)("void, hidden",(0,Je.oB)({transform:"scale(0.8)",opacity:0})),(0,Je.SB)("visible",(0,Je.oB)({transform:"scale(1)",opacity:1})),(0,Je.eR)("* => visible",(0,Je.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,Je.eR)("* => void, * => hidden",(0,Je.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,Je.oB)({opacity:0})))])};let qh=(()=>{class c extends on{constructor(o,l,p,b,G){super(),this._ngZone=o,this._elementRef=l,this._changeDetectorRef=p,this._platform=b,this.snackBarConfig=G,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new tt.x,this._onExit=new tt.x,this._onEnter=new tt.x,this._animationState="void",this.attachDomPortal=Z=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(Z)),this._live="assertive"!==G.politeness||G.announcementMessage?"off"===G.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(o){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(o)}attachTemplatePortal(o){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(o)}onAnimationEnd(o){const{fromState:l,toState:p}=o;if(("void"===p&&"void"!==l||"hidden"===p)&&this._completeExit(),"visible"===p){const b=this._onEnter;this._ngZone.run(()=>{b.next(),b.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,Mt.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const o=this._elementRef.nativeElement,l=this.snackBarConfig.panelClass;l&&(Array.isArray(l)?l.forEach(p=>o.classList.add(p)):o.classList.add(l)),"center"===this.snackBarConfig.horizontalPosition&&o.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&o.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const o=this._elementRef.nativeElement.querySelector("[aria-hidden]"),l=this._elementRef.nativeElement.querySelector("[aria-live]");if(o&&l){let p=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&o.contains(document.activeElement)&&(p=document.activeElement),o.removeAttribute("aria-hidden"),l.appendChild(o),null==p||p.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.R0b),r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Gt),r.Y36(Ma))},c.\u0275cmp=r.Xpm({type:c,selectors:[["snack-bar-container"]],viewQuery:function(o,l){if(1&o&&r.Gf(_n,7),2&o){let p;r.iGM(p=r.CRH())&&(l._portalOutlet=p.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(o,l){1&o&&r.WFA("@state.done",function(b){return l.onAnimationEnd(b)}),2&o&&r.d8E("@state",l._animationState)},features:[r.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(o,l){1&o&&(r.TgZ(0,"div",0),r.YNc(1,zm,0,0,"ng-template",1),r.qZA(),r._UZ(2,"div")),2&o&&(r.xp6(2),r.uIk("aria-live",l._live)("role",l._role))},directives:[_n],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[qm.snackBarState]}}),c})(),Kh=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[[Qo,qo,E.ez,ms,Rt],Rt]}),c})();const jc=new r.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new Ma}});let vs=(()=>{class c{constructor(o,l,p,b,G,Z){this._overlay=o,this._live=l,this._injector=p,this._breakpointObserver=b,this._parentSnackBar=G,this._defaultConfig=Z,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const o=this._parentSnackBar;return o?o._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(o){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=o:this._snackBarRefAtThisLevel=o}openFromComponent(o,l){return this._attach(o,l)}openFromTemplate(o,l){return this._attach(o,l)}open(o,l="",p){const b=Ft(Ft({},this._defaultConfig),p);return b.data={message:o,action:l},b.announcementMessage===o&&(b.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,b)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(o,l){const b=r.zs3.create({parent:l&&l.viewContainerRef&&l.viewContainerRef.injector||this._injector,providers:[{provide:Ma,useValue:l}]}),G=new zr(this.snackBarContainerComponent,l.viewContainerRef,b),Z=o.attach(G);return Z.instance.snackBarConfig=l,Z.instance}_attach(o,l){const p=Ft(Ft(Ft({},new Ma),this._defaultConfig),l),b=this._createOverlay(p),G=this._attachSnackBarContainer(b,p),Z=new $c(G,b);if(o instanceof r.Rgc){const oe=new yn(o,null,{$implicit:p.data,snackBarRef:Z});Z.instance=G.attachTemplatePortal(oe)}else{const oe=this._createInjector(p,Z),pe=new zr(o,void 0,oe),Oe=G.attachComponentPortal(pe);Z.instance=Oe.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(yt(b.detachments())).subscribe(oe=>{b.overlayElement.classList.toggle(this.handsetCssClass,oe.matches)}),p.announcementMessage&&G._onAnnounce.subscribe(()=>{this._live.announce(p.announcementMessage,p.politeness)}),this._animateSnackBar(Z,p),this._openedSnackBarRef=Z,this._openedSnackBarRef}_animateSnackBar(o,l){o.afterDismissed().subscribe(()=>{this._openedSnackBarRef==o&&(this._openedSnackBarRef=null),l.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{o.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):o.containerInstance.enter(),l.duration&&l.duration>0&&o.afterOpened().subscribe(()=>o._dismissAfter(l.duration))}_createOverlay(o){const l=new Yo;l.direction=o.direction;let p=this._overlay.position().global();const b="rtl"===o.direction,G="left"===o.horizontalPosition||"start"===o.horizontalPosition&&!b||"end"===o.horizontalPosition&&b,Z=!G&&"center"!==o.horizontalPosition;return G?p.left("0"):Z?p.right("0"):p.centerHorizontally(),"top"===o.verticalPosition?p.top("0"):p.bottom("0"),l.positionStrategy=p,this._overlay.create(l)}_createInjector(o,l){return r.zs3.create({parent:o&&o.viewContainerRef&&o.viewContainerRef.injector||this._injector,providers:[{provide:$c,useValue:l},{provide:cn,useValue:o.data}]})}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(Wi),r.LFG(Xo),r.LFG(r.zs3),r.LFG(Wc),r.LFG(c,12),r.LFG(jc))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac}),c})(),Uc=(()=>{class c extends vs{constructor(o,l,p,b,G,Z){super(o,l,p,b,G,Z),this.simpleSnackBarComponent=Zh,this.snackBarContainerComponent=qh,this.handsetCssClass="mat-snack-bar-handset"}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(Wi),r.LFG(Xo),r.LFG(r.zs3),r.LFG(Wc),r.LFG(c,12),r.LFG(jc))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:Kh}),c})();function K(c,u,o,l){var G,p=arguments.length,b=p<3?u:null===l?l=Object.getOwnPropertyDescriptor(u,o):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)b=Reflect.decorate(c,u,o,l);else for(var Z=c.length-1;Z>=0;Z--)(G=c[Z])&&(b=(p<3?G(b):p>3?G(u,o,b):G(u,o))||b);return p>3&&b&&Object.defineProperty(u,o,b),b}function Y(c,u){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(c,u)}var Zc,br=w(293);let Be=Zc=class{hasChildColumns(){return!(!(this.childColumns&&this.childColumns.length>0)||1===this.childColumns.length&&this.childColumns.first===this)}toColDef(){let u=this.createColDefFromGridColumn(this);return this.hasChildColumns()&&(u.children=this.getChildColDefs(this.childColumns)),u}getChildColDefs(u){return u.filter(o=>!o.hasChildColumns()).map(o=>o.toColDef())}createColDefFromGridColumn(u){return function(c,u){var o={};for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&u.indexOf(l)<0&&(o[l]=c[l]);if(null!=c&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(l=Object.getOwnPropertySymbols(c);p<l.length;p++)u.indexOf(l[p])<0&&Object.prototype.propertyIsEnumerable.call(c,l[p])&&(o[l[p]]=c[l[p]])}return o}(u,["childColumns"])}};Be.\u0275fac=function(u){return new(u||Be)},Be.\u0275cmp=r.Xpm({type:Be,selectors:[["ag-grid-column"]],contentQueries:function(u,o,l){if(1&u&&r.Suo(l,Zc,4),2&u){let p;r.iGM(p=r.CRH())&&(o.childColumns=p)}},inputs:{filterFramework:"filterFramework",filterParams:"filterParams",floatingFilterComponent:"floatingFilterComponent",floatingFilterComponentParams:"floatingFilterComponentParams",floatingFilterComponentFramework:"floatingFilterComponentFramework",floatingFilterFramework:"floatingFilterFramework",filter:"filter",headerName:"headerName",headerValueGetter:"headerValueGetter",headerTooltip:"headerTooltip",headerClass:"headerClass",suppressHeaderKeyboardEvent:"suppressHeaderKeyboardEvent",columnGroupShow:"columnGroupShow",toolPanelClass:"toolPanelClass",suppressColumnsToolPanel:"suppressColumnsToolPanel",suppressFiltersToolPanel:"suppressFiltersToolPanel",tooltipComponent:"tooltipComponent",tooltipComponentFramework:"tooltipComponentFramework",tooltipComponentParams:"tooltipComponentParams",children:"children",groupId:"groupId",openByDefault:"openByDefault",marryChildren:"marryChildren",headerGroupComponent:"headerGroupComponent",headerGroupComponentFramework:"headerGroupComponentFramework",headerGroupComponentParams:"headerGroupComponentParams",colId:"colId",field:"field",type:"type",valueGetter:"valueGetter",valueFormatter:"valueFormatter",refData:"refData",keyCreator:"keyCreator",equals:"equals",tooltipField:"tooltipField",tooltipValueGetter:"tooltipValueGetter",checkboxSelection:"checkboxSelection",icons:"icons",suppressNavigable:"suppressNavigable",suppressKeyboardEvent:"suppressKeyboardEvent",suppressPaste:"suppressPaste",suppressFillHandle:"suppressFillHandle",hide:"hide",initialHide:"initialHide",lockVisible:"lockVisible",lockPosition:"lockPosition",suppressMovable:"suppressMovable",editable:"editable",valueSetter:"valueSetter",valueParser:"valueParser",cellEditor:"cellEditor",cellEditorFramework:"cellEditorFramework",cellEditorParams:"cellEditorParams",cellEditorSelector:"cellEditorSelector",singleClickEdit:"singleClickEdit",newValueHandler:"newValueHandler",cellEditorPopup:"cellEditorPopup",cellEditorPopupPosition:"cellEditorPopupPosition",onCellValueChanged:"onCellValueChanged",onCellClicked:"onCellClicked",onCellDoubleClicked:"onCellDoubleClicked",onCellContextMenu:"onCellContextMenu",getQuickFilterText:"getQuickFilterText",filterValueGetter:"filterValueGetter",floatingFilter:"floatingFilter",headerComponent:"headerComponent",headerComponentFramework:"headerComponentFramework",headerComponentParams:"headerComponentParams",menuTabs:"menuTabs",columnsMenuParams:"columnsMenuParams",suppressMenu:"suppressMenu",headerCheckboxSelection:"headerCheckboxSelection",headerCheckboxSelectionFilteredOnly:"headerCheckboxSelectionFilteredOnly",chartDataType:"chartDataType",pinned:"pinned",initialPinned:"initialPinned",lockPinned:"lockPinned",pinnedRowCellRenderer:"pinnedRowCellRenderer",pinnedRowCellRendererFramework:"pinnedRowCellRendererFramework",pinnedRowCellRendererParams:"pinnedRowCellRendererParams",pinnedRowValueFormatter:"pinnedRowValueFormatter",pivot:"pivot",initialPivot:"initialPivot",pivotIndex:"pivotIndex",initialPivotIndex:"initialPivotIndex",pivotComparator:"pivotComparator",enablePivot:"enablePivot",cellStyle:"cellStyle",cellClass:"cellClass",cellClassRules:"cellClassRules",cellRenderer:"cellRenderer",cellRendererFramework:"cellRendererFramework",cellRendererParams:"cellRendererParams",cellRendererSelector:"cellRendererSelector",autoHeight:"autoHeight",wrapText:"wrapText",enableCellChangeFlash:"enableCellChangeFlash",suppressCellFlash:"suppressCellFlash",rowDrag:"rowDrag",rowDragText:"rowDragText",dndSource:"dndSource",dndSourceOnRowDrag:"dndSourceOnRowDrag",rowGroup:"rowGroup",initialRowGroup:"initialRowGroup",rowGroupIndex:"rowGroupIndex",initialRowGroupIndex:"initialRowGroupIndex",enableRowGroup:"enableRowGroup",enableValue:"enableValue",aggFunc:"aggFunc",initialAggFunc:"initialAggFunc",allowedAggFuncs:"allowedAggFuncs",showRowGroup:"showRowGroup",sortable:"sortable",sort:"sort",initialSort:"initialSort",sortIndex:"sortIndex",initialSortIndex:"initialSortIndex",sortingOrder:"sortingOrder",comparator:"comparator",unSortIcon:"unSortIcon",sortedAt:"sortedAt",colSpan:"colSpan",rowSpan:"rowSpan",width:"width",initialWidth:"initialWidth",minWidth:"minWidth",maxWidth:"maxWidth",flex:"flex",initialFlex:"initialFlex",resizable:"resizable",suppressSizeToFit:"suppressSizeToFit",suppressAutoSize:"suppressAutoSize"},decls:0,vars:0,template:function(u,o){},encapsulation:2}),K([(0,r.AcB)(Zc),Y("design:type",r.n_E)],Be.prototype,"childColumns",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"filterFramework",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"filterParams",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"floatingFilterComponent",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"floatingFilterComponentParams",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"floatingFilterComponentFramework",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"floatingFilterFramework",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"filter",void 0),K([(0,r.IIB)(),Y("design:type",String)],Be.prototype,"headerName",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"headerValueGetter",void 0),K([(0,r.IIB)(),Y("design:type",String)],Be.prototype,"headerTooltip",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"headerClass",void 0),K([(0,r.IIB)(),Y("design:type",Function)],Be.prototype,"suppressHeaderKeyboardEvent",void 0),K([(0,r.IIB)(),Y("design:type",String)],Be.prototype,"columnGroupShow",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"toolPanelClass",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"suppressColumnsToolPanel",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"suppressFiltersToolPanel",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"tooltipComponent",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"tooltipComponentFramework",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"tooltipComponentParams",void 0),K([(0,r.IIB)(),Y("design:type",Array)],Be.prototype,"children",void 0),K([(0,r.IIB)(),Y("design:type",String)],Be.prototype,"groupId",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"openByDefault",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"marryChildren",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"headerGroupComponent",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"headerGroupComponentFramework",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"headerGroupComponentParams",void 0),K([(0,r.IIB)(),Y("design:type",String)],Be.prototype,"colId",void 0),K([(0,r.IIB)(),Y("design:type",String)],Be.prototype,"field",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"type",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"valueGetter",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"valueFormatter",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"refData",void 0),K([(0,r.IIB)(),Y("design:type",Function)],Be.prototype,"keyCreator",void 0),K([(0,r.IIB)(),Y("design:type",Function)],Be.prototype,"equals",void 0),K([(0,r.IIB)(),Y("design:type",String)],Be.prototype,"tooltipField",void 0),K([(0,r.IIB)(),Y("design:type",Function)],Be.prototype,"tooltipValueGetter",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"checkboxSelection",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"icons",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"suppressNavigable",void 0),K([(0,r.IIB)(),Y("design:type",Function)],Be.prototype,"suppressKeyboardEvent",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"suppressPaste",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"suppressFillHandle",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"hide",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"initialHide",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"lockVisible",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"lockPosition",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"suppressMovable",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"editable",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"valueSetter",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"valueParser",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"cellEditor",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"cellEditorFramework",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"cellEditorParams",void 0),K([(0,r.IIB)(),Y("design:type",Function)],Be.prototype,"cellEditorSelector",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"singleClickEdit",void 0),K([(0,r.IIB)(),Y("design:type",Function)],Be.prototype,"newValueHandler",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"cellEditorPopup",void 0),K([(0,r.IIB)(),Y("design:type",String)],Be.prototype,"cellEditorPopupPosition",void 0),K([(0,r.IIB)(),Y("design:type",Function)],Be.prototype,"onCellValueChanged",void 0),K([(0,r.IIB)(),Y("design:type",Function)],Be.prototype,"onCellClicked",void 0),K([(0,r.IIB)(),Y("design:type",Function)],Be.prototype,"onCellDoubleClicked",void 0),K([(0,r.IIB)(),Y("design:type",Function)],Be.prototype,"onCellContextMenu",void 0),K([(0,r.IIB)(),Y("design:type",Function)],Be.prototype,"getQuickFilterText",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"filterValueGetter",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"floatingFilter",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"headerComponent",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"headerComponentFramework",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"headerComponentParams",void 0),K([(0,r.IIB)(),Y("design:type",Array)],Be.prototype,"menuTabs",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"columnsMenuParams",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"suppressMenu",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"headerCheckboxSelection",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"headerCheckboxSelectionFilteredOnly",void 0),K([(0,r.IIB)(),Y("design:type",String)],Be.prototype,"chartDataType",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"pinned",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"initialPinned",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"lockPinned",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"pinnedRowCellRenderer",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"pinnedRowCellRendererFramework",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"pinnedRowCellRendererParams",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"pinnedRowValueFormatter",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"pivot",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"initialPivot",void 0),K([(0,r.IIB)(),Y("design:type",Number)],Be.prototype,"pivotIndex",void 0),K([(0,r.IIB)(),Y("design:type",Number)],Be.prototype,"initialPivotIndex",void 0),K([(0,r.IIB)(),Y("design:type",Function)],Be.prototype,"pivotComparator",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"enablePivot",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"cellStyle",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"cellClass",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"cellClassRules",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"cellRenderer",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"cellRendererFramework",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"cellRendererParams",void 0),K([(0,r.IIB)(),Y("design:type",Function)],Be.prototype,"cellRendererSelector",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"autoHeight",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"wrapText",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"enableCellChangeFlash",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"suppressCellFlash",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"rowDrag",void 0),K([(0,r.IIB)(),Y("design:type",Function)],Be.prototype,"rowDragText",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"dndSource",void 0),K([(0,r.IIB)(),Y("design:type",Function)],Be.prototype,"dndSourceOnRowDrag",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"rowGroup",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"initialRowGroup",void 0),K([(0,r.IIB)(),Y("design:type",Number)],Be.prototype,"rowGroupIndex",void 0),K([(0,r.IIB)(),Y("design:type",Number)],Be.prototype,"initialRowGroupIndex",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"enableRowGroup",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"enableValue",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"aggFunc",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"initialAggFunc",void 0),K([(0,r.IIB)(),Y("design:type",Array)],Be.prototype,"allowedAggFuncs",void 0),K([(0,r.IIB)(),Y("design:type",Object)],Be.prototype,"showRowGroup",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"sortable",void 0),K([(0,r.IIB)(),Y("design:type",String)],Be.prototype,"sort",void 0),K([(0,r.IIB)(),Y("design:type",String)],Be.prototype,"initialSort",void 0),K([(0,r.IIB)(),Y("design:type",Number)],Be.prototype,"sortIndex",void 0),K([(0,r.IIB)(),Y("design:type",Number)],Be.prototype,"initialSortIndex",void 0),K([(0,r.IIB)(),Y("design:type",Array)],Be.prototype,"sortingOrder",void 0),K([(0,r.IIB)(),Y("design:type",Function)],Be.prototype,"comparator",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"unSortIcon",void 0),K([(0,r.IIB)(),Y("design:type",Number)],Be.prototype,"sortedAt",void 0),K([(0,r.IIB)(),Y("design:type",Function)],Be.prototype,"colSpan",void 0),K([(0,r.IIB)(),Y("design:type",Function)],Be.prototype,"rowSpan",void 0),K([(0,r.IIB)(),Y("design:type",Number)],Be.prototype,"width",void 0),K([(0,r.IIB)(),Y("design:type",Number)],Be.prototype,"initialWidth",void 0),K([(0,r.IIB)(),Y("design:type",Number)],Be.prototype,"minWidth",void 0),K([(0,r.IIB)(),Y("design:type",Number)],Be.prototype,"maxWidth",void 0),K([(0,r.IIB)(),Y("design:type",Number)],Be.prototype,"flex",void 0),K([(0,r.IIB)(),Y("design:type",Number)],Be.prototype,"initialFlex",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"resizable",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"suppressSizeToFit",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],Be.prototype,"suppressAutoSize",void 0);let qc=(()=>{let c=class extends br.vA3{constructor(o){super(),this._ngZone=o}setEmitterUsedCallback(o){this.isEmitterUsed=o}setTimeout(o,l){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{o()},l)}):window.setTimeout(()=>{o()},l)}setInterval(o,l){return new br.j_S(p=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{p(window.setInterval(()=>{o()},l))}):p(window.setInterval(()=>{o()},l))})}addEventListener(o,l,p,b){this.isOutsideAngular(l)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{o.addEventListener(l,p,b)}):o.addEventListener(l,p,b)}dispatchEvent(o,l,p=!1){this.isOutsideAngular(o)?this._ngZone?this._ngZone.runOutsideAngular(l):l():(this.isEmitterUsed(o)||p)&&(!r.R0b.isInAngularZone()&&this._ngZone?this._ngZone.run(l):l())}isFrameworkComponent(o){if(!o)return!1;const l=o.prototype;return l&&"agInit"in l}};return c.\u0275fac=function(o){return new(o||c)(r.LFG(r.R0b))},c.\u0275prov=r.Yz7({token:c,factory:function(u){return c.\u0275fac(u)}}),c=K([Y("design:paramtypes",[r.R0b])],c),c})(),ys=(()=>{let c=class extends br.Nk3{setViewContainerRef(o){this.viewContainerRef=o}setComponentFactoryResolver(o){this.componentFactoryResolver=o}createWrapper(o){let l=this,b=new class extends class{init(u){this._params=u,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}{init(Z){super.init(Z),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return l.createComponent(o)}hasMethod(Z){return null!=b.getFrameworkComponentInstance()[Z]}callMethod(Z,oe){const pe=this.getFrameworkComponentInstance();return b.getFrameworkComponentInstance()[Z].apply(pe,oe)}addMethod(Z,oe){b[Z]=oe}};return b}createComponent(o){let l=this.componentFactoryResolver.resolveComponentFactory(o);return this.viewContainerRef.createComponent(l)}};return c.\u0275fac=function(){let u;return function(l){return(u||(u=r.n5z(c)))(l||c)}}(),c.\u0275prov=r.Yz7({token:c,factory:function(u){return c.\u0275fac(u)}}),c})(),ka=(()=>{let c=class{constructor(o,l,p,b,G){this.viewContainerRef=l,this.angularFrameworkOverrides=p,this.frameworkComponentWrapper=b,this.componentFactoryResolver=G,this._initialised=!1,this._destroyed=!1,this._fullyReady=br.j_S.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.deltaColumnMode=void 0,this.applyColumnDefOrder=void 0,this.immutableColumns=void 0,this.suppressSetColumnStateEvents=void 0,this.suppressColumnStateEvents=void 0,this.colWidth=void 0,this.minColWidth=void 0,this.maxColWidth=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.components=void 0,this.frameworkComponents=void 0,this.reactUi=void 0,this.suppressReactUi=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.stopEditingWhenGridLosesFocus=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.defaultExportParams=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererFramework=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererFramework=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentFramework=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentFramework=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererFramework=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.deprecatedEmbedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererFramework=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.groupRowInnerRenderer=void 0,this.groupRowInnerRendererFramework=void 0,this.groupMultiAutoColumn=void 0,this.groupUseEntireRow=void 0,this.groupSuppressAutoColumn=void 0,this.rememberGroupStateWhenNewData=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.immutableData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.deltaRowDataMode=void 0,this.batchUpdateWaitMillis=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideStoreType=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortingAlwaysResets=void 0,this.serverSideFilteringAlwaysResets=void 0,this.suppressEnterpriseResetOnNewColumns=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.angularCompileRows=void 0,this.angularCompileFilters=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.suppressKeyboardEvent=void 0,this.localeTextFunc=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.groupRowAggNodes=void 0,this.isGroupOpenByDefault=void 0,this.defaultGroupOrderComparator=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.getDataPath=void 0,this.defaultGroupSortComparator=void 0,this.getChildCount=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowNodeId=void 0,this.getRowId=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSort=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthCell=void 0,this.toolPanelVisibleChanged=new r.vpe,this.pasteStart=new r.vpe,this.pasteEnd=new r.vpe,this.columnVisible=new r.vpe,this.columnPinned=new r.vpe,this.columnResized=new r.vpe,this.columnMoved=new r.vpe,this.columnValueChanged=new r.vpe,this.columnPivotModeChanged=new r.vpe,this.columnPivotChanged=new r.vpe,this.columnGroupOpened=new r.vpe,this.newColumnsLoaded=new r.vpe,this.gridColumnsChanged=new r.vpe,this.displayedColumnsChanged=new r.vpe,this.virtualColumnsChanged=new r.vpe,this.columnEverythingChanged=new r.vpe,this.componentStateChanged=new r.vpe,this.cellValueChanged=new r.vpe,this.cellEditRequest=new r.vpe,this.rowValueChanged=new r.vpe,this.cellEditingStarted=new r.vpe,this.cellEditingStopped=new r.vpe,this.rowEditingStarted=new r.vpe,this.rowEditingStopped=new r.vpe,this.filterOpened=new r.vpe,this.filterChanged=new r.vpe,this.filterModified=new r.vpe,this.chartCreated=new r.vpe,this.chartRangeSelectionChanged=new r.vpe,this.chartOptionsChanged=new r.vpe,this.chartDestroyed=new r.vpe,this.cellKeyDown=new r.vpe,this.cellKeyPress=new r.vpe,this.gridReady=new r.vpe,this.firstDataRendered=new r.vpe,this.gridSizeChanged=new r.vpe,this.modelUpdated=new r.vpe,this.virtualRowRemoved=new r.vpe,this.viewportChanged=new r.vpe,this.bodyScroll=new r.vpe,this.bodyScrollEnd=new r.vpe,this.dragStarted=new r.vpe,this.dragStopped=new r.vpe,this.paginationChanged=new r.vpe,this.rowDragEnter=new r.vpe,this.rowDragMove=new r.vpe,this.rowDragLeave=new r.vpe,this.rowDragEnd=new r.vpe,this.columnRowGroupChanged=new r.vpe,this.rowGroupOpened=new r.vpe,this.expandOrCollapseAll=new r.vpe,this.pinnedRowDataChanged=new r.vpe,this.rowDataChanged=new r.vpe,this.rowDataUpdated=new r.vpe,this.asyncTransactionsFlushed=new r.vpe,this.cellClicked=new r.vpe,this.cellDoubleClicked=new r.vpe,this.cellFocused=new r.vpe,this.cellMouseOver=new r.vpe,this.cellMouseOut=new r.vpe,this.cellMouseDown=new r.vpe,this.rowClicked=new r.vpe,this.rowDoubleClicked=new r.vpe,this.rowSelected=new r.vpe,this.selectionChanged=new r.vpe,this.cellContextMenu=new r.vpe,this.rangeSelectionChanged=new r.vpe,this.sortChanged=new r.vpe,this.columnRowGroupChangeRequest=new r.vpe,this.columnPivotChangeRequest=new r.vpe,this.columnValueChangeRequest=new r.vpe,this.columnAggFuncChangeRequest=new r.vpe,this._nativeElement=o.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=br.plv.copyAttributesToGridOptions(this.gridOptions,this,!0),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},this.columns&&this.columns.length>0&&(this.gridOptions.columnDefs=this.columns.map(o=>o.toColDef())),new br.rjZ(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,o=>o)}ngOnChanges(o){this._initialised&&br.plv.processOnChange(o,this.gridOptions,this.api,this.columnApi)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(o){const l=this[o],p=!!l&&l.observers&&l.observers.length>0,b=`on${o.charAt(0).toUpperCase()}${o.substring(1)}`;return p||!!this.gridOptions&&!!this.gridOptions[b]}globalEventListener(o,l){if(this._destroyed)return;const p=this[o];p&&this.isEmitterUsed(o)&&("gridReady"===o?this._fullyReady.then(b=>{p.emit(l)}):p.emit(l))}};return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(r.s_b),r.Y36(qc),r.Y36(ys),r.Y36(r._Vd))},c.\u0275cmp=r.Xpm({type:c,selectors:[["ag-grid-angular"]],contentQueries:function(o,l,p){if(1&o&&r.Suo(p,Be,4),2&o){let b;r.iGM(b=r.CRH())&&(l.columns=b)}},inputs:{statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",deltaColumnMode:"deltaColumnMode",applyColumnDefOrder:"applyColumnDefOrder",immutableColumns:"immutableColumns",suppressSetColumnStateEvents:"suppressSetColumnStateEvents",suppressColumnStateEvents:"suppressColumnStateEvents",colWidth:"colWidth",minColWidth:"minColWidth",maxColWidth:"maxColWidth",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",components:"components",frameworkComponents:"frameworkComponents",reactUi:"reactUi",suppressReactUi:"suppressReactUi",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",stopEditingWhenGridLosesFocus:"stopEditingWhenGridLosesFocus",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",defaultExportParams:"defaultExportParams",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererFramework:"loadingCellRendererFramework",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererFramework:"detailCellRendererFramework",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentFramework:"loadingOverlayComponentFramework",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentFramework:"noRowsOverlayComponentFramework",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererFramework:"fullWidthCellRendererFramework",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",deprecatedEmbedFullWidthRows:"deprecatedEmbedFullWidthRows",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererFramework:"groupRowRendererFramework",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",groupRowInnerRenderer:"groupRowInnerRenderer",groupRowInnerRendererFramework:"groupRowInnerRendererFramework",groupMultiAutoColumn:"groupMultiAutoColumn",groupUseEntireRow:"groupUseEntireRow",groupSuppressAutoColumn:"groupSuppressAutoColumn",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",immutableData:"immutableData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",deltaRowDataMode:"deltaRowDataMode",batchUpdateWaitMillis:"batchUpdateWaitMillis",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideStoreType:"serverSideStoreType",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",serverSideFilteringAlwaysResets:"serverSideFilteringAlwaysResets",suppressEnterpriseResetOnNewColumns:"suppressEnterpriseResetOnNewColumns",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellSelection:"suppressCellSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",angularCompileRows:"angularCompileRows",angularCompileFilters:"angularCompileFilters",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",suppressKeyboardEvent:"suppressKeyboardEvent",localeTextFunc:"localeTextFunc",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",groupRowAggNodes:"groupRowAggNodes",isGroupOpenByDefault:"isGroupOpenByDefault",defaultGroupOrderComparator:"defaultGroupOrderComparator",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",getDataPath:"getDataPath",defaultGroupSortComparator:"defaultGroupSortComparator",getChildCount:"getChildCount",getServerSideStoreParams:"getServerSideStoreParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowNodeId:"getRowNodeId",getRowId:"getRowId",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSort:"postSort",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthCell:"isFullWidthCell",gridOptions:"gridOptions",modules:"modules"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",cellKeyPress:"cellKeyPress",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[r._Bn([qc,ys]),r.TTD],decls:0,vars:0,template:function(o,l){},encapsulation:2}),K([(0,r.AcB)(Be),Y("design:type",r.n_E)],c.prototype,"columns",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"gridOptions",void 0),K([(0,r.IIB)(),Y("design:type",Array)],c.prototype,"modules",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"statusBar",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"sideBar",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressContextMenu",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"preventDefaultOnContextMenu",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"allowContextMenuWithControlKey",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressMenuHide",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"enableBrowserTooltips",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"tooltipShowDelay",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"tooltipHideDelay",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"tooltipMouseTrack",void 0),K([(0,r.IIB)(),Y("design:type",HTMLElement)],c.prototype,"popupParent",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"copyHeadersToClipboard",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"copyGroupHeadersToClipboard",void 0),K([(0,r.IIB)(),Y("design:type",String)],c.prototype,"clipboardDelimiter",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressCopyRowsToClipboard",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressLastEmptyLineOnPaste",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressClipboardPaste",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressClipboardApi",void 0),K([(0,r.IIB)(),Y("design:type",Array)],c.prototype,"columnDefs",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"defaultColDef",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"defaultColGroupDef",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"columnTypes",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"maintainColumnOrder",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressFieldDotNotation",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"deltaColumnMode",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"applyColumnDefOrder",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"immutableColumns",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressSetColumnStateEvents",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressColumnStateEvents",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"colWidth",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"minColWidth",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"maxColWidth",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"headerHeight",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"groupHeaderHeight",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"floatingFiltersHeight",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"pivotHeaderHeight",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"pivotGroupHeaderHeight",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"allowDragFromColumnsToolPanel",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressMovableColumns",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressColumnMoveAnimation",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressDragLeaveHidesColumns",void 0),K([(0,r.IIB)(),Y("design:type",String)],c.prototype,"colResizeDefault",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressAutoSize",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"autoSizePadding",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"skipHeaderOnAutoSize",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"components",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"frameworkComponents",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"reactUi",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressReactUi",void 0),K([(0,r.IIB)(),Y("design:type",String)],c.prototype,"editType",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"singleClickEdit",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressClickEdit",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"readOnlyEdit",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"stopEditingWhenCellsLoseFocus",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"enterMovesDown",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"enterMovesDownAfterEdit",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"undoRedoCellEditing",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"undoRedoCellEditingLimit",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"stopEditingWhenGridLosesFocus",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"defaultCsvExportParams",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressCsvExport",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"defaultExcelExportParams",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressExcelExport",void 0),K([(0,r.IIB)(),Y("design:type",Array)],c.prototype,"excelStyles",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"defaultExportParams",void 0),K([(0,r.IIB)(),Y("design:type",String)],c.prototype,"quickFilterText",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"cacheQuickFilter",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"excludeChildrenWhenTreeDataFiltering",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"enableCharts",void 0),K([(0,r.IIB)(),Y("design:type",Array)],c.prototype,"chartThemes",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"customChartThemes",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"chartThemeOverrides",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"loadingCellRenderer",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"loadingCellRendererFramework",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"loadingCellRendererParams",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"loadingCellRendererSelector",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"localeText",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"masterDetail",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"keepDetailRows",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"keepDetailRowsCount",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"detailCellRenderer",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"detailCellRendererFramework",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"detailCellRendererParams",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"detailRowHeight",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"detailRowAutoHeight",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"context",void 0),K([(0,r.IIB)(),Y("design:type",Array)],c.prototype,"alignedGrids",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"tabIndex",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"rowBuffer",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"valueCache",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"valueCacheNeverExpires",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"enableCellExpressions",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressParentsInRowNodes",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressTouch",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressFocusAfterRefresh",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressAsyncEvents",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressBrowserResizeObserver",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressPropertyNamesCheck",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressChangeDetection",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"debug",void 0),K([(0,r.IIB)(),Y("design:type",String)],c.prototype,"overlayLoadingTemplate",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"loadingOverlayComponent",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"loadingOverlayComponentFramework",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"loadingOverlayComponentParams",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressLoadingOverlay",void 0),K([(0,r.IIB)(),Y("design:type",String)],c.prototype,"overlayNoRowsTemplate",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"noRowsOverlayComponent",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"noRowsOverlayComponentFramework",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"noRowsOverlayComponentParams",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressNoRowsOverlay",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"pagination",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"paginationPageSize",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"paginationAutoPageSize",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"paginateChildRows",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressPaginationPanel",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"pivotMode",void 0),K([(0,r.IIB)(),Y("design:type",String)],c.prototype,"pivotPanelShow",void 0),K([(0,r.IIB)(),Y("design:type",String)],c.prototype,"pivotColumnGroupTotals",void 0),K([(0,r.IIB)(),Y("design:type",String)],c.prototype,"pivotRowTotals",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"pivotSuppressAutoColumn",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressExpandablePivotGroups",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"functionsReadOnly",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"aggFuncs",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressAggFuncInHeader",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressAggAtRootLevel",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"aggregateOnlyChangedColumns",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressAggFilteredOnly",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"animateRows",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"enableCellChangeFlash",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"cellFlashDelay",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"cellFadeDelay",void 0),K([(0,r.IIB)(),Y("design:type",String)],c.prototype,"domLayout",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"ensureDomOrder",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"enableRtl",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressColumnVirtualisation",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressMaxRenderedRowRestriction",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressRowVirtualisation",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"rowDragManaged",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressRowDrag",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressMoveWhenRowDragging",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"rowDragEntireRow",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"rowDragMultiRow",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"fullWidthCellRenderer",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"fullWidthCellRendererFramework",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"fullWidthCellRendererParams",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"embedFullWidthRows",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"deprecatedEmbedFullWidthRows",void 0),K([(0,r.IIB)(),Y("design:type",String)],c.prototype,"groupDisplayType",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"groupDefaultExpanded",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"autoGroupColumnDef",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"groupMaintainOrder",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"groupSelectsChildren",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"groupIncludeFooter",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"groupIncludeTotalFooter",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"groupSuppressBlankHeader",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"groupSelectsFiltered",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"showOpenedGroup",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"groupRemoveSingleChildren",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"groupRemoveLowestSingleChildren",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"groupHideOpenParents",void 0),K([(0,r.IIB)(),Y("design:type",String)],c.prototype,"rowGroupPanelShow",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"groupRowRenderer",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"groupRowRendererFramework",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"groupRowRendererParams",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressMakeColumnVisibleAfterUnGroup",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"treeData",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"groupRowInnerRenderer",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"groupRowInnerRendererFramework",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"groupMultiAutoColumn",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"groupUseEntireRow",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"groupSuppressAutoColumn",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"rememberGroupStateWhenNewData",void 0),K([(0,r.IIB)(),Y("design:type",Array)],c.prototype,"pinnedTopRowData",void 0),K([(0,r.IIB)(),Y("design:type",Array)],c.prototype,"pinnedBottomRowData",void 0),K([(0,r.IIB)(),Y("design:type",String)],c.prototype,"rowModelType",void 0),K([(0,r.IIB)(),Y("design:type",Array)],c.prototype,"rowData",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"immutableData",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"asyncTransactionWaitMillis",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressModelUpdateAfterUpdateTransaction",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"deltaRowDataMode",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"batchUpdateWaitMillis",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"datasource",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"cacheOverflowSize",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"infiniteInitialRowCount",void 0),K([(0,r.IIB)(),Y("design:type",String)],c.prototype,"serverSideStoreType",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"cacheBlockSize",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"maxBlocksInCache",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"maxConcurrentDatasourceRequests",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"blockLoadDebounceMillis",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"purgeClosedRowNodes",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"serverSideDatasource",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"serverSideSortingAlwaysResets",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"serverSideFilteringAlwaysResets",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressEnterpriseResetOnNewColumns",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"viewportDatasource",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"viewportRowModelPageSize",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"viewportRowModelBufferSize",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"alwaysShowHorizontalScroll",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"alwaysShowVerticalScroll",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"debounceVerticalScrollbar",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressHorizontalScroll",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressScrollOnNewData",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressScrollWhenPopupsAreOpen",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressAnimationFrame",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressMiddleClickScrolls",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressPreventDefaultOnMouseWheel",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"scrollbarWidth",void 0),K([(0,r.IIB)(),Y("design:type",String)],c.prototype,"rowSelection",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"rowMultiSelectWithClick",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressRowDeselection",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressRowClickSelection",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressCellSelection",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressCellFocus",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressMultiRangeSelection",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"enableCellTextSelection",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"enableRangeSelection",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"enableRangeHandle",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"enableFillHandle",void 0),K([(0,r.IIB)(),Y("design:type",String)],c.prototype,"fillHandleDirection",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressClearOnFillReduction",void 0),K([(0,r.IIB)(),Y("design:type",Array)],c.prototype,"sortingOrder",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"accentedSort",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"unSortIcon",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressMultiSort",void 0),K([(0,r.IIB)(),Y("design:type",String)],c.prototype,"multiSortKey",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressMaintainUnsortedOrder",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"icons",void 0),K([(0,r.IIB)(),Y("design:type",Number)],c.prototype,"rowHeight",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"rowStyle",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"rowClass",void 0),K([(0,r.IIB)(),Y("design:type",Object)],c.prototype,"rowClassRules",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressRowHoverHighlight",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"suppressRowTransform",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"columnHoverHighlight",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"deltaSort",void 0),K([(0,r.IIB)(),Y("design:type",String)],c.prototype,"treeDataDisplayType",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"angularCompileRows",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"angularCompileFilters",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"functionsPassive",void 0),K([(0,r.IIB)(),Y("design:type",Boolean)],c.prototype,"enableGroupEdit",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"getContextMenuItems",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"getMainMenuItems",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"postProcessPopup",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"processCellForClipboard",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"processHeaderForClipboard",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"processGroupHeaderForClipboard",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"processCellFromClipboard",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"sendToClipboard",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"processDataFromClipboard",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"isExternalFilterPresent",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"doesExternalFilterPass",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"getChartToolbarItems",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"createChartContainer",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"navigateToNextHeader",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"tabToNextHeader",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"navigateToNextCell",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"tabToNextCell",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"suppressKeyboardEvent",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"localeTextFunc",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"getDocument",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"paginationNumberFormatter",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"groupRowAggNodes",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"isGroupOpenByDefault",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"defaultGroupOrderComparator",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"processSecondaryColDef",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"processSecondaryColGroupDef",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"getDataPath",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"defaultGroupSortComparator",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"getChildCount",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"getServerSideStoreParams",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"isServerSideGroupOpenByDefault",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"isApplyServerSideTransaction",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"isServerSideGroup",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"getServerSideGroupKey",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"getBusinessKeyForNode",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"getRowNodeId",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"getRowId",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"processRowPostCreate",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"isRowSelectable",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"isRowMaster",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"fillOperation",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"postSort",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"getRowStyle",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"getRowClass",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"getRowHeight",void 0),K([(0,r.IIB)(),Y("design:type",Function)],c.prototype,"isFullWidthCell",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"toolPanelVisibleChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"pasteStart",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"pasteEnd",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"columnVisible",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"columnPinned",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"columnResized",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"columnMoved",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"columnValueChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"columnPivotModeChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"columnPivotChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"columnGroupOpened",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"newColumnsLoaded",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"gridColumnsChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"displayedColumnsChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"virtualColumnsChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"columnEverythingChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"componentStateChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"cellValueChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"cellEditRequest",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"rowValueChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"cellEditingStarted",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"cellEditingStopped",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"rowEditingStarted",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"rowEditingStopped",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"filterOpened",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"filterChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"filterModified",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"chartCreated",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"chartRangeSelectionChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"chartOptionsChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"chartDestroyed",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"cellKeyDown",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"cellKeyPress",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"gridReady",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"firstDataRendered",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"gridSizeChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"modelUpdated",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"virtualRowRemoved",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"viewportChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"bodyScroll",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"bodyScrollEnd",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"dragStarted",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"dragStopped",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"paginationChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"rowDragEnter",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"rowDragMove",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"rowDragLeave",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"rowDragEnd",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"columnRowGroupChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"rowGroupOpened",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"expandOrCollapseAll",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"pinnedRowDataChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"rowDataChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"rowDataUpdated",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"asyncTransactionsFlushed",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"cellClicked",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"cellDoubleClicked",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"cellFocused",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"cellMouseOver",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"cellMouseOut",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"cellMouseDown",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"rowClicked",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"rowDoubleClicked",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"rowSelected",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"selectionChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"cellContextMenu",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"rangeSelectionChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"sortChanged",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"columnRowGroupChangeRequest",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"columnPivotChangeRequest",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"columnValueChangeRequest",void 0),K([(0,r.r_U)(),Y("design:type",r.vpe)],c.prototype,"columnAggFuncChangeRequest",void 0),c=K([Y("design:paramtypes",[r.SBq,r.s_b,qc,ys,r._Vd])],c),c})();var go;let Er=go=class{static withComponents(u){return{ngModule:go,providers:[{provide:r.deG,useValue:u,multi:!0}]}}static forRoot(u){return{ngModule:go,providers:[{provide:r.deG,useValue:u,multi:!0}]}}};Er.\u0275fac=function(u){return new(u||Er)},Er.\u0275mod=r.oAB({type:Er}),Er.\u0275inj=r.cJS({imports:[[]]});let tp=(()=>{class c{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(o){this._vertical=st(o)}get inset(){return this._inset}set inset(o){this._inset=st(o)}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275cmp=r.Xpm({type:c,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(o,l){2&o&&(r.uIk("aria-orientation",l.vertical?"vertical":"horizontal"),r.ekj("mat-divider-vertical",l.vertical)("mat-divider-horizontal",!l.vertical)("mat-divider-inset",l.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(o,l){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),c})(),iv=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[[Rt],Rt]}),c})();const Kc=["*"],ip='.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n',nv=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],rv=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],ov=["text"];function Ga(c,u){if(1&c&&r._UZ(0,"mat-pseudo-checkbox",5),2&c){const o=r.oxw();r.Q6J("state",o.selected?"checked":"unchecked")("disabled",o.disabled)}}const sv=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],av=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"],_s=dr($i(class{})),lv=$i(class{}),np=new r.OlP("MatList"),Yc=new r.OlP("MatNavList");let rp=(()=>{class c extends _s{constructor(o){super(),this._elementRef=o,this._stateChanges=new tt.x,"action-list"===this._getListType()&&o.nativeElement.classList.add("mat-action-list")}_getListType(){const o=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===o?"list":"mat-action-list"===o?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq))},c.\u0275cmp=r.Xpm({type:c,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[r._Bn([{provide:np,useExisting:c}]),r.qOj,r.TTD],ngContentSelectors:Kc,decls:1,vars:0,template:function(o,l){1&o&&(r.F$t(),r.Hsn(0))},styles:[ip],encapsulation:2,changeDetection:0}),c})(),op=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275dir=r.lG2({type:c,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),c})(),Cs=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275dir=r.lG2({type:c,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),c})(),sp=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275dir=r.lG2({type:c,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-subheader"]}),c})(),Ha=(()=>{class c extends lv{constructor(o,l,p,b){super(),this._element=o,this._isInteractiveList=!1,this._destroyed=new tt.x,this._disabled=!1,this._isInteractiveList=!!(p||b&&"action-list"===b._getListType()),this._list=p||b;const G=this._getHostElement();"button"===G.nodeName.toLowerCase()&&!G.hasAttribute("type")&&G.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(yt(this._destroyed)).subscribe(()=>{l.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(o){this._disabled=st(o)}ngAfterContentInit(){$d(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Yc,8),r.Y36(np,8))},c.\u0275cmp=r.Xpm({type:c,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(o,l,p){if(1&o&&(r.Suo(p,op,5),r.Suo(p,Cs,5),r.Suo(p,Xr,5)),2&o){let b;r.iGM(b=r.CRH())&&(l._avatar=b.first),r.iGM(b=r.CRH())&&(l._icon=b.first),r.iGM(b=r.CRH())&&(l._lines=b)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(o,l){2&o&&r.ekj("mat-list-item-disabled",l.disabled)("mat-list-item-avatar",l._avatar||l._icon)("mat-list-item-with-avatar",l._avatar||l._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[r.qOj],ngContentSelectors:rv,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(o,l){1&o&&(r.F$t(nv),r.TgZ(0,"span",0),r._UZ(1,"span",1),r.Hsn(2),r.TgZ(3,"span",2),r.Hsn(4,1),r.qZA(),r.Hsn(5,2),r.qZA()),2&o&&(r.xp6(1),r.Q6J("matRippleTrigger",l._getHostElement())("matRippleDisabled",l._isRippleDisabled()))},directives:[pi],encapsulation:2,changeDetection:0}),c})();const ap=$i(class{}),cv=$i(class{}),uv={provide:N,useExisting:(0,r.Gpc)(()=>zn),multi:!0};class dv{constructor(u,o,l){this.source=u,this.option=o,this.options=l}}let Va=(()=>{class c extends cv{constructor(o,l,p){super(),this._element=o,this._changeDetector=l,this.selectionList=p,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.selectedChange=new r.vpe,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(o){this._color=o}get value(){return this._value}set value(o){this.selected&&!this.selectionList.compareWith(o,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=o}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(o){const l=st(o);l!==this._disabled&&(this._disabled=l,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(o){const l=st(o);l!==this._selected&&(this._setSelected(l),(l||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const o=this.selectionList;o._value&&o._value.some(p=>o.compareWith(this._value,p))&&this._setSelected(!0);const l=this._selected;Promise.resolve().then(()=>{(this._selected||l)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){$d(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const o=this._hasFocus,l=this.selectionList._removeOptionFromList(this);o&&l&&l.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){!this.disabled&&(this.selectionList.multiple||!this.selected)&&(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(o){return o!==this._selected&&(this._selected=o,o?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this.selectedChange.emit(o),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36((0,r.Gpc)(()=>zn)))},c.\u0275cmp=r.Xpm({type:c,selectors:[["mat-list-option"]],contentQueries:function(o,l,p){if(1&o&&(r.Suo(p,op,5),r.Suo(p,Cs,5),r.Suo(p,Xr,5)),2&o){let b;r.iGM(b=r.CRH())&&(l._avatar=b.first),r.iGM(b=r.CRH())&&(l._icon=b.first),r.iGM(b=r.CRH())&&(l._lines=b)}},viewQuery:function(o,l){if(1&o&&r.Gf(ov,5),2&o){let p;r.iGM(p=r.CRH())&&(l._text=p.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(o,l){1&o&&r.NdJ("focus",function(){return l._handleFocus()})("blur",function(){return l._handleBlur()})("click",function(){return l._handleClick()}),2&o&&(r.uIk("aria-selected",l.selected)("aria-disabled",l.disabled)("tabindex",-1),r.ekj("mat-list-item-disabled",l.disabled)("mat-list-item-with-avatar",l._avatar||l._icon)("mat-primary","primary"===l.color)("mat-accent","primary"!==l.color&&"warn"!==l.color)("mat-warn","warn"===l.color)("mat-list-single-selected-option",l.selected&&!l.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",disabled:"disabled",selected:"selected"},outputs:{selectedChange:"selectedChange"},exportAs:["matListOption"],features:[r.qOj],ngContentSelectors:av,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(o,l){1&o&&(r.F$t(sv),r.TgZ(0,"div",0),r._UZ(1,"div",1),r.YNc(2,Ga,1,2,"mat-pseudo-checkbox",2),r.TgZ(3,"div",3,4),r.Hsn(5),r.qZA(),r.Hsn(6,1),r.qZA()),2&o&&(r.ekj("mat-list-item-content-reverse","after"==l.checkboxPosition),r.xp6(1),r.Q6J("matRippleTrigger",l._getHostElement())("matRippleDisabled",l._isRippleDisabled()),r.xp6(1),r.Q6J("ngIf",l.selectionList.multiple))},directives:[pi,E.O5,Zd],encapsulation:2,changeDetection:0}),c})(),zn=(()=>{class c extends ap{constructor(o,l,p,b){super(),this._element=o,this._changeDetector=p,this._focusMonitor=b,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new r.vpe,this.tabIndex=0,this.color="accent",this.compareWith=(G,Z)=>G===Z,this._disabled=!1,this.selectedOptions=new co(this._multiple),this._tabIndex=-1,this._onChange=G=>{},this._destroyed=new tt.x,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(o){this._disabled=st(o),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(o){const l=st(o);l!==this._multiple&&(this._multiple=l,this.selectedOptions=new co(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){var o;this._contentInitialized=!0,this._keyManager=new ua(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(yt(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe((0,Dt.O)(null),yt(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(yt(this._destroyed)).subscribe(l=>{if(l.added)for(let p of l.added)p.selected=!0;if(l.removed)for(let p of l.removed)p.selected=!1}),null==(o=this._focusMonitor)||o.monitor(this._element).pipe(yt(this._destroyed)).subscribe(l=>{var p;if("keyboard"===l||"program"===l){let b=0;for(let G=0;G<this.options.length;G++)if(null==(p=this.options.get(G))?void 0:p.selected){b=G;break}this._keyManager.setActiveItem(b)}})}ngOnChanges(o){const l=o.disableRipple,p=o.color;(l&&!l.firstChange||p&&!p.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){var o;null==(o=this._focusMonitor)||o.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(o){this._element.nativeElement.focus(o)}selectAll(){return this._setAllOptionsSelected(!0)}deselectAll(){return this._setAllOptionsSelected(!1)}_setFocusedOption(o){this._keyManager.updateActiveItem(o)}_removeOptionFromList(o){const l=this._getOptionIndex(o);return l>-1&&this._keyManager.activeItemIndex===l&&(l>0?this._keyManager.updateActiveItem(l-1):0===l&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(l+1,this.options.length-1))),this._keyManager.activeItem}_keydown(o){const l=o.keyCode,p=this._keyManager,b=p.activeItemIndex,G=ni(o);switch(l){case 32:case 13:!G&&!p.isTyping()&&(this._toggleFocusedOption(),o.preventDefault());break;default:if(65===l&&this.multiple&&ni(o,"ctrlKey")&&!p.isTyping()){const Z=this.options.some(oe=>!oe.disabled&&!oe.selected);this._setAllOptionsSelected(Z,!0,!0),o.preventDefault()}else p.onKeydown(o)}this.multiple&&(38===l||40===l)&&o.shiftKey&&p.activeItemIndex!==b&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const o=this._getSelectedOptionValues();this._onChange(o),this._value=o}}_emitChangeEvent(o){this.selectionChange.emit(new dv(this,o[0],o))}writeValue(o){this._value=o,this.options&&this._setOptionsFromValues(o||[])}setDisabledState(o){this.disabled=o}registerOnChange(o){this._onChange=o}registerOnTouched(o){this._onTouched=o}_setOptionsFromValues(o){this.options.forEach(l=>l._setSelected(!1)),o.forEach(l=>{const p=this.options.find(b=>!b.selected&&this.compareWith(b.value,l));p&&p._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(o=>o.selected).map(o=>o.value)}_toggleFocusedOption(){let o=this._keyManager.activeItemIndex;if(null!=o&&this._isValidIndex(o)){let l=this.options.toArray()[o];l&&!l.disabled&&(this._multiple||!l.selected)&&(l.toggle(),this._emitChangeEvent([l]))}}_setAllOptionsSelected(o,l,p){const b=[];return this.options.forEach(G=>{(!l||!G.disabled)&&G._setSelected(o)&&b.push(G)}),b.length&&(this._reportValueChange(),p&&this._emitChangeEvent(b)),b}_isValidIndex(o){return o>=0&&o<this.options.length}_getOptionIndex(o){return this.options.toArray().indexOf(o)}_markOptionsForCheck(){this.options&&this.options.forEach(o=>o._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.$8M("tabindex"),r.Y36(r.sBO),r.Y36(Nn))},c.\u0275cmp=r.Xpm({type:c,selectors:[["mat-selection-list"]],contentQueries:function(o,l,p){if(1&o&&r.Suo(p,Va,5),2&o){let b;r.iGM(b=r.CRH())&&(l.options=b)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(o,l){1&o&&r.NdJ("keydown",function(b){return l._keydown(b)}),2&o&&r.uIk("aria-multiselectable",l.multiple)("aria-disabled",l.disabled.toString())("tabindex",l._tabIndex)},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[r._Bn([uv]),r.qOj,r.TTD],ngContentSelectors:Kc,decls:1,vars:0,template:function(o,l){1&o&&(r.F$t(),r.Hsn(0))},styles:[ip],encapsulation:2,changeDetection:0}),c})(),hv=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[[jd,fr,Rt,eo,E.ez],jd,Rt,eo,iv]}),c})();var Wa=w(6677),$a=w(1791);const Zn="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function lp(c){const u=c.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!u||$a))return new XMLHttpRequest}catch(o){}if(!u)try{return new(Zn[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(o){}}function mo(c,...u){return u.reduce((o,l)=>(c.hasOwnProperty(l)&&(o[l]=c[l]),o),{})}const cp=setTimeout,fv=clearTimeout;function ws(c,u){u.useNativeTimers?(c.setTimeoutFn=cp.bind(Zn),c.clearTimeoutFn=fv.bind(Zn)):(c.setTimeoutFn=setTimeout.bind(Zn),c.clearTimeoutFn=clearTimeout.bind(Zn))}var Sr=w(5631);const ji=Object.create(null);ji.open="0",ji.close="1",ji.ping="2",ji.pong="3",ji.message="4",ji.upgrade="5",ji.noop="6";const ja=Object.create(null);Object.keys(ji).forEach(c=>{ja[ji[c]]=c});const gv={type:"error",data:"parser error"},mv="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Ua="function"==typeof ArrayBuffer,up=(c,u)=>{const o=new FileReader;return o.onload=function(){const l=o.result.split(",")[1];u("b"+l)},o.readAsDataURL(c)},bs=({type:c,data:u},o,l)=>mv&&u instanceof Blob?o?l(u):up(u,l):Ua&&(u instanceof ArrayBuffer||(c=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(c):c&&c.buffer instanceof ArrayBuffer)(u))?o?l(u):up(new Blob([u]),l):l(ji[c]+(u||""));for(var Ar="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vo="undefined"==typeof Uint8Array?[]:new Uint8Array(256),za=0;za<Ar.length;za++)vo[Ar.charCodeAt(za)]=za;const _v="function"==typeof ArrayBuffer,yo=(c,u)=>{if(_v){const o=function(c){var l,b,G,Z,oe,u=.75*c.length,o=c.length,p=0;"="===c[c.length-1]&&(u--,"="===c[c.length-2]&&u--);var pe=new ArrayBuffer(u),Oe=new Uint8Array(pe);for(l=0;l<o;l+=4)b=vo[c.charCodeAt(l)],G=vo[c.charCodeAt(l+1)],Z=vo[c.charCodeAt(l+2)],oe=vo[c.charCodeAt(l+3)],Oe[p++]=b<<2|G>>4,Oe[p++]=(15&G)<<4|Z>>2,Oe[p++]=(3&Z)<<6|63&oe;return pe}(c);return pp(o,u)}return{base64:!0,data:c}},pp=(c,u)=>"blob"===u&&c instanceof ArrayBuffer?new Blob([c]):c,Es=(c,u)=>{if("string"!=typeof c)return{type:"message",data:pp(c,u)};const o=c.charAt(0);return"b"===o?{type:"message",data:yo(c.substring(1),u)}:ja[o]?c.length>1?{type:ja[o],data:c.substring(1)}:{type:ja[o]}:gv},fp=String.fromCharCode(30);class gp extends Sr.Q{constructor(u){super(),this.writable=!1,ws(this,u),this.opts=u,this.query=u.query,this.readyState="",this.socket=u.socket}onError(u,o){const l=new Error(u);return l.type="TransportError",l.description=o,super.emit("error",l),this}open(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(u){"open"===this.readyState&&this.write(u)}onOpen(){this.readyState="open",this.writable=!0,super.emit("open")}onData(u){const o=Es(u,this.socket.binaryType);this.onPacket(o)}onPacket(u){super.emit("packet",u)}onClose(){this.readyState="closed",super.emit("close")}}var Qc=w(1586),Jc=w(1936);class bv extends gp{constructor(){super(...arguments),this.polling=!1}get name(){return"polling"}doOpen(){this.poll()}pause(u){this.readyState="pausing";const o=()=>{this.readyState="paused",u()};if(this.polling||!this.writable){let l=0;this.polling&&(l++,this.once("pollComplete",function(){--l||o()})),this.writable||(l++,this.once("drain",function(){--l||o()}))}else o()}poll(){this.polling=!0,this.doPoll(),this.emit("poll")}onData(u){((c,u)=>{const o=c.split(fp),l=[];for(let p=0;p<o.length;p++){const b=Es(o[p],u);if(l.push(b),"error"===b.type)break}return l})(u,this.socket.binaryType).forEach(l=>{if("opening"===this.readyState&&"open"===l.type&&this.onOpen(),"close"===l.type)return this.onClose(),!1;this.onPacket(l)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const u=()=>{this.write([{type:"close"}])};"open"===this.readyState?u():this.once("open",u)}write(u){this.writable=!1,((c,u)=>{const o=c.length,l=new Array(o);let p=0;c.forEach((b,G)=>{bs(b,!1,Z=>{l[G]=Z,++p===o&&u(l.join(fp))})})})(u,o=>{this.doWrite(o,()=>{this.writable=!0,this.emit("drain")})})}uri(){let u=this.query||{};const o=this.opts.secure?"https":"http";let l="";!1!==this.opts.timestampRequests&&(u[this.opts.timestampParam]=Qc()),!this.supportsBinary&&!u.sid&&(u.b64=1),this.opts.port&&("https"===o&&443!==Number(this.opts.port)||"http"===o&&80!==Number(this.opts.port))&&(l=":"+this.opts.port);const p=Jc.encode(u);return o+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+l+this.opts.path+(p.length?"?"+p:"")}}function ui(){}const Ui=null!=new lp({xdomain:!1}).responseType;let Za=(()=>{class c extends Sr.Q{constructor(o,l){super(),ws(this,l),this.opts=l,this.method=l.method||"GET",this.uri=o,this.async=!1!==l.async,this.data=void 0!==l.data?l.data:null,this.create()}create(){const o=mo(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");o.xdomain=!!this.opts.xd,o.xscheme=!!this.opts.xs;const l=this.xhr=new lp(o);try{l.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){l.setDisableHeaderCheck&&l.setDisableHeaderCheck(!0);for(let p in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(p)&&l.setRequestHeader(p,this.opts.extraHeaders[p])}}catch(p){}if("POST"===this.method)try{l.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(p){}try{l.setRequestHeader("Accept","*/*")}catch(p){}"withCredentials"in l&&(l.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(l.timeout=this.opts.requestTimeout),l.onreadystatechange=()=>{4===l.readyState&&(200===l.status||1223===l.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof l.status?l.status:0)},0))},l.send(this.data)}catch(p){return void this.setTimeoutFn(()=>{this.onError(p)},0)}"undefined"!=typeof document&&(this.index=c.requestsCount++,c.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(o){this.emit("data",o),this.onSuccess()}onError(o){this.emit("error",o),this.cleanup(!0)}cleanup(o){if(null!=this.xhr){if(this.xhr.onreadystatechange=ui,o)try{this.xhr.abort()}catch(l){}"undefined"!=typeof document&&delete c.requests[this.index],this.xhr=null}}onLoad(){const o=this.xhr.responseText;null!==o&&this.onData(o)}abort(){this.cleanup()}}return c.requestsCount=0,c.requests={},c})();function qa(){for(let c in Za.requests)Za.requests.hasOwnProperty(c)&&Za.requests[c].abort()}"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",qa):"function"==typeof addEventListener&&addEventListener("onpagehide"in Zn?"pagehide":"unload",qa,!1));const Sv="function"==typeof Promise&&"function"==typeof Promise.resolve?u=>Promise.resolve().then(u):(u,o)=>o(u,0),Ss=Zn.WebSocket||Zn.MozWebSocket,mp="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class As extends gp{constructor(u){super(u),this.supportsBinary=!u.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const u=this.uri(),o=this.opts.protocols,l=mp?{}:mo(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(l.headers=this.opts.extraHeaders);try{this.ws=mp?new Ss(u,o,l):o?new Ss(u,o):new Ss(u)}catch(p){return this.emit("error",p)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=u=>this.onData(u.data),this.ws.onerror=u=>this.onError("websocket error",u)}write(u){this.writable=!1;for(let o=0;o<u.length;o++){const p=o===u.length-1;bs(u[o],this.supportsBinary,b=>{try{this.ws.send(b)}catch(Z){}p&&Sv(()=>{this.writable=!0,this.emit("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let u=this.query||{};const o=this.opts.secure?"wss":"ws";let l="";this.opts.port&&("wss"===o&&443!==Number(this.opts.port)||"ws"===o&&80!==Number(this.opts.port))&&(l=":"+this.opts.port),this.opts.timestampRequests&&(u[this.opts.timestampParam]=Qc()),this.supportsBinary||(u.b64=1);const p=Jc.encode(u);return o+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+l+this.opts.path+(p.length?"?"+p:"")}check(){return!(!Ss||"__initialize"in Ss&&this.name===As.prototype.name)}}const Rv={websocket:As,polling:class extends bv{constructor(u){if(super(u),"undefined"!=typeof location){const l="https:"===location.protocol;let p=location.port;p||(p=l?"443":"80"),this.xd="undefined"!=typeof location&&u.hostname!==location.hostname||p!==u.port,this.xs=u.secure!==l}this.supportsBinary=Ui&&!(u&&u.forceBase64)}request(u={}){return Object.assign(u,{xd:this.xd,xs:this.xs},this.opts),new Za(this.uri(),u)}doWrite(u,o){const l=this.request({method:"POST",data:u});l.on("success",o),l.on("error",p=>{this.onError("xhr post error",p)})}doPoll(){const u=this.request();u.on("data",this.onData.bind(this)),u.on("error",o=>{this.onError("xhr poll error",o)}),this.pollXhr=u}}};let vp=(()=>{class c extends Sr.Q{constructor(o,l={}){super(),o&&"object"==typeof o&&(l=o,o=null),o?(o=Wa(o),l.hostname=o.host,l.secure="https"===o.protocol||"wss"===o.protocol,l.port=o.port,o.query&&(l.query=o.query)):l.host&&(l.hostname=Wa(l.host).host),ws(this,l),this.secure=null!=l.secure?l.secure:"undefined"!=typeof location&&"https:"===location.protocol,l.hostname&&!l.port&&(l.port=this.secure?"443":"80"),this.hostname=l.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=l.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=l.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},l),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=Jc.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(o){const l=function(c){const u={};for(let o in c)c.hasOwnProperty(o)&&(u[o]=c[o]);return u}(this.opts.query);l.EIO=4,l.transport=o,this.id&&(l.sid=this.id);const p=Object.assign({},this.opts.transportOptions[o],this.opts,{query:l,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Rv[o](p)}open(){let o;if(this.opts.rememberUpgrade&&c.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))o="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);o=this.transports[0]}this.readyState="opening";try{o=this.createTransport(o)}catch(l){return this.transports.shift(),void this.open()}o.open(),this.setTransport(o)}setTransport(o){this.transport&&this.transport.removeAllListeners(),this.transport=o,o.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(o){let l=this.createTransport(o),p=!1;c.priorWebsocketSuccess=!1;const b=()=>{p||(l.send([{type:"ping",data:"probe"}]),l.once("packet",nt=>{if(!p)if("pong"===nt.type&&"probe"===nt.data){if(this.upgrading=!0,this.emitReserved("upgrading",l),!l)return;c.priorWebsocketSuccess="websocket"===l.name,this.transport.pause(()=>{p||"closed"!==this.readyState&&(qe(),this.setTransport(l),l.send([{type:"upgrade"}]),this.emitReserved("upgrade",l),l=null,this.upgrading=!1,this.flush())})}else{const ht=new Error("probe error");ht.transport=l.name,this.emitReserved("upgradeError",ht)}}))};function G(){p||(p=!0,qe(),l.close(),l=null)}const Z=nt=>{const ht=new Error("probe error: "+nt);ht.transport=l.name,G(),this.emitReserved("upgradeError",ht)};function oe(){Z("transport closed")}function pe(){Z("socket closed")}function Oe(nt){l&&nt.name!==l.name&&G()}const qe=()=>{l.removeListener("open",b),l.removeListener("error",Z),l.removeListener("close",oe),this.off("close",pe),this.off("upgrading",Oe)};l.once("open",b),l.once("error",Z),l.once("close",oe),this.once("close",pe),this.once("upgrading",Oe),l.open()}onOpen(){if(this.readyState="open",c.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let o=0;const l=this.upgrades.length;for(;o<l;o++)this.probe(this.upgrades[o])}}onPacket(o){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",o),this.emitReserved("heartbeat"),o.type){case"open":this.onHandshake(JSON.parse(o.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const l=new Error("server error");l.code=o.data,this.onError(l);break;case"message":this.emitReserved("data",o.data),this.emitReserved("message",o.data)}}onHandshake(o){this.emitReserved("handshake",o),this.id=o.sid,this.transport.query.sid=o.sid,this.upgrades=this.filterUpgrades(o.upgrades),this.pingInterval=o.pingInterval,this.pingTimeout=o.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}write(o,l,p){return this.sendPacket("message",o,l,p),this}send(o,l,p){return this.sendPacket("message",o,l,p),this}sendPacket(o,l,p,b){if("function"==typeof l&&(b=l,l=void 0),"function"==typeof p&&(b=p,p=null),"closing"===this.readyState||"closed"===this.readyState)return;(p=p||{}).compress=!1!==p.compress;const G={type:o,data:l,options:p};this.emitReserved("packetCreate",G),this.writeBuffer.push(G),b&&this.once("flush",b),this.flush()}close(){const o=()=>{this.onClose("forced close"),this.transport.close()},l=()=>{this.off("upgrade",l),this.off("upgradeError",l),o()},p=()=>{this.once("upgrade",l),this.once("upgradeError",l)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?p():o()}):this.upgrading?p():o()),this}onError(o){c.priorWebsocketSuccess=!1,this.emitReserved("error",o),this.onClose("transport error",o)}onClose(o,l){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",o,l),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(o){const l=[];let p=0;const b=o.length;for(;p<b;p++)~this.transports.indexOf(o[p])&&l.push(o[p]);return l}}return c.protocol=4,c})();const Dv="function"==typeof ArrayBuffer,yp=Object.prototype.toString,xv="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===yp.call(Blob),Co="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===yp.call(File);function eu(c){return Dv&&(c instanceof ArrayBuffer||(c=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(c):c.buffer instanceof ArrayBuffer)(c))||xv&&c instanceof Blob||Co&&c instanceof File}function Ya(c,u){if(!c||"object"!=typeof c)return!1;if(Array.isArray(c)){for(let o=0,l=c.length;o<l;o++)if(Ya(c[o]))return!0;return!1}if(eu(c))return!0;if(c.toJSON&&"function"==typeof c.toJSON&&1===arguments.length)return Ya(c.toJSON(),!0);for(const o in c)if(Object.prototype.hasOwnProperty.call(c,o)&&Ya(c[o]))return!0;return!1}function Ov(c){const u=[],l=c;return l.data=tu(c.data,u),l.attachments=u.length,{packet:l,buffers:u}}function tu(c,u){if(!c)return c;if(eu(c)){const o={_placeholder:!0,num:u.length};return u.push(c),o}if(Array.isArray(c)){const o=new Array(c.length);for(let l=0;l<c.length;l++)o[l]=tu(c[l],u);return o}if("object"==typeof c&&!(c instanceof Date)){const o={};for(const l in c)Object.prototype.hasOwnProperty.call(c,l)&&(o[l]=tu(c[l],u));return o}return c}function iu(c,u){return c.data=Qa(c.data,u),c.attachments=void 0,c}function Qa(c,u){if(!c)return c;if(c&&c._placeholder)return u[c.num];if(Array.isArray(c))for(let o=0;o<c.length;o++)c[o]=Qa(c[o],u);else if("object"==typeof c)for(const o in c)Object.prototype.hasOwnProperty.call(c,o)&&(c[o]=Qa(c[o],u));return c}const Tv=5;var Ct=(()=>{return(c=Ct||(Ct={}))[c.CONNECT=0]="CONNECT",c[c.DISCONNECT=1]="DISCONNECT",c[c.EVENT=2]="EVENT",c[c.ACK=3]="ACK",c[c.CONNECT_ERROR=4]="CONNECT_ERROR",c[c.BINARY_EVENT=5]="BINARY_EVENT",c[c.BINARY_ACK=6]="BINARY_ACK",Ct;var c})();class Fv{encode(u){return u.type!==Ct.EVENT&&u.type!==Ct.ACK||!Ya(u)?[this.encodeAsString(u)]:(u.type=u.type===Ct.EVENT?Ct.BINARY_EVENT:Ct.BINARY_ACK,this.encodeAsBinary(u))}encodeAsString(u){let o=""+u.type;return(u.type===Ct.BINARY_EVENT||u.type===Ct.BINARY_ACK)&&(o+=u.attachments+"-"),u.nsp&&"/"!==u.nsp&&(o+=u.nsp+","),null!=u.id&&(o+=u.id),null!=u.data&&(o+=JSON.stringify(u.data)),o}encodeAsBinary(u){const o=Ov(u),l=this.encodeAsString(o.packet),p=o.buffers;return p.unshift(l),p}}class nu extends Sr.Q{constructor(){super()}add(u){let o;if("string"==typeof u)o=this.decodeString(u),o.type===Ct.BINARY_EVENT||o.type===Ct.BINARY_ACK?(this.reconstructor=new un(o),0===o.attachments&&super.emitReserved("decoded",o)):super.emitReserved("decoded",o);else{if(!eu(u)&&!u.base64)throw new Error("Unknown type: "+u);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");o=this.reconstructor.takeBinaryData(u),o&&(this.reconstructor=null,super.emitReserved("decoded",o))}}decodeString(u){let o=0;const l={type:Number(u.charAt(0))};if(void 0===Ct[l.type])throw new Error("unknown packet type "+l.type);if(l.type===Ct.BINARY_EVENT||l.type===Ct.BINARY_ACK){const b=o+1;for(;"-"!==u.charAt(++o)&&o!=u.length;);const G=u.substring(b,o);if(G!=Number(G)||"-"!==u.charAt(o))throw new Error("Illegal attachments");l.attachments=Number(G)}if("/"===u.charAt(o+1)){const b=o+1;for(;++o&&","!==u.charAt(o)&&o!==u.length;);l.nsp=u.substring(b,o)}else l.nsp="/";const p=u.charAt(o+1);if(""!==p&&Number(p)==p){const b=o+1;for(;++o;){const G=u.charAt(o);if(null==G||Number(G)!=G){--o;break}if(o===u.length)break}l.id=Number(u.substring(b,o+1))}if(u.charAt(++o)){const b=function(c){try{return JSON.parse(c)}catch(u){return!1}}(u.substr(o));if(!nu.isPayloadValid(l.type,b))throw new Error("invalid payload");l.data=b}return l}static isPayloadValid(u,o){switch(u){case Ct.CONNECT:return"object"==typeof o;case Ct.DISCONNECT:return void 0===o;case Ct.CONNECT_ERROR:return"string"==typeof o||"object"==typeof o;case Ct.EVENT:case Ct.BINARY_EVENT:return Array.isArray(o)&&o.length>0;case Ct.ACK:case Ct.BINARY_ACK:return Array.isArray(o)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class un{constructor(u){this.packet=u,this.buffers=[],this.reconPack=u}takeBinaryData(u){if(this.buffers.push(u),this.buffers.length===this.reconPack.attachments){const o=iu(this.reconPack,this.buffers);return this.finishedReconstruction(),o}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function zi(c,u,o){return c.on(u,o),function(){c.off(u,o)}}const Mv=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ru extends Sr.Q{constructor(u,o,l){super(),this.connected=!1,this.disconnected=!0,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=u,this.nsp=o,l&&l.auth&&(this.auth=l.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const u=this.io;this.subs=[zi(u,"open",this.onopen.bind(this)),zi(u,"packet",this.onpacket.bind(this)),zi(u,"error",this.onerror.bind(this)),zi(u,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...u){return u.unshift("message"),this.emit.apply(this,u),this}emit(u,...o){if(Mv.hasOwnProperty(u))throw new Error('"'+u+'" is a reserved event name');o.unshift(u);const l={type:Ct.EVENT,data:o,options:{}};if(l.options.compress=!1!==this.flags.compress,"function"==typeof o[o.length-1]){const G=this.ids++,Z=o.pop();this._registerAckCallback(G,Z),l.id=G}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?this.packet(l):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(u,o){const l=this.flags.timeout;if(void 0===l)return void(this.acks[u]=o);const p=this.io.setTimeoutFn(()=>{delete this.acks[u];for(let b=0;b<this.sendBuffer.length;b++)this.sendBuffer[b].id===u&&this.sendBuffer.splice(b,1);o.call(this,new Error("operation has timed out"))},l);this.acks[u]=(...b)=>{this.io.clearTimeoutFn(p),o.apply(this,[null,...b])}}packet(u){u.nsp=this.nsp,this.io._packet(u)}onopen(){"function"==typeof this.auth?this.auth(u=>{this.packet({type:Ct.CONNECT,data:u})}):this.packet({type:Ct.CONNECT,data:this.auth})}onerror(u){this.connected||this.emitReserved("connect_error",u)}onclose(u){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",u)}onpacket(u){if(u.nsp===this.nsp)switch(u.type){case Ct.CONNECT:u.data&&u.data.sid?this.onconnect(u.data.sid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ct.EVENT:case Ct.BINARY_EVENT:this.onevent(u);break;case Ct.ACK:case Ct.BINARY_ACK:this.onack(u);break;case Ct.DISCONNECT:this.ondisconnect();break;case Ct.CONNECT_ERROR:this.destroy();const l=new Error(u.data.message);l.data=u.data.data,this.emitReserved("connect_error",l)}}onevent(u){const o=u.data||[];null!=u.id&&o.push(this.ack(u.id)),this.connected?this.emitEvent(o):this.receiveBuffer.push(Object.freeze(o))}emitEvent(u){if(this._anyListeners&&this._anyListeners.length){const o=this._anyListeners.slice();for(const l of o)l.apply(this,u)}super.emit.apply(this,u)}ack(u){const o=this;let l=!1;return function(...p){l||(l=!0,o.packet({type:Ct.ACK,id:u,data:p}))}}onack(u){const o=this.acks[u.id];"function"==typeof o&&(o.apply(this,u.data),delete this.acks[u.id])}onconnect(u){this.id=u,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(u=>this.emitEvent(u)),this.receiveBuffer=[],this.sendBuffer.forEach(u=>this.packet(u)),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(u=>u()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ct.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(u){return this.flags.compress=u,this}get volatile(){return this.flags.volatile=!0,this}timeout(u){return this.flags.timeout=u,this}onAny(u){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(u),this}prependAny(u){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(u),this}offAny(u){if(!this._anyListeners)return this;if(u){const o=this._anyListeners;for(let l=0;l<o.length;l++)if(u===o[l])return o.splice(l,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}var _p=w(5793);class Ja extends Sr.Q{constructor(u,o){var l;super(),this.nsps={},this.subs=[],u&&"object"==typeof u&&(o=u,u=void 0),(o=o||{}).path=o.path||"/socket.io",this.opts=o,ws(this,o),this.reconnection(!1!==o.reconnection),this.reconnectionAttempts(o.reconnectionAttempts||1/0),this.reconnectionDelay(o.reconnectionDelay||1e3),this.reconnectionDelayMax(o.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(l=o.randomizationFactor)&&void 0!==l?l:.5),this.backoff=new _p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==o.timeout?2e4:o.timeout),this._readyState="closed",this.uri=u;const p=o.parser||H;this.encoder=new p.Encoder,this.decoder=new p.Decoder,this._autoConnect=!1!==o.autoConnect,this._autoConnect&&this.open()}reconnection(u){return arguments.length?(this._reconnection=!!u,this):this._reconnection}reconnectionAttempts(u){return void 0===u?this._reconnectionAttempts:(this._reconnectionAttempts=u,this)}reconnectionDelay(u){var o;return void 0===u?this._reconnectionDelay:(this._reconnectionDelay=u,null===(o=this.backoff)||void 0===o||o.setMin(u),this)}randomizationFactor(u){var o;return void 0===u?this._randomizationFactor:(this._randomizationFactor=u,null===(o=this.backoff)||void 0===o||o.setJitter(u),this)}reconnectionDelayMax(u){var o;return void 0===u?this._reconnectionDelayMax:(this._reconnectionDelayMax=u,null===(o=this.backoff)||void 0===o||o.setMax(u),this)}timeout(u){return arguments.length?(this._timeout=u,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(u){if(~this._readyState.indexOf("open"))return this;this.engine=new vp(this.uri,this.opts);const o=this.engine,l=this;this._readyState="opening",this.skipReconnect=!1;const p=zi(o,"open",function(){l.onopen(),u&&u()}),b=zi(o,"error",G=>{l.cleanup(),l._readyState="closed",this.emitReserved("error",G),u?u(G):l.maybeReconnectOnOpen()});if(!1!==this._timeout){const G=this._timeout;0===G&&p();const Z=this.setTimeoutFn(()=>{p(),o.close(),o.emit("error",new Error("timeout"))},G);this.opts.autoUnref&&Z.unref(),this.subs.push(function(){clearTimeout(Z)})}return this.subs.push(p),this.subs.push(b),this}connect(u){return this.open(u)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const u=this.engine;this.subs.push(zi(u,"ping",this.onping.bind(this)),zi(u,"data",this.ondata.bind(this)),zi(u,"error",this.onerror.bind(this)),zi(u,"close",this.onclose.bind(this)),zi(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(u){this.decoder.add(u)}ondecoded(u){this.emitReserved("packet",u)}onerror(u){this.emitReserved("error",u)}socket(u,o){let l=this.nsps[u];return l||(l=new ru(this,u,o),this.nsps[u]=l),l}_destroy(u){const o=Object.keys(this.nsps);for(const l of o)if(this.nsps[l].active)return;this._close()}_packet(u){const o=this.encoder.encode(u);for(let l=0;l<o.length;l++)this.engine.write(o[l],u.options)}cleanup(){this.subs.forEach(u=>u()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(u){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",u),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const u=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const o=this.backoff.duration();this._reconnecting=!0;const l=this.setTimeoutFn(()=>{u.skipReconnect||(this.emitReserved("reconnect_attempt",u.backoff.attempts),!u.skipReconnect&&u.open(p=>{p?(u._reconnecting=!1,u.reconnect(),this.emitReserved("reconnect_error",p)):u.onreconnect()}))},o);this.opts.autoUnref&&l.unref(),this.subs.push(function(){clearTimeout(l)})}}onreconnect(){const u=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",u)}}const Rs={};function Xa(c,u){"object"==typeof c&&(u=c,c=void 0);const o=function(c,u="",o){let l=c;o=o||"undefined"!=typeof location&&location,null==c&&(c=o.protocol+"//"+o.host),"string"==typeof c&&("/"===c.charAt(0)&&(c="/"===c.charAt(1)?o.protocol+c:o.host+c),/^(https?|wss?):\/\//.test(c)||(c=void 0!==o?o.protocol+"//"+c:"https://"+c),l=Wa(c)),l.port||(/^(http|ws)$/.test(l.protocol)?l.port="80":/^(http|ws)s$/.test(l.protocol)&&(l.port="443")),l.path=l.path||"/";const b=-1!==l.host.indexOf(":")?"["+l.host+"]":l.host;return l.id=l.protocol+"://"+b+":"+l.port+u,l.href=l.protocol+"://"+b+(o&&o.port===l.port?"":":"+l.port),l}(c,(u=u||{}).path||"/socket.io"),l=o.source,p=o.id;let oe;return u.forceNew||u["force new connection"]||!1===u.multiplex||Rs[p]&&o.path in Rs[p].nsps?oe=new Ja(l,u):(Rs[p]||(Rs[p]=new Ja(l,u)),oe=Rs[p]),o.query&&!u.query&&(u.query=o.queryKey),oe.socket(o.path,u)}function wo(c,u){if(1&c&&(r.TgZ(0,"mat-list-option",15),r._uU(1),r.qZA()),2&c){const o=u.$implicit;r.Q6J("value",o),r.xp6(1),r.AsE(" ",o.tenant_name," | db - ",o.tad," ")}}function Cp(c,u){if(1&c&&(r.TgZ(0,"div",11),r.TgZ(1,"mat-selection-list",12,13),r.YNc(3,wo,2,3,"mat-list-option",14),r.qZA(),r.qZA()),2&c){const o=r.oxw();r.xp6(1),r.Q6J("formControl",o.selectedTenants),r.xp6(2),r.Q6J("ngForOf",o.availableTenants)}}Object.assign(Xa,{Manager:Ja,Socket:ru,io:Xa,connect:Xa}),w(4479);let Iv=(()=>{class c{constructor(o,l,p){this._es=o,this._dialog=l,this._snackBar=p,this.rowSelection="multiple",this.availableTenants=[],this.columnDefs=[{field:"index_name",sortable:!0,filter:!0,checkboxSelection:!0},{field:"database_type",sortable:!0,filter:!0},{field:"db_name",sortable:!0,filter:!0},{field:"index_prefix",sortable:!0,filter:!0},{field:"table_name",sortable:!0,filter:!0},{field:"pipeline_type",sortable:!0,filter:!0},{field:"pipeline_id",sortable:!0,filter:!0},{field:"ingestion_mode",sortable:!0,filter:!0},{field:"executed_on",sortable:!0,filter:!0},{field:"app_name",sortable:!0,filter:!0}],this.selectedRows=[],this.columnDefsStats=[{field:"index",sortable:!0,filter:!0},{field:"health",sortable:!0,filter:!0},{field:"status",sortable:!0,filter:!0},{field:"doc_count",sortable:!0,filter:!0},{field:"size",sortable:!0,filter:!0}],this.rowData=[],this.stats=[],this.isAllTenantsOpen=!1,this.selectedTenants=new Ot,this.getAllTenants=()=>{this._es.getActiveTenants().pipe(bt("data")).subscribe({next:b=>{this.availableTenants=b},error:b=>{console.error(b)}})},this.startSyncingPipelines=()=>{this.selectedTenants.value.length>0&&this.selectedRows.length>0&&this.selectedRows.forEach((b,G,Z)=>{this.selectedTenants.value.forEach((oe,pe,Oe)=>{let qe=oe.tad,nt=b.app_name,ht=b.primary_key_field,At=b.generalQuery.replaceAll("db_name",qe),xt=b.index_prefix;this._es.generatePipelines({selectedDbs:[qe],indexAlias:nt,primaryKeyField:ht,isCustomQuery:!0,customQueries:[At],indexPrefix:xt}).pipe(bt("data")).subscribe({next:So=>{let Ps=So[0],Ut=`${xt}_${qe}`;this._es.createIndex(Ut,[]).pipe(bt("data")).subscribe({next:Tr=>{console.log("created elastic Index",Ut),this._es.createIndexInMongo({index_name:Ut,ingestion_mode:"database_sync",database_type:"mysql",pipeline_type:"logstash",pipeline_id:`${Ut}-pipe`,executed_on:"tad",db_name:qe,app_name:nt,primary_key_field:ht,fetch_method:"custom_sql_query",route_url:b.route_url,auth_filter_api:b.auth_filter_api,index_prefix:xt,accessible_roleGroups:b.accessible_roleGroups,generalQuery:b.generalQuery,transformedQuery:At}).subscribe({next:lw=>{console.log("created mongo index",Ut),this._es.createPipeline(Ps).subscribe({next:cw=>{console.log("logstash pipline created",`${Ut}-pipe`),this._es.syncIndexUiMap(b.index_name,Ut).subscribe({next:uw=>{console.log("Ui mapping created for index",Ut),console.log("------------------------------------")},error:uw=>{console.error(uw)}})},error:cw=>{console.error(cw)}})},error:lw=>{console.error(lw)}})},error:Tr=>{console.error(Tr)}})},error:So=>{console.error(So)}})})})}}ngOnInit(){this.getAllIndices(),this.getAllIndicesStats(),this.getAllTenants()}openSnackBar(o,l){this._snackBar.open(o,l,{duration:2e3})}getGeneratedPipeLines(){}getAllIndicesStats(){this._es.getAllIndicesStats().pipe(bt("data")).subscribe({next:o=>{this.stats=o.map(l=>({health:l.health,status:l.status,index:l.index,doc_count:l["docs.count"],size:l["store.size"]}))},error:o=>{console.error(o)}})}getAllIndices(){this._es.getAllIndices().pipe(bt("data")).subscribe({next:o=>{this.rowData=o},error:o=>{console.error(o)}})}onSelectionChanged(o){this.selectedRows=this.gridApi.getSelectedRows(),1==this.selectedRows.length&&this.openEditUiMapAndFilterConfigDialog()}openEditUiMapAndFilterConfigDialog(){this._dialog.open($n,{data:this.selectedRows[0]}).afterClosed().subscribe(l=>{console.log("The dialog was closed")})}onGridReady(o){this.gridApi=o.api}syncForOtherTenants(){console.log(this.selectedRows),this.isAllTenantsOpen=!0}deleteIndices(){window.confirm("Deleting the indices will also delete the pipelines associated with it ! are you sure?")&&this._es.deleteIndices(this.selectedRows).subscribe({next:p=>{this._snackBar.open("Delete Request has been made!","dismiss")},error:p=>{console.error(p)}})}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(R),r.Y36(bn),r.Y36(Uc))},c.\u0275cmp=r.Xpm({type:c,selectors:[["app-all-indices"]],decls:22,vars:11,consts:[[1,"row","mt-3"],[1,"col-12"],[1,"text-red-600","font-bold"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","primary","cdkOverlayOrigin","",2,"margin-left","10px",3,"disabled","click"],["trigger","cdkOverlayOrigin"],["mat-raised-button","","color","primary",2,"margin-left","10px",3,"disabled","click"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen"],[1,"row","mt-2"],[1,"ag-theme-alpine",2,"height","500px",3,"rowData","columnDefs","rowSelection","suppressRowClickSelection","selectionChanged","gridReady"],[1,"ag-theme-alpine",2,"height","500px",3,"rowData","columnDefs"],[1,"all-tenant-popup"],[3,"formControl"],["shoes",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(o,l){if(1&o&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"h4",2),r._uU(3,"Available indices"),r.qZA(),r.TgZ(4,"button",3),r.NdJ("click",function(){return l.deleteIndices()}),r._uU(5," Delete indices "),r.qZA(),r.TgZ(6,"button",4,5),r.NdJ("click",function(){return l.syncForOtherTenants()}),r._uU(8," Sync Selected Base indices with all other Tenant indices "),r.qZA(),r.TgZ(9,"button",6),r.NdJ("click",function(){return l.startSyncingPipelines()}),r._uU(10," Start Syncing "),r.qZA(),r.YNc(11,Cp,4,2,"ng-template",7),r.qZA(),r.qZA(),r.TgZ(12,"div",8),r.TgZ(13,"div",1),r.TgZ(14,"ag-grid-angular",9),r.NdJ("selectionChanged",function(b){return l.onSelectionChanged(b)})("gridReady",function(b){return l.onGridReady(b)}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(15,"div",0),r.TgZ(16,"div",1),r.TgZ(17,"h4",2),r._uU(18,"Indices stats"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"div",8),r.TgZ(20,"div",1),r._UZ(21,"ag-grid-angular",10),r.qZA(),r.qZA()),2&o){const p=r.MAs(7);r.xp6(4),r.Q6J("disabled",0==l.rowData.length),r.xp6(2),r.Q6J("disabled",0==l.rowData.length),r.xp6(3),r.Q6J("disabled",0==l.rowData.length),r.xp6(2),r.Q6J("cdkConnectedOverlayOrigin",p)("cdkConnectedOverlayOpen",l.isAllTenantsOpen),r.xp6(3),r.Q6J("rowData",l.rowData)("columnDefs",l.columnDefs)("rowSelection",l.rowSelection)("suppressRowClickSelection",!1),r.xp6(7),r.Q6J("rowData",l.stats)("columnDefs",l.columnDefsStats)}},directives:[jn,aa,la,ka,zn,ae,fn,E.sg,Va],styles:[".all-tenant-popup[_ngcontent-%COMP%]{background:white;height:26rem;overflow:scroll}"]}),c})(),wp=(()=>{class c{constructor(o){this._es=o,this.logstashPipelines=[],this.mongoPipelines=[],this.rowSelection="single",this.columnDefs=[{field:"pipeline_name",filter:!0},{field:"index_name",filter:!0},{field:"table_name",filter:!0},{field:"db_name",filter:!0},{field:"last_modified",filter:!0}],this.columnDefsMongoPipelines=[{field:"pipeline_id",filter:!0},{field:"index_name",filter:!0},{field:"db_name",filter:!0},{field:"collection_name",filter:!0},{field:"fields_to_be_indexed",filter:!0},{field:"is_batch_process_completed",filter:!0},{field:"batch_size",filter:!0}],this.getLogstashPipelines=()=>{this._es.getLogstashPipelines().pipe(bt("data")).subscribe({next:l=>{this.logstashPipelines=l},error:l=>{console.log(l)}})}}ngOnInit(){this.getLogstashPipelines(),this.getMongoPipelines()}getMongoPipelines(){this._es.getMongoPipelines().pipe(bt("data")).subscribe({next:o=>{this.mongoPipelines=o},error:o=>{console.log(o)}})}onSelectionChanged(o){console.log(this.gridApi.getSelectedRows())}onGridReady(o){this.gridApi=o.api}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(R))},c.\u0275cmp=r.Xpm({type:c,selectors:[["app-all-pipelines"]],decls:14,vars:5,consts:[[1,"row","mt-3"],[1,"col-12"],[1,"text-red-600","font-bold"],[1,"row","mt-2"],[1,"ag-theme-alpine",2,"height","26rem",3,"rowData","columnDefs","rowSelection","selectionChanged","gridReady"],[1,"ag-theme-alpine",2,"height","26rem",3,"rowData","columnDefs"]],template:function(o,l){1&o&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"h4",2),r._uU(3,"Available Logstash pipelines"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(4,"div",3),r.TgZ(5,"div",1),r.TgZ(6,"ag-grid-angular",4),r.NdJ("selectionChanged",function(b){return l.onSelectionChanged(b)})("gridReady",function(b){return l.onGridReady(b)}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",0),r.TgZ(8,"div",1),r.TgZ(9,"h4",2),r._uU(10,"Available Mongo pipelines"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(11,"div",3),r.TgZ(12,"div",1),r._UZ(13,"ag-grid-angular",5),r.qZA(),r.qZA()),2&o&&(r.xp6(6),r.Q6J("rowData",l.logstashPipelines)("columnDefs",l.columnDefs)("rowSelection",l.rowSelection),r.xp6(7),r.Q6J("rowData",l.mongoPipelines)("columnDefs",l.columnDefsMongoPipelines))},directives:[ka],styles:[""]}),c})(),bp=(()=>{class c{constructor(o){this._esmgmt=o,this.indicesStats=[]}ngOnInit(){}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(R))},c.\u0275cmp=r.Xpm({type:c,selectors:[["index-stats"]],decls:6,vars:0,consts:[[1,"rpw"],[1,"col-12"],[1,"row"]],template:function(o,l){1&o&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r._UZ(2,"app-all-indices"),r.qZA(),r.qZA(),r.TgZ(3,"div",2),r.TgZ(4,"div",1),r._UZ(5,"app-all-pipelines"),r.qZA(),r.qZA())},directives:[Iv,wp],styles:[""]}),c})();function el(c,u){1&c&&r.Hsn(0)}const Lv=["*"];let Ep=(()=>{class c{constructor(o){this._elementRef=o}focus(){this._elementRef.nativeElement.focus()}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq))},c.\u0275dir=r.lG2({type:c,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"]}),c})(),Sp=(()=>{class c{constructor(o){this.template=o}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.Rgc))},c.\u0275dir=r.lG2({type:c,selectors:[["","cdkStepLabel",""]]}),c})(),Nv=0;const e=new r.OlP("STEPPER_GLOBAL_OPTIONS");let i=(()=>{class c{constructor(o,l){this._stepper=o,this.interacted=!1,this.interactedStream=new r.vpe,this._editable=!0,this._optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=l||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}get editable(){return this._editable}set editable(o){this._editable=st(o)}get optional(){return this._optional}set optional(o){this._optional=st(o)}get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(o){this._completedOverride=st(o)}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(o){this._customError=st(o)}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){var o;return null!=(o=this._stepperOptions.showError)?o:null!=this._customError}}return c.\u0275fac=function(o){return new(o||c)(r.Y36((0,r.Gpc)(()=>n)),r.Y36(e,8))},c.\u0275cmp=r.Xpm({type:c,selectors:[["cdk-step"]],contentQueries:function(o,l,p){if(1&o&&r.Suo(p,Sp,5),2&o){let b;r.iGM(b=r.CRH())&&(l.stepLabel=b.first)}},viewQuery:function(o,l){if(1&o&&r.Gf(r.Rgc,7),2&o){let p;r.iGM(p=r.CRH())&&(l.content=p.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],state:"state",editable:"editable",optional:"optional",completed:"completed",hasError:"hasError"},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],features:[r.TTD],ngContentSelectors:Lv,decls:1,vars:0,template:function(o,l){1&o&&(r.F$t(),r.YNc(0,el,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),c})(),n=(()=>{class c{constructor(o,l,p,b){this._dir=o,this._changeDetectorRef=l,this._elementRef=p,this._destroyed=new tt.x,this.steps=new r.n_E,this._sortedHeaders=new r.n_E,this._linear=!1,this._selectedIndex=0,this.selectionChange=new r.vpe,this._orientation="horizontal",this._groupId=Nv++}get linear(){return this._linear}set linear(o){this._linear=st(o)}get selectedIndex(){return this._selectedIndex}set selectedIndex(o){var p;const l=Ji(o);this.steps&&this._steps?(this._isValidIndex(l),null==(p=this.selected)||p._markAsInteracted(),this._selectedIndex!==l&&!this._anyControlsInvalidOrPending(l)&&(l>=this._selectedIndex||this.steps.toArray()[l].editable)&&this._updateSelectedItemIndex(l)):this._selectedIndex=l}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(o){this.selectedIndex=o&&this.steps?this.steps.toArray().indexOf(o):-1}get orientation(){return this._orientation}set orientation(o){this._orientation=o,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===o)}ngAfterContentInit(){this._steps.changes.pipe((0,Dt.O)(this._steps),yt(this._destroyed)).subscribe(o=>{this.steps.reset(o.filter(l=>l._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe((0,Dt.O)(this._stepHeader),yt(this._destroyed)).subscribe(o=>{this._sortedHeaders.reset(o.toArray().sort((l,p)=>l._elementRef.nativeElement.compareDocumentPosition(p._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new ua(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:(0,Hi.of)()).pipe((0,Dt.O)(this._layoutDirection()),yt(this._destroyed)).subscribe(o=>this._keyManager.withHorizontalOrientation(o)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(o=>o.reset()),this._stateChanged()}_getStepLabelId(o){return`cdk-step-label-${this._groupId}-${o}`}_getStepContentId(o){return`cdk-step-content-${this._groupId}-${o}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(o){const l=o-this._selectedIndex;return l<0?"rtl"===this._layoutDirection()?"next":"previous":l>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(o,l="number"){const p=this.steps.toArray()[o],b=this._isCurrentStep(o);return p._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(p,b):this._getGuidelineLogic(p,b,l)}_getDefaultIndicatorLogic(o,l){return o._showError()&&o.hasError&&!l?"error":!o.completed||l?"number":o.editable?"edit":"done"}_getGuidelineLogic(o,l,p="number"){return o._showError()&&o.hasError&&!l?"error":o.completed&&!l?"done":o.completed&&l?p:o.editable&&l?"edit":p}_isCurrentStep(o){return this._selectedIndex===o}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(o){const l=this.steps.toArray();this.selectionChange.emit({selectedIndex:o,previouslySelectedIndex:this._selectedIndex,selectedStep:l[o],previouslySelectedStep:l[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(o):this._keyManager.updateActiveItem(o),this._selectedIndex=o,this._stateChanged()}_onKeydown(o){const l=ni(o),p=o.keyCode,b=this._keyManager;null==b.activeItemIndex||l||32!==p&&13!==p?b.onKeydown(o):(this.selectedIndex=b.activeItemIndex,o.preventDefault())}_anyControlsInvalidOrPending(o){return!!(this._linear&&o>=0)&&this.steps.toArray().slice(0,o).some(l=>{const p=l.stepControl;return(p?p.invalid||p.pending||!l.interacted:!l.completed)&&!l.optional&&!l._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const o=this._elementRef.nativeElement,l=ta();return o===l||o.contains(l)}_isValidIndex(o){return o>-1&&(!this.steps||o<this.steps.length)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(Kt,8),r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(E.K0))},c.\u0275dir=r.lG2({type:c,selectors:[["","cdkStepper",""]],contentQueries:function(o,l,p){if(1&o&&(r.Suo(p,i,5),r.Suo(p,Ep,5)),2&o){let b;r.iGM(b=r.CRH())&&(l._steps=b),r.iGM(b=r.CRH())&&(l._stepHeader=b)}},inputs:{linear:"linear",selectedIndex:"selectedIndex",selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange"},exportAs:["cdkStepper"]}),c})(),h=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[[Ur]]}),c})();function O(c,u){if(1&c&&r.GkF(0,8),2&c){const o=r.oxw();r.Q6J("ngTemplateOutlet",o.iconOverrides[o.state])("ngTemplateOutletContext",o._getIconContext())}}function L(c,u){if(1&c&&(r.TgZ(0,"span",13),r._uU(1),r.qZA()),2&c){const o=r.oxw(2);r.xp6(1),r.Oqu(o._getDefaultTextForState(o.state))}}function j(c,u){if(1&c&&(r.TgZ(0,"span",14),r._uU(1),r.qZA()),2&c){const o=r.oxw(2);r.xp6(1),r.Oqu(o._intl.completedLabel)}}function q(c,u){if(1&c&&(r.TgZ(0,"span",14),r._uU(1),r.qZA()),2&c){const o=r.oxw(2);r.xp6(1),r.Oqu(o._intl.editableLabel)}}function J(c,u){if(1&c&&(r.TgZ(0,"mat-icon",13),r._uU(1),r.qZA()),2&c){const o=r.oxw(2);r.xp6(1),r.Oqu(o._getDefaultTextForState(o.state))}}function re(c,u){if(1&c&&(r.ynx(0,9),r.YNc(1,L,2,1,"span",10),r.YNc(2,j,2,1,"span",11),r.YNc(3,q,2,1,"span",11),r.YNc(4,J,2,1,"mat-icon",12),r.BQk()),2&c){const o=r.oxw();r.Q6J("ngSwitch",o.state),r.xp6(1),r.Q6J("ngSwitchCase","number"),r.xp6(1),r.Q6J("ngIf","done"===o.state),r.xp6(1),r.Q6J("ngIf","edit"===o.state)}}function me(c,u){if(1&c&&(r.TgZ(0,"div",15),r.GkF(1,16),r.qZA()),2&c){const o=r.oxw();r.xp6(1),r.Q6J("ngTemplateOutlet",o._templateLabel().template)}}function Ae(c,u){if(1&c&&(r.TgZ(0,"div",15),r._uU(1),r.qZA()),2&c){const o=r.oxw();r.xp6(1),r.Oqu(o.label)}}function Pe(c,u){if(1&c&&(r.TgZ(0,"div",17),r._uU(1),r.qZA()),2&c){const o=r.oxw();r.xp6(1),r.Oqu(o._intl.optionalLabel)}}function We(c,u){if(1&c&&(r.TgZ(0,"div",18),r._uU(1),r.qZA()),2&c){const o=r.oxw();r.xp6(1),r.Oqu(o.errorMessage)}}function Ve(c,u){}function $e(c,u){if(1&c&&(r.Hsn(0),r.YNc(1,Ve,0,0,"ng-template",0)),2&c){const o=r.oxw();r.xp6(1),r.Q6J("cdkPortalOutlet",o._portal)}}const Ke=["*"];function ot(c,u){1&c&&r._UZ(0,"div",9)}const mt=function(c,u){return{step:c,i:u}};function ft(c,u){if(1&c&&(r.ynx(0),r.GkF(1,7),r.YNc(2,ot,1,0,"div",8),r.BQk()),2&c){const o=u.$implicit,l=u.index,p=u.last;r.oxw(2);const b=r.MAs(4);r.xp6(1),r.Q6J("ngTemplateOutlet",b)("ngTemplateOutletContext",r.WLB(3,mt,o,l)),r.xp6(1),r.Q6J("ngIf",!p)}}function ut(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"div",10),r.NdJ("@horizontalStepTransition.done",function(p){return r.CHM(o),r.oxw(2)._animationDone.next(p)}),r.GkF(1,11),r.qZA()}if(2&c){const o=u.$implicit,l=u.index,p=r.oxw(2);r.Q6J("@horizontalStepTransition",p._getAnimationDirection(l))("id",p._getStepContentId(l)),r.uIk("aria-labelledby",p._getStepLabelId(l))("aria-expanded",p.selectedIndex===l),r.xp6(1),r.Q6J("ngTemplateOutlet",o.content)}}function St(c,u){if(1&c&&(r.ynx(0),r.TgZ(1,"div",3),r.YNc(2,ft,3,6,"ng-container",4),r.qZA(),r.TgZ(3,"div",5),r.YNc(4,ut,2,5,"div",6),r.qZA(),r.BQk()),2&c){const o=r.oxw();r.xp6(2),r.Q6J("ngForOf",o.steps),r.xp6(2),r.Q6J("ngForOf",o.steps)}}function wt(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"div",13),r.GkF(1,7),r.TgZ(2,"div",14),r.TgZ(3,"div",15),r.NdJ("@verticalStepTransition.done",function(p){return r.CHM(o),r.oxw(2)._animationDone.next(p)}),r.TgZ(4,"div",16),r.GkF(5,11),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&c){const o=u.$implicit,l=u.index,p=u.last,b=r.oxw(2),G=r.MAs(4);r.xp6(1),r.Q6J("ngTemplateOutlet",G)("ngTemplateOutletContext",r.WLB(9,mt,o,l)),r.xp6(1),r.ekj("mat-stepper-vertical-line",!p),r.xp6(1),r.Q6J("@verticalStepTransition",b._getAnimationDirection(l))("id",b._getStepContentId(l)),r.uIk("aria-labelledby",b._getStepLabelId(l))("aria-expanded",b.selectedIndex===l),r.xp6(2),r.Q6J("ngTemplateOutlet",o.content)}}function si(c,u){if(1&c&&(r.ynx(0),r.YNc(1,wt,6,12,"div",12),r.BQk()),2&c){const o=r.oxw();r.xp6(1),r.Q6J("ngForOf",o.steps)}}function Yt(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"mat-step-header",17),r.NdJ("click",function(){return r.CHM(o).step.select()})("keydown",function(p){return r.CHM(o),r.oxw()._onKeydown(p)}),r.qZA()}if(2&c){const o=u.step,l=u.i,p=r.oxw();r.ekj("mat-horizontal-stepper-header","horizontal"===p.orientation)("mat-vertical-stepper-header","vertical"===p.orientation),r.Q6J("tabIndex",p._getFocusIndex()===l?0:-1)("id",p._getStepLabelId(l))("index",l)("state",p._getIndicatorType(l,o.state))("label",o.stepLabel||o.label)("selected",p.selectedIndex===l)("active",p._stepIsNavigable(l,o))("optional",o.optional)("errorMessage",o.errorMessage)("iconOverrides",p._iconOverrides)("disableRipple",p.disableRipple||!p._stepIsNavigable(l,o))("color",o.color||p.color),r.uIk("aria-posinset",l+1)("aria-setsize",p.steps.length)("aria-controls",p._getStepContentId(l))("aria-selected",p.selectedIndex==l)("aria-label",o.ariaLabel||null)("aria-labelledby",!o.ariaLabel&&o.ariaLabelledby?o.ariaLabelledby:null)("aria-disabled",!p._stepIsNavigable(l,o)||null)}}let Zi=(()=>{class c extends Sp{}return c.\u0275fac=function(){let u;return function(l){return(u||(u=r.n5z(c)))(l||c)}}(),c.\u0275dir=r.lG2({type:c,selectors:[["","matStepLabel",""]],features:[r.qOj]}),c})(),qi=(()=>{class c{constructor(){this.changes=new tt.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const ou={provide:qi,deps:[[new r.FiY,new r.tp0,qi]],useFactory:function(c){return c||new qi}},tl=Qr(class extends Ep{constructor(u){super(u)}},"primary");let dC=(()=>{class c extends tl{constructor(o,l,p,b){super(p),this._intl=o,this._focusMonitor=l,this._intlSubscription=o.changes.subscribe(()=>b.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(o,l){o?this._focusMonitor.focusVia(this._elementRef,o,l):this._elementRef.nativeElement.focus(l)}_stringLabel(){return this.label instanceof Zi?null:this.label}_templateLabel(){return this.label instanceof Zi?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(o){return"number"==o?`${this.index+1}`:"edit"==o?"create":"error"==o?"warning":o}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(qi),r.Y36(Nn),r.Y36(r.SBq),r.Y36(r.sBO))},c.\u0275cmp=r.Xpm({type:c,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],inputs:{color:"color",state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple"},features:[r.qOj],decls:10,vars:19,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content",3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"ngSwitch",4,"ngSwitchDefault"],[1,"mat-step-label"],["class","mat-step-text-label",4,"ngIf"],["class","mat-step-optional",4,"ngIf"],["class","mat-step-sub-label-error",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngSwitch"],["aria-hidden","true",4,"ngSwitchCase"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true",4,"ngSwitchDefault"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[1,"mat-step-text-label"],[3,"ngTemplateOutlet"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"]],template:function(o,l){1&o&&(r._UZ(0,"div",0),r.TgZ(1,"div"),r.TgZ(2,"div",1),r.YNc(3,O,1,2,"ng-container",2),r.YNc(4,re,5,4,"ng-container",3),r.qZA(),r.qZA(),r.TgZ(5,"div",4),r.YNc(6,me,2,1,"div",5),r.YNc(7,Ae,2,1,"div",5),r.YNc(8,Pe,2,1,"div",6),r.YNc(9,We,2,1,"div",7),r.qZA()),2&o&&(r.Q6J("matRippleTrigger",l._getHostElement())("matRippleDisabled",l.disableRipple),r.xp6(1),r.Gre("mat-step-icon-state-",l.state," mat-step-icon"),r.ekj("mat-step-icon-selected",l.selected),r.xp6(1),r.Q6J("ngSwitch",!(!l.iconOverrides||!l.iconOverrides[l.state])),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(2),r.ekj("mat-step-label-active",l.active)("mat-step-label-selected",l.selected)("mat-step-label-error","error"==l.state),r.xp6(1),r.Q6J("ngIf",l._templateLabel()),r.xp6(1),r.Q6J("ngIf",l._stringLabel()),r.xp6(1),r.Q6J("ngIf",l.optional&&"error"!=l.state),r.xp6(1),r.Q6J("ngIf","error"==l.state))},directives:[pi,E.RF,E.n9,E.ED,E.O5,E.tP,Wn],styles:[".mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header.cdk-keyboard-focused,.cdk-high-contrast-active .mat-step-header.cdk-program-focused{outline:solid 3px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.mat-step-optional,.mat-step-sub-label-error{font-size:12px}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),c})();const hC={horizontalStepTransition:(0,Je.X$)("horizontalStepTransition",[(0,Je.SB)("previous",(0,Je.oB)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),(0,Je.SB)("current",(0,Je.oB)({transform:"none",visibility:"inherit"})),(0,Je.SB)("next",(0,Je.oB)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),(0,Je.eR)("* => *",(0,Je.jt)("500ms cubic-bezier(0.35, 0, 0.25, 1)"))]),verticalStepTransition:(0,Je.X$)("verticalStepTransition",[(0,Je.SB)("previous",(0,Je.oB)({height:"0px",visibility:"hidden"})),(0,Je.SB)("next",(0,Je.oB)({height:"0px",visibility:"hidden"})),(0,Je.SB)("current",(0,Je.oB)({height:"*",visibility:"inherit"})),(0,Je.eR)("* <=> current",(0,Je.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])};let pw=(()=>{class c{constructor(o){this.templateRef=o}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.Rgc))},c.\u0275dir=r.lG2({type:c,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:["matStepperIcon","name"]}}),c})(),fw=(()=>{class c{constructor(o){this._template=o}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.Rgc))},c.\u0275dir=r.lG2({type:c,selectors:[["ng-template","matStepContent",""]]}),c})(),pC=(()=>{class c extends i{constructor(o,l,p,b){super(o,b),this._errorStateMatcher=l,this._viewContainerRef=p,this._isSelected=kt.w0.EMPTY}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe((0,Gn.w)(()=>this._stepper.selectionChange.pipe((0,D.U)(o=>o.selectedStep===this),(0,Dt.O)(this._stepper.selected===this)))).subscribe(o=>{o&&this._lazyContent&&!this._portal&&(this._portal=new yn(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(o,l){return this._errorStateMatcher.isErrorState(o,l)||!!(o&&o.invalid&&this.interacted)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36((0,r.Gpc)(()=>gC)),r.Y36(Bn,4),r.Y36(r.s_b),r.Y36(e,8))},c.\u0275cmp=r.Xpm({type:c,selectors:[["mat-step"]],contentQueries:function(o,l,p){if(1&o&&(r.Suo(p,Zi,5),r.Suo(p,fw,5)),2&o){let b;r.iGM(b=r.CRH())&&(l.stepLabel=b.first),r.iGM(b=r.CRH())&&(l._lazyContent=b.first)}},inputs:{color:"color"},exportAs:["matStep"],features:[r._Bn([{provide:Bn,useExisting:c},{provide:i,useExisting:c}]),r.qOj],ngContentSelectors:Ke,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(o,l){1&o&&(r.F$t(),r.YNc(0,$e,2,1,"ng-template"))},directives:[_n],encapsulation:2,changeDetection:0}),c})(),fC=(()=>{class c extends n{}return c.\u0275fac=function(){let u;return function(l){return(u||(u=r.n5z(c)))(l||c)}}(),c.\u0275dir=r.lG2({type:c,features:[r.qOj]}),c})(),gw=(()=>{class c extends fC{}return c.\u0275fac=function(){let u;return function(l){return(u||(u=r.n5z(c)))(l||c)}}(),c.\u0275dir=r.lG2({type:c,selectors:[["mat-horizontal-stepper"]],features:[r.qOj]}),c})(),mw=(()=>{class c extends fC{}return c.\u0275fac=function(){let u;return function(l){return(u||(u=r.n5z(c)))(l||c)}}(),c.\u0275dir=r.lG2({type:c,selectors:[["mat-vertical-stepper"]],features:[r.qOj]}),c})(),gC=(()=>{class c extends n{constructor(o,l,p,b){super(o,l,p,b),this.steps=new r.n_E,this.animationDone=new r.vpe,this.labelPosition="end",this._iconOverrides={},this._animationDone=new tt.x;const G=p.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===G?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:o,templateRef:l})=>this._iconOverrides[o]=l),this.steps.changes.pipe(yt(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(Ge((o,l)=>o.fromState===l.fromState&&o.toState===l.toState),yt(this._destroyed)).subscribe(o=>{"current"===o.toState&&this.animationDone.emit()})}_stepIsNavigable(o,l){return l.completed||this.selectedIndex===o||!this.linear}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(Kt,8),r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(E.K0))},c.\u0275cmp=r.Xpm({type:c,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(o,l,p){if(1&o&&(r.Suo(p,pC,5),r.Suo(p,pw,5)),2&o){let b;r.iGM(b=r.CRH())&&(l._steps=b),r.iGM(b=r.CRH())&&(l._icons=b)}},viewQuery:function(o,l){if(1&o&&r.Gf(dC,5),2&o){let p;r.iGM(p=r.CRH())&&(l._stepHeader=p)}},hostAttrs:["role","tablist"],hostVars:9,hostBindings:function(o,l){2&o&&(r.uIk("aria-orientation",l.orientation),r.ekj("mat-stepper-horizontal","horizontal"===l.orientation)("mat-stepper-vertical","vertical"===l.orientation)("mat-stepper-label-position-end","horizontal"===l.orientation&&"end"==l.labelPosition)("mat-stepper-label-position-bottom","horizontal"===l.orientation&&"bottom"==l.labelPosition))},inputs:{selectedIndex:"selectedIndex",disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],features:[r._Bn([{provide:n,useExisting:c},{provide:gw,useExisting:c},{provide:mw,useExisting:c}]),r.qOj],decls:5,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],["stepTemplate",""],[1,"mat-horizontal-stepper-header-container"],[4,"ngFor","ngForOf"],[1,"mat-horizontal-content-container"],["class","mat-horizontal-stepper-content","role","tabpanel",3,"id",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","mat-stepper-horizontal-line",4,"ngIf"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],["class","mat-step",4,"ngFor","ngForOf"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color","click","keydown"]],template:function(o,l){1&o&&(r.ynx(0,0),r.YNc(1,St,5,2,"ng-container",1),r.YNc(2,si,2,1,"ng-container",1),r.BQk(),r.YNc(3,Yt,1,23,"ng-template",null,2,r.W1O)),2&o&&(r.Q6J("ngSwitch",l.orientation),r.xp6(1),r.Q6J("ngSwitchCase","horizontal"),r.xp6(1),r.Q6J("ngSwitchCase","vertical"))},directives:[E.RF,E.n9,E.sg,E.tP,E.O5,dC],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content[aria-expanded=false]{height:0;overflow:hidden}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}\n'],encapsulation:2,data:{animation:[hC.horizontalStepTransition,hC.verticalStepTransition]},changeDetection:0}),c})(),vw=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({providers:[ou,Bn],imports:[[Rt,E.ez,qo,ms,h,_r,fr],Rt]}),c})();function Bv(c,u,o){for(let l in u)if(u.hasOwnProperty(l)){const p=u[l];p?c.setProperty(l,p,(null==o?void 0:o.has(l))?"important":""):c.removeProperty(l)}return c}function il(c,u){const o=u?"":"none";Bv(c.style,{"touch-action":u?"":"none","-webkit-user-drag":u?"":"none","-webkit-tap-highlight-color":u?"":"transparent","user-select":o,"-ms-user-select":o,"-webkit-user-select":o,"-moz-user-select":o})}function mC(c,u,o){Bv(c.style,{position:u?"":"fixed",top:u?"":"0",opacity:u?"":"0",left:u?"":"-999em"},o)}function Ap(c,u){return u&&"none"!=u?c+" "+u:c}function vC(c){const u=c.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(c)*u}function kv(c,u){return c.getPropertyValue(u).split(",").map(l=>l.trim())}function Gv(c){const u=c.getBoundingClientRect();return{top:u.top,right:u.right,bottom:u.bottom,left:u.left,width:u.width,height:u.height,x:u.x,y:u.y}}function Hv(c,u,o){const{top:l,bottom:p,left:b,right:G}=c;return o>=l&&o<=p&&u>=b&&u<=G}function su(c,u,o){c.top+=u,c.bottom=c.top+c.height,c.left+=o,c.right=c.left+c.width}function yC(c,u,o,l){const{top:p,right:b,bottom:G,left:Z,width:oe,height:pe}=c,Oe=oe*u,qe=pe*u;return l>p-qe&&l<G+qe&&o>Z-Oe&&o<b+Oe}class _C{constructor(u){this._document=u,this.positions=new Map}clear(){this.positions.clear()}cache(u){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),u.forEach(o=>{this.positions.set(o,{scrollPosition:{top:o.scrollTop,left:o.scrollLeft},clientRect:Gv(o)})})}handleScroll(u){const o=Oi(u),l=this.positions.get(o);if(!l)return null;const p=l.scrollPosition;let b,G;if(o===this._document){const pe=this.getViewportScrollPosition();b=pe.top,G=pe.left}else b=o.scrollTop,G=o.scrollLeft;const Z=p.top-b,oe=p.left-G;return this.positions.forEach((pe,Oe)=>{pe.clientRect&&o!==Oe&&o.contains(Oe)&&su(pe.clientRect,Z,oe)}),p.top=b,p.left=G,{top:Z,left:oe}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function CC(c){const u=c.cloneNode(!0),o=u.querySelectorAll("[id]"),l=c.nodeName.toLowerCase();u.removeAttribute("id");for(let p=0;p<o.length;p++)o[p].removeAttribute("id");return"canvas"===l?EC(c,u):("input"===l||"select"===l||"textarea"===l)&&bC(c,u),wC("canvas",c,u,EC),wC("input, textarea, select",c,u,bC),u}function wC(c,u,o,l){const p=u.querySelectorAll(c);if(p.length){const b=o.querySelectorAll(c);for(let G=0;G<p.length;G++)l(p[G],b[G])}}let Cw=0;function bC(c,u){"file"!==u.type&&(u.value=c.value),"radio"===u.type&&u.name&&(u.name=`mat-clone-${u.name}-${Cw++}`)}function EC(c,u){const o=u.getContext("2d");if(o)try{o.drawImage(c,0,0)}catch(l){}}const SC=Mn({passive:!0}),Rp=Mn({passive:!1}),Vv=new Set(["position"]);class bw{constructor(u,o,l,p,b,G){this._config=o,this._document=l,this._ngZone=p,this._viewportRuler=b,this._dragDropRegistry=G,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new tt.x,this._pointerMoveSubscription=kt.w0.EMPTY,this._pointerUpSubscription=kt.w0.EMPTY,this._scrollSubscription=kt.w0.EMPTY,this._resizeSubscription=kt.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new tt.x,this.started=new tt.x,this.released=new tt.x,this.ended=new tt.x,this.entered=new tt.x,this.exited=new tt.x,this.dropped=new tt.x,this.moved=this._moveEvents,this._pointerDown=Z=>{if(this.beforeStarted.next(),this._handles.length){const oe=this._getTargetHandle(Z);oe&&!this._disabledHandles.has(oe)&&!this.disabled&&this._initializeDragSequence(oe,Z)}else this.disabled||this._initializeDragSequence(this._rootElement,Z)},this._pointerMove=Z=>{const oe=this._getPointerPositionOnPage(Z);if(!this._hasStartedDragging){if(Math.abs(oe.x-this._pickupPositionOnPage.x)+Math.abs(oe.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const ht=Date.now()>=this._dragStartTime+this._getDragStartDelay(Z),At=this._dropContainer;if(!ht)return void this._endDragSequence(Z);(!At||!At.isDragging()&&!At.isReceiving())&&(Z.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(Z)))}return}Z.preventDefault();const pe=this._getConstrainedPointerPosition(oe);if(this._hasMoved=!0,this._lastKnownPointerPosition=oe,this._updatePointerDirectionDelta(pe),this._dropContainer)this._updateActiveDropContainer(pe,oe);else{const Oe=this._activeTransform;Oe.x=pe.x-this._pickupPositionOnPage.x+this._passiveTransform.x,Oe.y=pe.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(Oe.x,Oe.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:pe,event:Z,distance:this._getDragDistance(pe),delta:this._pointerDirectionDelta})})},this._pointerUp=Z=>{this._endDragSequence(Z)},this._nativeDragStart=Z=>{if(this._handles.length){const oe=this._getTargetHandle(Z);oe&&!this._disabledHandles.has(oe)&&!this.disabled&&Z.preventDefault()}else this.disabled||Z.preventDefault()},this.withRootElement(u).withParent(o.parentDragRef||null),this._parentPositions=new _C(l),G.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(u){const o=st(u);o!==this._disabled&&(this._disabled=o,this._toggleNativeDragInteractions(),this._handles.forEach(l=>il(l,o)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(u){this._handles=u.map(l=>Bt(l)),this._handles.forEach(l=>il(l,this.disabled)),this._toggleNativeDragInteractions();const o=new Set;return this._disabledHandles.forEach(l=>{this._handles.indexOf(l)>-1&&o.add(l)}),this._disabledHandles=o,this}withPreviewTemplate(u){return this._previewTemplate=u,this}withPlaceholderTemplate(u){return this._placeholderTemplate=u,this}withRootElement(u){const o=Bt(u);return o!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{o.addEventListener("mousedown",this._pointerDown,Rp),o.addEventListener("touchstart",this._pointerDown,SC),o.addEventListener("dragstart",this._nativeDragStart,Rp)}),this._initialTransform=void 0,this._rootElement=o),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(u){return this._boundaryElement=u?Bt(u):null,this._resizeSubscription.unsubscribe(),u&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(u){return this._parentDragRef=u,this}dispose(){var u,o;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null==(u=this._rootElement)||u.remove()),null==(o=this._anchor)||o.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(u){!this._disabledHandles.has(u)&&this._handles.indexOf(u)>-1&&(this._disabledHandles.add(u),il(u,!0))}enableHandle(u){this._disabledHandles.has(u)&&(this._disabledHandles.delete(u),il(u,this.disabled))}withDirection(u){return this._direction=u,this}_withDropContainer(u){this._dropContainer=u}getFreeDragPosition(){const u=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:u.x,y:u.y}}setFreeDragPosition(u){return this._activeTransform={x:0,y:0},this._passiveTransform.x=u.x,this._passiveTransform.y=u.y,this._dropContainer||this._applyRootElementTransform(u.x,u.y),this}withPreviewContainer(u){return this._previewContainer=u,this}_sortFromLastPointerPosition(){const u=this._lastKnownPointerPosition;u&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(u),u)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var u,o;null==(u=this._preview)||u.remove(),null==(o=this._previewRef)||o.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var u,o;null==(u=this._placeholder)||u.remove(),null==(o=this._placeholderRef)||o.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(u){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(u),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const o=this._getPointerPositionOnPage(u);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(o),dropPoint:o})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(u){au(u)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const o=this._dropContainer;if(o){const l=this._rootElement,p=l.parentNode,b=this._placeholder=this._createPlaceholderElement(),G=this._anchor=this._anchor||this._document.createComment(""),Z=this._getShadowRoot();p.insertBefore(G,l),this._initialTransform=l.style.transform||"",this._preview=this._createPreviewElement(),mC(l,!1,Vv),this._document.body.appendChild(p.replaceChild(b,l)),this._getPreviewInsertionPoint(p,Z).appendChild(this._preview),this.started.next({source:this}),o.start(),this._initialContainer=o,this._initialIndex=o.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(o?o.getScrollableParents():[])}_initializeDragSequence(u,o){this._parentDragRef&&o.stopPropagation();const l=this.isDragging(),p=au(o),b=!p&&0!==o.button,G=this._rootElement,Z=Oi(o),oe=!p&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),pe=p?cc(o):lc(o);if(Z&&Z.draggable&&"mousedown"===o.type&&o.preventDefault(),l||b||oe||pe)return;if(this._handles.length){const nt=G.style;this._rootElementTapHighlight=nt.webkitTapHighlightColor||"",nt.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(nt=>this._updateOnScroll(nt)),this._boundaryElement&&(this._boundaryRect=Gv(this._boundaryElement));const Oe=this._previewTemplate;this._pickupPositionInElement=Oe&&Oe.template&&!Oe.matchSize?{x:0,y:0}:this._getPointerPositionInElement(u,o);const qe=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(o);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:qe.x,y:qe.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,o)}_cleanupDragArtifacts(u){mC(this._rootElement,!0,Vv),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const o=this._dropContainer,l=o.getItemIndex(this),p=this._getPointerPositionOnPage(u),b=this._getDragDistance(p),G=o._isOverContainer(p.x,p.y);this.ended.next({source:this,distance:b,dropPoint:p}),this.dropped.next({item:this,currentIndex:l,previousIndex:this._initialIndex,container:o,previousContainer:this._initialContainer,isPointerOverContainer:G,distance:b,dropPoint:p}),o.drop(this,l,this._initialIndex,this._initialContainer,G,b,p),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:u,y:o},{x:l,y:p}){let b=this._initialContainer._getSiblingContainerFromPosition(this,u,o);!b&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(u,o)&&(b=this._initialContainer),b&&b!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=b,this._dropContainer.enter(this,u,o,b===this._initialContainer&&b.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:b,currentIndex:b.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(l,p),this._dropContainer._sortItem(this,u,o,this._pointerDirectionDelta),this._applyPreviewTransform(u-this._pickupPositionInElement.x,o-this._pickupPositionInElement.y))}_createPreviewElement(){const u=this._previewTemplate,o=this.previewClass,l=u?u.template:null;let p;if(l&&u){const b=u.matchSize?this._rootElement.getBoundingClientRect():null,G=u.viewContainer.createEmbeddedView(l,u.context);G.detectChanges(),p=RC(G,this._document),this._previewRef=G,u.matchSize?DC(p,b):p.style.transform=Dp(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const b=this._rootElement;p=CC(b),DC(p,b.getBoundingClientRect()),this._initialTransform&&(p.style.transform=this._initialTransform)}return Bv(p.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Vv),il(p,!1),p.classList.add("cdk-drag-preview"),p.setAttribute("dir",this._direction),o&&(Array.isArray(o)?o.forEach(b=>p.classList.add(b)):p.classList.add(o)),p}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const u=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(u.left,u.top);const o=function(c){const u=getComputedStyle(c),o=kv(u,"transition-property"),l=o.find(Z=>"transform"===Z||"all"===Z);if(!l)return 0;const p=o.indexOf(l),b=kv(u,"transition-duration"),G=kv(u,"transition-delay");return vC(b[p])+vC(G[p])}(this._preview);return 0===o?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(l=>{const p=G=>{var Z;(!G||Oi(G)===this._preview&&"transform"===G.propertyName)&&(null==(Z=this._preview)||Z.removeEventListener("transitionend",p),l(),clearTimeout(b))},b=setTimeout(p,1.5*o);this._preview.addEventListener("transitionend",p)}))}_createPlaceholderElement(){const u=this._placeholderTemplate,o=u?u.template:null;let l;return o?(this._placeholderRef=u.viewContainer.createEmbeddedView(o,u.context),this._placeholderRef.detectChanges(),l=RC(this._placeholderRef,this._document)):l=CC(this._rootElement),l.style.pointerEvents="none",l.classList.add("cdk-drag-placeholder"),l}_getPointerPositionInElement(u,o){const l=this._rootElement.getBoundingClientRect(),p=u===this._rootElement?null:u,b=p?p.getBoundingClientRect():l,G=au(o)?o.targetTouches[0]:o,Z=this._getViewportScrollPosition();return{x:b.left-l.left+(G.pageX-b.left-Z.left),y:b.top-l.top+(G.pageY-b.top-Z.top)}}_getPointerPositionOnPage(u){const o=this._getViewportScrollPosition(),l=au(u)?u.touches[0]||u.changedTouches[0]||{pageX:0,pageY:0}:u,p=l.pageX-o.left,b=l.pageY-o.top;if(this._ownerSVGElement){const G=this._ownerSVGElement.getScreenCTM();if(G){const Z=this._ownerSVGElement.createSVGPoint();return Z.x=p,Z.y=b,Z.matrixTransform(G.inverse())}}return{x:p,y:b}}_getConstrainedPointerPosition(u){const o=this._dropContainer?this._dropContainer.lockAxis:null;let{x:l,y:p}=this.constrainPosition?this.constrainPosition(u,this):u;if("x"===this.lockAxis||"x"===o?p=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===o)&&(l=this._pickupPositionOnPage.x),this._boundaryRect){const{x:b,y:G}=this._pickupPositionInElement,Z=this._boundaryRect,{width:oe,height:pe}=this._getPreviewRect(),Oe=Z.top+G,qe=Z.bottom-(pe-G);l=AC(l,Z.left+b,Z.right-(oe-b)),p=AC(p,Oe,qe)}return{x:l,y:p}}_updatePointerDirectionDelta(u){const{x:o,y:l}=u,p=this._pointerDirectionDelta,b=this._pointerPositionAtLastDirectionChange,G=Math.abs(o-b.x),Z=Math.abs(l-b.y);return G>this._config.pointerDirectionChangeThreshold&&(p.x=o>b.x?1:-1,b.x=o),Z>this._config.pointerDirectionChangeThreshold&&(p.y=l>b.y?1:-1,b.y=l),p}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const u=this._handles.length>0||!this.isDragging();u!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=u,il(this._rootElement,u))}_removeRootElementListeners(u){u.removeEventListener("mousedown",this._pointerDown,Rp),u.removeEventListener("touchstart",this._pointerDown,SC),u.removeEventListener("dragstart",this._nativeDragStart,Rp)}_applyRootElementTransform(u,o){const l=Dp(u,o),p=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=p.transform&&"none"!=p.transform?p.transform:""),p.transform=Ap(l,this._initialTransform)}_applyPreviewTransform(u,o){var b;const l=(null==(b=this._previewTemplate)?void 0:b.template)?void 0:this._initialTransform,p=Dp(u,o);this._preview.style.transform=Ap(p,l)}_getDragDistance(u){const o=this._pickupPositionOnPage;return o?{x:u.x-o.x,y:u.y-o.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:u,y:o}=this._passiveTransform;if(0===u&&0===o||this.isDragging()||!this._boundaryElement)return;const l=this._boundaryElement.getBoundingClientRect(),p=this._rootElement.getBoundingClientRect();if(0===l.width&&0===l.height||0===p.width&&0===p.height)return;const b=l.left-p.left,G=p.right-l.right,Z=l.top-p.top,oe=p.bottom-l.bottom;l.width>p.width?(b>0&&(u+=b),G>0&&(u-=G)):u=0,l.height>p.height?(Z>0&&(o+=Z),oe>0&&(o-=oe)):o=0,(u!==this._passiveTransform.x||o!==this._passiveTransform.y)&&this.setFreeDragPosition({y:o,x:u})}_getDragStartDelay(u){const o=this.dragStartDelay;return"number"==typeof o?o:au(u)?o.touch:o?o.mouse:0}_updateOnScroll(u){const o=this._parentPositions.handleScroll(u);if(o){const l=Oi(u);this._boundaryRect&&l!==this._boundaryElement&&l.contains(this._boundaryElement)&&su(this._boundaryRect,o.top,o.left),this._pickupPositionOnPage.x+=o.left,this._pickupPositionOnPage.y+=o.top,this._dropContainer||(this._activeTransform.x-=o.left,this._activeTransform.y-=o.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var u;return(null==(u=this._parentPositions.positions.get(this._document))?void 0:u.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Zl(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(u,o){const l=this._previewContainer||"global";if("parent"===l)return u;if("global"===l){const p=this._document;return o||p.fullscreenElement||p.webkitFullscreenElement||p.mozFullScreenElement||p.msFullscreenElement||p.body}return Bt(l)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(u){return this._handles.find(o=>u.target&&(u.target===o||o.contains(u.target)))}}function Dp(c,u){return`translate3d(${Math.round(c)}px, ${Math.round(u)}px, 0)`}function AC(c,u,o){return Math.max(u,Math.min(o,c))}function au(c){return"t"===c.type[0]}function RC(c,u){const o=c.rootNodes;if(1===o.length&&o[0].nodeType===u.ELEMENT_NODE)return o[0];const l=u.createElement("div");return o.forEach(p=>l.appendChild(p)),l}function DC(c,u){c.style.width=`${u.width}px`,c.style.height=`${u.height}px`,c.style.transform=Dp(u.left,u.top)}function xC(c,u,o){const l=lu(u,c.length-1),p=lu(o,c.length-1);if(l===p)return;const b=c[l],G=p<l?-1:1;for(let Z=l;Z!==p;Z+=G)c[Z]=c[Z+G];c[p]=b}function lu(c,u){return Math.max(0,Math.min(u,c))}class Sw{constructor(u,o,l,p,b){this._dragDropRegistry=o,this._ngZone=p,this._viewportRuler=b,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new tt.x,this.entered=new tt.x,this.exited=new tt.x,this.dropped=new tt.x,this.sorted=new tt.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=kt.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new tt.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(c=0,u=Qs){return c<0&&(c=0),Xs(c,c,u)}(0,nd).pipe(yt(this._stopScrollTimers)).subscribe(()=>{const G=this._scrollNode,Z=this.autoScrollStep;1===this._verticalScrollDirection?G.scrollBy(0,-Z):2===this._verticalScrollDirection&&G.scrollBy(0,Z),1===this._horizontalScrollDirection?G.scrollBy(-Z,0):2===this._horizontalScrollDirection&&G.scrollBy(Z,0)})},this.element=Bt(u),this._document=l,this.withScrollableParents([this.element]),o.registerDropContainer(this),this._parentPositions=new _C(l)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(u,o,l,p){let b;this._draggingStarted(),null==p?(b=this.sortingDisabled?this._draggables.indexOf(u):-1,-1===b&&(b=this._getItemIndexFromPointerPosition(u,o,l))):b=p;const G=this._activeDraggables,Z=G.indexOf(u),oe=u.getPlaceholderElement();let pe=G[b];if(pe===u&&(pe=G[b+1]),!pe&&(null==b||-1===b||b<G.length-1)&&this._shouldEnterAsFirstChild(o,l)&&(pe=G[0]),Z>-1&&G.splice(Z,1),pe&&!this._dragDropRegistry.isDragging(pe)){const Oe=pe.getRootElement();Oe.parentElement.insertBefore(oe,Oe),G.splice(b,0,u)}else Bt(this.element).appendChild(oe),G.push(u);oe.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:u,container:this,currentIndex:this.getItemIndex(u)})}exit(u){this._reset(),this.exited.next({item:u,container:this})}drop(u,o,l,p,b,G,Z){this._reset(),this.dropped.next({item:u,currentIndex:o,previousIndex:l,container:this,previousContainer:p,isPointerOverContainer:b,distance:G,dropPoint:Z})}withItems(u){const o=this._draggables;return this._draggables=u,u.forEach(l=>l._withDropContainer(this)),this.isDragging()&&(o.filter(p=>p.isDragging()).every(p=>-1===u.indexOf(p))?this._reset():this._cacheItems()),this}withDirection(u){return this._direction=u,this}connectedTo(u){return this._siblings=u.slice(),this}withOrientation(u){return this._orientation=u,this}withScrollableParents(u){const o=Bt(this.element);return this._scrollableElements=-1===u.indexOf(o)?[o,...u]:u.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(u){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(l=>l.drag===u):this._draggables.indexOf(u)}isReceiving(){return this._activeSiblings.size>0}_sortItem(u,o,l,p){if(this.sortingDisabled||!this._clientRect||!yC(this._clientRect,.05,o,l))return;const b=this._itemPositions,G=this._getItemIndexFromPointerPosition(u,o,l,p);if(-1===G&&b.length>0)return;const Z="horizontal"===this._orientation,oe=b.findIndex(ti=>ti.drag===u),pe=b[G],qe=pe.clientRect,nt=oe>G?1:-1,ht=this._getItemOffsetPx(b[oe].clientRect,qe,nt),At=this._getSiblingOffsetPx(oe,b,nt),xt=b.slice();xC(b,oe,G),this.sorted.next({previousIndex:oe,currentIndex:G,container:this,item:u}),b.forEach((ti,So)=>{if(xt[So]===ti)return;const Ps=ti.drag===u,Ut=Ps?ht:At,Tr=Ps?u.getPlaceholderElement():ti.drag.getRootElement();ti.offset+=Ut,Z?(Tr.style.transform=Ap(`translate3d(${Math.round(ti.offset)}px, 0, 0)`,ti.initialTransform),su(ti.clientRect,0,Ut)):(Tr.style.transform=Ap(`translate3d(0, ${Math.round(ti.offset)}px, 0)`,ti.initialTransform),su(ti.clientRect,Ut,0))}),this._previousSwap.overlaps=Hv(qe,o,l),this._previousSwap.drag=pe.drag,this._previousSwap.delta=Z?p.x:p.y}_startScrollingIfNecessary(u,o){if(this.autoScrollDisabled)return;let l,p=0,b=0;if(this._parentPositions.positions.forEach((G,Z)=>{Z===this._document||!G.clientRect||l||yC(G.clientRect,.05,u,o)&&([p,b]=function(c,u,o,l){const p=FC(u,l),b=PC(u,o);let G=0,Z=0;if(p){const oe=c.scrollTop;1===p?oe>0&&(G=1):c.scrollHeight-oe>c.clientHeight&&(G=2)}if(b){const oe=c.scrollLeft;1===b?oe>0&&(Z=1):c.scrollWidth-oe>c.clientWidth&&(Z=2)}return[G,Z]}(Z,G.clientRect,u,o),(p||b)&&(l=Z))}),!p&&!b){const{width:G,height:Z}=this._viewportRuler.getViewportSize(),oe={width:G,height:Z,top:0,right:G,bottom:Z,left:0};p=FC(oe,o),b=PC(oe,u),l=window}l&&(p!==this._verticalScrollDirection||b!==this._horizontalScrollDirection||l!==this._scrollNode)&&(this._verticalScrollDirection=p,this._horizontalScrollDirection=b,this._scrollNode=l,(p||b)&&l?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const u=Bt(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=u.msScrollSnapType||u.scrollSnapType||"",u.scrollSnapType=u.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const u=Bt(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(u).clientRect}_cacheItemPositions(){const u="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(o=>{const l=o.getVisibleElement();return{drag:o,offset:0,initialTransform:l.style.transform||"",clientRect:Gv(l)}}).sort((o,l)=>u?o.clientRect.left-l.clientRect.left:o.clientRect.top-l.clientRect.top)}_reset(){this._isDragging=!1;const u=Bt(this.element).style;u.scrollSnapType=u.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(o=>{var p;const l=o.getRootElement();if(l){const b=null==(p=this._itemPositions.find(G=>G.drag===o))?void 0:p.initialTransform;l.style.transform=b||""}}),this._siblings.forEach(o=>o._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(u,o,l){const p="horizontal"===this._orientation,b=o[u].clientRect,G=o[u+-1*l];let Z=b[p?"width":"height"]*l;if(G){const oe=p?"left":"top",pe=p?"right":"bottom";-1===l?Z-=G.clientRect[oe]-b[pe]:Z+=b[oe]-G.clientRect[pe]}return Z}_getItemOffsetPx(u,o,l){const p="horizontal"===this._orientation;let b=p?o.left-u.left:o.top-u.top;return-1===l&&(b+=p?o.width-u.width:o.height-u.height),b}_shouldEnterAsFirstChild(u,o){if(!this._activeDraggables.length)return!1;const l=this._itemPositions,p="horizontal"===this._orientation;if(l[0].drag!==this._activeDraggables[0]){const G=l[l.length-1].clientRect;return p?u>=G.right:o>=G.bottom}{const G=l[0].clientRect;return p?u<=G.left:o<=G.top}}_getItemIndexFromPointerPosition(u,o,l,p){const b="horizontal"===this._orientation,G=this._itemPositions.findIndex(({drag:Z,clientRect:oe})=>{if(Z===u)return!1;if(p){const pe=b?p.x:p.y;if(Z===this._previousSwap.drag&&this._previousSwap.overlaps&&pe===this._previousSwap.delta)return!1}return b?o>=Math.floor(oe.left)&&o<Math.floor(oe.right):l>=Math.floor(oe.top)&&l<Math.floor(oe.bottom)});return-1!==G&&this.sortPredicate(G,u,this)?G:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(u,o){return null!=this._clientRect&&Hv(this._clientRect,u,o)}_getSiblingContainerFromPosition(u,o,l){return this._siblings.find(p=>p._canReceive(u,o,l))}_canReceive(u,o,l){if(!this._clientRect||!Hv(this._clientRect,o,l)||!this.enterPredicate(u,this))return!1;const p=this._getShadowRoot().elementFromPoint(o,l);if(!p)return!1;const b=Bt(this.element);return p===b||b.contains(p)}_startReceiving(u,o){const l=this._activeSiblings;!l.has(u)&&o.every(p=>this.enterPredicate(p,this)||this._draggables.indexOf(p)>-1)&&(l.add(u),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(u){this._activeSiblings.delete(u),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(u=>{if(this.isDragging()){const o=this._parentPositions.handleScroll(u);o&&(this._itemPositions.forEach(({clientRect:l})=>{su(l,o.top,o.left)}),this._itemPositions.forEach(({drag:l})=>{this._dragDropRegistry.isDragging(l)&&l._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const u=Zl(Bt(this.element));this._cachedShadowRoot=u||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const u=this._activeDraggables.filter(o=>o.isDragging());this._siblings.forEach(o=>o._startReceiving(this,u))}}function FC(c,u){const{top:o,bottom:l,height:p}=c,b=.05*p;return u>=o-b&&u<=o+b?1:u>=l-b&&u<=l+b?2:0}function PC(c,u){const{left:o,right:l,width:p}=c,b=.05*p;return u>=o-b&&u<=o+b?1:u>=l-b&&u<=l+b?2:0}const xp=Mn({passive:!1,capture:!0});let Rw=(()=>{class c{constructor(o,l){this._ngZone=o,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=p=>p.isDragging(),this.pointerMove=new tt.x,this.pointerUp=new tt.x,this.scroll=new tt.x,this._preventDefaultWhileDragging=p=>{this._activeDragInstances.length>0&&p.preventDefault()},this._persistentTouchmoveListener=p=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&p.preventDefault(),this.pointerMove.next(p))},this._document=l}registerDropContainer(o){this._dropInstances.has(o)||this._dropInstances.add(o)}registerDragItem(o){this._dragInstances.add(o),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,xp)})}removeDropContainer(o){this._dropInstances.delete(o)}removeDragItem(o){this._dragInstances.delete(o),this.stopDragging(o),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,xp)}startDragging(o,l){if(!(this._activeDragInstances.indexOf(o)>-1)&&(this._activeDragInstances.push(o),1===this._activeDragInstances.length)){const p=l.type.startsWith("touch");this._globalListeners.set(p?"touchend":"mouseup",{handler:b=>this.pointerUp.next(b),options:!0}).set("scroll",{handler:b=>this.scroll.next(b),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:xp}),p||this._globalListeners.set("mousemove",{handler:b=>this.pointerMove.next(b),options:xp}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((b,G)=>{this._document.addEventListener(G,b.handler,b.options)})})}}stopDragging(o){const l=this._activeDragInstances.indexOf(o);l>-1&&(this._activeDragInstances.splice(l,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(o){return this._activeDragInstances.indexOf(o)>-1}scrolled(o){const l=[this.scroll];return o&&o!==this._document&&l.push(new m.y(p=>this._ngZone.runOutsideAngular(()=>{const G=Z=>{this._activeDragInstances.length&&p.next(Z)};return o.addEventListener("scroll",G,!0),()=>{o.removeEventListener("scroll",G,!0)}}))),(0,jt.T)(...l)}ngOnDestroy(){this._dragInstances.forEach(o=>this.removeDragItem(o)),this._dropInstances.forEach(o=>this.removeDropContainer(o)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((o,l)=>{this._document.removeEventListener(l,o.handler,o.options)}),this._globalListeners.clear()}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(r.R0b),r.LFG(E.K0))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const Dw={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Wv=(()=>{class c{constructor(o,l,p,b){this._document=o,this._ngZone=l,this._viewportRuler=p,this._dragDropRegistry=b}createDrag(o,l=Dw){return new bw(o,l,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(o){return new Sw(o,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(E.K0),r.LFG(r.R0b),r.LFG(rn),r.LFG(Rw))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const MC=new r.OlP("CDK_DRAG_PARENT"),$v=new r.OlP("CdkDropListGroup");let xw=(()=>{class c{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(o){this._disabled=st(o)}ngOnDestroy(){this._items.clear()}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275dir=r.lG2({type:c,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[r._Bn([{provide:$v,useExisting:c}])]}),c})();const IC=new r.OlP("CDK_DRAG_CONFIG");let Ow=0;const LC=new r.OlP("CdkDropList");let Tw=(()=>{class c{constructor(o,l,p,b,G,Z,oe){this.element=o,this._changeDetectorRef=p,this._scrollDispatcher=b,this._dir=G,this._group=Z,this._destroyed=new tt.x,this.connectedTo=[],this.id="cdk-drop-list-"+Ow++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new r.vpe,this.entered=new r.vpe,this.exited=new r.vpe,this.sorted=new r.vpe,this._unsortedItems=new Set,this._dropListRef=l.createDropList(o),this._dropListRef.data=this,oe&&this._assignDefaults(oe),this._dropListRef.enterPredicate=(pe,Oe)=>this.enterPredicate(pe.data,Oe.data),this._dropListRef.sortPredicate=(pe,Oe,qe)=>this.sortPredicate(pe,Oe.data,qe.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),c._dropLists.push(this),Z&&Z._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(o){this._dropListRef.disabled=this._disabled=st(o)}addItem(o){this._unsortedItems.add(o),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(o){this._unsortedItems.delete(o),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((o,l)=>o._dragRef.getVisibleElement().compareDocumentPosition(l._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const o=c._dropLists.indexOf(this);o>-1&&c._dropLists.splice(o,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(o){this._dir&&this._dir.change.pipe((0,Dt.O)(this._dir.value),yt(this._destroyed)).subscribe(l=>o.withDirection(l)),o.beforeStarted.subscribe(()=>{const l=Vo(this.connectedTo).map(p=>"string"==typeof p?c._dropLists.find(G=>G.id===p):p);if(this._group&&this._group._items.forEach(p=>{-1===l.indexOf(p)&&l.push(p)}),!this._scrollableParentsResolved){const p=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(b=>b.getElementRef().nativeElement);this._dropListRef.withScrollableParents(p),this._scrollableParentsResolved=!0}o.disabled=this.disabled,o.lockAxis=this.lockAxis,o.sortingDisabled=st(this.sortingDisabled),o.autoScrollDisabled=st(this.autoScrollDisabled),o.autoScrollStep=Ji(this.autoScrollStep,2),o.connectedTo(l.filter(p=>p&&p!==this).map(p=>p._dropListRef)).withOrientation(this.orientation)})}_handleEvents(o){o.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),o.entered.subscribe(l=>{this.entered.emit({container:this,item:l.item.data,currentIndex:l.currentIndex})}),o.exited.subscribe(l=>{this.exited.emit({container:this,item:l.item.data}),this._changeDetectorRef.markForCheck()}),o.sorted.subscribe(l=>{this.sorted.emit({previousIndex:l.previousIndex,currentIndex:l.currentIndex,container:this,item:l.item.data})}),o.dropped.subscribe(l=>{this.dropped.emit({previousIndex:l.previousIndex,currentIndex:l.currentIndex,previousContainer:l.previousContainer.data,container:l.container.data,item:l.item.data,isPointerOverContainer:l.isPointerOverContainer,distance:l.distance,dropPoint:l.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(o){const{lockAxis:l,draggingDisabled:p,sortingDisabled:b,listAutoScrollDisabled:G,listOrientation:Z}=o;this.disabled=null!=p&&p,this.sortingDisabled=null!=b&&b,this.autoScrollDisabled=null!=G&&G,this.orientation=Z||"vertical",l&&(this.lockAxis=l)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(o=>o._dragRef))}}return c._dropLists=[],c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(Wv),r.Y36(r.sBO),r.Y36(na),r.Y36(Kt,8),r.Y36($v,12),r.Y36(IC,8))},c.\u0275dir=r.lG2({type:c,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(o,l){2&o&&(r.uIk("id",l.id),r.ekj("cdk-drop-list-disabled",l.disabled)("cdk-drop-list-dragging",l._dropListRef.isDragging())("cdk-drop-list-receiving",l._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[r._Bn([{provide:$v,useValue:void 0},{provide:LC,useExisting:c}])]}),c})();const NC=new r.OlP("CdkDragHandle"),Fw=new r.OlP("CdkDragPlaceholder"),Pw=new r.OlP("CdkDragPreview");let Iw=(()=>{class c{constructor(o,l,p,b,G,Z,oe,pe,Oe,qe,nt){this.element=o,this.dropContainer=l,this._ngZone=b,this._viewContainerRef=G,this._dir=oe,this._changeDetectorRef=Oe,this._selfHandle=qe,this._parentDrag=nt,this._destroyed=new tt.x,this.started=new r.vpe,this.released=new r.vpe,this.ended=new r.vpe,this.entered=new r.vpe,this.exited=new r.vpe,this.dropped=new r.vpe,this.moved=new m.y(ht=>{const At=this._dragRef.moved.pipe((0,D.U)(xt=>({source:this,pointerPosition:xt.pointerPosition,event:xt.event,delta:xt.delta,distance:xt.distance}))).subscribe(ht);return()=>{At.unsubscribe()}}),this._dragRef=pe.createDrag(o,{dragStartThreshold:Z&&null!=Z.dragStartThreshold?Z.dragStartThreshold:5,pointerDirectionChangeThreshold:Z&&null!=Z.pointerDirectionChangeThreshold?Z.pointerDirectionChangeThreshold:5,zIndex:null==Z?void 0:Z.zIndex}),this._dragRef.data=this,c._dragInstances.push(this),Z&&this._assignDefaults(Z),l&&(this._dragRef._withDropContainer(l._dropListRef),l.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(o){this._disabled=st(o),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Mt.q)(1),yt(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(o){const l=o.rootElementSelector,p=o.freeDragPosition;l&&!l.firstChange&&this._updateRootElement(),p&&!p.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const o=c._dragInstances.indexOf(this);o>-1&&c._dragInstances.splice(o,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){var p;const o=this.element.nativeElement;let l=o;this.rootElementSelector&&(l=void 0!==o.closest?o.closest(this.rootElementSelector):null==(p=o.parentElement)?void 0:p.closest(this.rootElementSelector)),this._dragRef.withRootElement(l||o)}_getBoundaryElement(){const o=this.boundaryElement;return o?"string"==typeof o?this.element.nativeElement.closest(o):Bt(o):null}_syncInputs(o){o.beforeStarted.subscribe(()=>{if(!o.isDragging()){const l=this._dir,p=this.dragStartDelay,b=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,G=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;o.disabled=this.disabled,o.lockAxis=this.lockAxis,o.dragStartDelay="object"==typeof p&&p?p:Ji(p),o.constrainPosition=this.constrainPosition,o.previewClass=this.previewClass,o.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(b).withPreviewTemplate(G).withPreviewContainer(this.previewContainer||"global"),l&&o.withDirection(l.value)}}),o.beforeStarted.pipe((0,Mt.q)(1)).subscribe(()=>{var p;if(this._parentDrag)return void o.withParent(this._parentDrag._dragRef);let l=this.element.nativeElement.parentElement;for(;l;){if(l.classList.contains("cdk-drag")){o.withParent((null==(p=c._dragInstances.find(b=>b.element.nativeElement===l))?void 0:p._dragRef)||null);break}l=l.parentElement}})}_handleEvents(o){o.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),o.released.subscribe(()=>{this.released.emit({source:this})}),o.ended.subscribe(l=>{this.ended.emit({source:this,distance:l.distance,dropPoint:l.dropPoint}),this._changeDetectorRef.markForCheck()}),o.entered.subscribe(l=>{this.entered.emit({container:l.container.data,item:this,currentIndex:l.currentIndex})}),o.exited.subscribe(l=>{this.exited.emit({container:l.container.data,item:this})}),o.dropped.subscribe(l=>{this.dropped.emit({previousIndex:l.previousIndex,currentIndex:l.currentIndex,previousContainer:l.previousContainer.data,container:l.container.data,isPointerOverContainer:l.isPointerOverContainer,item:this,distance:l.distance,dropPoint:l.dropPoint})})}_assignDefaults(o){const{lockAxis:l,dragStartDelay:p,constrainPosition:b,previewClass:G,boundaryElement:Z,draggingDisabled:oe,rootElementSelector:pe,previewContainer:Oe}=o;this.disabled=null!=oe&&oe,this.dragStartDelay=p||0,l&&(this.lockAxis=l),b&&(this.constrainPosition=b),G&&(this.previewClass=G),Z&&(this.boundaryElement=Z),pe&&(this.rootElementSelector=pe),Oe&&(this.previewContainer=Oe)}_setupHandlesListener(){this._handles.changes.pipe((0,Dt.O)(this._handles),(0,Zr.b)(o=>{const l=o.filter(p=>p._parentDrag===this).map(p=>p.element);this._selfHandle&&this.rootElementSelector&&l.push(this.element),this._dragRef.withHandles(l)}),(0,Gn.w)(o=>(0,jt.T)(...o.map(l=>l._stateChanges.pipe((0,Dt.O)(l))))),yt(this._destroyed)).subscribe(o=>{const l=this._dragRef,p=o.element.nativeElement;o.disabled?l.disableHandle(p):l.enableHandle(p)})}}return c._dragInstances=[],c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(LC,12),r.Y36(E.K0),r.Y36(r.R0b),r.Y36(r.s_b),r.Y36(IC,8),r.Y36(Kt,8),r.Y36(Wv),r.Y36(r.sBO),r.Y36(NC,10),r.Y36(MC,12))},c.\u0275dir=r.lG2({type:c,selectors:[["","cdkDrag",""]],contentQueries:function(o,l,p){if(1&o&&(r.Suo(p,Pw,5),r.Suo(p,Fw,5),r.Suo(p,NC,5)),2&o){let b;r.iGM(b=r.CRH())&&(l._previewTemplate=b.first),r.iGM(b=r.CRH())&&(l._placeholderTemplate=b.first),r.iGM(b=r.CRH())&&(l._handles=b)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(o,l){2&o&&r.ekj("cdk-drag-disabled",l.disabled)("cdk-drag-dragging",l._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[r._Bn([{provide:MC,useExisting:c}]),r.TTD]}),c})(),Lw=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({providers:[Wv],imports:[Zo]}),c})();var BC="1.13.2",kC="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},Op=Array.prototype,jv=Object.prototype,GC="undefined"!=typeof Symbol?Symbol.prototype:null,Nw=Op.push,cu=Op.slice,uu=jv.toString,Bw=jv.hasOwnProperty,HC="undefined"!=typeof ArrayBuffer,kw="undefined"!=typeof DataView,Gw=Array.isArray,VC=Object.keys,WC=Object.create,$C=HC&&ArrayBuffer.isView,Hw=isNaN,Vw=isFinite,jC=!{toString:null}.propertyIsEnumerable("toString"),UC=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Ww=Math.pow(2,53)-1;function Ii(c,u){return u=null==u?c.length-1:+u,function(){for(var o=Math.max(arguments.length-u,0),l=Array(o),p=0;p<o;p++)l[p]=arguments[p+u];switch(u){case 0:return c.call(this,l);case 1:return c.call(this,arguments[0],l);case 2:return c.call(this,arguments[0],arguments[1],l)}var b=Array(u+1);for(p=0;p<u;p++)b[p]=arguments[p];return b[u]=l,c.apply(this,b)}}function Ds(c){var u=typeof c;return"function"===u||"object"===u&&!!c}function $w(c){return null===c}function zC(c){return void 0===c}function ZC(c){return!0===c||!1===c||"[object Boolean]"===uu.call(c)}function jw(c){return!(!c||1!==c.nodeType)}function _i(c){var u="[object "+c+"]";return function(o){return uu.call(o)===u}}const Uv=_i("String"),qC=_i("Number"),Uw=_i("Date"),zw=_i("RegExp"),Zw=_i("Error"),KC=_i("Symbol"),YC=_i("ArrayBuffer");var QC=_i("Function");"object"!=typeof Int8Array&&"function"!=typeof(kC.document&&kC.document.childNodes)&&(QC=function(c){return"function"==typeof c||!1});const Ei=QC,JC=_i("Object");var XC=kw&&JC(new DataView(new ArrayBuffer(8))),zv="undefined"!=typeof Map&&JC(new Map),Kw=_i("DataView");const Tp=XC?function(c){return null!=c&&Ei(c.getInt8)&&YC(c.buffer)}:Kw,xs=Gw||_i("Array");function Eo(c,u){return null!=c&&Bw.call(c,u)}var Zv=_i("Arguments");!function(){Zv(arguments)||(Zv=function(c){return Eo(c,"callee")})}();const qv=Zv;function Qw(c){return!KC(c)&&Vw(c)&&!isNaN(parseFloat(c))}function e0(c){return qC(c)&&Hw(c)}function t0(c){return function(){return c}}function n0(c){return function(u){var o=c(u);return"number"==typeof o&&o>=0&&o<=Ww}}function r0(c){return function(u){return null==u?void 0:u[c]}}const Fp=r0("byteLength"),Jw=n0(Fp);var Xw=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const o0=HC?function(c){return $C?$C(c)&&!Tp(c):Jw(c)&&Xw.test(uu.call(c))}:t0(!1),Li=r0("length");function s0(c,u){u=function(c){for(var u={},o=c.length,l=0;l<o;++l)u[c[l]]=!0;return{contains:function(p){return!0===u[p]},push:function(p){return u[p]=!0,c.push(p)}}}(u);var o=UC.length,l=c.constructor,p=Ei(l)&&l.prototype||jv,b="constructor";for(Eo(c,b)&&!u.contains(b)&&u.push(b);o--;)(b=UC[o])in c&&c[b]!==p[b]&&!u.contains(b)&&u.push(b)}function di(c){if(!Ds(c))return[];if(VC)return VC(c);var u=[];for(var o in c)Eo(c,o)&&u.push(o);return jC&&s0(c,u),u}function ib(c){if(null==c)return!0;var u=Li(c);return"number"==typeof u&&(xs(c)||Uv(c)||qv(c))?0===u:0===Li(di(c))}function a0(c,u){var o=di(u),l=o.length;if(null==c)return!l;for(var p=Object(c),b=0;b<l;b++){var G=o[b];if(u[G]!==p[G]||!(G in p))return!1}return!0}function Tt(c){return c instanceof Tt?c:this instanceof Tt?void(this._wrapped=c):new Tt(c)}function l0(c){return new Uint8Array(c.buffer||c,c.byteOffset||0,Fp(c))}Tt.VERSION=BC,Tt.prototype.valueOf=Tt.prototype.toJSON=Tt.prototype.value=function(){return this._wrapped},Tt.prototype.toString=function(){return String(this._wrapped)};var c0="[object DataView]";function Kv(c,u,o,l){if(c===u)return 0!==c||1/c==1/u;if(null==c||null==u)return!1;if(c!=c)return u!=u;var p=typeof c;return("function"===p||"object"===p||"object"==typeof u)&&u0(c,u,o,l)}function u0(c,u,o,l){c instanceof Tt&&(c=c._wrapped),u instanceof Tt&&(u=u._wrapped);var p=uu.call(c);if(p!==uu.call(u))return!1;if(XC&&"[object Object]"==p&&Tp(c)){if(!Tp(u))return!1;p=c0}switch(p){case"[object RegExp]":case"[object String]":return""+c==""+u;case"[object Number]":return+c!=+c?+u!=+u:0==+c?1/+c==1/u:+c==+u;case"[object Date]":case"[object Boolean]":return+c==+u;case"[object Symbol]":return GC.valueOf.call(c)===GC.valueOf.call(u);case"[object ArrayBuffer]":case c0:return u0(l0(c),l0(u),o,l)}var b="[object Array]"===p;if(!b&&o0(c)){if(Fp(c)!==Fp(u))return!1;if(c.buffer===u.buffer&&c.byteOffset===u.byteOffset)return!0;b=!0}if(!b){if("object"!=typeof c||"object"!=typeof u)return!1;var Z=c.constructor,oe=u.constructor;if(Z!==oe&&!(Ei(Z)&&Z instanceof Z&&Ei(oe)&&oe instanceof oe)&&"constructor"in c&&"constructor"in u)return!1}l=l||[];for(var pe=(o=o||[]).length;pe--;)if(o[pe]===c)return l[pe]===u;if(o.push(c),l.push(u),b){if((pe=c.length)!==u.length)return!1;for(;pe--;)if(!Kv(c[pe],u[pe],o,l))return!1}else{var qe,Oe=di(c);if(pe=Oe.length,di(u).length!==pe)return!1;for(;pe--;)if(!Eo(u,qe=Oe[pe])||!Kv(c[qe],u[qe],o,l))return!1}return o.pop(),l.pop(),!0}function nb(c,u){return Kv(c,u)}function du(c){if(!Ds(c))return[];var u=[];for(var o in c)u.push(o);return jC&&s0(c,u),u}function Yv(c){var u=Li(c);return function(o){if(null==o)return!1;var l=du(o);if(Li(l))return!1;for(var p=0;p<u;p++)if(!Ei(o[c[p]]))return!1;return c!==p0||!Ei(o[Qv])}}var Qv="forEach",Jv=["clear","delete"],h0=["get","has","set"],rb=Jv.concat(Qv,h0),p0=Jv.concat(h0),ob=["add"].concat(Jv,Qv,"has");const sb=zv?Yv(rb):_i("Map"),ab=zv?Yv(p0):_i("WeakMap"),lb=zv?Yv(ob):_i("Set"),cb=_i("WeakSet");function nl(c){for(var u=di(c),o=u.length,l=Array(o),p=0;p<o;p++)l[p]=c[u[p]];return l}function ub(c){for(var u=di(c),o=u.length,l=Array(o),p=0;p<o;p++)l[p]=[u[p],c[u[p]]];return l}function f0(c){for(var u={},o=di(c),l=0,p=o.length;l<p;l++)u[c[o[l]]]=o[l];return u}function Xv(c){var u=[];for(var o in c)Ei(c[o])&&u.push(o);return u.sort()}function ey(c,u){return function(o){var l=arguments.length;if(u&&(o=Object(o)),l<2||null==o)return o;for(var p=1;p<l;p++)for(var b=arguments[p],G=c(b),Z=G.length,oe=0;oe<Z;oe++){var pe=G[oe];(!u||void 0===o[pe])&&(o[pe]=b[pe])}return o}}const g0=ey(du),Pp=ey(di),m0=ey(du,!0);function v0(c){if(!Ds(c))return{};if(WC)return WC(c);var u=function(){};u.prototype=c;var o=new u;return u.prototype=null,o}function hb(c,u){var o=v0(c);return u&&Pp(o,u),o}function pb(c){return Ds(c)?xs(c)?c.slice():g0({},c):c}function fb(c,u){return u(c),c}function y0(c){return xs(c)?c:[c]}function hu(c){return Tt.toPath(c)}function ty(c,u){for(var o=u.length,l=0;l<o;l++){if(null==c)return;c=c[u[l]]}return o?c:void 0}function _0(c,u,o){var l=ty(c,hu(u));return zC(l)?o:l}function gb(c,u){for(var o=(u=hu(u)).length,l=0;l<o;l++){var p=u[l];if(!Eo(c,p))return!1;c=c[p]}return!!o}function iy(c){return c}function pu(c){return c=Pp({},c),function(u){return a0(u,c)}}function ny(c){return c=hu(c),function(u){return ty(u,c)}}function fu(c,u,o){if(void 0===u)return c;switch(null==o?3:o){case 1:return function(l){return c.call(u,l)};case 3:return function(l,p,b){return c.call(u,l,p,b)};case 4:return function(l,p,b,G){return c.call(u,l,p,b,G)}}return function(){return c.apply(u,arguments)}}function C0(c,u,o){return null==c?iy:Ei(c)?fu(c,u,o):Ds(c)&&!xs(c)?pu(c):ny(c)}function ry(c,u){return C0(c,u,1/0)}function Ni(c,u,o){return Tt.iteratee!==ry?Tt.iteratee(c,u):C0(c,u,o)}function mb(c,u,o){u=Ni(u,o);for(var l=di(c),p=l.length,b={},G=0;G<p;G++){var Z=l[G];b[Z]=u(c[Z],Z,c)}return b}function w0(){}function vb(c){return null==c?w0:function(u){return _0(c,u)}}function yb(c,u,o){var l=Array(Math.max(0,c));u=fu(u,o,1);for(var p=0;p<c;p++)l[p]=u(p);return l}function oy(c,u){return null==u&&(u=c,c=0),c+Math.floor(Math.random()*(u-c+1))}Tt.toPath=y0,Tt.iteratee=ry;const gu=Date.now||function(){return(new Date).getTime()};function b0(c){var u=function(b){return c[b]},o="(?:"+di(c).join("|")+")",l=RegExp(o),p=RegExp(o,"g");return function(b){return l.test(b=null==b?"":""+b)?b.replace(p,u):b}}const E0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},_b=b0(E0),wb=b0(f0(E0)),bb=Tt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var sy=/(.)^/,Eb={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Sb=/\\|'|\r|\n|\u2028|\u2029/g;function Ab(c){return"\\"+Eb[c]}var Rb=/^\s*(\w|\$)+\s*$/;function Db(c,u,o){!u&&o&&(u=o),u=m0({},u,Tt.templateSettings);var l=RegExp([(u.escape||sy).source,(u.interpolate||sy).source,(u.evaluate||sy).source].join("|")+"|$","g"),p=0,b="__p+='";c.replace(l,function(pe,Oe,qe,nt,ht){return b+=c.slice(p,ht).replace(Sb,Ab),p=ht+pe.length,Oe?b+="'+\n((__t=("+Oe+"))==null?'':_.escape(__t))+\n'":qe?b+="'+\n((__t=("+qe+"))==null?'':__t)+\n'":nt&&(b+="';\n"+nt+"\n__p+='"),pe}),b+="';\n";var Z,G=u.variable;if(G){if(!Rb.test(G))throw new Error("variable is not a bare identifier: "+G)}else b="with(obj||{}){\n"+b+"}\n",G="obj";b="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+b+"return __p;\n";try{Z=new Function(G,"_",b)}catch(pe){throw pe.source=b,pe}var oe=function(pe){return Z.call(this,pe,Tt)};return oe.source="function("+G+"){\n"+b+"}",oe}function xb(c,u,o){var l=(u=hu(u)).length;if(!l)return Ei(o)?o.call(c):o;for(var p=0;p<l;p++){var b=null==c?void 0:c[u[p]];void 0===b&&(b=o,p=l),c=Ei(b)?b.call(c):b}return c}var Ob=0;function Tb(c){var u=++Ob+"";return c?c+u:u}function Fb(c){var u=Tt(c);return u._chain=!0,u}function S0(c,u,o,l,p){if(!(l instanceof u))return c.apply(o,p);var b=v0(c.prototype),G=c.apply(b,p);return Ds(G)?G:b}var ay=Ii(function(c,u){var o=ay.placeholder,l=function(){for(var p=0,b=u.length,G=Array(b),Z=0;Z<b;Z++)G[Z]=u[Z]===o?arguments[p++]:u[Z];for(;p<arguments.length;)G.push(arguments[p++]);return S0(c,l,this,this,G)};return l});ay.placeholder=Tt;const Mp=ay,A0=Ii(function(c,u,o){if(!Ei(c))throw new TypeError("Bind must be called on a function");var l=Ii(function(p){return S0(c,l,u,this,o.concat(p))});return l}),Ki=n0(Li);function Os(c,u,o,l){if(l=l||[],u||0===u){if(u<=0)return l.concat(c)}else u=1/0;for(var p=l.length,b=0,G=Li(c);b<G;b++){var Z=c[b];if(Ki(Z)&&(xs(Z)||qv(Z)))if(u>1)Os(Z,u-1,o,l),p=l.length;else for(var oe=0,pe=Z.length;oe<pe;)l[p++]=Z[oe++];else o||(l[p++]=Z)}return l}const Pb=Ii(function(c,u){var o=(u=Os(u,!1,!1)).length;if(o<1)throw new Error("bindAll must be passed function names");for(;o--;){var l=u[o];c[l]=A0(c[l],c)}return c});function Mb(c,u){var o=function(l){var p=o.cache,b=""+(u?u.apply(this,arguments):l);return Eo(p,b)||(p[b]=c.apply(this,arguments)),p[b]};return o.cache={},o}const R0=Ii(function(c,u,o){return setTimeout(function(){return c.apply(null,o)},u)}),Ib=Mp(R0,Tt,1);function Lb(c,u,o){var l,p,b,G,Z=0;o||(o={});var oe=function(){Z=!1===o.leading?0:gu(),l=null,G=c.apply(p,b),l||(p=b=null)},pe=function(){var Oe=gu();!Z&&!1===o.leading&&(Z=Oe);var qe=u-(Oe-Z);return p=this,b=arguments,qe<=0||qe>u?(l&&(clearTimeout(l),l=null),Z=Oe,G=c.apply(p,b),l||(p=b=null)):!l&&!1!==o.trailing&&(l=setTimeout(oe,qe)),G};return pe.cancel=function(){clearTimeout(l),Z=0,l=p=b=null},pe}function Nb(c,u,o){var l,p,b,G,Z,oe=function(){var Oe=gu()-p;u>Oe?l=setTimeout(oe,u-Oe):(l=null,o||(G=c.apply(Z,b)),l||(b=Z=null))},pe=Ii(function(Oe){return Z=this,b=Oe,p=gu(),l||(l=setTimeout(oe,u),o&&(G=c.apply(Z,b))),G});return pe.cancel=function(){clearTimeout(l),l=b=Z=null},pe}function Bb(c,u){return Mp(u,c)}function ly(c){return function(){return!c.apply(this,arguments)}}function kb(){var c=arguments,u=c.length-1;return function(){for(var o=u,l=c[u].apply(this,arguments);o--;)l=c[o].call(this,l);return l}}function Gb(c,u){return function(){if(--c<1)return u.apply(this,arguments)}}function D0(c,u){var o;return function(){return--c>0&&(o=u.apply(this,arguments)),c<=1&&(u=null),o}}const Hb=Mp(D0,2);function x0(c,u,o){u=Ni(u,o);for(var p,l=di(c),b=0,G=l.length;b<G;b++)if(u(c[p=l[b]],p,c))return p}function O0(c){return function(u,o,l){o=Ni(o,l);for(var p=Li(u),b=c>0?0:p-1;b>=0&&b<p;b+=c)if(o(u[b],b,u))return b;return-1}}const cy=O0(1),T0=O0(-1);function F0(c,u,o,l){for(var p=(o=Ni(o,l,1))(u),b=0,G=Li(c);b<G;){var Z=Math.floor((b+G)/2);o(c[Z])<p?b=Z+1:G=Z}return b}function P0(c,u,o){return function(l,p,b){var G=0,Z=Li(l);if("number"==typeof b)c>0?G=b>=0?b:Math.max(b+Z,G):Z=b>=0?Math.min(b+1,Z):b+Z+1;else if(o&&b&&Z)return l[b=o(l,p)]===p?b:-1;if(p!=p)return(b=u(cu.call(l,G,Z),e0))>=0?b+G:-1;for(b=c>0?G:Z-1;b>=0&&b<Z;b+=c)if(l[b]===p)return b;return-1}}const M0=P0(1,cy,F0),Vb=P0(-1,T0);function uy(c,u,o){var p=(Ki(c)?cy:x0)(c,u,o);if(void 0!==p&&-1!==p)return c[p]}function Wb(c,u){return uy(c,pu(u))}function Dr(c,u,o){var l,p;if(u=fu(u,o),Ki(c))for(l=0,p=c.length;l<p;l++)u(c[l],l,c);else{var b=di(c);for(l=0,p=b.length;l<p;l++)u(c[b[l]],b[l],c)}return c}function Ts(c,u,o){u=Ni(u,o);for(var l=!Ki(c)&&di(c),p=(l||c).length,b=Array(p),G=0;G<p;G++){var Z=l?l[G]:G;b[G]=u(c[Z],Z,c)}return b}function I0(c){var u=function(o,l,p,b){var G=!Ki(o)&&di(o),Z=(G||o).length,oe=c>0?0:Z-1;for(b||(p=o[G?G[oe]:oe],oe+=c);oe>=0&&oe<Z;oe+=c){var pe=G?G[oe]:oe;p=l(p,o[pe],pe,o)}return p};return function(o,l,p,b){var G=arguments.length>=3;return u(o,fu(l,b,4),p,G)}}const dy=I0(1),L0=I0(-1);function rl(c,u,o){var l=[];return u=Ni(u,o),Dr(c,function(p,b,G){u(p,b,G)&&l.push(p)}),l}function $b(c,u,o){return rl(c,ly(Ni(u)),o)}function N0(c,u,o){u=Ni(u,o);for(var l=!Ki(c)&&di(c),p=(l||c).length,b=0;b<p;b++){var G=l?l[b]:b;if(!u(c[G],G,c))return!1}return!0}function B0(c,u,o){u=Ni(u,o);for(var l=!Ki(c)&&di(c),p=(l||c).length,b=0;b<p;b++){var G=l?l[b]:b;if(u(c[G],G,c))return!0}return!1}function xr(c,u,o,l){return Ki(c)||(c=nl(c)),("number"!=typeof o||l)&&(o=0),M0(c,u,o)>=0}const jb=Ii(function(c,u,o){var l,p;return Ei(u)?p=u:(u=hu(u),l=u.slice(0,-1),u=u[u.length-1]),Ts(c,function(b){var G=p;if(!G){if(l&&l.length&&(b=ty(b,l)),null==b)return;G=b[u]}return null==G?G:G.apply(b,o)})});function Or(c,u){return Ts(c,ny(u))}function Fs(c,u){return rl(c,pu(u))}function k0(c,u,o){var b,G,l=-1/0,p=-1/0;if(null==u||"number"==typeof u&&"object"!=typeof c[0]&&null!=c)for(var Z=0,oe=(c=Ki(c)?c:nl(c)).length;Z<oe;Z++)null!=(b=c[Z])&&b>l&&(l=b);else u=Ni(u,o),Dr(c,function(pe,Oe,qe){((G=u(pe,Oe,qe))>p||G===-1/0&&l===-1/0)&&(l=pe,p=G)});return l}function Ub(c,u,o){var b,G,l=1/0,p=1/0;if(null==u||"number"==typeof u&&"object"!=typeof c[0]&&null!=c)for(var Z=0,oe=(c=Ki(c)?c:nl(c)).length;Z<oe;Z++)null!=(b=c[Z])&&b<l&&(l=b);else u=Ni(u,o),Dr(c,function(pe,Oe,qe){((G=u(pe,Oe,qe))<p||G===1/0&&l===1/0)&&(l=pe,p=G)});return l}var zb=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function G0(c){return c?xs(c)?cu.call(c):Uv(c)?c.match(zb):Ki(c)?Ts(c,iy):nl(c):[]}function H0(c,u,o){if(null==u||o)return Ki(c)||(c=nl(c)),c[oy(c.length-1)];var l=G0(c),p=Li(l);u=Math.max(Math.min(u,p),0);for(var b=p-1,G=0;G<u;G++){var Z=oy(G,b),oe=l[G];l[G]=l[Z],l[Z]=oe}return l.slice(0,u)}function Zb(c){return H0(c,1/0)}function qb(c,u,o){var l=0;return u=Ni(u,o),Or(Ts(c,function(p,b,G){return{value:p,index:l++,criteria:u(p,b,G)}}).sort(function(p,b){var G=p.criteria,Z=b.criteria;if(G!==Z){if(G>Z||void 0===G)return 1;if(G<Z||void 0===Z)return-1}return p.index-b.index}),"value")}function Ip(c,u){return function(o,l,p){var b=u?[[],[]]:{};return l=Ni(l,p),Dr(o,function(G,Z){var oe=l(G,Z,o);c(b,G,oe)}),b}}const Kb=Ip(function(c,u,o){Eo(c,o)?c[o].push(u):c[o]=[u]}),Yb=Ip(function(c,u,o){c[o]=u}),Qb=Ip(function(c,u,o){Eo(c,o)?c[o]++:c[o]=1}),Jb=Ip(function(c,u,o){c[o?0:1].push(u)},!0);function Xb(c){return null==c?0:Ki(c)?c.length:di(c).length}function eE(c,u,o){return u in o}const V0=Ii(function(c,u){var o={},l=u[0];if(null==c)return o;Ei(l)?(u.length>1&&(l=fu(l,u[1])),u=du(c)):(l=eE,u=Os(u,!1,!1),c=Object(c));for(var p=0,b=u.length;p<b;p++){var G=u[p],Z=c[G];l(Z,G,c)&&(o[G]=Z)}return o}),tE=Ii(function(c,u){var l,o=u[0];return Ei(o)?(o=ly(o),u.length>1&&(l=u[1])):(u=Ts(Os(u,!1,!1),String),o=function(p,b){return!xr(u,b)}),V0(c,o,l)});function W0(c,u,o){return cu.call(c,0,Math.max(0,c.length-(null==u||o?1:u)))}function hy(c,u,o){return null==c||c.length<1?null==u||o?void 0:[]:null==u||o?c[0]:W0(c,c.length-u)}function Lp(c,u,o){return cu.call(c,null==u||o?1:u)}function iE(c,u,o){return null==c||c.length<1?null==u||o?void 0:[]:null==u||o?c[c.length-1]:Lp(c,Math.max(0,c.length-u))}function nE(c){return rl(c,Boolean)}function rE(c,u){return Os(c,u,!1)}const $0=Ii(function(c,u){return u=Os(u,!0,!0),rl(c,function(o){return!xr(u,o)})}),oE=Ii(function(c,u){return $0(c,u)});function py(c,u,o,l){ZC(u)||(l=o,o=u,u=!1),null!=o&&(o=Ni(o,l));for(var p=[],b=[],G=0,Z=Li(c);G<Z;G++){var oe=c[G],pe=o?o(oe,G,c):oe;u&&!o?((!G||b!==pe)&&p.push(oe),b=pe):o?xr(b,pe)||(b.push(pe),p.push(oe)):xr(p,oe)||p.push(oe)}return p}const sE=Ii(function(c){return py(Os(c,!0,!0))});function aE(c){for(var u=[],o=arguments.length,l=0,p=Li(c);l<p;l++){var b=c[l];if(!xr(u,b)){var G;for(G=1;G<o&&xr(arguments[G],b);G++);G===o&&u.push(b)}}return u}function fy(c){for(var u=c&&k0(c,Li).length||0,o=Array(u),l=0;l<u;l++)o[l]=Or(c,l);return o}const lE=Ii(fy);function cE(c,u){for(var o={},l=0,p=Li(c);l<p;l++)u?o[c[l]]=u[l]:o[c[l][0]]=c[l][1];return o}function uE(c,u,o){null==u&&(u=c||0,c=0),o||(o=u<c?-1:1);for(var l=Math.max(Math.ceil((u-c)/o),0),p=Array(l),b=0;b<l;b++,c+=o)p[b]=c;return p}function dE(c,u){if(null==u||u<1)return[];for(var o=[],l=0,p=c.length;l<p;)o.push(cu.call(c,l,l+=u));return o}function gy(c,u){return c._chain?Tt(u).chain():u}function j0(c){return Dr(Xv(c),function(u){var o=Tt[u]=c[u];Tt.prototype[u]=function(){var l=[this._wrapped];return Nw.apply(l,arguments),gy(this,o.apply(Tt,l))}}),Tt}Dr(["pop","push","reverse","shift","sort","splice","unshift"],function(c){var u=Op[c];Tt.prototype[c]=function(){var o=this._wrapped;return null!=o&&(u.apply(o,arguments),("shift"===c||"splice"===c)&&0===o.length&&delete o[0]),gy(this,o)}}),Dr(["concat","join","slice"],function(c){var u=Op[c];Tt.prototype[c]=function(){var o=this._wrapped;return null!=o&&(o=u.apply(o,arguments)),gy(this,o)}});const hE=Tt;var U0=j0(W);U0._=U0;var mu=w(2387);const z0=Mn({passive:!0});let pE=(()=>{class c{constructor(o,l){this._platform=o,this._ngZone=l,this._monitoredElements=new Map}monitor(o){if(!this._platform.isBrowser)return Yd.E;const l=Bt(o),p=this._monitoredElements.get(l);if(p)return p.subject;const b=new tt.x,G="cdk-text-field-autofilled",Z=oe=>{"cdk-text-field-autofill-start"!==oe.animationName||l.classList.contains(G)?"cdk-text-field-autofill-end"===oe.animationName&&l.classList.contains(G)&&(l.classList.remove(G),this._ngZone.run(()=>b.next({target:oe.target,isAutofilled:!1}))):(l.classList.add(G),this._ngZone.run(()=>b.next({target:oe.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{l.addEventListener("animationstart",Z,z0),l.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(l,{subject:b,unlisten:()=>{l.removeEventListener("animationstart",Z,z0)}}),b}stopMonitoring(o){const l=Bt(o),p=this._monitoredElements.get(l);p&&(p.unlisten(),p.subject.complete(),l.classList.remove("cdk-text-field-autofill-monitored"),l.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(l))}ngOnDestroy(){this._monitoredElements.forEach((o,l)=>this.stopMonitoring(l))}}return c.\u0275fac=function(o){return new(o||c)(r.LFG(Gt),r.LFG(r.R0b))},c.\u0275prov=r.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})(),Z0=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({}),c})();const fE=new r.OlP("MAT_INPUT_VALUE_ACCESSOR"),gE=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let mE=0;const vE=Jr(class{constructor(c,u,o,l){this._defaultErrorStateMatcher=c,this._parentForm=u,this._parentFormGroup=o,this.ngControl=l}});let my=(()=>{class c extends vE{constructor(o,l,p,b,G,Z,oe,pe,Oe,qe){super(Z,b,G,p),this._elementRef=o,this._platform=l,this._autofillMonitor=pe,this._formField=qe,this._uid="mat-input-"+mE++,this.focused=!1,this.stateChanges=new tt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(At=>cd().has(At)),this._iOSKeyupListener=At=>{const xt=At.target;!xt.value&&0===xt.selectionStart&&0===xt.selectionEnd&&(xt.setSelectionRange(1,1),xt.setSelectionRange(0,0))};const nt=this._elementRef.nativeElement,ht=nt.nodeName.toLowerCase();this._inputValueAccessor=oe||nt,this._previousNativeValue=this.value,this.id=this.id,l.IOS&&Oe.runOutsideAngular(()=>{o.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ht,this._isTextarea="textarea"===ht,this._isInFormField=!!qe,this._isNativeSelect&&(this.controlType=nt.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(o){this._disabled=st(o),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(o){this._id=o||this._uid}get required(){var o,l,p,b;return null!=(b=null!=(p=this._required)?p:null==(l=null==(o=this.ngControl)?void 0:o.control)?void 0:l.hasValidator(_e.required))&&b}set required(o){this._required=st(o)}get type(){return this._type}set type(o){this._type=o||"text",this._validateType(),!this._isTextarea&&cd().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(o){o!==this.value&&(this._inputValueAccessor.value=o,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(o){this._readonly=st(o)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(o=>{this.autofilled=o.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(o){this._elementRef.nativeElement.focus(o)}_focusChanged(o){o!==this.focused&&(this.focused=o,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var l,p;const o=(null==(p=null==(l=this._formField)?void 0:l._hideControlPlaceholder)?void 0:p.call(l))?null:this.placeholder;if(o!==this._previousPlaceholder){const b=this._elementRef.nativeElement;this._previousPlaceholder=o,o?b.setAttribute("placeholder",o):b.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const o=this._elementRef.nativeElement.value;this._previousNativeValue!==o&&(this._previousNativeValue=o,this.stateChanges.next())}_validateType(){gE.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let o=this._elementRef.nativeElement.validity;return o&&o.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const o=this._elementRef.nativeElement,l=o.options[0];return this.focused||o.multiple||!this.empty||!!(o.selectedIndex>-1&&l&&l.label)}return this.focused||!this.empty}setDescribedByIds(o){o.length?this._elementRef.nativeElement.setAttribute("aria-describedby",o.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const o=this._elementRef.nativeElement;return this._isNativeSelect&&(o.multiple||o.size>1)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.SBq),r.Y36(Gt),r.Y36(ne,10),r.Y36(Mr,8),r.Y36(Ir,8),r.Y36(Bn),r.Y36(fE,10),r.Y36(pE),r.Y36(r.R0b),r.Y36(cs,8))},c.\u0275dir=r.lG2({type:c,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(o,l){1&o&&r.NdJ("focus",function(){return l._focusChanged(!0)})("blur",function(){return l._focusChanged(!1)})("input",function(){return l._onInput()}),2&o&&(r.Ikx("disabled",l.disabled)("required",l.required),r.uIk("id",l.id)("data-placeholder",l.placeholder)("name",l.name||null)("readonly",l.readonly&&!l._isNativeSelect||null)("aria-invalid",l.empty&&l.required?null:l.errorState)("aria-required",l.required),r.ekj("mat-input-server",l._isServer)("mat-native-select-inline",l._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[r._Bn([{provide:ss,useExisting:c}]),r.qOj,r.TTD]}),c})(),yE=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({providers:[Bn],imports:[[Z0,Da,Rt],Z0,Da]}),c})();const _E=["trigger"],CE=["panel"];function wE(c,u){if(1&c&&(r.TgZ(0,"span",8),r._uU(1),r.qZA()),2&c){const o=r.oxw();r.xp6(1),r.Oqu(o.placeholder)}}function bE(c,u){if(1&c&&(r.TgZ(0,"span",12),r._uU(1),r.qZA()),2&c){const o=r.oxw(2);r.xp6(1),r.Oqu(o.triggerValue)}}function EE(c,u){1&c&&r.Hsn(0,0,["*ngSwitchCase","true"])}function SE(c,u){if(1&c&&(r.TgZ(0,"span",9),r.YNc(1,bE,2,1,"span",10),r.YNc(2,EE,1,0,"ng-content",11),r.qZA()),2&c){const o=r.oxw();r.Q6J("ngSwitch",!!o.customTrigger),r.xp6(2),r.Q6J("ngSwitchCase",!0)}}function AE(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"div",13),r.TgZ(1,"div",14,15),r.NdJ("@transformPanel.done",function(p){return r.CHM(o),r.oxw()._panelDoneAnimatingStream.next(p.toState)})("keydown",function(p){return r.CHM(o),r.oxw()._handleKeydown(p)}),r.Hsn(3,1),r.qZA(),r.qZA()}if(2&c){const o=r.oxw();r.Q6J("@transformPanelWrap",void 0),r.xp6(1),r.Gre("mat-select-panel ",o._getPanelTheme(),""),r.Udp("transform-origin",o._transformOrigin)("font-size",o._triggerFontSize,"px"),r.Q6J("ngClass",o.panelClass)("@transformPanel",o.multiple?"showing-multiple":"showing"),r.uIk("id",o.id+"-panel")("aria-multiselectable",o.multiple)("aria-label",o.ariaLabel||null)("aria-labelledby",o._getPanelAriaLabelledby())}}const RE=[[["mat-select-trigger"]],"*"],DE=["mat-select-trigger","*"],q0={transformPanelWrap:(0,Je.X$)("transformPanelWrap",[(0,Je.eR)("* => void",(0,Je.IO)("@transformPanel",[(0,Je.pV)()],{optional:!0}))]),transformPanel:(0,Je.X$)("transformPanel",[(0,Je.SB)("void",(0,Je.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,Je.SB)("showing",(0,Je.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,Je.SB)("showing-multiple",(0,Je.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,Je.eR)("void => *",(0,Je.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,Je.eR)("* => void",(0,Je.jt)("100ms 25ms linear",(0,Je.oB)({opacity:0})))])};let K0=0;const Q0=new r.OlP("mat-select-scroll-strategy"),FE=new r.OlP("MAT_SELECT_CONFIG"),PE={provide:Q0,deps:[Wi],useFactory:function(c){return()=>c.scrollStrategies.reposition()}};class ME{constructor(u,o){this.source=u,this.value=o}}const IE=$i(hc(dr(Jr(class{constructor(c,u,o,l,p){this._elementRef=c,this._defaultErrorStateMatcher=u,this._parentForm=o,this._parentFormGroup=l,this.ngControl=p}})))),LE=new r.OlP("MatSelectTrigger");let NE=(()=>{class c extends IE{constructor(o,l,p,b,G,Z,oe,pe,Oe,qe,nt,ht,At,xt){var ti,So,Ps;super(G,b,oe,pe,qe),this._viewportRuler=o,this._changeDetectorRef=l,this._ngZone=p,this._dir=Z,this._parentFormField=Oe,this._liveAnnouncer=At,this._defaultOptions=xt,this._panelOpen=!1,this._compareWith=(Ut,Tr)=>Ut===Tr,this._uid="mat-select-"+K0++,this._triggerAriaLabelledBy=null,this._destroy=new tt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+K0++,this._panelDoneAnimatingStream=new tt.x,this._overlayPanelClass=(null==(ti=this._defaultOptions)?void 0:ti.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!=(Ps=null==(So=this._defaultOptions)?void 0:So.disableOptionCentering)&&Ps,this.ariaLabel="",this.optionSelectionChanges=(0,Cn.P)(()=>{const Ut=this.options;return Ut?Ut.changes.pipe((0,Dt.O)(Ut),(0,Gn.w)(()=>(0,jt.T)(...Ut.map(Tr=>Tr.onSelectionChange)))):this._ngZone.onStable.pipe((0,Mt.q)(1),(0,Gn.w)(()=>this.optionSelectionChanges))}),this.openedChange=new r.vpe,this._openedStream=this.openedChange.pipe((0,xi.h)(Ut=>Ut),(0,D.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,xi.h)(Ut=>!Ut),(0,D.U)(()=>{})),this.selectionChange=new r.vpe,this.valueChange=new r.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==xt?void 0:xt.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=xt.typeaheadDebounceInterval),this._scrollStrategyFactory=ht,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(nt)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(o){this._placeholder=o,this.stateChanges.next()}get required(){var o,l,p,b;return null!=(b=null!=(p=this._required)?p:null==(l=null==(o=this.ngControl)?void 0:o.control)?void 0:l.hasValidator(_e.required))&&b}set required(o){this._required=st(o),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(o){this._multiple=st(o)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(o){this._disableOptionCentering=st(o)}get compareWith(){return this._compareWith}set compareWith(o){this._compareWith=o,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(o){this._assignValue(o)&&this._onChange(o)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(o){this._typeaheadDebounceInterval=Ji(o)}get id(){return this._id}set id(o){this._id=o||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new co(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Ge(),yt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(yt(this._destroy)).subscribe(o=>{o.added.forEach(l=>l.select()),o.removed.forEach(l=>l.deselect())}),this.options.changes.pipe((0,Dt.O)(null),yt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const o=this._getTriggerAriaLabelledby(),l=this.ngControl;if(o!==this._triggerAriaLabelledBy){const p=this._elementRef.nativeElement;this._triggerAriaLabelledBy=o,o?p.setAttribute("aria-labelledby",o):p.removeAttribute("aria-labelledby")}l&&(this._previousControl!==l.control&&(void 0!==this._previousControl&&null!==l.disabled&&l.disabled!==this.disabled&&(this.disabled=l.disabled),this._previousControl=l.control),this.updateErrorState())}ngOnChanges(o){o.disabled&&this.stateChanges.next(),o.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(o){this._assignValue(o)}registerOnChange(o){this._onChange=o}registerOnTouched(o){this._onTouched=o}setDisabledState(o){this.disabled=o,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var o,l;return this.multiple?(null==(o=this._selectionModel)?void 0:o.selected)||[]:null==(l=this._selectionModel)?void 0:l.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const o=this._selectionModel.selected.map(l=>l.viewValue);return this._isRtl()&&o.reverse(),o.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(o){this.disabled||(this.panelOpen?this._handleOpenKeydown(o):this._handleClosedKeydown(o))}_handleClosedKeydown(o){const l=o.keyCode,p=40===l||38===l||37===l||39===l,b=13===l||32===l,G=this._keyManager;if(!G.isTyping()&&b&&!ni(o)||(this.multiple||o.altKey)&&p)o.preventDefault(),this.open();else if(!this.multiple){const Z=this.selected;G.onKeydown(o);const oe=this.selected;oe&&Z!==oe&&this._liveAnnouncer.announce(oe.viewValue,1e4)}}_handleOpenKeydown(o){const l=this._keyManager,p=o.keyCode,b=40===p||38===p,G=l.isTyping();if(b&&o.altKey)o.preventDefault(),this.close();else if(G||13!==p&&32!==p||!l.activeItem||ni(o))if(!G&&this._multiple&&65===p&&o.ctrlKey){o.preventDefault();const Z=this.options.some(oe=>!oe.disabled&&!oe.selected);this.options.forEach(oe=>{oe.disabled||(Z?oe.select():oe.deselect())})}else{const Z=l.activeItemIndex;l.onKeydown(o),this._multiple&&b&&o.shiftKey&&l.activeItem&&l.activeItemIndex!==Z&&l.activeItem._selectViaInteraction()}else o.preventDefault(),l.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Mt.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(o){if(this._selectionModel.selected.forEach(l=>l.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&o)Array.isArray(o),o.forEach(l=>this._selectOptionByValue(l)),this._sortValues();else{const l=this._selectOptionByValue(o);l?this._keyManager.updateActiveItem(l):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(o){const l=this.options.find(p=>{if(this._selectionModel.isSelected(p))return!1;try{return null!=p.value&&this._compareWith(p.value,o)}catch(b){return!1}});return l&&this._selectionModel.select(l),l}_assignValue(o){return!!(o!==this._value||this._multiple&&Array.isArray(o))&&(this.options&&this._setSelectionByValue(o),this._value=o,!0)}_initKeyManager(){this._keyManager=new Pd(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(yt(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(yt(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const o=(0,jt.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(yt(o)).subscribe(l=>{this._onSelect(l.source,l.isUserInput),l.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,jt.T)(...this.options.map(l=>l._stateChanges)).pipe(yt(o)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(o,l){const p=this._selectionModel.isSelected(o);null!=o.value||this._multiple?(p!==o.selected&&(o.selected?this._selectionModel.select(o):this._selectionModel.deselect(o)),l&&this._keyManager.setActiveItem(o),this.multiple&&(this._sortValues(),l&&this.focus())):(o.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(o.value)),p!==this._selectionModel.isSelected(o)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const o=this.options.toArray();this._selectionModel.sort((l,p)=>this.sortComparator?this.sortComparator(l,p,o):o.indexOf(l)-o.indexOf(p)),this.stateChanges.next()}}_propagateChanges(o){let l=null;l=this.multiple?this.selected.map(p=>p.value):this.selected?this.selected.value:o,this._value=l,this.valueChange.emit(l),this._onChange(l),this.selectionChange.emit(this._getChangeEvent(l)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var o;return!this._panelOpen&&!this.disabled&&(null==(o=this.options)?void 0:o.length)>0}focus(o){this._elementRef.nativeElement.focus(o)}_getPanelAriaLabelledby(){var p;if(this.ariaLabel)return null;const o=null==(p=this._parentFormField)?void 0:p.getLabelId();return this.ariaLabelledby?(o?o+" ":"")+this.ariaLabelledby:o}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var p;if(this.ariaLabel)return null;const o=null==(p=this._parentFormField)?void 0:p.getLabelId();let l=(o?o+" ":"")+this._valueId;return this.ariaLabelledby&&(l+=" "+this.ariaLabelledby),l}_panelDoneAnimating(o){this.openedChange.emit(o)}setDescribedByIds(o){this._ariaDescribedby=o.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(rn),r.Y36(r.sBO),r.Y36(r.R0b),r.Y36(Bn),r.Y36(r.SBq),r.Y36(Kt,8),r.Y36(Mr,8),r.Y36(Ir,8),r.Y36(cs,8),r.Y36(ne,10),r.$8M("tabindex"),r.Y36(Q0),r.Y36(Xo),r.Y36(FE,8))},c.\u0275dir=r.lG2({type:c,viewQuery:function(o,l){if(1&o&&(r.Gf(_E,5),r.Gf(CE,5),r.Gf(la,5)),2&o){let p;r.iGM(p=r.CRH())&&(l.trigger=p.first),r.iGM(p=r.CRH())&&(l.panel=p.first),r.iGM(p=r.CRH())&&(l._overlayDir=p.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[r.qOj,r.TTD]}),c})(),J0=(()=>{class c extends NE{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(o,l,p){const b=this._getItemHeight();return Math.min(Math.max(0,b*o-l+b/2),p)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(yt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Mt.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(o){const l=vc(o,this.options,this.optionGroups),p=this._getItemHeight();this.panel.nativeElement.scrollTop=0===o&&1===l?0:to((o+l)*p,p,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(o){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(o)}_getChangeEvent(o){return new ME(this,o)}_calculateOverlayOffsetX(){const o=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),l=this._viewportRuler.getViewportSize(),p=this._isRtl(),b=this.multiple?56:32;let G;if(this.multiple)G=40;else if(this.disableOptionCentering)G=16;else{let pe=this._selectionModel.selected[0]||this.options.first;G=pe&&pe.group?32:16}p||(G*=-1);const Z=0-(o.left+G-(p?b:0)),oe=o.right+G-l.width+(p?0:b);Z>0?G+=Z+8:oe>0&&(G-=oe+8),this._overlayDir.offsetX=Math.round(G),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(o,l,p){const b=this._getItemHeight(),G=(b-this._triggerRect.height)/2,Z=Math.floor(256/b);let oe;return this.disableOptionCentering?0:(oe=0===this._scrollTop?o*b:this._scrollTop===p?(o-(this._getItemCount()-Z))*b+(b-(this._getItemCount()*b-256)%b):l-b/2,Math.round(-1*oe-G))}_checkOverlayWithinViewport(o){const l=this._getItemHeight(),p=this._viewportRuler.getViewportSize(),b=this._triggerRect.top-8,G=p.height-this._triggerRect.bottom-8,Z=Math.abs(this._offsetY),pe=Math.min(this._getItemCount()*l,256)-Z-this._triggerRect.height;pe>G?this._adjustPanelUp(pe,G):Z>b?this._adjustPanelDown(Z,b,o):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(o,l){const p=Math.round(o-l);this._scrollTop-=p,this._offsetY-=p,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(o,l,p){const b=Math.round(o-l);if(this._scrollTop+=b,this._offsetY+=b,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=p)return this._scrollTop=p,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const o=this._getItemHeight(),l=this._getItemCount(),p=Math.min(l*o,256),G=l*o-p;let Z;Z=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),Z+=vc(Z,this.options,this.optionGroups);const oe=p/2;this._scrollTop=this._calculateOverlayScroll(Z,oe,G),this._offsetY=this._calculateOverlayOffsetY(Z,oe,G),this._checkOverlayWithinViewport(G)}_getOriginBasedOnOption(){const o=this._getItemHeight(),l=(o-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-l+o/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return c.\u0275fac=function(){let u;return function(l){return(u||(u=r.n5z(c)))(l||c)}}(),c.\u0275cmp=r.Xpm({type:c,selectors:[["mat-select"]],contentQueries:function(o,l,p){if(1&o&&(r.Suo(p,LE,5),r.Suo(p,kn,5),r.Suo(p,va,5)),2&o){let b;r.iGM(b=r.CRH())&&(l.customTrigger=b.first),r.iGM(b=r.CRH())&&(l.options=b),r.iGM(b=r.CRH())&&(l.optionGroups=b)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(o,l){1&o&&r.NdJ("keydown",function(b){return l._handleKeydown(b)})("focus",function(){return l._onFocus()})("blur",function(){return l._onBlur()}),2&o&&(r.uIk("id",l.id)("tabindex",l.tabIndex)("aria-controls",l.panelOpen?l.id+"-panel":null)("aria-expanded",l.panelOpen)("aria-label",l.ariaLabel||null)("aria-required",l.required.toString())("aria-disabled",l.disabled.toString())("aria-invalid",l.errorState)("aria-describedby",l._ariaDescribedby||null)("aria-activedescendant",l._getAriaActiveDescendant()),r.ekj("mat-select-disabled",l.disabled)("mat-select-invalid",l.errorState)("mat-select-required",l.required)("mat-select-empty",l.empty)("mat-select-multiple",l.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[r._Bn([{provide:ss,useExisting:c},{provide:ga,useExisting:c}]),r.qOj],ngContentSelectors:DE,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(o,l){if(1&o&&(r.F$t(RE),r.TgZ(0,"div",0,1),r.NdJ("click",function(){return l.toggle()}),r.TgZ(3,"div",2),r.YNc(4,wE,2,1,"span",3),r.YNc(5,SE,3,2,"span",4),r.qZA(),r.TgZ(6,"div",5),r._UZ(7,"div",6),r.qZA(),r.qZA(),r.YNc(8,AE,4,14,"ng-template",7),r.NdJ("backdropClick",function(){return l.close()})("attach",function(){return l._onAttached()})("detach",function(){return l.close()})),2&o){const p=r.MAs(1);r.uIk("aria-owns",l.panelOpen?l.id+"-panel":null),r.xp6(3),r.Q6J("ngSwitch",l.empty),r.uIk("id",l._valueId),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngSwitchCase",!1),r.xp6(3),r.Q6J("cdkConnectedOverlayPanelClass",l._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",l._scrollStrategy)("cdkConnectedOverlayOrigin",p)("cdkConnectedOverlayOpen",l.panelOpen)("cdkConnectedOverlayPositions",l._positions)("cdkConnectedOverlayMinWidth",null==l._triggerRect?null:l._triggerRect.width)("cdkConnectedOverlayOffsetY",l._offsetY)}},directives:[aa,E.RF,E.n9,la,E.ED,E.mk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[q0.transformPanelWrap,q0.transformPanel]},changeDetection:0}),c})(),BE=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({providers:[PE],imports:[[E.ez,Qo,_t,Rt],Zo,Da,_t,Rt]}),c})();const kE=["roleGrpInput"];function GE(c,u){if(1&c&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&c){const o=u.$implicit;r.xp6(1),r.hij(" ",o,", \xa0 ")}}function HE(c,u){if(1&c&&(r.TgZ(0,"mat-chip"),r._uU(1),r.qZA()),2&c){const o=u.$implicit;r.xp6(1),r.Oqu(o.Field)}}function VE(c,u){if(1&c&&(r.TgZ(0,"mat-option",32),r._uU(1),r.qZA()),2&c){const o=u.$implicit;r.Q6J("value",o.Field),r.xp6(1),r.hij(" ",o.Field," ")}}function WE(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"mat-chip",33),r.NdJ("removed",function(){const b=r.CHM(o).index;return r.oxw(2).remove(b)}),r._uU(1),r.TgZ(2,"button",34),r.TgZ(3,"mat-icon"),r._uU(4,"cancel"),r.qZA(),r.qZA(),r.qZA()}if(2&c){const o=u.$implicit;r.xp6(1),r.AsE(" ",o.role_name,"|",o.role_id," ")}}function $E(c,u){if(1&c&&(r.TgZ(0,"mat-option",32),r._uU(1),r.qZA()),2&c){const o=u.$implicit;r.Q6J("value",o),r.xp6(1),r.hij(" ",o.role_name," ")}}function jE(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"mat-list-item"),r.TgZ(1,"mat-icon",35),r._uU(2,"folder"),r.qZA(),r.TgZ(3,"div",36),r._uU(4),r.qZA(),r.TgZ(5,"span",37),r.NdJ("click",function(){const b=r.CHM(o).$implicit;return r.oxw(2).changePipelineView(b)}),r._uU(6,"view"),r.qZA(),r.qZA()}if(2&c){const o=u.$implicit;r.xp6(4),r.Oqu(o.pipeline_name)}}function UE(c,u){if(1&c&&(r.TgZ(0,"tr"),r.TgZ(1,"th",38),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.qZA()),2&c){const o=u.$implicit,l=u.index;r.xp6(2),r.Oqu(l+1),r.xp6(2),r.Oqu(o.index),r.xp6(2),r.Oqu(o.isMappingDone?"\u2705":"\u274c"),r.xp6(2),r.Oqu(o.isPipelineCreated?"\u2705":"\u274c")}}function zE(c,u){if(1&c){const o=r.EpF();r.ynx(0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"h2",3),r._uU(4,"Sync Overview"),r.qZA(),r.qZA(),r.TgZ(5,"div",4),r.TgZ(6,"button",5),r.TgZ(7,"mat-icon"),r._uU(8,"close"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",1),r.TgZ(10,"div",6),r.TgZ(11,"span",7),r._uU(12,"From the databases "),r.TgZ(13,"strong"),r.YNc(14,GE,2,1,"span",8),r.qZA(),r._uU(15," and the table "),r.TgZ(16,"strong"),r._uU(17),r.qZA(),r.qZA(),r._uU(18," the following columns will be synced "),r.qZA(),r.qZA(),r.TgZ(19,"div",9),r.TgZ(20,"div",6),r.TgZ(21,"mat-chip-list"),r.YNc(22,HE,2,1,"mat-chip",8),r.qZA(),r.qZA(),r.qZA(),r.TgZ(23,"div",10),r.TgZ(24,"div",6),r._uU(25,"Index Route Url"),r.qZA(),r.qZA(),r.TgZ(26,"div",10),r.TgZ(27,"div",6),r.TgZ(28,"mat-form-field",11),r.TgZ(29,"mat-label"),r._uU(30,"index route url"),r.qZA(),r._UZ(31,"input",12),r.qZA(),r.qZA(),r.qZA(),r.TgZ(32,"div",13),r._uU(33,"Generated mapping"),r.qZA(),r.TgZ(34,"div",14),r.TgZ(35,"div",6),r.TgZ(36,"span",15),r.TgZ(37,"pre"),r._uU(38),r.ALo(39,"json"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(40,"div",1),r.TgZ(41,"div",16),r.TgZ(42,"div",9),r.TgZ(43,"div",6),r.TgZ(44,"span",7),r._uU(45,"Select the primary key field"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(46,"div",10),r.TgZ(47,"div",6),r.TgZ(48,"mat-form-field",11),r.TgZ(49,"mat-label"),r._uU(50,"Select Fields"),r.qZA(),r.TgZ(51,"mat-select",17),r.YNc(52,VE,2,2,"mat-option",18),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(53,"div",10),r.TgZ(54,"div",6),r._uU(55,"Index alias name"),r.qZA(),r.qZA(),r.TgZ(56,"div",10),r.TgZ(57,"div",6),r.TgZ(58,"mat-form-field",11),r.TgZ(59,"mat-label"),r._uU(60,"Index alias"),r.qZA(),r._UZ(61,"input",12),r.qZA(),r.qZA(),r.qZA(),r.TgZ(62,"div",10),r.TgZ(63,"div",6),r._uU(64," Determine the role groups to which the index is accessible "),r.qZA(),r.qZA(),r.TgZ(65,"div",10),r.TgZ(66,"div",6),r.TgZ(67,"mat-form-field",19),r.TgZ(68,"mat-label"),r._uU(69,"Role groups"),r.qZA(),r.TgZ(70,"mat-chip-list",null,20),r.YNc(72,WE,5,2,"mat-chip",21),r._UZ(73,"input",22,23),r.qZA(),r.TgZ(75,"mat-autocomplete",24,25),r.NdJ("optionSelected",function(p){return r.CHM(o),r.oxw().selected(p)}),r.YNc(77,$E,2,2,"mat-option",18),r.ALo(78,"async"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(79,"div",1),r.TgZ(80,"div",6),r.TgZ(81,"button",26),r.NdJ("click",function(){return r.CHM(o),r.oxw().generatePipelines()}),r._uU(82," Generate pipelines "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(83,"div",10),r.TgZ(84,"div",6),r.TgZ(85,"mat-list"),r.TgZ(86,"div",27),r._uU(87,"Generated pipelines"),r.qZA(),r.YNc(88,jE,7,1,"mat-list-item",8),r._UZ(89,"mat-divider"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(90,"div",28),r.TgZ(91,"div",1),r.TgZ(92,"div",6),r.TgZ(93,"table",29),r.TgZ(94,"thead"),r.TgZ(95,"tr"),r.TgZ(96,"th",30),r._uU(97,"#"),r.qZA(),r.TgZ(98,"th",30),r._uU(99,"index"),r.qZA(),r.TgZ(100,"th",30),r._uU(101,"mappings"),r.qZA(),r.TgZ(102,"th",30),r._uU(103,"pipeline"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(104,"tbody"),r.YNc(105,UE,9,4,"tr",8),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(106,"div",1),r.TgZ(107,"div",6),r.TgZ(108,"button",31),r.NdJ("click",function(){return r.CHM(o),r.oxw().startIndexing()}),r._uU(109," Start Indexing "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.BQk()}if(2&c){const o=r.MAs(71),l=r.MAs(76),p=r.oxw();r.xp6(14),r.Q6J("ngForOf",p.data.selectedDbs),r.xp6(3),r.Oqu(p.data.selectedBaseTable),r.xp6(5),r.Q6J("ngForOf",p.data.selectedFields),r.xp6(9),r.Q6J("formControl",p.routeUrl),r.xp6(7),r.hij("             ",r.lcZ(39,17,p.generatedMapping)," \n          "),r.xp6(13),r.Q6J("formControl",p.primaryKeyFieldctrl),r.xp6(1),r.Q6J("ngForOf",p.primaryKeyFields),r.xp6(9),r.Q6J("formControl",p.indexAlias),r.xp6(11),r.Q6J("ngForOf",p.selectedRoleGroups),r.xp6(1),r.Q6J("formControl",p.roleGroupCtrl)("matAutocomplete",l)("matChipInputFor",o)("matChipInputSeparatorKeyCodes",p.separatorKeysCodes),r.xp6(4),r.Q6J("ngForOf",r.lcZ(78,19,p.filteredRoleGroups)),r.xp6(11),r.Q6J("ngForOf",p.generatedPipelines),r.xp6(17),r.Q6J("ngForOf",p.finalIndexCreationResult),r.xp6(3),r.Q6J("disabled",p.disableCreateIndex)}}function ZE(c,u){if(1&c){const o=r.EpF();r.ynx(0),r.TgZ(1,"div",1),r.TgZ(2,"div",39),r.TgZ(3,"h2",3),r._uU(4),r.qZA(),r.qZA(),r.TgZ(5,"div",40),r.TgZ(6,"button",41),r.NdJ("click",function(){return r.CHM(o),r.oxw().view="overview"}),r.TgZ(7,"mat-icon"),r._uU(8,"close"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",1),r.TgZ(10,"div",42),r.TgZ(11,"pre"),r._uU(12),r.qZA(),r.qZA(),r.qZA(),r.BQk()}if(2&c){const o=r.oxw();r.xp6(4),r.Oqu(o.selectedPipeline.pipeline_name),r.xp6(8),r.hij("  ",o.selectedPipeline.pipeline_obj.pipeline,"")}}let X0=(()=>{class c{constructor(o,l,p){this.data=o,this._es=l,this.toastr=p,this.view="overview",this.primaryKeyFields=[],this.generatedPipelines=[],this.disableCreateIndex=!1,this.roleGroupCtrl=new Ot,this.selectedRoleGroups=[],this.allRoleGroups=[],this.autocompleteField=new Ot,this.routeUrl=new Ot,this.indexAlias=new Ot,this.primaryKeyFieldctrl=new Ot,this.finalIndexCreationResult=[],this.separatorKeysCodes=[13,188],this.getRoleGroups=()=>{this._es.getRoleGroups().pipe(bt("data")).subscribe({next:b=>{this.allRoleGroups=b},error:b=>this.handleError(b)})},this.filteredRoleGroups=this.roleGroupCtrl.valueChanges.pipe((0,Dt.O)(null),(0,D.U)(b=>b?this._filter(b):this.allRoleGroups.slice()))}_filter(o){let l=null;return l="object"==typeof o?o.role_name.toLowerCase():o.toLowerCase(),this.allRoleGroups.filter(p=>p.role_name.toLowerCase().includes(l))}remove(o){this.selectedRoleGroups.splice(o,1)}selected(o){this.selectedRoleGroups.push(o.option.value),this.roleGrpInput.nativeElement.value="",this.roleGroupCtrl.setValue(null)}ngOnInit(){this.getRoleGroups(),this.data.selectedDbs.forEach(o=>{this.finalIndexCreationResult.push({index:`${this.data.selectedBaseTable}_${o}`,isMappingDone:!1,isPipelineCreated:!1,db:o})}),this.primaryKeyFields=Fs(this.data.selectedFields,{Key:"PRI"}),this._es.constructMappings(this.data).pipe(bt("data")).subscribe({next:o=>{this.generatedMapping=o},error:o=>{this.handleError(o)}})}getOptionStatus(o){return!(o.includes("char")||o.includes("text"))}generatePipelines(){this.autocompleteField.valid&&this.indexAlias.valid&&this.primaryKeyFieldctrl.valid&&this._es.generatePipelines({selectedDbs:this.data.selectedDbs,suggestionField:this.autocompleteField.value,indexAlias:this.indexAlias.value,selectedFields:Or(this.data.selectedFields,"Field"),selectedBaseTable:this.data.selectedBaseTable,primaryKeyField:this.primaryKeyFieldctrl.value}).pipe(bt("data")).subscribe({next:l=>{this.generatedPipelines=l},error:l=>{this.handleError(l)}})}changePipelineView(o){this.view="pipeline",this.selectedPipeline=o}startIndexing(){this.disableCreateIndex=!0,this.createIndex(),this.createPipelines()}createIndex(){this.finalIndexCreationResult.forEach(o=>{this._es.createIndex(o.index,this.generatedMapping).pipe(bt("data")).subscribe({next:l=>{l.acknowledged&&(o.isMappingDone=!0,this._es.createIndexInMongo({index_name:o.index,ingestion_mode:"database_sync",database_type:"mysql",pipeline_type:"logstash",pipeline_id:`${o.index}-pipe`,executed_on:"tad",table_name:this.data.selectedBaseTable,db_name:o.db,app_name:this.indexAlias.value,fetch_method:"table_fetch",route_url:this.routeUrl.value,accessible_roleGroups:this.selectedRoleGroups}).subscribe({next:b=>{console.log("index created"),this.toastr.success("Index Created","Index Created successfully")},error:b=>{this.handleError(b)}}))},error:l=>{this.handleError(l)}})})}createPipelines(){this.generatedPipelines.forEach((o,l)=>{this._es.createPipeline(o).subscribe({next:p=>{this.finalIndexCreationResult[l].isPipelineCreated=!0},error:p=>{this.handleError(p)}})})}handleError(o){console.log(o)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(no),r.Y36(R),r.Y36(mu._W))},c.\u0275cmp=r.Xpm({type:c,selectors:[["app-sync-final-step"]],viewQuery:function(o,l){if(1&o&&r.Gf(kE,5),2&o){let p;r.iGM(p=r.CRH())&&(l.roleGrpInput=p.first)}},decls:2,vars:2,consts:[[4,"ngIf"],[1,"row"],[1,"col-11"],["mat-dialog-title",""],[1,"col-1"],["mat-icon-button","","mat-dialog-close",""],[1,"col-12"],[1,"text-sm"],[4,"ngFor","ngForOf"],[1,"row","mt-3"],[1,"row","mt-2"],["appearance","fill"],["matInput","",3,"formControl"],[1,"mt-2"],[1,"row","mt-2","bg-gray-100"],[1,"text-xs","font-serif","text-gray-600"],[1,"col-4"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill",1,"example-chip-list"],["chipList",""],[3,"removed",4,"ngFor","ngForOf"],["placeholder","New Role Group...",3,"formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],["roleGrpInput",""],[3,"optionSelected"],["auto","matAutocomplete"],["mat-raised-button","",1,"ml-3",3,"click"],["mat-subheader",""],[1,"col-8"],[1,"table"],["scope","col"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"],[3,"removed"],["matChipRemove",""],["mat-list-icon",""],["mat-line",""],[2,"text-decoration","underline","cursor","pointer",3,"click"],["scope","row"],[1,"col-10"],[1,"col-2"],["mat-icon-button","",3,"click"],[1,"col-12","bg-gray-100"]],template:function(o,l){1&o&&(r.YNc(0,zE,110,21,"ng-container",0),r.YNc(1,ZE,13,2,"ng-container",0)),2&o&&(r.Q6J("ngIf","overview"==l.view),r.xp6(1),r.Q6J("ngIf","pipeline"==l.view&&l.selectedPipeline))},directives:[E.O5,Cc,jn,sn,Wn,E.sg,vr,lo,Vn,my,V,ae,fn,J0,po,yr,ds,rp,sp,tp,Sn,kn,An,Ha,Cs,Xr],pipes:[E.Ts,E.Ov],styles:[".example-chip-list[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),c})();const qE=["roleGrpInput"];function KE(c,u){if(1&c&&(r.TgZ(0,"li"),r.TgZ(1,"strong"),r._uU(2),r.qZA(),r.qZA()),2&c){const o=u.$implicit;r.xp6(2),r.Oqu(o.db)}}function YE(c,u){if(1&c&&(r.TgZ(0,"li"),r.TgZ(1,"strong"),r._uU(2),r.qZA(),r.qZA()),2&c){const o=u.$implicit,l=r.oxw();r.xp6(2),r.Oqu(l.indexPrefix.value+"_"+o.db)}}function QE(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"mat-chip",24),r.NdJ("removed",function(){const b=r.CHM(o).index;return r.oxw().remove(b)}),r._uU(1),r.TgZ(2,"button",25),r.TgZ(3,"mat-icon"),r._uU(4,"cancel"),r.qZA(),r.qZA(),r.qZA()}if(2&c){const o=u.$implicit;r.xp6(1),r.AsE(" ",o.role_name,"|",o.role_id," ")}}function JE(c,u){if(1&c&&(r.TgZ(0,"mat-option",26),r._uU(1),r.qZA()),2&c){const o=u.$implicit;r.Q6J("value",o),r.xp6(1),r.hij(" ",o.role_name," ")}}function XE(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"mat-list-item"),r.TgZ(1,"mat-icon",27),r._uU(2,"folder"),r.qZA(),r.TgZ(3,"div",28),r._uU(4),r.qZA(),r.TgZ(5,"span",29),r.NdJ("click",function(){const b=r.CHM(o).$implicit;return r.oxw().changePipelineView(b)}),r._uU(6,"view"),r.qZA(),r.qZA()}if(2&c){const o=u.$implicit;r.xp6(4),r.Oqu(o.pipeline_name)}}function eS(c,u){if(1&c){const o=r.EpF();r.ynx(0),r.TgZ(1,"div",0),r.TgZ(2,"div",30),r.TgZ(3,"h2",31),r._uU(4),r.qZA(),r.qZA(),r.TgZ(5,"div",32),r.TgZ(6,"button",33),r.NdJ("click",function(){return r.CHM(o),r.oxw().view="overview"}),r.TgZ(7,"mat-icon"),r._uU(8,"close"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",0),r.TgZ(10,"div",34),r.TgZ(11,"pre"),r._uU(12),r.qZA(),r.qZA(),r.qZA(),r.BQk()}if(2&c){const o=r.oxw();r.xp6(4),r.Oqu(o.selectedPipeline.pipeline_name),r.xp6(8),r.hij("  ",o.selectedPipeline.pipeline_obj.pipeline,"")}}function tS(c,u){if(1&c&&(r.TgZ(0,"tr"),r.TgZ(1,"th",35),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.qZA()),2&c){const o=u.$implicit,l=u.index;r.xp6(2),r.Oqu(l+1),r.xp6(2),r.Oqu(o.index),r.xp6(2),r.Oqu(o.isElasticIndexCreated?"\u2705":"\u274c"),r.xp6(2),r.Oqu(o.isMongoIndexCreated?"\u2705":"\u274c"),r.xp6(2),r.Oqu(o.isPipelineCreated?"\u2705":"\u274c")}}let iS=(()=>{class c{constructor(o,l,p){this.data=o,this._es=l,this.toastr=p,this.view="overview",this.primaryKeyFields=[],this.generatedPipelines=[],this.disableCreateIndex=!1,this.roleGroupCtrl=new Ot,this.selectedRoleGroups=[],this.allRoleGroups=[],this.autocompleteField=new Ot,this.routeUrl=new Ot,this.authFilterApi=new Ot,this.indexAlias=new Ot,this.primaryKeyFieldctrl=new Ot,this.indexPrefix=new Ot,this.finalIndexCreationResult=[],this.separatorKeysCodes=[13,188],this.getRoleGroups=()=>{this._es.getRoleGroups().pipe(bt("data")).subscribe({next:b=>{this.allRoleGroups=b},error:b=>this.handleError(b)})},this.filteredRoleGroups=this.roleGroupCtrl.valueChanges.pipe((0,Dt.O)(null),(0,D.U)(b=>b?this._filter(b):this.allRoleGroups.slice()))}_filter(o){let l=null;return l="object"==typeof o?o.role_name.toLowerCase():o.toLowerCase(),this.allRoleGroups.filter(p=>p.role_name.toLowerCase().includes(l))}remove(o){this.selectedRoleGroups.splice(o,1)}selected(o){this.selectedRoleGroups.push(o.option.value),this.roleGrpInput.nativeElement.value="",this.roleGroupCtrl.setValue(null)}ngOnInit(){this.getRoleGroups(),this._es.constructMappings(this.data).pipe(bt("data")).subscribe({next:o=>{this.generatedMapping=o},error:o=>{this.handleError(o)}})}handleError(o){console.log(o)}generatePipelines(){if(this.indexAlias.valid&&this.primaryKeyFieldctrl.valid){let o={selectedDbs:Or(this.data,"db"),indexAlias:this.indexAlias.value,primaryKeyField:this.primaryKeyFieldctrl.value,isCustomQuery:!0,customQueries:Or(this.data,"actualQuery"),indexPrefix:this.indexPrefix.value};this._es.generatePipelines(o).pipe(bt("data")).subscribe({next:l=>{this.generatedPipelines=l},error:l=>{this.handleError(l)}})}this.data.forEach(o=>{this.finalIndexCreationResult.push({index:`${this.indexPrefix.value}_${o.db}`,isElasticIndexCreated:!1,isMongoIndexCreated:!1,isPipelineCreated:!1,db:o.db})})}changePipelineView(o){this.view="pipeline",this.selectedPipeline=o}startIndexing(){this.disableCreateIndex=!0,this.createIndex(),this.createPipelines()}createIndex(){this.finalIndexCreationResult.forEach((o,l)=>{this._es.createIndex(o.index,this.generatedMapping).pipe(bt("data")).subscribe({next:p=>{p.acknowledged&&(o.isElasticIndexCreated=!0,this._es.createIndexInMongo({index_name:o.index,ingestion_mode:"database_sync",database_type:"mysql",pipeline_type:"logstash",pipeline_id:`${o.index}-pipe`,executed_on:"tad",db_name:o.db,app_name:this.indexAlias.value,primary_key_field:this.primaryKeyFieldctrl.value,fetch_method:"custom_sql_query",route_url:this.routeUrl.value,auth_filter_api:this.authFilterApi.value,index_prefix:this.indexPrefix.value,accessible_roleGroups:this.selectedRoleGroups,generalQuery:this.data[l].generalQuery,transformedQuery:this.data[l].actualQuery}).subscribe({next:G=>{o.isMongoIndexCreated=!0,console.log("index created"),this.toastr.success("Index Created","Index Created successfully")},error:G=>{this.handleError(G)}}))},error:p=>{this.handleError(p)}})})}createPipelines(){this.generatedPipelines.forEach((o,l)=>{this._es.createPipeline(o).subscribe({next:p=>{this.finalIndexCreationResult[l].isPipelineCreated=!0},error:p=>{this.handleError(p)}})})}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(no),r.Y36(R),r.Y36(mu._W))},c.\u0275cmp=r.Xpm({type:c,selectors:[["app-mysql-custom-query"]],viewQuery:function(o,l){if(1&o&&r.Gf(qE,5),2&o){let p;r.iGM(p=r.CRH())&&(l.roleGrpInput=p.first)}},decls:118,vars:25,consts:[[1,"row"],[1,"col-12"],[4,"ngFor","ngForOf"],[1,"mt-2"],[1,"row","mt-2","bg-gray-100"],[1,"text-xs","font-serif","text-gray-600"],[1,"row","mt-2"],["appearance","fill"],["matInput","",3,"formControl"],["appearance","fill",1,"example-chip-list"],["chipList",""],[3,"removed",4,"ngFor","ngForOf"],["placeholder","New Role Group...",3,"formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],["roleGrpInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill",2,"width","100%"],["mat-raised-button","",1,"ml-3",3,"click"],["mat-subheader",""],[4,"ngIf"],[1,"table"],["scope","col"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"removed"],["matChipRemove",""],[3,"value"],["mat-list-icon",""],["mat-line",""],[2,"text-decoration","underline","cursor","pointer",3,"click"],[1,"col-10"],["mat-dialog-title",""],[1,"col-2"],["mat-icon-button","",3,"click"],[1,"col-12","bg-gray-100"],["scope","row"]],template:function(o,l){if(1&o&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r._uU(2," Databases to be synced "),r.TgZ(3,"ul"),r.YNc(4,KE,3,1,"li",2),r.qZA(),r.qZA(),r.qZA(),r.TgZ(5,"div",3),r._uU(6,"Generated mapping"),r.qZA(),r.TgZ(7,"div",4),r.TgZ(8,"div",1),r.TgZ(9,"span",5),r.TgZ(10,"pre"),r._uU(11),r.ALo(12,"json"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(13,"div",6),r.TgZ(14,"div",1),r._uU(15,"Index Prefix"),r.qZA(),r.qZA(),r.TgZ(16,"div",6),r.TgZ(17,"div",1),r.TgZ(18,"mat-form-field",7),r.TgZ(19,"mat-label"),r._uU(20,"Index Prefix"),r.qZA(),r._UZ(21,"input",8),r.qZA(),r.qZA(),r.qZA(),r.TgZ(22,"div",6),r.TgZ(23,"div",1),r._uU(24,"Index to be generated"),r.qZA(),r.qZA(),r.TgZ(25,"div",6),r.TgZ(26,"div",1),r.TgZ(27,"ul"),r.YNc(28,YE,3,1,"li",2),r.qZA(),r.qZA(),r.qZA(),r.TgZ(29,"div",6),r.TgZ(30,"div",1),r._uU(31,"Index Primary Key"),r.qZA(),r.qZA(),r.TgZ(32,"div",6),r.TgZ(33,"div",1),r.TgZ(34,"mat-form-field",7),r.TgZ(35,"mat-label"),r._uU(36,"Index Primary Key"),r.qZA(),r._UZ(37,"input",8),r.qZA(),r.qZA(),r.qZA(),r.TgZ(38,"div",6),r.TgZ(39,"div",1),r._uU(40,"Index alias name"),r.qZA(),r.qZA(),r.TgZ(41,"div",6),r.TgZ(42,"div",1),r.TgZ(43,"mat-form-field",7),r.TgZ(44,"mat-label"),r._uU(45,"Index alias"),r.qZA(),r._UZ(46,"input",8),r.qZA(),r.qZA(),r.qZA(),r.TgZ(47,"div",6),r.TgZ(48,"div",1),r._uU(49,"Index Route Url"),r.qZA(),r.qZA(),r.TgZ(50,"div",6),r.TgZ(51,"div",1),r.TgZ(52,"mat-form-field",7),r.TgZ(53,"mat-label"),r._uU(54,"index route url"),r.qZA(),r._UZ(55,"input",8),r.qZA(),r.qZA(),r.qZA(),r.TgZ(56,"div",6),r.TgZ(57,"div",1),r._uU(58," Determine the role groups to which the index is accessible "),r.qZA(),r.qZA(),r.TgZ(59,"div",6),r.TgZ(60,"div",1),r.TgZ(61,"mat-form-field",9),r.TgZ(62,"mat-label"),r._uU(63,"Role groups"),r.qZA(),r.TgZ(64,"mat-chip-list",null,10),r.YNc(66,QE,5,2,"mat-chip",11),r._UZ(67,"input",12,13),r.qZA(),r.TgZ(69,"mat-autocomplete",14,15),r.NdJ("optionSelected",function(b){return l.selected(b)}),r.YNc(71,JE,2,2,"mat-option",16),r.ALo(72,"async"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(73,"div",6),r.TgZ(74,"div",1),r._uU(75," Authorization filter API "),r.qZA(),r.qZA(),r.TgZ(76,"div",6),r.TgZ(77,"div",1),r.TgZ(78,"mat-form-field",17),r.TgZ(79,"mat-label"),r._uU(80,"Authorization filter API url"),r.qZA(),r._UZ(81,"input",8),r.qZA(),r.qZA(),r.qZA(),r.TgZ(82,"div",0),r.TgZ(83,"div",1),r.TgZ(84,"button",18),r.NdJ("click",function(){return l.generatePipelines()}),r._uU(85," Generate pipelines "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(86,"div",6),r.TgZ(87,"div",1),r.TgZ(88,"mat-list"),r.TgZ(89,"div",19),r._uU(90,"Generated pipelines"),r.qZA(),r.YNc(91,XE,7,1,"mat-list-item",2),r._UZ(92,"mat-divider"),r.qZA(),r.qZA(),r.qZA(),r.YNc(93,eS,13,2,"ng-container",20),r.TgZ(94,"div",0),r.TgZ(95,"div",1),r.TgZ(96,"table",21),r.TgZ(97,"thead"),r.TgZ(98,"tr"),r.TgZ(99,"th",22),r._uU(100,"#"),r.qZA(),r.TgZ(101,"th",22),r._uU(102,"index"),r.qZA(),r.TgZ(103,"th",22),r._uU(104,"is Elastic Index Created"),r.qZA(),r.TgZ(105,"th",22),r._uU(106,"is Mongo Index Created"),r.qZA(),r.TgZ(107,"th",22),r._uU(108,"is Pipeline Created"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(109,"tbody"),r.YNc(110,tS,11,5,"tr",2),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(111,"div",0),r.TgZ(112,"div",1),r.TgZ(113,"button",23),r.NdJ("click",function(){return l.startIndexing()}),r._uU(114," Start Indexing "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(115,"pre"),r._uU(116),r.ALo(117,"json"),r.qZA()),2&o){const p=r.MAs(65),b=r.MAs(70);r.xp6(4),r.Q6J("ngForOf",l.data),r.xp6(7),r.hij("           ",r.lcZ(12,19,l.generatedMapping)," \n        "),r.xp6(10),r.Q6J("formControl",l.indexPrefix),r.xp6(7),r.Q6J("ngForOf",l.data),r.xp6(9),r.Q6J("formControl",l.primaryKeyFieldctrl),r.xp6(9),r.Q6J("formControl",l.indexAlias),r.xp6(9),r.Q6J("formControl",l.routeUrl),r.xp6(11),r.Q6J("ngForOf",l.selectedRoleGroups),r.xp6(1),r.Q6J("formControl",l.roleGroupCtrl)("matAutocomplete",b)("matChipInputFor",p)("matChipInputSeparatorKeyCodes",l.separatorKeysCodes),r.xp6(4),r.Q6J("ngForOf",r.lcZ(72,21,l.filteredRoleGroups)),r.xp6(10),r.Q6J("formControl",l.authFilterApi),r.xp6(10),r.Q6J("ngForOf",l.generatedPipelines),r.xp6(2),r.Q6J("ngIf","pipeline"==l.view&&l.selectedPipeline),r.xp6(17),r.Q6J("ngForOf",l.finalIndexCreationResult),r.xp6(3),r.Q6J("disabled",l.disableCreateIndex),r.xp6(3),r.Oqu(r.lcZ(117,23,l.data))}},directives:[E.sg,lo,Vn,my,V,ae,fn,vr,po,yr,ds,jn,rp,sp,tp,E.O5,Sn,An,Wn,kn,Ha,Cs,Xr,Cc],pipes:[E.Ts,E.Ov],styles:[""]}),c})();function nS(c,u){if(1&c&&(r.TgZ(0,"mat-option",13),r._uU(1),r.qZA()),2&c){const o=u.$implicit;r.Q6J("value",o),r.xp6(1),r.Oqu(o)}}function rS(c,u){if(1&c&&(r.TgZ(0,"mat-option",13),r._uU(1),r.qZA()),2&c){const o=u.$implicit;r.Q6J("value",o),r.xp6(1),r.Oqu(o)}}function oS(c,u){if(1&c&&(r.TgZ(0,"span",16),r._uU(1),r.qZA()),2&c){const o=r.oxw().$implicit;r.xp6(1),r.hij(" ",o.Key," ")}}function sS(c,u){if(1&c&&(r.TgZ(0,"div",14),r._uU(1),r.YNc(2,oS,2,1,"span",15),r.TgZ(3,"span",16),r._uU(4),r.qZA(),r.qZA()),2&c){const o=u.$implicit;r.xp6(1),r.hij(" ",o.Field," "),r.xp6(1),r.Q6J("ngIf",""!=o.Key),r.xp6(2),r.hij(" ",o.Type," ")}}function aS(c,u){if(1&c&&(r.TgZ(0,"span",16),r._uU(1),r.qZA()),2&c){const o=r.oxw().$implicit;r.xp6(1),r.hij(" ",o.Key," ")}}function lS(c,u){if(1&c&&(r.TgZ(0,"div",14),r._uU(1),r.YNc(2,aS,2,1,"span",15),r.TgZ(3,"span",16),r._uU(4),r.qZA(),r.qZA()),2&c){const o=u.$implicit;r.xp6(1),r.hij(" ",o.Field," "),r.xp6(1),r.Q6J("ngIf",""!=o.Key),r.xp6(2),r.hij(" ",o.Type," ")}}function cS(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",4),r.TgZ(2,"div",2),r._uU(3,"select the database"),r.qZA(),r.qZA(),r.TgZ(4,"div",4),r.TgZ(5,"div",2),r.TgZ(6,"mat-form-field",5),r.TgZ(7,"mat-label"),r._uU(8,"Select database"),r.qZA(),r.TgZ(9,"mat-select",6),r.YNc(10,nS,2,2,"mat-option",7),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(11,"div",4),r.TgZ(12,"div",2),r._uU(13,"select the table"),r.qZA(),r.qZA(),r.TgZ(14,"div",4),r.TgZ(15,"div",2),r.TgZ(16,"mat-form-field",5),r.TgZ(17,"mat-label"),r._uU(18,"Select table"),r.qZA(),r.TgZ(19,"mat-select",6),r.YNc(20,rS,2,2,"mat-option",7),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(21,"div",4),r.ynx(22,8),r.TgZ(23,"div",9),r.TgZ(24,"h2"),r._uU(25,"Columns to be indexed"),r.qZA(),r.TgZ(26,"div",10),r.NdJ("cdkDropListDropped",function(p){return r.CHM(o),r.oxw().drop(p)}),r.YNc(27,sS,5,3,"div",11),r.qZA(),r.qZA(),r.TgZ(28,"div",9),r.TgZ(29,"h2"),r._uU(30,"sql Table columns"),r.qZA(),r.TgZ(31,"div",10),r.NdJ("cdkDropListDropped",function(p){return r.CHM(o),r.oxw().drop(p)}),r.YNc(32,lS,5,3,"div",11),r.qZA(),r.qZA(),r.BQk(),r.qZA(),r.TgZ(33,"div",4),r.TgZ(34,"div",2),r.TgZ(35,"button",12),r.NdJ("click",function(){return r.CHM(o),r.oxw().proceedToMappingOtherTab()}),r._uU(36," Proceed to mapping and pipeline creation "),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&c){const o=r.oxw();r.xp6(9),r.Q6J("formControl",o.otherDataBaseFormCtrl),r.xp6(1),r.Q6J("ngForOf",o.otherDatabaseList),r.xp6(9),r.Q6J("formControl",o.selectedOtherDbTableCtrl),r.xp6(1),r.Q6J("ngForOf",o.selectedOtherDbTableList),r.xp6(6),r.Q6J("cdkDropListData",o.selectedOtherTableColumns),r.xp6(1),r.Q6J("ngForOf",o.selectedOtherTableColumns),r.xp6(4),r.Q6J("cdkDropListData",o.otherTableColumns),r.xp6(1),r.Q6J("ngForOf",o.otherTableColumns)}}function uS(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"mat-chip",26),r.NdJ("removed",function(){const b=r.CHM(o).$implicit;return r.oxw(2).remove(b)}),r._uU(1),r.TgZ(2,"button",27),r.TgZ(3,"mat-icon"),r._uU(4,"cancel"),r.qZA(),r.qZA(),r.qZA()}if(2&c){const o=u.$implicit;r.xp6(1),r.hij(" ",o," ")}}function dS(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",1),r._uU(4,"Enter the Test query"),r.qZA(),r.TgZ(5,"div",1),r.TgZ(6,"div",2),r.TgZ(7,"textarea",17),r.NdJ("ngModelChange",function(p){return r.CHM(o),r.oxw().testCustomQuery=p}),r._uU(8,"          "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",1),r._uU(10,"Enter the Actual query"),r.qZA(),r.TgZ(11,"div",1),r.TgZ(12,"div",2),r.TgZ(13,"textarea",17),r.NdJ("ngModelChange",function(p){return r.CHM(o),r.oxw().actualCustomQuery=p}),r._uU(14,"          "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(15,"div",18),r.TgZ(16,"button",19),r.NdJ("click",function(){return r.CHM(o),r.oxw().generateQuery()}),r._uU(17," Generate Query "),r.qZA(),r.TgZ(18,"div",20),r.TgZ(19,"strong"),r._uU(20,"Generated Query"),r.qZA(),r.qZA(),r.TgZ(21,"div",1),r._uU(22),r.qZA(),r.qZA(),r.TgZ(23,"div",1),r.TgZ(24,"div",2),r._uU(25,"databases"),r.qZA(),r.qZA(),r.TgZ(26,"div",1),r.TgZ(27,"div",2),r.TgZ(28,"mat-form-field",21),r.TgZ(29,"mat-label"),r._uU(30,"columns"),r.qZA(),r.TgZ(31,"mat-chip-list",22,23),r.YNc(33,uS,5,1,"mat-chip",24),r.TgZ(34,"input",25),r.NdJ("matChipInputTokenEnd",function(p){return r.CHM(o),r.oxw().add(p)}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(35,"div",1),r.TgZ(36,"div",2),r.TgZ(37,"button",19),r.NdJ("click",function(){return r.CHM(o),r.oxw().testQuery()}),r._uU(38," Test Query "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(39,"div",20),r.TgZ(40,"div",2),r.TgZ(41,"pre"),r._uU(42),r.ALo(43,"json"),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&c){const o=r.MAs(32),l=r.oxw();r.xp6(7),r.Q6J("ngModel",l.testCustomQuery),r.xp6(6),r.Q6J("ngModel",l.actualCustomQuery),r.xp6(9),r.hij(" ",l.finalQuery," "),r.xp6(11),r.Q6J("ngForOf",l.testableDatabases),r.xp6(1),r.Q6J("matChipInputFor",o)("matChipInputSeparatorKeyCodes",l.separatorKeysCodes)("matChipInputAddOnBlur",!0),r.xp6(8),r.hij("        ",r.lcZ(43,8,l.queryTestResults),"\n      ")}}let hS=(()=>{class c{constructor(o,l,p,b){this._es=o,this._snack=l,this.dialog=p,this.toastr=b,this.tableNameControl=new Ot,this.baseDbTableNames=[],this.fullTableFetchApplicableDatabases=[],this.isFetchingAllowedDbs=!1,this.baseDb="null",this.baseTableColumns=[],this.baseTableColumnsToBeIndexed=[],this.isTadSelectionListVisible=!1,this.selectedTadDbs=[],this.tadSyncPermissionData=[],this.isCustomQuery=!0,this.testableDatabases=[],this.queryTestResults=[],this.testCustomQuery="",this.actualCustomQuery="",this.separatorKeysCodes=[13,188],this.otherDatabaseList=[],this.otherDataBaseFormCtrl=new Ot,this.selectedOtherDbTableList=[],this.selectedOtherDbTableCtrl=new Ot,this.selectedOtherTableColumns=[],this.otherTableColumns=[],this.generateQuery=()=>{this.testableQuery=this.testCustomQuery,this.finalQuery=this.actualCustomQuery,this.testableQuery=this.testableQuery.replaceAll("\n"," "),this.finalQuery=this.finalQuery.replaceAll("\n"," ")},this.syncCustomSqlQuery=()=>{this.dialog.open(iS,{disableClose:!0,data:Fs(this.queryTestResults,{testResult:"success"}),maxWidth:"100vw",maxHeight:"100vh",width:"80%",height:"90%"})}}ngOnInit(){this.tableNameFilteredOptions=this.tableNameControl.valueChanges.pipe((0,Dt.O)(""),(0,D.U)(o=>this._tableNameFilter(o)))}selectTargetDbType(o){this.selectedTargetDatabaseType=o,"tad"==this.selectedTargetDatabaseType?this._es.getBaseDbTables(this.baseDb).pipe(bt("data")).subscribe({next:this.addDataToBaseTables.bind(this),error:this.handleError.bind(this)}):"other"==this.selectedTargetDatabaseType&&(this.detectOtherDatabaseValueChanges(),this._es.listOtherMysqlDatabases().pipe(bt("data")).subscribe({next:l=>{this.otherDatabaseList=l},error:l=>{this.handleError(l)}}))}addDataToBaseTables(o){this.baseDbTableNames=o}_tableNameFilter(o){const l=o.toLowerCase();return this.baseDbTableNames.filter(p=>p.toLowerCase().includes(l))}changeInBaseTable(o){this.isFetchingAllowedDbs=!0;let l=o.option.value;this.selectedBaseTable=l,this.baseTableColumnsToBeIndexed=[],this._es.descBaseTable(this.baseDb,l).pipe(bt("data")).subscribe({next:p=>{this.baseTableColumns=p,this.baseTableColumns.forEach((b,G)=>{"PRI"===b.Key&&(this.baseTableColumnsToBeIndexed.push(b),this.baseTableColumns.splice(G,1)),"changed_on"===b.Field&&"timestamp"==b.Type&&"NO"==b.Null&&"CURRENT_TIMESTAMP"==b.Default&&(this.baseTableColumnsToBeIndexed.push(b),this.baseTableColumns.splice(G,1))})},error:p=>{this.handleError(p)}}),this.getTableFetchModeDbs(this.baseDb,l)}getTableFetchModeDbs(o,l){this._es.getTableFetchModeDbs(o,l).pipe(bt("data")).subscribe({next:p=>{this.fullTableFetchApplicableDatabases=p,this.isFetchingAllowedDbs=!1},error:p=>{this.isFetchingAllowedDbs=!1,this.handleError(p)}})}switchToTadSelectionView(){if(this.baseTableColumnsToBeIndexed.length>=3){let o=Fs(this.baseTableColumnsToBeIndexed,{Field:"changed_on",Type:"timestamp",Null:"NO",Default:"CURRENT_TIMESTAMP"}),l=Fs(this.baseTableColumnsToBeIndexed,{Key:"PRI"});o.length>0&&l.length>0?(this.isTadSelectionListVisible=!0,this._snack.open("Columns saved successfully!","close")):this._snack.open("Check whether the selected columns contain a PRIMARY KEY and has CHANGED_ON column","close")}else this._snack.open("Check whether the selected columns contain at least 3 fields!","close")}drop(o){o.previousContainer===o.container?xC(o.container.data,o.previousIndex,o.currentIndex):function(c,u,o,l){const p=lu(o,c.length-1),b=lu(l,u.length);c.length&&u.splice(b,0,c.splice(p,1)[0])}(o.previousContainer.data,o.container.data,o.previousIndex,o.currentIndex)}handleError(o){console.log(o)}databaseSelectionChange(o){this.selectedTadDbs=o.option.selectionList._value}verify(){console.log(JSON.stringify(this.selectedTadDbs)),console.log(JSON.stringify(this.baseTableColumnsToBeIndexed)),this._es.checkTadColumnEquivality(this.selectedBaseTable,this.selectedTadDbs,this.baseTableColumnsToBeIndexed).pipe(bt("data")).subscribe({next:o=>{console.log(o),this.tadSyncPermissionData=o},error:this.handleError})}proceedToFinalStep(){let o=0;if(this.tadSyncPermissionData.forEach(l=>{l.restricSync&&o++}),o>0)this._snack.open("Some Tenant Databases cant be indexed kindly resolve conflicts","dismiss");else{let l={selectedDbs:Or(this.tadSyncPermissionData,"database"),selectedDbType:this.selectedTargetDatabaseType,selectedFields:this.baseTableColumnsToBeIndexed,selectedBaseTable:this.selectedBaseTable};this.dialog.open(X0,{disableClose:!0,data:l,maxWidth:"100vw",maxHeight:"100vh",width:"80%",height:"90%"}).afterClosed().subscribe(b=>{console.log(`Dialog result: ${b}`)})}}detectOtherDatabaseValueChanges(){this.detectSelectedOtherDbTableCtrlChange(),this.otherDataBaseFormCtrl.valueChanges.subscribe({next:o=>{this._es.getBaseDbTables(o).pipe(bt("data")).subscribe({next:l=>{this.selectedOtherDbTableList=l},error:l=>this.handleError(l)})},error:o=>this.handleError(o)})}detectSelectedOtherDbTableCtrlChange(){this.selectedOtherDbTableCtrl.valueChanges.subscribe({next:o=>{this._es.descBaseTable(this.otherDataBaseFormCtrl.value,this.selectedOtherDbTableCtrl.value).pipe(bt("data")).subscribe({next:l=>{this.selectedOtherTableColumns=[],this.otherTableColumns=l,this.otherTableColumns.forEach((p,b)=>{("PRI"===p.Key||"changed_on"==p.Field)&&(this.selectedOtherTableColumns.push(p),this.otherTableColumns.splice(b,1))})},error:l=>this.handleError(l)})},error:o=>this.handleError(o)})}proceedToMappingOtherTab(){let o=Fs(this.selectedOtherTableColumns,{Field:"changed_on"}),l=Fs(this.selectedOtherTableColumns,{Key:"PRI"});this.selectedOtherDbTableCtrl.valid&&this.otherDataBaseFormCtrl.valid&&o.length>0&&l.length>0&&this.selectedOtherTableColumns.length>=3?this.dialog.open(X0,{disableClose:!0,data:{selectedDbs:[this.otherDataBaseFormCtrl.value],selectedDbType:this.selectedTargetDatabaseType,selectedFields:this.selectedOtherTableColumns,selectedBaseTable:this.selectedOtherDbTableCtrl.value},maxWidth:"100vw",maxHeight:"100vh",width:"80%",height:"90%"}).afterClosed().subscribe(G=>{console.log(`Dialog result: ${G}`)}):this.toastr.error("check fields!","ensure PRI, changed_on and minimum 3 fields are present")}add(o){const l=(o.value||"").trim();l&&this.testableDatabases.push(l),o.chipInput.clear()}remove(o){const l=this.testableDatabases.indexOf(o);l>=0&&this.testableDatabases.splice(l,1)}testQuery(){this.testableDatabases.forEach(o=>{let l=this.testableQuery.replaceAll("db_name",o),p=this.finalQuery.replaceAll("db_name",o);console.log(this.testableQuery),this._es.testQuery(l).subscribe({next:b=>{this.queryTestResults.push({db:o,testQuery:l,actualQuery:p,generalQuery:this.finalQuery,testResult:"success"})},error:b=>{this.queryTestResults.push({db:o,testQuery:l,actualQuery:p,generalQuery:this.finalQuery,testResult:"failed",err:b})}})})}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(R),r.Y36(Uc),r.Y36(bn),r.Y36(mu._W))},c.\u0275cmp=r.Xpm({type:c,selectors:[["exec-target-mysql"]],decls:6,vars:2,consts:[[4,"ngIf"],[1,"row"],[1,"col-12"],["type","button",2,"background","gray","color","white",3,"click"],[1,"row","mt-2"],["appearance","fill"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],["cdkDropListGroup",""],[1,"col-6"],["cdkDropList","",1,"example-list",3,"cdkDropListData","cdkDropListDropped"],["class","example-box","cdkDrag","",4,"ngFor","ngForOf"],["mat-raised-button","",3,"click"],[3,"value"],["cdkDrag","",1,"example-box"],["class","px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",4,"ngIf"],[1,"px-2","inline-flex","text-xs","leading-5","font-semibold","rounded-full","bg-green-100","text-green-800"],["id","query-main","name","query-main","rows","4","cols","50",2,"border","solid 1px",3,"ngModel","ngModelChange"],[1,"generate-query"],[2,"background","gray","color","white",3,"click"],[1,"row","mt-3"],["appearance","fill",1,"example-chip-list"],["aria-label","field selection"],["chipList",""],[3,"removed",4,"ngFor","ngForOf"],["placeholder","New field...",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],[3,"removed"],["matChipRemove",""]],template:function(o,l){1&o&&(r.YNc(0,cS,37,8,"div",0),r.YNc(1,dS,44,10,"div",0),r.TgZ(2,"div",1),r.TgZ(3,"div",2),r.TgZ(4,"button",3),r.NdJ("click",function(){return l.syncCustomSqlQuery()}),r._uU(5," Proceed with successfull databases "),r.qZA(),r.qZA(),r.qZA()),2&o&&(r.Q6J("ngIf","other"==l.selectedTargetDatabaseType&&!l.isCustomQuery),r.xp6(1),r.Q6J("ngIf",l.isCustomQuery))},directives:[E.O5,lo,Vn,J0,ae,fn,E.sg,xw,Tw,jn,kn,Iw,V,Fo,vr,yr,Sn,An,Wn],pipes:[E.Ts],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.example-list[_ngcontent-%COMP%]{border:solid 1px #ccc;min-height:61px;background:white;border-radius:4px;overflow:hidden;display:block;max-height:33rem;overflow:scroll}.example-box[_ngcontent-%COMP%]{padding:6px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.example-box.cdk-drag-disabled[_ngcontent-%COMP%]{background:#ccc;cursor:default}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]}),c})();const pS=["button"],fS=["*"],ew=new r.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),tw=new r.OlP("MatButtonToggleGroup"),gS={provide:N,useExisting:(0,r.Gpc)(()=>rw),multi:!0};let iw=0;class nw{constructor(u,o){this.source=u,this.value=o}}let rw=(()=>{class c{constructor(o,l){this._changeDetector=o,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+iw++,this.valueChange=new r.vpe,this.change=new r.vpe,this.appearance=l&&l.appearance?l.appearance:"standard"}get name(){return this._name}set name(o){this._name=o,this._buttonToggles&&this._buttonToggles.forEach(l=>{l.name=this._name,l._markForCheck()})}get vertical(){return this._vertical}set vertical(o){this._vertical=st(o)}get value(){const o=this._selectionModel?this._selectionModel.selected:[];return this.multiple?o.map(l=>l.value):o[0]?o[0].value:void 0}set value(o){this._setSelectionByValue(o),this.valueChange.emit(this.value)}get selected(){const o=this._selectionModel?this._selectionModel.selected:[];return this.multiple?o:o[0]||null}get multiple(){return this._multiple}set multiple(o){this._multiple=st(o)}get disabled(){return this._disabled}set disabled(o){this._disabled=st(o),this._buttonToggles&&this._buttonToggles.forEach(l=>l._markForCheck())}ngOnInit(){this._selectionModel=new co(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(o=>o.checked))}writeValue(o){this.value=o,this._changeDetector.markForCheck()}registerOnChange(o){this._controlValueAccessorChangeFn=o}registerOnTouched(o){this._onTouched=o}setDisabledState(o){this.disabled=o}_emitChangeEvent(){const o=this.selected,l=Array.isArray(o)?o[o.length-1]:o,p=new nw(l,this.value);this._controlValueAccessorChangeFn(p.value),this.change.emit(p)}_syncButtonToggle(o,l,p=!1,b=!1){!this.multiple&&this.selected&&!o.checked&&(this.selected.checked=!1),this._selectionModel?l?this._selectionModel.select(o):this._selectionModel.deselect(o):b=!0,b?Promise.resolve().then(()=>this._updateModelValue(p)):this._updateModelValue(p)}_isSelected(o){return this._selectionModel&&this._selectionModel.isSelected(o)}_isPrechecked(o){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(l=>null!=o.value&&l===o.value):o.value===this._rawValue)}_setSelectionByValue(o){this._rawValue=o,this._buttonToggles&&(this.multiple&&o?(Array.isArray(o),this._clearSelection(),o.forEach(l=>this._selectValue(l))):(this._clearSelection(),this._selectValue(o)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(o=>o.checked=!1)}_selectValue(o){const l=this._buttonToggles.find(p=>null!=p.value&&p.value===o);l&&(l.checked=!0,this._selectionModel.select(l))}_updateModelValue(o){o&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(r.sBO),r.Y36(ew,8))},c.\u0275dir=r.lG2({type:c,selectors:[["mat-button-toggle-group"]],contentQueries:function(o,l,p){if(1&o&&r.Suo(p,ow,5),2&o){let b;r.iGM(b=r.CRH())&&(l._buttonToggles=b)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(o,l){2&o&&(r.uIk("aria-disabled",l.disabled),r.ekj("mat-button-toggle-vertical",l.vertical)("mat-button-toggle-group-appearance-standard","standard"===l.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[r._Bn([gS,{provide:tw,useExisting:c}])]}),c})();const mS=$i(class{});let ow=(()=>{class c extends mS{constructor(o,l,p,b,G,Z){super(),this._changeDetectorRef=l,this._elementRef=p,this._focusMonitor=b,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new r.vpe;const oe=Number(G);this.tabIndex=oe||0===oe?oe:null,this.buttonToggleGroup=o,this.appearance=Z&&Z.appearance?Z.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(o){this._appearance=o}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(o){const l=st(o);l!==this._checked&&(this._checked=l,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(o){this._disabled=st(o)}ngOnInit(){const o=this.buttonToggleGroup;this._isSingleSelector=o&&!o.multiple,this.id=this.id||"mat-button-toggle-"+iw++,this._isSingleSelector&&(this.name=o.name),o&&(o._isPrechecked(this)?this.checked=!0:o._isSelected(this)!==this._checked&&o._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const o=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),o&&o._isSelected(this)&&o._syncButtonToggle(this,!1,!1,!0)}focus(o){this._buttonElement.nativeElement.focus(o)}_onButtonClick(){const o=!!this._isSingleSelector||!this._checked;o!==this._checked&&(this._checked=o,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new nw(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(tw,8),r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(Nn),r.$8M("tabindex"),r.Y36(ew,8))},c.\u0275cmp=r.Xpm({type:c,selectors:[["mat-button-toggle"]],viewQuery:function(o,l){if(1&o&&r.Gf(pS,5),2&o){let p;r.iGM(p=r.CRH())&&(l._buttonElement=p.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(o,l){1&o&&r.NdJ("focus",function(){return l.focus()}),2&o&&(r.uIk("aria-label",null)("aria-labelledby",null)("id",l.id)("name",null),r.ekj("mat-button-toggle-standalone",!l.buttonToggleGroup)("mat-button-toggle-checked",l.checked)("mat-button-toggle-disabled",l.disabled)("mat-button-toggle-appearance-standard","standard"===l.appearance))},inputs:{disableRipple:"disableRipple",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[r.qOj],ngContentSelectors:fS,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(o,l){if(1&o&&(r.F$t(),r.TgZ(0,"button",0,1),r.NdJ("click",function(){return l._onButtonClick()}),r.TgZ(2,"span",2),r.Hsn(3),r.qZA(),r.qZA(),r._UZ(4,"span",3),r._UZ(5,"span",4)),2&o){const p=r.MAs(1);r.Q6J("id",l.buttonId)("disabled",l.disabled||null),r.uIk("tabindex",l.disabled?-1:l.tabIndex)("aria-pressed",l.checked)("name",l.name||null)("aria-label",l.ariaLabel)("aria-labelledby",l.ariaLabelledby),r.xp6(5),r.Q6J("matRippleTrigger",p)("matRippleDisabled",l.disableRipple||l.disabled)}},directives:[pi],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent;transform:translateZ(0)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .cdk-high-contrast-active .mat-button-toggle-focus-overlay{border-bottom:solid 36px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),c})(),vS=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[[Rt,fr],Rt]}),c})();const yS=["roleGrpInput"];function _S(c,u){if(1&c&&(r.TgZ(0,"mat-option",29),r._uU(1),r.qZA()),2&c){const o=u.$implicit;r.Q6J("value",o),r.xp6(1),r.hij(" ",o," ")}}function CS(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"mat-chip",30),r.NdJ("removed",function(){const b=r.CHM(o).$implicit;return r.oxw(2).remove(b)}),r._uU(1),r.TgZ(2,"button",31),r.TgZ(3,"mat-icon"),r._uU(4,"cancel"),r.qZA(),r.qZA(),r.qZA()}if(2&c){const o=u.$implicit;r.xp6(1),r.hij(" ",o," ")}}function wS(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"mat-chip",30),r.NdJ("removed",function(){const b=r.CHM(o).index;return r.oxw(2).removeRole(b)}),r._uU(1),r.TgZ(2,"button",31),r.TgZ(3,"mat-icon"),r._uU(4,"cancel"),r.qZA(),r.qZA(),r.qZA()}if(2&c){const o=u.$implicit;r.xp6(1),r.AsE(" ",o.role_name,"|",o.role_id," ")}}function bS(c,u){if(1&c&&(r.TgZ(0,"mat-option",29),r._uU(1),r.qZA()),2&c){const o=u.$implicit;r.Q6J("value",o),r.xp6(1),r.hij(" ",o.role_name," ")}}function ES(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r.TgZ(8,"input",34),r.NdJ("change",function(){return r.CHM(o),r.oxw(3).formIndexToBeCreated()})("ngModelChange",function(p){return r.CHM(o).$implicit.isSelected=p}),r.qZA(),r.qZA(),r.qZA()}if(2&c){const o=u.$implicit;r.xp6(2),r.Oqu(o.db),r.xp6(2),r.Oqu(o.col),r.xp6(2),r.Oqu(o.does_col_exist?"\u2705":"\u274c"),r.xp6(2),r.Q6J("ngModel",o.isSelected)("disabled",!o.does_col_exist)}}function SS(c,u){if(1&c&&(r.TgZ(0,"table",32),r.TgZ(1,"tr"),r.TgZ(2,"th"),r._uU(3,"database"),r.qZA(),r.TgZ(4,"th"),r._uU(5,"collection"),r.qZA(),r.TgZ(6,"th"),r._uU(7,"exists"),r.qZA(),r.TgZ(8,"th"),r._uU(9,"select to index"),r.qZA(),r.qZA(),r.YNc(10,ES,9,5,"tr",33),r.qZA()),2&c){const o=r.oxw(2);r.xp6(10),r.Q6J("ngForOf",o.collectionExistenceResult)}}function AS(c,u){1&c&&(r.TgZ(0,"div",8),r.TgZ(1,"div",1),r._uU(2," The following indexes will be created only for the databases that have selected collection "),r.qZA(),r.qZA())}function RS(c,u){if(1&c&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.qZA()),2&c){const o=u.$implicit;r.xp6(2),r.Oqu(o.index_name),r.xp6(2),r.Oqu(o.isIndexed?"\u2705":"\u274c"),r.xp6(2),r.Oqu(o.isPipelined?"\u2705":"\u274c")}}function DS(c,u){if(1&c&&(r.TgZ(0,"table",32),r.TgZ(1,"tr"),r.TgZ(2,"th"),r._uU(3,"Index"),r.qZA(),r.TgZ(4,"th"),r._uU(5,"indexing status"),r.qZA(),r.TgZ(6,"th"),r._uU(7,"pipeline status"),r.qZA(),r.qZA(),r.YNc(8,RS,7,3,"tr",33),r.qZA()),2&c){const o=r.oxw(2);r.xp6(8),r.Q6J("ngForOf",o.indexToBeCreated)}}function xS(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",0),r.TgZ(2,"div",6),r.TgZ(3,"div",7),r.TgZ(4,"div",1),r._uU(5,"Select the Column To be indexed"),r.qZA(),r.qZA(),r.TgZ(6,"div",8),r.TgZ(7,"div",1),r.TgZ(8,"mat-form-field",9),r.TgZ(9,"mat-label"),r._uU(10,"collection name"),r.qZA(),r._UZ(11,"input",10),r.TgZ(12,"mat-autocomplete",11,12),r.NdJ("optionSelected",function(p){return r.CHM(o),r.oxw().changeInBaseCollection(p)}),r.YNc(14,_S,2,2,"mat-option",13),r.ALo(15,"async"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(16,"div",8),r.TgZ(17,"div",1),r._uU(18,"define the field names to be indexed"),r.qZA(),r.qZA(),r.TgZ(19,"div",8),r.TgZ(20,"div",1),r.TgZ(21,"mat-form-field",14),r.TgZ(22,"mat-label"),r._uU(23,"columns"),r.qZA(),r.TgZ(24,"mat-chip-list",15,16),r.YNc(26,CS,5,1,"mat-chip",17),r.TgZ(27,"input",18),r.NdJ("matChipInputTokenEnd",function(p){return r.CHM(o),r.oxw().add(p)}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(28,"div",8),r.TgZ(29,"div",1),r._uU(30," Determine the role groups to which the index is accessible "),r.qZA(),r.qZA(),r.TgZ(31,"div",8),r.TgZ(32,"div",1),r.TgZ(33,"mat-form-field",14),r.TgZ(34,"mat-label"),r._uU(35,"Role groups"),r.qZA(),r.TgZ(36,"mat-chip-list",null,19),r.YNc(38,wS,5,2,"mat-chip",17),r._UZ(39,"input",20,21),r.qZA(),r.TgZ(41,"mat-autocomplete",22,23),r.NdJ("optionSelected",function(p){return r.CHM(o),r.oxw().selected(p)}),r.YNc(43,bS,2,2,"mat-option",13),r.ALo(44,"async"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(45,"div",8),r.TgZ(46,"div",1),r._uU(47,"Index alias name"),r.qZA(),r.qZA(),r.TgZ(48,"div",8),r.TgZ(49,"div",1),r.TgZ(50,"mat-form-field",24),r.TgZ(51,"mat-label"),r._uU(52,"Index alias"),r.qZA(),r._UZ(53,"input",25),r.qZA(),r.qZA(),r.qZA(),r.TgZ(54,"div",8),r.TgZ(55,"div",1),r._uU(56,"Index Route Url"),r.qZA(),r.qZA(),r.TgZ(57,"div",8),r.TgZ(58,"div",1),r.TgZ(59,"mat-form-field",24),r.TgZ(60,"mat-label"),r._uU(61,"index route url"),r.qZA(),r._UZ(62,"input",25),r.qZA(),r.qZA(),r.qZA(),r.TgZ(63,"div",0),r.TgZ(64,"div",1),r.TgZ(65,"button",26),r.NdJ("click",function(){return r.CHM(o),r.oxw().startIndexing()}),r._uU(66," Start Indexing "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(67,"div",6),r.TgZ(68,"div",0),r.TgZ(69,"div",1),r.YNc(70,SS,11,1,"table",27),r.qZA(),r.qZA(),r.YNc(71,AS,3,0,"div",28),r.TgZ(72,"div",0),r.TgZ(73,"div",1),r.YNc(74,DS,9,1,"table",27),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&c){const o=r.MAs(13),l=r.MAs(25),p=r.MAs(37),b=r.MAs(42),G=r.oxw();r.xp6(11),r.Q6J("formControl",G.collectionNameControl)("matAutocomplete",o),r.xp6(3),r.Q6J("ngForOf",r.lcZ(15,18,G.collectionNameFilteredOptions)),r.xp6(12),r.Q6J("ngForOf",G.fieldsToBeIndexed),r.xp6(1),r.Q6J("matChipInputFor",l)("matChipInputSeparatorKeyCodes",G.separatorKeysCodes)("matChipInputAddOnBlur",G.addOnBlur),r.xp6(11),r.Q6J("ngForOf",G.selectedRoleGroups),r.xp6(1),r.Q6J("formControl",G.roleGroupCtrl)("matAutocomplete",b)("matChipInputFor",p)("matChipInputSeparatorKeyCodes",G.separatorKeysCodes),r.xp6(4),r.Q6J("ngForOf",r.lcZ(44,20,G.filteredRoleGroups)),r.xp6(10),r.Q6J("formControl",G.indexAlias),r.xp6(9),r.Q6J("formControl",G.routeUrl),r.xp6(8),r.Q6J("ngIf",G.collectionExistenceResult.length>0),r.xp6(1),r.Q6J("ngIf",G.indexToBeCreated.length>0),r.xp6(3),r.Q6J("ngIf",G.indexToBeCreated.length>0)}}function OS(c,u){if(1&c&&(r.TgZ(0,"mat-option",29),r._uU(1),r.qZA()),2&c){const o=u.$implicit;r.Q6J("value",o),r.xp6(1),r.hij(" ",o," ")}}function TS(c,u){if(1&c&&(r.TgZ(0,"mat-option",29),r._uU(1),r.qZA()),2&c){const o=u.$implicit;r.Q6J("value",o),r.xp6(1),r.hij(" ",o," ")}}function FS(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"mat-chip",30),r.NdJ("removed",function(){const b=r.CHM(o).$implicit;return r.oxw(2).remove(b)}),r._uU(1),r.TgZ(2,"button",31),r.TgZ(3,"mat-icon"),r._uU(4,"cancel"),r.qZA(),r.qZA(),r.qZA()}if(2&c){const o=u.$implicit;r.xp6(1),r.hij(" ",o," ")}}function PS(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"mat-chip",30),r.NdJ("removed",function(){const b=r.CHM(o).index;return r.oxw(2).removeRole(b)}),r._uU(1),r.TgZ(2,"button",31),r.TgZ(3,"mat-icon"),r._uU(4,"cancel"),r.qZA(),r.qZA(),r.qZA()}if(2&c){const o=u.$implicit;r.xp6(1),r.AsE(" ",o.role_name,"|",o.role_id," ")}}function MS(c,u){if(1&c&&(r.TgZ(0,"mat-option",29),r._uU(1),r.qZA()),2&c){const o=u.$implicit;r.Q6J("value",o),r.xp6(1),r.hij(" ",o.role_name," ")}}function IS(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"div",0),r.TgZ(2,"div",6),r.TgZ(3,"div",7),r.TgZ(4,"div",1),r._uU(5,"Select the Other database"),r.qZA(),r.qZA(),r.TgZ(6,"div",8),r.TgZ(7,"div",1),r.TgZ(8,"mat-form-field",9),r.TgZ(9,"mat-label"),r._uU(10,"database"),r.qZA(),r._UZ(11,"input",35),r.TgZ(12,"mat-autocomplete",11,36),r.NdJ("optionSelected",function(p){return r.CHM(o),r.oxw().changeInOtherDatabase(p)}),r.YNc(14,OS,2,2,"mat-option",13),r.ALo(15,"async"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(16,"div",7),r.TgZ(17,"div",1),r._uU(18,"Select the collection"),r.qZA(),r.qZA(),r.TgZ(19,"div",8),r.TgZ(20,"div",1),r.TgZ(21,"mat-form-field",9),r.TgZ(22,"mat-label"),r._uU(23,"Collection"),r.qZA(),r._UZ(24,"input",37),r.TgZ(25,"mat-autocomplete",11,38),r.NdJ("optionSelected",function(p){return r.CHM(o),r.oxw().changeInOtherDatabaseCollection(p)}),r.YNc(27,TS,2,2,"mat-option",13),r.ALo(28,"async"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(29,"div",8),r.TgZ(30,"div",1),r._uU(31,"Index Route Url"),r.qZA(),r.qZA(),r.TgZ(32,"div",8),r.TgZ(33,"div",1),r.TgZ(34,"mat-form-field",24),r.TgZ(35,"mat-label"),r._uU(36,"index route url"),r.qZA(),r._UZ(37,"input",25),r.qZA(),r.qZA(),r.qZA(),r.TgZ(38,"div",8),r.TgZ(39,"div",1),r._uU(40,"define the field names to be indexed"),r.qZA(),r.qZA(),r.TgZ(41,"div",8),r.TgZ(42,"div",1),r.TgZ(43,"mat-form-field",14),r.TgZ(44,"mat-label"),r._uU(45,"columns"),r.qZA(),r.TgZ(46,"mat-chip-list",15,16),r.YNc(48,FS,5,1,"mat-chip",17),r.TgZ(49,"input",18),r.NdJ("matChipInputTokenEnd",function(p){return r.CHM(o),r.oxw().add(p)}),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(50,"div",8),r.TgZ(51,"div",1),r._uU(52," Determine the role groups to which the index is accessible "),r.qZA(),r.qZA(),r.TgZ(53,"div",8),r.TgZ(54,"div",1),r.TgZ(55,"mat-form-field",14),r.TgZ(56,"mat-label"),r._uU(57,"Role groups"),r.qZA(),r.TgZ(58,"mat-chip-list",null,19),r.YNc(60,PS,5,2,"mat-chip",17),r._UZ(61,"input",20,21),r.qZA(),r.TgZ(63,"mat-autocomplete",22,23),r.NdJ("optionSelected",function(p){return r.CHM(o),r.oxw().selected(p)}),r.YNc(65,MS,2,2,"mat-option",13),r.ALo(66,"async"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(67,"div",8),r.TgZ(68,"div",1),r._uU(69,"Index alias name"),r.qZA(),r.qZA(),r.TgZ(70,"div",8),r.TgZ(71,"div",1),r.TgZ(72,"mat-form-field",24),r.TgZ(73,"mat-label"),r._uU(74,"Index alias"),r.qZA(),r._UZ(75,"input",25),r.qZA(),r.qZA(),r.qZA(),r.TgZ(76,"div",0),r.TgZ(77,"div",1),r.TgZ(78,"button",26),r.NdJ("click",function(){return r.CHM(o),r.oxw().startIndexingOtherDbCollection()}),r._uU(79," Start Indexing "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&c){const o=r.MAs(13),l=r.MAs(26),p=r.MAs(47),b=r.MAs(59),G=r.MAs(64),Z=r.oxw();r.xp6(11),r.Q6J("formControl",Z.otherDbNameFormCtrl)("matAutocomplete",o),r.xp6(3),r.Q6J("ngForOf",r.lcZ(15,18,Z.otherDbFilteredOptions)),r.xp6(10),r.Q6J("formControl",Z.otherDbCollectionNameFormCtrl)("matAutocomplete",l),r.xp6(3),r.Q6J("ngForOf",r.lcZ(28,20,Z.otherDbCollectionFilteredOptions)),r.xp6(10),r.Q6J("formControl",Z.routeUrl),r.xp6(11),r.Q6J("ngForOf",Z.fieldsToBeIndexed),r.xp6(1),r.Q6J("matChipInputFor",p)("matChipInputSeparatorKeyCodes",Z.separatorKeysCodes)("matChipInputAddOnBlur",Z.addOnBlur),r.xp6(11),r.Q6J("ngForOf",Z.selectedRoleGroups),r.xp6(1),r.Q6J("formControl",Z.roleGroupCtrl)("matAutocomplete",G)("matChipInputFor",b)("matChipInputSeparatorKeyCodes",Z.separatorKeysCodes),r.xp6(4),r.Q6J("ngForOf",r.lcZ(66,22,Z.filteredRoleGroups)),r.xp6(10),r.Q6J("formControl",Z.indexAlias)}}const sw=function(c){return{background:c}};let LS=(()=>{class c{constructor(o,l,p){this._es=o,this.dialog=l,this.toastr=p,this.tenantDatabases=[],this.otherDatabases=[],this.collectionNameControl=new Ot,this.baseCollectionNames=[],this.addOnBlur=!0,this.separatorKeysCodes=[13,188],this.fieldsToBeIndexed=["_id"],this.collectionExistenceResult=[],this.indexToBeCreated=[],this.indexAlias=new Ot,this.roleGroupCtrl=new Ot,this.selectedRoleGroups=[],this.allRoleGroups=[],this.routeUrl=new Ot,this.otherDbNameFormCtrl=new Ot,this.otherSelectedDbCollections=[],this.otherDbCollectionNameFormCtrl=new Ot,this.getRoleGroups=()=>{this._es.getRoleGroups().pipe(bt("data")).subscribe({next:b=>{this.allRoleGroups=b},error:b=>this.handleError(b)})},this.getBaseCollections=()=>{this._es.getMongoBaseCollections().pipe(bt("data")).subscribe({next:b=>{this.baseCollectionNames=b},error:b=>this.handleError(b)})},this.getAllDatabases=()=>{this._es.getMongoAllDatabases().pipe(bt("data")).subscribe({next:b=>{this.tenantDatabases=b.tenant_dbs,this.otherDatabases=b.other_dbs},error:b=>this.handleError(b)})}}ngOnInit(){this.getRoleGroups(),this.getAllDatabases(),this.getBaseCollections(),this.collectionNameFilteredOptions=this.collectionNameControl.valueChanges.pipe((0,Dt.O)(""),(0,D.U)(o=>this._tableNameFilter(o))),this.filteredRoleGroups=this.roleGroupCtrl.valueChanges.pipe((0,Dt.O)(null),(0,D.U)(o=>o?this._filter(o):this.allRoleGroups.slice())),this.otherDbFilteredOptions=this.otherDbNameFormCtrl.valueChanges.pipe((0,Dt.O)(""),(0,D.U)(o=>this._otherDbNameFilter(o))),this.getMapping()}_otherDbNameFilter(o){const l=o.toLowerCase();return this.otherDatabases.filter(p=>p.toLowerCase().includes(l))}_otherDbCollectionNameFilter(o){const l=o.toLowerCase();return this.otherSelectedDbCollections.filter(p=>p.toLowerCase().includes(l))}_filter(o){let l=null;return l="object"==typeof o?o.role_name.toLowerCase():o.toLowerCase(),this.allRoleGroups.filter(p=>p.role_name.toLowerCase().includes(l))}removeRole(o){this.selectedRoleGroups.splice(o,1)}selected(o){this.selectedRoleGroups.push(o.option.value),this.roleGrpInput.nativeElement.value="",this.roleGroupCtrl.setValue(null)}getMapping(){this._es.getMappings({is_default:!0}).pipe(bt("data")).subscribe({next:o=>{this.constructedMapping=o},error:o=>{console.error(o)}})}add(o){const l=(o.value||"").trim();l&&this.fieldsToBeIndexed.push(l),o.chipInput.clear()}remove(o){const l=this.fieldsToBeIndexed.indexOf(o);l>=0&&this.fieldsToBeIndexed.splice(l,1)}_tableNameFilter(o){const l=o.toLowerCase();return this.baseCollectionNames.filter(p=>p.toLowerCase().includes(l))}selectTargetDbType(o){this.selectedTargetDatabaseType=o}changeInBaseCollection(o){this.selectedBaseCollection=o.option.value,this._es.getcollectionExistenceResult(this.tenantDatabases,this.selectedBaseCollection).pipe(bt("data")).subscribe({next:p=>{this.collectionExistenceResult=p.map(b=>Object.assign(Object.assign({},b),{isSelected:!1}))},error:p=>this.handleError(p)})}changeInOtherDatabase(o){this.selectedOtherDb=o.option.value,this._es.listCollectionsOfDatabase(this.selectedOtherDb).pipe(bt("data")).subscribe({next:l=>{this.otherSelectedDbCollections=l,this.otherDbCollectionFilteredOptions=this.otherDbCollectionNameFormCtrl.valueChanges.pipe((0,Dt.O)(""),(0,D.U)(p=>this._otherDbCollectionNameFilter(p)))},error:l=>this.handleError(l)})}changeInOtherDatabaseCollection(o){this.selectedOtherDbCollection=o.option.value}formIndexToBeCreated(){this.indexToBeCreated=[],this.collectionExistenceResult.forEach(o=>{o.isSelected&&this.indexToBeCreated.push(Object.assign(Object.assign({},o),{index_name:`${o.col}_${o.db}`}))})}startIndexing(){this.indexToBeCreated.length>0&&this.fieldsToBeIndexed.length>=3&&this.indexAlias.valid?(this.createElasticIndices(),this.createMongoPipelines()):this.toastr.error("You dont match the criteria \n should have 3 or more fields, \n A database must be selected, \n index alias name should be provided")}startIndexingOtherDbCollection(){this.selectedOtherDbCollection&&this._es.createIndex(this.selectedOtherDbCollection,this.constructedMapping).pipe(bt("data")).subscribe({next:o=>{o.acknowledged&&(this.toastr.info(`Created index ${this.selectedOtherDbCollection}`),1)&&this._es.createMongoPipelines({index_name:this.selectedOtherDbCollection,db:this.selectedOtherDb,alias:this.indexAlias.value,col:this.selectedOtherDbCollection},this.fieldsToBeIndexed,this.selectedRoleGroups,this.routeUrl.value,"other_db").subscribe({next:b=>{console.log(b),this.toastr.success(`created pipeline ${this.selectedOtherDbCollection}-pipe`)},error:b=>this.handleError(b)})},error:o=>this.handleError(o)})}createElasticIndices(){this.indexToBeCreated.forEach(o=>{this._es.createIndex(o.index_name,this.constructedMapping).pipe(bt("data")).subscribe({next:l=>{l.acknowledged&&(this.toastr.info(`Created index ${o.index_name}`),o.isIndexed=!0)},error:l=>this.handleError(l)})})}createMongoPipelines(){this.indexAlias.valid&&this.indexToBeCreated.length>0&&this.indexToBeCreated.forEach(o=>{let l=Object.assign(Object.assign({},o),{alias:this.indexAlias.value});this._es.createMongoPipelines(l,this.fieldsToBeIndexed,this.selectedRoleGroups,this.routeUrl.value,"tad").subscribe({next:p=>{console.log(p),this.toastr.success(`created pipeline ${o.index_name}-pipe`),o.isPipelined=!0},error:p=>this.handleError(p)})})}handleError(o){console.log(o)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(R),r.Y36(bn),r.Y36(mu._W))},c.\u0275cmp=r.Xpm({type:c,selectors:[["exec-target-mongo"]],viewQuery:function(o,l){if(1&o&&r.Gf(yS,5),2&o){let p;r.iGM(p=r.CRH())&&(l.roleGrpInput=p.first)}},decls:13,vars:9,consts:[[1,"row"],[1,"col-12"],["name","fontStyle","aria-label","Font Style",3,"value"],["value","tad",3,"ngStyle","click"],["value","Other",3,"ngStyle","click"],[4,"ngIf"],[1,"col-5"],[1,"row","mt-3"],[1,"row","mt-2"],["appearance","fill",1,"example-full-width"],["type","text","placeholder","Pick one","aria-label","Table Name","matInput","",3,"formControl","matAutocomplete"],["autoActiveFirstOption","",3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill",1,"example-chip-list"],["aria-label","field selection"],["chipList",""],[3,"removed",4,"ngFor","ngForOf"],["placeholder","New field...",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["chipListRoleGroup",""],["placeholder","New Role Group...",3,"formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],["roleGrpInput",""],[3,"optionSelected"],["autoRole","matAutocomplete"],["appearance","fill"],["matInput","",3,"formControl"],["mat-raised-button","",1,"ml-3",3,"click"],["id","col-existence",4,"ngIf"],["class","row mt-2",4,"ngIf"],[3,"value"],[3,"removed"],["matChipRemove",""],["id","col-existence"],[4,"ngFor","ngForOf"],["type","checkbox",3,"ngModel","disabled","change","ngModelChange"],["type","text","placeholder","Pick one","aria-label","database  Name","matInput","",3,"formControl","matAutocomplete"],["auto1","matAutocomplete"],["type","text","placeholder","Pick one","aria-label","Collection  Name","matInput","",3,"formControl","matAutocomplete"],["auto2","matAutocomplete"]],template:function(o,l){1&o&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"h4"),r._uU(3,"Select the Target Databases to which you want to sync Data"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(4,"div",0),r.TgZ(5,"div",1),r.TgZ(6,"mat-button-toggle-group",2),r.TgZ(7,"mat-button-toggle",3),r.NdJ("click",function(){return l.selectTargetDbType("tad")}),r._uU(8,"Tenant Databases"),r.qZA(),r.TgZ(9,"mat-button-toggle",4),r.NdJ("click",function(){return l.selectTargetDbType("other")}),r._uU(10,"Other Databases"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(11,xS,75,22,"div",5),r.YNc(12,IS,80,24,"div",5)),2&o&&(r.xp6(6),r.Q6J("value",l.selectedTargetDatabaseType),r.xp6(1),r.Q6J("ngStyle",r.VKq(5,sw,"tad"==l.selectedTargetDatabaseType?"bisque":"")),r.xp6(2),r.Q6J("ngStyle",r.VKq(7,sw,"other"==l.selectedTargetDatabaseType?"bisque":"")),r.xp6(2),r.Q6J("ngIf","tad"==l.selectedTargetDatabaseType),r.xp6(1),r.Q6J("ngIf","other"==l.selectedTargetDatabaseType))},directives:[rw,ow,E.PC,E.O5,lo,Vn,my,V,po,ae,fn,ds,E.sg,vr,yr,jn,kn,Sn,An,Wn,I,Fo],pipes:[E.Ov],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}.example-list[_ngcontent-%COMP%]{border:solid 1px #ccc;min-height:60px;background:white;border-radius:4px;overflow:hidden;display:block;max-height:33rem;overflow:scroll}.example-box[_ngcontent-%COMP%]{padding:6px;border-bottom:solid 1px #ccc;color:#000000de;display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:white;font-size:14px}.example-box.cdk-drag-disabled[_ngcontent-%COMP%]{background:#ccc;cursor:default}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.example-box[_ngcontent-%COMP%]:last-child{border:none}.example-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}#col-existence[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;border-collapse:collapse;width:100%}#col-existence[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #col-existence[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}#col-existence[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f2f2f2}#col-existence[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ddd}#col-existence[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;text-align:left;background-color:#04aa6d;color:#fff}.example-chip-list[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),c})();function NS(c,u){1&c&&r._uU(0,"Ingestion Mode")}function BS(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"div",14),r.NdJ("click",function(){const b=r.CHM(o).$implicit,G=r.oxw(),Z=r.MAs(1);return G.selectIngestionMode(b.value,Z)}),r.TgZ(1,"a",15),r._uU(2),r.qZA(),r.qZA()}if(2&c){const o=u.$implicit;r.xp6(2),r.hij(" ",o.label," ")}}function kS(c,u){1&c&&r._uU(0,"Database Type")}const aw=function(c){return{"bg-indigo-700 text-white":c}};function GS(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"div",14),r.NdJ("click",function(){const b=r.CHM(o).$implicit,G=r.oxw(2),Z=r.MAs(1);return G.selectdbType(b.value,Z)}),r.TgZ(1,"a",21),r._uU(2),r.qZA(),r.qZA()}if(2&c){const o=u.$implicit,l=r.oxw(2);r.xp6(1),r.Q6J("ngClass",r.VKq(2,aw,l.selectedDatabaseType==o.value)),r.xp6(1),r.hij(" ",o.label," ")}}function HS(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"div",14),r.NdJ("click",function(){const b=r.CHM(o).$implicit;return r.oxw(2).selectFetchMethod(b.value)}),r.TgZ(1,"a",21),r._uU(2),r.qZA(),r.qZA()}if(2&c){const o=u.$implicit,l=r.oxw(2);r.xp6(1),r.Q6J("ngClass",r.VKq(2,aw,l.selectedFetchMethod==o.value)),r.xp6(1),r.hij(" ",o.label," ")}}function VS(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"mat-step"),r.YNc(1,kS,1,0,"ng-template",2),r.TgZ(2,"p",3),r._uU(3,"Choose Database Type"),r.qZA(),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r.TgZ(6,"main",6),r.TgZ(7,"div",16),r.TgZ(8,"h1",8),r.TgZ(9,"span",9),r._uU(10,"Choose Database type from which you need to sync data"),r.qZA(),r.qZA(),r.TgZ(11,"p",10),r._uU(12," Selecting Mysql allows you to sync mysql tables with elastic search and selecting Mongo Db allows you to sync mongo collections with elastic search ! "),r.qZA(),r.TgZ(13,"div",11),r.YNc(14,GS,3,4,"div",12),r.qZA(),r.qZA(),r.TgZ(15,"div",17),r.TgZ(16,"h1",8),r.TgZ(17,"span",9),r._uU(18,"Choose retrieval Query type"),r.qZA(),r.qZA(),r.TgZ(19,"div",18),r.YNc(20,HS,3,4,"div",12),r.TgZ(21,"div",19),r.TgZ(22,"button",20),r.NdJ("click",function(){r.CHM(o);const p=r.oxw(),b=r.MAs(1);return p.moveFromDbTypeStep(b)}),r.TgZ(23,"mat-icon"),r._uU(24,"done"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&c){const o=r.oxw();r.xp6(14),r.Q6J("ngForOf",o.dbTypes),r.xp6(6),r.Q6J("ngForOf",o.fetchMethods)}}function WS(c,u){1&c&&r._uU(0,"Execution Target")}function $S(c,u){1&c&&r._UZ(0,"exec-target-mysql")}function jS(c,u){1&c&&r._UZ(0,"exec-target-mongo")}function US(c,u){if(1&c&&(r.TgZ(0,"mat-step"),r.YNc(1,WS,1,0,"ng-template",2),r.YNc(2,$S,1,0,"exec-target-mysql",13),r.YNc(3,jS,1,0,"exec-target-mongo",13),r.qZA()),2&c){const o=r.oxw();r.xp6(2),r.Q6J("ngIf","mysql"==o.selectedDatabaseType),r.xp6(1),r.Q6J("ngIf","mongo"==o.selectedDatabaseType)}}let zS=(()=>{class c{constructor(){this.ingestionMode=[{label:"Database Sync",value:"database_sync"},{label:"REST API",value:"rest"}],this.fetchMethods=[{label:"Table / collection FETCH",value:"tableOrcollection_fetch"}],this.dbTypes=[{label:"MYSQL",value:"mysql"},{label:"Mongo DB",value:"mongo"}]}ngOnInit(){}selectIngestionMode(o,l){this.selectedIngestionMode=o,l.next()}selectdbType(o,l){this.selectedDatabaseType=o}goBack(o){o.previous()}selectFetchMethod(o){this.selectedFetchMethod=o}moveFromDbTypeStep(o){this.selectedDatabaseType&&this.selectedFetchMethod&&o.next()}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275cmp=r.Xpm({type:c,selectors:[["index-sync"]],decls:19,vars:4,consts:[[3,"linear"],["stepper",""],["matStepLabel",""],[1,"mt-3","text-base","text-gray-500"],[1,"row"],[1,"col-12"],[1,"mx-auto"],[1,"sm:text-center","lg:text-left"],[1,"text-4xl","tracking-tight","font-extrabold","text-gray-900","sm:text-5xl","md:text-6xl"],[1,"block","text-indigo-600","xl:inline"],[1,"mt-3","text-base","text-gray-500","sm:mt-5","sm:text-lg","sm:max-w-xl","sm:mx-auto","md:mt-5","md:text-xl","lg:mx-0"],[1,"mt-5","sm:mt-8","sm:flex","sm:justify-center","lg:justify-start"],["class","mt-3 sm:mt-0 sm:ml-3","style","cursor: pointer",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"mt-3","sm:mt-0","sm:ml-3",2,"cursor","pointer",3,"click"],[1,"w-full","flex","items-center","justify-center","px-8","py-3","border","border-transparent","text-base","font-medium","rounded-md","text-indigo-700","bg-indigo-100","hover:bg-indigo-200","md:py-4","md:text-lg","md:px-10"],[1,"sm:text-center","lg:text-left","pb-5","border-bottom","solid"],[1,"mt-3","sm:text-center","lg:text-left"],[1,"sm:flex","sm:justify-center","lg:justify-start"],[1,"mt-3","sm:mt-0","sm:ml-3"],["mat-mini-fab","","color","accent",3,"click"],[1,"w-full","flex","items-center","justify-center","px-8","py-3","border","border-transparent","text-base","font-medium","rounded-md","text-indigo-700","bg-indigo-100","hover:bg-indigo-200","md:py-4","md:text-lg","md:px-10",3,"ngClass"]],template:function(o,l){1&o&&(r.TgZ(0,"mat-stepper",0,1),r.TgZ(2,"mat-step"),r.YNc(3,NS,1,0,"ng-template",2),r.TgZ(4,"p",3),r._uU(5," Selecting Database Sync allows you to sync tables / collections with elastic search , and choosing REST APIs allows you to sync data using rest API "),r.qZA(),r.TgZ(6,"div",4),r.TgZ(7,"div",5),r.TgZ(8,"main",6),r.TgZ(9,"div",7),r.TgZ(10,"h1",8),r.TgZ(11,"span",9),r._uU(12,"Choose ingestion medium from which you need to sync data"),r.qZA(),r.qZA(),r.TgZ(13,"p",10),r._uU(14," Selecting Mysql allows you to sync mysql tables with elastic search and selecting Mongo Db allows you to sync mongo collections with elastic search ! "),r.qZA(),r.TgZ(15,"div",11),r.YNc(16,BS,3,1,"div",12),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(17,VS,25,2,"mat-step",13),r.YNc(18,US,4,2,"mat-step",13),r.qZA()),2&o&&(r.Q6J("linear",!0),r.xp6(16),r.Q6J("ngForOf",l.ingestionMode),r.xp6(1),r.Q6J("ngIf","database_sync"==l.selectedIngestionMode),r.xp6(1),r.Q6J("ngIf","database_sync"==l.selectedIngestionMode))},directives:[gC,pC,Zi,E.sg,E.O5,jn,Wn,E.mk,hS,LS],styles:[".mat-stepper-vertical[_ngcontent-%COMP%]{margin-top:8px}.mat-form-field[_ngcontent-%COMP%]{margin-top:16px}"]}),c})();const ZS=["roleGrpInput"];function qS(c,u){if(1&c){const o=r.EpF();r.TgZ(0,"mat-chip",15),r.NdJ("removed",function(){const b=r.CHM(o).index;return r.oxw(2).remove(b)}),r._uU(1),r.TgZ(2,"button",16),r.TgZ(3,"mat-icon"),r._uU(4,"cancel"),r.qZA(),r.qZA(),r.qZA()}if(2&c){const o=u.$implicit;r.xp6(1),r.AsE(" ",o.role_name,"|",o.role_id," ")}}function KS(c,u){if(1&c&&(r.TgZ(0,"mat-option",17),r._uU(1),r.qZA()),2&c){const o=u.$implicit;r.Q6J("value",o),r.xp6(1),r.hij(" ",o.role_name," ")}}function YS(c,u){if(1&c){const o=r.EpF();r.ynx(0),r.TgZ(1,"div",5),r.TgZ(2,"div",2),r._uU(3," Determine the role groups to which the index is accessible "),r.qZA(),r.qZA(),r.TgZ(4,"div",5),r.TgZ(5,"div",2),r.TgZ(6,"mat-form-field",7),r.TgZ(7,"mat-label"),r._uU(8,"Role groups"),r.qZA(),r.TgZ(9,"mat-chip-list",null,8),r.YNc(11,qS,5,2,"mat-chip",9),r._UZ(12,"input",10,11),r.qZA(),r.TgZ(14,"mat-autocomplete",12,13),r.NdJ("optionSelected",function(p){return r.CHM(o),r.oxw().selected(p)}),r.YNc(16,KS,2,2,"mat-option",14),r.ALo(17,"async"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.BQk()}if(2&c){const o=r.MAs(10),l=r.MAs(15),p=r.oxw();r.xp6(11),r.Q6J("ngForOf",p.selectedRoleGroups),r.xp6(1),r.Q6J("formControl",p.roleGroupCtrl)("matAutocomplete",l)("matChipInputFor",o)("matChipInputSeparatorKeyCodes",p.separatorKeysCodes),r.xp6(4),r.Q6J("ngForOf",r.lcZ(17,6,p.filteredRoleGroups))}}const QS=[{path:"",component:(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275cmp=r.Xpm({type:c,selectors:[["app-si-mgmt-home"]],decls:8,vars:0,consts:[["mat-tab-nav-bar",""],["mat-tab-link","","routerLink","stats","routerLinkActive","active-link"],["mat-tab-link","","routerLink","sync","routerLinkActive","active-link"],["mat-tab-link","","routerLink","role-mgmt","routerLinkActive","active-link"]],template:function(o,l){1&o&&(r.TgZ(0,"nav",0),r.TgZ(1,"a",1),r._uU(2," Index Stats "),r.qZA(),r.TgZ(3,"a",2),r._uU(4," Index Synchronization "),r.qZA(),r.TgZ(5,"a",3),r._uU(6," Role Management "),r.qZA(),r.qZA(),r._UZ(7,"router-outlet"))},directives:[mh,B.yS,Rc,B.Od,B.lC],styles:[".tabs[_ngcontent-%COMP%]{display:inline-block;background-color:#eee;border-radius:4px;margin-top:1em}.active-link[_ngcontent-%COMP%]{color:#f20b22}"]}),c})(),children:[{path:"",redirectTo:"stats",pathMatch:"full"},{path:"stats",component:bp},{path:"sync",component:zS},{path:"role-mgmt",component:(()=>{class c{constructor(o,l){this._es=o,this.toastr=l,this.indices=[],this.rowSelection="multiple",this.selectedRows=[],this.columnDefs=[{field:"index_name",sortable:!0,filter:!0,checkboxSelection:!0},{field:"formatted_acc_roles",sortable:!0,filter:!0},{field:"database_type",sortable:!0,filter:!0},{field:"db_name",sortable:!0,filter:!0},{field:"table_name",sortable:!0,filter:!0}],this.roleGroupCtrl=new Ot,this.allRoleGroups=[],this.separatorKeysCodes=[13,188],this.selectedRoleGroups=[],this.getRoleGroups=()=>{this._es.getRoleGroups().pipe(bt("data")).subscribe({next:p=>{this.allRoleGroups=p},error:p=>this.handleError(p)})},this.filteredRoleGroups=this.roleGroupCtrl.valueChanges.pipe((0,Dt.O)(null),(0,D.U)(p=>p?this._filter(p):this.allRoleGroups.slice()))}_filter(o){let l=null;return l="object"==typeof o?o.role_name.toLowerCase():o.toLowerCase(),this.allRoleGroups.filter(p=>p.role_name.toLowerCase().includes(l))}ngOnInit(){this.getRoleGroups(),this.getAllIndices()}onSelectionChanged(o){this.selectedRows=this.gridApi.getSelectedRows()}onGridReady(o){this.gridApi=o.api}getAllIndices(){this._es.getAllIndices().pipe(bt("data")).subscribe({next:o=>{this.indices=o.map(l=>({_id:l._id,index_name:l.index_name,accessible_roles:l.accessible_roleGroups,formatted_acc_roles:Or(l.accessible_roleGroups,"role_name").toString(),database_type:l.database_type,db_name:l.db_name,table_name:l.table_name}))},error:o=>{console.error(o)}})}updateRoles(){let o=Or(this.selectedRows,"index_name");this._es.updateIndicesRoles(o,this.selectedRoleGroups).subscribe({next:l=>{window.location.reload()},error:l=>this.handleError(l)})}remove(o){this.selectedRoleGroups.splice(o,1)}selected(o){this.selectedRoleGroups.push(o.option.value),this.roleGrpInput.nativeElement.value="",this.roleGroupCtrl.setValue(null)}handleError(o){console.log(o)}}return c.\u0275fac=function(o){return new(o||c)(r.Y36(R),r.Y36(mu._W))},c.\u0275cmp=r.Xpm({type:c,selectors:[["app-role-mgmt"]],viewQuery:function(o,l){if(1&o&&r.Gf(ZS,5),2&o){let p;r.iGM(p=r.CRH())&&(l.roleGrpInput=p.first)}},decls:10,vars:6,consts:[[4,"ngIf"],[1,"row","mt-3"],[1,"col-12"],[1,"text-red-600","font-bold"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"row","mt-2"],[1,"ag-theme-alpine",2,"height","500px",3,"rowData","columnDefs","rowSelection","suppressRowClickSelection","selectionChanged","gridReady"],["appearance","fill",1,"example-chip-list"],["chipList",""],[3,"removed",4,"ngFor","ngForOf"],["placeholder","New Role Group...",3,"formControl","matAutocomplete","matChipInputFor","matChipInputSeparatorKeyCodes"],["roleGrpInput",""],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"removed"],["matChipRemove",""],[3,"value"]],template:function(o,l){1&o&&(r.YNc(0,YS,18,8,"ng-container",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"h4",3),r._uU(4,"Available indices"),r.qZA(),r.TgZ(5,"button",4),r.NdJ("click",function(){return l.updateRoles()}),r._uU(6," Update roles "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div",5),r.TgZ(8,"div",2),r.TgZ(9,"ag-grid-angular",6),r.NdJ("selectionChanged",function(b){return l.onSelectionChanged(b)})("gridReady",function(b){return l.onGridReady(b)}),r.qZA(),r.qZA(),r.qZA()),2&o&&(r.Q6J("ngIf",l.selectedRows.length>0),r.xp6(5),r.Q6J("disabled",0==l.selectedRows.length||0==l.selectedRoleGroups.length),r.xp6(4),r.Q6J("rowData",l.indices)("columnDefs",l.columnDefs)("rowSelection",l.rowSelection)("suppressRowClickSelection",!0))},directives:[E.O5,jn,ka,lo,Vn,vr,E.sg,V,po,yr,ae,fn,ds,Sn,An,Wn,kn],pipes:[E.Ov],styles:[".example-chip-list[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),c})()}]}];let JS=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[[B.Bz.forChild(QS)],B.Bz]}),c})();w(6144);let iA=(()=>{class c{static forRoot(){return{ngModule:c,providers:[]}}}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[[E.ez,Iu]]}),c})(),nA=(()=>{class c{}return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=r.oAB({type:c}),c.\u0275inj=r.cJS({imports:[[E.ez,JS,Xg,vw,Lu,Iu,yE,vS,ms,Er.withComponents([]),_r,Lc,hv,Lw,Kh,kg,us,BE,Qo,iA]]}),c})()},699:Te=>{"use strict";Te.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","$id":"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#","description":"Meta-schema for $data reference (JSON-schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},3702:Te=>{"use strict";Te.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","$id":"http://json-schema.org/draft-06/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"examples":{"type":"array","items":{}},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":{},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":{}}')}}]);