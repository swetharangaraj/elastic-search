!function(U,K){"object"==typeof exports&&"object"==typeof module?module.exports=K():"function"==typeof define&&define.amd?define([],K):"object"==typeof exports?exports.JSONEditor=K():U.JSONEditor=K()}(this,function(){return function(U){function K(A){if(m[A])return m[A].exports;var S=m[A]={exports:{},id:A,loaded:!1};return U[A].call(S.exports,S,S.exports,K),S.loaded=!0,S.exports}var m={};return K.m=U,K.c=m,K.p="",K(0)}([function(U,K,m){"use strict";function A(h,f,n){if(!(this instanceof A))throw new Error('JSONEditor constructor called without "new".');var e=v.getInternetExplorerVersion();if(-1!=e&&e<9)throw new Error("Unsupported browser, IE9 or newer required. Please install the newest version of your browser.");if(f&&(f.error&&(console.warn('Option "error" has been renamed to "onError"'),f.onError=f.error,delete f.error),f.change&&(console.warn('Option "change" has been renamed to "onChange"'),f.onChange=f.change,delete f.change),f.editable&&(console.warn('Option "editable" has been renamed to "onEditable"'),f.onEditable=f.editable,delete f.editable),f)){var t=["ajv","schema","schemaRefs","templates","ace","theme","autocomplete","onChange","onEditable","onError","onModeChange","onSelectionChange","onTextSelectionChange","escapeUnicode","history","search","mode","modes","name","indentation","sortObjectKeys","navigationBar","statusBar","languages","language"];Object.keys(f).forEach(function(i){-1===t.indexOf(i)&&console.warn('Unknown option "'+i+'". This option will be ignored')})}arguments.length&&this._create(h,f,n)}var S;try{S=m(1)}catch(h){}var b=m(51),l=m(71),v=m(54);A.modes={},A.prototype.DEBOUNCE_INTERVAL=150,A.prototype._create=function(h,f,n){this.container=h,this.options=f||{},this.json=n||{},this.setMode(this.options.mode||this.options.modes&&this.options.modes[0]||"tree")},A.prototype.destroy=function(){},A.prototype.set=function(h){this.json=h},A.prototype.get=function(){return this.json},A.prototype.setText=function(h){this.json=v.parse(h)},A.prototype.getText=function(){return JSON.stringify(this.json)},A.prototype.setName=function(h){this.options||(this.options={}),this.options.name=h},A.prototype.getName=function(){return this.options&&this.options.name},A.prototype.setMode=function(h){var f,n,e=this.container,t=v.extend({},this.options),i=t.mode;t.mode=h;var s=A.modes[h];if(!s)throw new Error('Unknown mode "'+t.mode+'"');try{var c="text"==s.data;if(n=this.getName(),f=this[c?"getText":"get"](),this.destroy(),v.clear(this),v.extend(this,s.mixin),this.create(e,t),this.setName(n),this[c?"setText":"set"](f),"function"==typeof s.load)try{s.load.call(this)}catch(r){console.error(r)}if("function"==typeof t.onModeChange&&h!==i)try{t.onModeChange(h,i)}catch(r){console.error(r)}}catch(r){this._onError(r)}},A.prototype.getMode=function(){return this.options.mode},A.prototype._onError=function(h){if(!this.options||"function"!=typeof this.options.onError)throw h;this.options.onError(h)},A.prototype.setSchema=function(h,f){if(h){var n;try{n=this.options.ajv||S({allErrors:!0,verbose:!0})}catch(t){console.warn("Failed to create an instance of Ajv, JSON Schema validation is not available. Please use a JSONEditor bundle including Ajv, or pass an instance of Ajv as via the configuration option `ajv`.")}if(n){if(f){for(var e in f)n.removeSchema(e),f[e]&&n.addSchema(f[e],e);this.options.schemaRefs=f}this.validateSchema=n.compile(h),this.options.schema=h,this.validate()}this.refresh()}else this.validateSchema=null,this.options.schema=null,this.options.schemaRefs=null,this.validate(),this.refresh()},A.prototype.validate=function(){},A.prototype.refresh=function(){},A.registerMode=function(h){var f,n;if(v.isArray(h))for(f=0;f<h.length;f++)A.registerMode(h[f]);else{if(!("mode"in h))throw new Error('Property "mode" missing');if(!("mixin"in h))throw new Error('Property "mixin" missing');if(!("data"in h))throw new Error('Property "data" missing');var e=h.mode;if(e in A.modes)throw new Error('Mode "'+e+'" already registered');if("function"!=typeof h.mixin.create)throw new Error('Required function "create" missing on mixin');var t=["setMode","registerMode","modes"];for(f=0;f<t.length;f++)if((n=t[f])in h.mixin)throw new Error('Reserved property "'+n+'" not allowed in mixin');A.modes[e]=h}},A.registerMode(b),A.registerMode(l),U.exports=A},function(U,K,m){"use strict";function A(M){if(!(this instanceof A))return new A(M);M=this._opts=I.copy(M)||{},function(M){var H=M._opts.logger;if(!1===H)M.logger={log:B,warn:B,error:B};else{if(void 0===H&&(H=console),!("object"==typeof H&&H.log&&H.warn&&H.error))throw new Error("logger must implement log, warn and error methods");M.logger=H}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=k(M.format);var H=this._schemaUriFormat=this._formats["uri-reference"];this._schemaUriFormatFunc=function(q){return H.test(q)},this._cache=M.cache||new x,this._loadingSchemas={},this._compilations=[],this.RULES=L(),this._getId=function(M){switch(M.schemaId){case"$id":return u;case"id":return o;default:return g}}(M),M.loopRequired=M.loopRequired||1/0,"property"==M.errorDataPath&&(M._errorDataPathProperty=!0),void 0===M.serialize&&(M.serialize=T),this._metaOpts=function(M){for(var H=I.copy(M._opts),q=0;q<G.length;q++)delete H[G[q]];return H}(this),M.formats&&function(M){for(var H in M._opts.formats)M.addFormat(H,M._opts.formats[H])}(this),function(M){var H;if(M._opts.$data&&(H=m(49),M.addMetaSchema(H,H.$id,!0)),!1!==M._opts.meta){var q=m(50);M._opts.$data&&(q=$(q,J)),M.addMetaSchema(q,W,!0),M._refs["http://json-schema.org/schema"]=W}}(this),"object"==typeof M.meta&&this.addMetaSchema(M.meta),function(M){var H=M._opts.schemas;if(H)if(Array.isArray(H))M.addSchema(H);else for(var q in H)M.addSchema(H[q],q)}(this),M.patternGroups&&O(this)}function t(M,H){return H=P.normalizeId(H),M._schemas[H]||M._refs[H]||M._fragments[H]}function s(M,H,q){for(var Y in H){var Q=H[Y];Q.meta||q&&!q.test(Y)||(M._cache.del(Q.cacheKey),delete H[Y])}}function o(M){return M.$id&&this.logger.warn("schema $id ignored",M.$id),M.id}function u(M){return M.id&&this.logger.warn("schema id ignored",M.id),M.$id}function g(M){if(M.$id&&M.id&&M.$id!=M.id)throw new Error("schema $id is different from id");return M.$id||M.id}function E(M,H){if(M._schemas[H]||M._refs[H])throw new Error('schema with key or id "'+H+'" already exists')}function B(){}var R=m(2),P=m(3),x=m(19),D=m(13),T=m(16),k=m(20),L=m(21),$=m(44),O=m(45),I=m(11),j=m(18);U.exports=A,A.prototype.validate=function(M,H){var q;if("string"==typeof M){if(!(q=this.getSchema(M)))throw new Error('no schema with key or ref "'+M+'"')}else{var Y=this._addSchema(M);q=Y.validate||this._compile(Y)}var Q=q(H);return!0===q.$async?"*"==this._opts.async?j(Q):Q:(this.errors=q.errors,Q)},A.prototype.compile=function(M,H){var q=this._addSchema(M,void 0,H);return q.validate||this._compile(q)},A.prototype.addSchema=function(M,H,q,Y){if(Array.isArray(M)){for(var Q=0;Q<M.length;Q++)this.addSchema(M[Q],void 0,q,Y);return this}var V=this._getId(M);if(void 0!==V&&"string"!=typeof V)throw new Error("schema id must be string");return E(this,H=P.normalizeId(H||V)),this._schemas[H]=this._addSchema(M,q,Y,!0),this},A.prototype.addMetaSchema=function(M,H,q){return this.addSchema(M,H,q,!0),this},A.prototype.validateSchema=function(M,H){var q=M.$schema;if(void 0!==q&&"string"!=typeof q)throw new Error("$schema must be a string");if(!(q=q||this._opts.defaultMeta||function(M){var H=M._opts.meta;return M._opts.defaultMeta="object"==typeof H?M._getId(H)||H:M.getSchema(W)?W:void 0,M._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var Q,Y=this._formats.uri;this._formats.uri="function"==typeof Y?this._schemaUriFormatFunc:this._schemaUriFormat;try{Q=this.validate(q,M)}finally{this._formats.uri=Y}if(!Q&&H){var V="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(V);this.logger.error(V)}return Q},A.prototype.getSchema=function(M){var H=t(this,M);switch(typeof H){case"object":return H.validate||this._compile(H);case"string":return this.getSchema(H);case"undefined":return function(M,H){var q=P.schema.call(M,{schema:{}},H);if(q){var Y=q.schema,Q=q.root,V=q.baseId,X=R.call(M,Y,Q,void 0,V);return M._fragments[H]=new D({ref:H,fragment:!0,schema:Y,root:Q,baseId:V,validate:X}),X}}(this,M)}},A.prototype.removeSchema=function(M){if(M instanceof RegExp)return s(this,this._schemas,M),s(this,this._refs,M),this;switch(typeof M){case"undefined":return s(this,this._schemas),s(this,this._refs),this._cache.clear(),this;case"string":var H=t(this,M);return H&&this._cache.del(H.cacheKey),delete this._schemas[M],delete this._refs[M],this;case"object":var q=this._opts.serialize,Y=q?q(M):M;this._cache.del(Y);var Q=this._getId(M);Q&&(Q=P.normalizeId(Q),delete this._schemas[Q],delete this._refs[Q])}return this},A.prototype.addFormat=function(M,H){return"string"==typeof H&&(H=new RegExp(H)),this._formats[M]=H,this},A.prototype.errorsText=function(M,H){if(!(M=M||this.errors))return"No errors";for(var q=void 0===(H=H||{}).separator?", ":H.separator,Y=void 0===H.dataVar?"data":H.dataVar,Q="",V=0;V<M.length;V++){var X=M[V];X&&(Q+=Y+X.dataPath+" "+X.message+q)}return Q.slice(0,-q.length)},A.prototype._addSchema=function(M,H,q,Y){if("object"!=typeof M&&"boolean"!=typeof M)throw new Error("schema should be object or boolean");var Q=this._opts.serialize,V=Q?Q(M):M,X=this._cache.get(V);if(X)return X;Y=Y||!1!==this._opts.addUsedSchema;var Z=P.normalizeId(this._getId(M));Z&&Y&&E(this,Z);var tt,it=!1!==this._opts.validateSchema&&!H;it&&!(tt=Z&&Z==P.normalizeId(M.$schema))&&this.validateSchema(M,!0);var et=P.ids.call(this,M),nt=new D({id:Z,schema:M,localRefs:et,cacheKey:V,meta:q});return"#"!=Z[0]&&Y&&(this._refs[Z]=nt),this._cache.put(V,nt),it&&tt&&this.validateSchema(M,!0),nt},A.prototype._compile=function(M,H){function q(){var V=M.validate,X=V.apply(null,arguments);return q.errors=V.errors,X}if(M.compiling)return M.validate=q,q.schema=M.schema,q.errors=null,q.root=H||q,!0===M.schema.$async&&(q.$async=!0),q;var Y,Q;M.compiling=!0,M.meta&&(Y=this._opts,this._opts=this._metaOpts);try{Q=R.call(this,M.schema,H,M.localRefs)}finally{M.compiling=!1,M.meta&&(this._opts=Y)}return M.validate=Q,M.refs=Q.refs,M.refVal=Q.refVal,M.root=Q.root,Q},A.prototype.compileAsync=m(46);var z=m(47);A.prototype.addKeyword=z.add,A.prototype.getKeyword=z.get,A.prototype.removeKeyword=z.remove;var N=m(15);A.ValidationError=N.Validation,A.MissingRefError=N.MissingRef,A.$dataMetaSchema=$;var W="http://json-schema.org/draft-06/schema",G=["removeAdditional","useDefaults","coerceTypes"],J=["/properties"]},function(U,K,m){"use strict";function S(y,C,d){var a=l.call(this,y,C,d);return a>=0?{index:a,compiling:!0}:(this._compilations[a=this._compilations.length]={schema:y,root:C,baseId:d},{index:a,compiling:!1})}function b(y,C,d){var a=l.call(this,y,C,d);a>=0&&this._compilations.splice(a,1)}function l(y,C,d){for(var a=0;a<this._compilations.length;a++){var w=this._compilations[a];if(w.schema==y&&w.root==C&&w.baseId==d)return a}return-1}function v(y,C){return"var pattern"+y+" = new RegExp("+i.toQuotedString(C[y])+");"}function h(y){return"var default"+y+" = defaults["+y+"];"}function f(y,C){return void 0===C[y]?"":"var refVal"+y+" = refVal["+y+"];"}function n(y){return"var customRule"+y+" = customRules["+y+"];"}function e(y,C){if(!y.length)return"";for(var d="",a=0;a<y.length;a++)d+=C(a,y);return d}var t=m(3),i=m(11),s=m(15),c=m(16),r=m(17),p=m(18),o=i.ucs2length,u=m(10),g=s.Validation;U.exports=function A(y,C,d,a){function E(Q,V,X,Z){var tt=!V||V&&V.schema==Q;if(V.schema!=C.schema)return A.call(k,Q,V,X,Z);var nt,it=!0===Q.$async,et=r({isTop:!0,schema:Q,isRoot:tt,baseId:Z,root:V,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:s.MissingRef,RULES:H,validate:r,util:i,resolve:t,resolveRef:F,usePattern:x,useDefault:D,useCustomRule:T,opts:L,formats:M,logger:k.logger,self:k});et=e($,f)+e(I,v)+e(z,h)+e(W,n)+et,L.processCode&&(et=L.processCode(et));try{nt=new Function("self","RULES","formats","root","refVal","defaults","customRules","co","equal","ucs2length","ValidationError",et)(k,H,M,C,$,z,W,p,u,o,g),$[0]=nt}catch(rt){throw k.logger.error("Error compiling schema, function code:",et),rt}return nt.schema=Q,nt.errors=null,nt.refs=O,nt.refVal=$,nt.root=tt?nt:V,it&&(nt.$async=!0),!0===L.sourceCode&&(nt.source={code:et,patterns:I,defaults:z}),nt}function F(Q,V,X){V=t.url(Q,V);var Z,tt,it=O[V];if(void 0!==it)return P(Z=$[it],tt="refVal["+it+"]");if(!X&&C.refs){var et=C.refs[V];if(void 0!==et)return P(Z=C.refVal[et],tt=_(V,Z))}tt=_(V);var nt=t.call(k,E,C,V);if(void 0===nt){var rt=d&&d[V];rt&&(nt=t.inlineRef(rt,L.inlineRefs)?rt:A.call(k,rt,C,d,Q))}if(void 0!==nt)return function(Q,V){$[O[Q]]=V}(V,nt),P(nt,tt);!function(Q){delete O[Q]}(V)}function _(Q,V){var X=$.length;return $[X]=V,O[Q]=X,"refVal"+X}function P(Q,V){return"object"==typeof Q||"boolean"==typeof Q?{code:V,schema:Q,inline:!0}:{code:V,$async:Q&&Q.$async}}function x(Q){var V=j[Q];return void 0===V&&(V=j[Q]=I.length,I[V]=Q),"pattern"+V}function D(Q){switch(typeof Q){case"boolean":case"number":return""+Q;case"string":return i.toQuotedString(Q);case"object":if(null===Q)return"null";var V=c(Q),X=N[V];return void 0===X&&(X=N[V]=z.length,z[X]=Q),"default"+X}}function T(Q,V,X,Z){var tt=Q.definition.validateSchema;if(tt&&!1!==k._opts.validateSchema&&!tt(V)){var it="keyword schema is invalid: "+k.errorsText(tt.errors);if("log"!=k._opts.validateSchema)throw new Error(it);k.logger.error(it)}var et,nt=Q.definition.compile,rt=Q.definition.inline,st=Q.definition.macro;if(nt)et=nt.call(k,V,X,Z);else if(st)et=st.call(k,V,X,Z),!1!==L.validateSchema&&k.validateSchema(et,!0);else if(rt)et=rt.call(k,Z,Q.keyword,V,X);else if(!(et=Q.definition.validate))return;if(void 0===et)throw new Error('custom keyword "'+Q.keyword+'"failed to compile');var ot=W.length;return W[ot]=et,{code:"customRule"+ot,validate:et}}var k=this,L=this._opts,$=[void 0],O={},I=[],j={},z=[],N={},W=[],G=S.call(this,y,C=C||{schema:y,refVal:$,refs:O},a),J=this._compilations[G.index];if(G.compiling)return J.callValidate=function w(){var Q=J.validate,V=Q.apply(null,arguments);return w.errors=Q.errors,V};var M=this._formats,H=this.RULES;try{var q=E(y,C,d,a);J.validate=q;var Y=J.callValidate;return Y&&(Y.schema=q.schema,Y.errors=null,Y.refs=q.refs,Y.refVal=q.refVal,Y.root=q.root,Y.$async=q.$async,L.sourceCode&&(Y.source=q.source)),q}finally{b.call(this,y,C,a)}}},function(U,K,m){"use strict";function A(d,a,w){var E=this._refs[w];if("string"==typeof E){if(!this._refs[E])return A.call(this,d,a,E);E=this._refs[E]}if((E=E||this._schemas[w])instanceof o)return v(E.schema,this._opts.inlineRefs)?E.schema:E.validate||this._compile(E);var F,_,B,R=S.call(this,a,w);return R&&(F=R.schema,a=R.root,B=R.baseId),F instanceof o?_=F.validate||d.call(this,F.schema,a,void 0,B):void 0!==F&&(_=v(F,this._opts.inlineRefs)?F:d.call(this,F,a,void 0,B)),_}function S(d,a){var w=c.parse(a,!1,!0),E=e(w),F=n(this._getId(d.schema));if(E!==F){var _=t(E),B=this._refs[_];if("string"==typeof B)return b.call(this,d,B,w);if(B instanceof o)B.validate||this._compile(B),d=B;else{if(!((B=this._schemas[_])instanceof o))return;if(B.validate||this._compile(B),_==t(a))return{schema:B,root:d,baseId:F};d=B}if(!d.schema)return;F=n(this._getId(d.schema))}return l.call(this,w,F,d.schema,d)}function b(d,a,w){var E=S.call(this,d,a);if(E){var F=E.schema,_=E.baseId;d=E.root;var B=this._getId(F);return B&&(_=i(_,B)),l.call(this,w,_,F,d)}}function l(d,a,w,E){if(d.hash=d.hash||"","#/"==d.hash.slice(0,2)){for(var F=d.hash.split("/"),_=1;_<F.length;_++){var B=F[_];if(B){if(void 0===(w=w[B=p.unescapeFragment(B)]))break;var R;if(!g[B]&&((R=this._getId(w))&&(a=i(a,R)),w.$ref)){var P=i(a,w.$ref),x=S.call(this,E,P);x&&(w=x.schema,E=x.root,a=x.baseId)}}}return void 0!==w&&w!==E.schema?{schema:w,root:E,baseId:a}:void 0}}function v(d,a){return!1!==a&&(void 0===a||!0===a?h(d):a?f(d)<=a:void 0)}function h(d){var a;if(Array.isArray(d)){for(var w=0;w<d.length;w++)if("object"==typeof(a=d[w])&&!h(a))return!1}else for(var E in d)if("$ref"==E||"object"==typeof(a=d[E])&&!h(a))return!1;return!0}function f(d){var a,w=0;if(Array.isArray(d)){for(var E=0;E<d.length;E++)if("object"==typeof(a=d[E])&&(w+=f(a)),w==1/0)return 1/0}else for(var F in d){if("$ref"==F)return 1/0;if(y[F])w++;else if("object"==typeof(a=d[F])&&(w+=f(a)+1),w==1/0)return 1/0}return w}function n(d,a){return!1!==a&&(d=t(d)),e(c.parse(d,!1,!0))}function e(d){var a=d.protocol||"//"==d.href.slice(0,2)?"//":"";return(d.protocol||"")+a+(d.host||"")+(d.path||"")+"#"}function t(d){return d?d.replace(C,""):""}function i(d,a){return a=t(a),c.resolve(d,a)}var c=m(4),r=m(10),p=m(11),o=m(13),u=m(14);U.exports=A,A.normalizeId=t,A.fullPath=n,A.url=i,A.ids=function(d){var a=t(this._getId(d)),w={"":a},E={"":n(a,!1)},F={},_=this;return u(d,{allKeys:!0},function(B,R,P,x,D,T,k){if(""!==R){var L=_._getId(B),$=w[x],O=E[x]+"/"+D;if(void 0!==k&&(O+="/"+("number"==typeof k?k:p.escapeFragment(k))),"string"==typeof L){L=$=t($?c.resolve($,L):L);var I=_._refs[L];if("string"==typeof I&&(I=_._refs[I]),I&&I.schema){if(!r(B,I.schema))throw new Error('id "'+L+'" resolves to more than one schema')}else if(L!=t(O))if("#"==L[0]){if(F[L]&&!r(B,F[L]))throw new Error('id "'+L+'" resolves to more than one schema');F[L]=B}else _._refs[L]=O}w[R]=$,E[R]=O}}),F},A.inlineRef=v,A.schema=S;var g=p.toHash(["properties","patternProperties","enum","dependencies","definitions"]),y=p.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]),C=/#\/?$/},function(U,K,m){function A(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function S(a,w,E){if(a&&f(a)&&a instanceof A)return a;var F=new A;return F.parse(a,w,E),F}function h(a){return"string"==typeof a}function f(a){return"object"==typeof a&&null!==a}function n(a){return null===a}var t=m(5);K.parse=S,K.resolve=function(a,w){return S(a,!1,!0).resolve(w)},K.resolveObject=function(a,w){return a?S(a,!1,!0).resolveObject(w):w},K.format=function(a){return h(a)&&(a=S(a)),a instanceof A?a.format():A.prototype.format.call(a)},K.Url=A;var i=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,r=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),p=["'"].concat(r),o=["%","/","?",";","#"].concat(p),u=["/","?","#"],g={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},C={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},d=m(7);A.prototype.parse=function(a,w,E){if(!h(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var F=a;F=F.trim();var _=i.exec(F);if(_){var B=(_=_[0]).toLowerCase();this.protocol=B,F=F.substr(_.length)}if(E||_||F.match(/^\/\/[^@\/]+@[^@\/]+/)){var R="//"===F.substr(0,2);!R||_&&y[_]||(F=F.substr(2),this.slashes=!0)}if(!y[_]&&(R||_&&!C[_])){for(var P=-1,x=0;x<u.length;x++)-1!==(D=F.indexOf(u[x]))&&(-1===P||D<P)&&(P=D);var T,k;for(-1!==(k=-1===P?F.lastIndexOf("@"):F.lastIndexOf("@",P))&&(T=F.slice(0,k),F=F.slice(k+1),this.auth=decodeURIComponent(T)),P=-1,x=0;x<o.length;x++){var D;-1!==(D=F.indexOf(o[x]))&&(-1===P||D<P)&&(P=D)}-1===P&&(P=F.length),this.host=F.slice(0,P),F=F.slice(P),this.parseHost(),this.hostname=this.hostname||"";var L="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!L)for(var $=this.hostname.split(/\./),O=(x=0,$.length);x<O;x++){var I=$[x];if(I&&!I.match(/^[a-z0-9A-Z_-]{0,63}$/)){for(var j="",z=0,N=I.length;z<N;z++)I.charCodeAt(z)>127?j+="x":j+=I[z];if(!j.match(/^[a-z0-9A-Z_-]{0,63}$/)){var W=$.slice(0,x),G=$.slice(x+1),J=I.match(/^([a-z0-9A-Z_-]{0,63})(.*)$/);J&&(W.push(J[1]),G.unshift(J[2])),G.length&&(F="/"+G.join(".")+F),this.hostname=W.join(".");break}}}if(this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),!L){var M=this.hostname.split("."),H=[];for(x=0;x<M.length;++x)H.push((q=M[x]).match(/[^A-Za-z0-9_-]/)?"xn--"+t.encode(q):q);this.hostname=H.join(".")}this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,L&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==F[0]&&(F="/"+F))}if(!g[B])for(x=0,O=p.length;x<O;x++){var V=p[x],X=encodeURIComponent(V);X===V&&(X=escape(V)),F=F.split(V).join(X)}var Z=F.indexOf("#");-1!==Z&&(this.hash=F.substr(Z),F=F.slice(0,Z));var q,tt=F.indexOf("?");return-1!==tt?(this.search=F.substr(tt),this.query=F.substr(tt+1),w&&(this.query=d.parse(this.query)),F=F.slice(0,tt)):w&&(this.search="",this.query={}),F&&(this.pathname=F),C[B]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(q=this.search||"")),this.href=this.format(),this},A.prototype.format=function(){var a=this.auth||"";a&&(a=(a=encodeURIComponent(a)).replace(/%3A/i,":"),a+="@");var w=this.protocol||"",E=this.pathname||"",F=this.hash||"",_=!1,B="";this.host?_=a+this.host:this.hostname&&(_=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(_+=":"+this.port)),this.query&&f(this.query)&&Object.keys(this.query).length&&(B=d.stringify(this.query));var R=this.search||B&&"?"+B||"";return w&&":"!==w.substr(-1)&&(w+=":"),this.slashes||(!w||C[w])&&!1!==_?(_="//"+(_||""),E&&"/"!==E.charAt(0)&&(E="/"+E)):_||(_=""),F&&"#"!==F.charAt(0)&&(F="#"+F),R&&"?"!==R.charAt(0)&&(R="?"+R),w+_+(E=E.replace(/[?#]/g,function(P){return encodeURIComponent(P)}))+(R=R.replace("#","%23"))+F},A.prototype.resolve=function(a){return this.resolveObject(S(a,!1,!0)).format()},A.prototype.resolveObject=function(a){if(h(a)){var w=new A;w.parse(a,!1,!0),a=w}var E=new A;if(Object.keys(this).forEach(function(N){E[N]=this[N]},this),E.hash=a.hash,""===a.href)return E.href=E.format(),E;if(a.slashes&&!a.protocol)return Object.keys(a).forEach(function(N){"protocol"!==N&&(E[N]=a[N])}),C[E.protocol]&&E.hostname&&!E.pathname&&(E.path=E.pathname="/"),E.href=E.format(),E;if(a.protocol&&a.protocol!==E.protocol){if(!C[a.protocol])return Object.keys(a).forEach(function(N){E[N]=a[N]}),E.href=E.format(),E;if(E.protocol=a.protocol,a.host||y[a.protocol])E.pathname=a.pathname;else{for(var T=(a.pathname||"").split("/");T.length&&!(a.host=T.shift()););a.host||(a.host=""),a.hostname||(a.hostname=""),""!==T[0]&&T.unshift(""),T.length<2&&T.unshift(""),E.pathname=T.join("/")}return E.search=a.search,E.query=a.query,E.host=a.host||"",E.auth=a.auth,E.hostname=a.hostname||a.host,E.port=a.port,(E.pathname||E.search)&&(E.path=(E.pathname||"")+(E.search||"")),E.slashes=E.slashes||a.slashes,E.href=E.format(),E}var B=E.pathname&&"/"===E.pathname.charAt(0),R=a.host||a.pathname&&"/"===a.pathname.charAt(0),P=R||B||E.host&&a.pathname,x=P,D=E.pathname&&E.pathname.split("/")||[],k=(T=a.pathname&&a.pathname.split("/")||[],E.protocol&&!C[E.protocol]);if(k&&(E.hostname="",E.port=null,E.host&&(""===D[0]?D[0]=E.host:D.unshift(E.host)),E.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===T[0]?T[0]=a.host:T.unshift(a.host)),a.host=null),P=P&&(""===T[0]||""===D[0])),R)E.host=a.host||""===a.host?a.host:E.host,E.hostname=a.hostname||""===a.hostname?a.hostname:E.hostname,E.search=a.search,E.query=a.query,D=T;else if(T.length)D||(D=[]),D.pop(),D=D.concat(T),E.search=a.search,E.query=a.query;else if(!function(a){return null==a}(a.search))return k&&(E.hostname=E.host=D.shift(),(L=!!(E.host&&E.host.indexOf("@")>0)&&E.host.split("@"))&&(E.auth=L.shift(),E.host=E.hostname=L.shift())),E.search=a.search,E.query=a.query,n(E.pathname)&&n(E.search)||(E.path=(E.pathname?E.pathname:"")+(E.search?E.search:"")),E.href=E.format(),E;if(!D.length)return E.pathname=null,E.path=E.search?"/"+E.search:null,E.href=E.format(),E;for(var $=D.slice(-1)[0],O=(E.host||a.host)&&("."===$||".."===$)||""===$,I=0,j=D.length;j>=0;j--)"."==($=D[j])?D.splice(j,1):".."===$?(D.splice(j,1),I++):I&&(D.splice(j,1),I--);if(!P&&!x)for(;I--;I)D.unshift("..");!P||""===D[0]||D[0]&&"/"===D[0].charAt(0)||D.unshift(""),O&&"/"!==D.join("/").substr(-1)&&D.push("");var L,z=""===D[0]||D[0]&&"/"===D[0].charAt(0);return k&&(E.hostname=E.host=z?"":D.length?D.shift():"",(L=!!(E.host&&E.host.indexOf("@")>0)&&E.host.split("@"))&&(E.auth=L.shift(),E.host=E.hostname=L.shift())),(P=P||E.host&&D.length)&&!z&&D.unshift(""),D.length?E.pathname=D.join("/"):(E.pathname=null,E.path=null),n(E.pathname)&&n(E.search)||(E.path=(E.pathname?E.pathname:"")+(E.search?E.search:"")),E.auth=a.auth||E.auth,E.slashes=E.slashes||a.slashes,E.href=E.format(),E},A.prototype.parseHost=function(){var a=this.host,w=s.exec(a);w&&(":"!==(w=w[0])&&(this.port=w.substr(1)),a=a.substr(0,a.length-w.length)),a&&(this.hostname=a)}},function(U,K,m){var A;(function(S,b){!function(l){function v($){throw RangeError(D[$])}function h($,O){for(var I=$.length,j=[];I--;)j[I]=O($[I]);return j}function f($,O){var I=$.split("@"),j="";return I.length>1&&(j=I[0]+"@",$=I[1]),j+h(($=$.replace(x,".")).split("."),O).join(".")}function n($){for(var O,I,j=[],z=0,N=$.length;z<N;)(O=$.charCodeAt(z++))>=55296&&O<=56319&&z<N?56320==(64512&(I=$.charCodeAt(z++)))?j.push(((1023&O)<<10)+(1023&I)+65536):(j.push(O),z--):j.push(O);return j}function e($){return h($,function(O){var I="";return O>65535&&(I+=L((O-=65536)>>>10&1023|55296),O=56320|1023&O),I+L(O)}).join("")}function t($){return $-48<10?$-22:$-65<26?$-65:$-97<26?$-97:C}function i($,O){return $+22+75*($<26)-((0!=O)<<5)}function s($,O,I){var j=0;for($=I?k($/E):$>>1,$+=k($/O);$>T*a>>1;j+=C)$=k($/T);return k(j+(T+1)*$/($+w))}function c($){var O,I,j,z,N,W,G,J,M,H,q=[],Y=$.length,Q=0,V=_,X=F;for((I=$.lastIndexOf(B))<0&&(I=0),j=0;j<I;++j)$.charCodeAt(j)>=128&&v("not-basic"),q.push($.charCodeAt(j));for(z=I>0?I+1:0;z<Y;){for(N=Q,W=1,G=C;z>=Y&&v("invalid-input"),((J=t($.charCodeAt(z++)))>=C||J>k((y-Q)/W))&&v("overflow"),Q+=J*W,!(J<(M=G<=X?d:G>=X+a?a:G-X));G+=C)W>k(y/(H=C-M))&&v("overflow"),W*=H;X=s(Q-N,O=q.length+1,0==N),k(Q/O)>y-V&&v("overflow"),V+=k(Q/O),Q%=O,q.splice(Q++,0,V)}return e(q)}function r($){var O,I,j,z,N,W,G,J,M,H,q,Y,Q,V,X,Z=[];for(Y=($=n($)).length,O=_,I=0,N=F,W=0;W<Y;++W)(q=$[W])<128&&Z.push(L(q));for(j=z=Z.length,z&&Z.push(B);j<Y;){for(G=y,W=0;W<Y;++W)(q=$[W])>=O&&q<G&&(G=q);for(G-O>k((y-I)/(Q=j+1))&&v("overflow"),I+=(G-O)*Q,O=G,W=0;W<Y;++W)if((q=$[W])<O&&++I>y&&v("overflow"),q==O){for(J=I,M=C;!(J<(H=M<=N?d:M>=N+a?a:M-N));M+=C)Z.push(L(i(H+(X=J-H)%(V=C-H),0))),J=k(X/V);Z.push(L(i(J,0))),N=s(I,Q,j==z),I=0,++j}++I,++O}return Z.join("")}var g,y=2147483647,C=36,d=1,a=26,w=38,E=700,F=72,_=128,B="-",R=/^xn--/,P=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=C-d,k=Math.floor,L=String.fromCharCode;g={version:"1.3.2",ucs2:{decode:n,encode:e},decode:c,encode:r,toASCII:function($){return f($,function(O){return P.test(O)?"xn--"+r(O):O})},toUnicode:function($){return f($,function(O){return R.test(O)?c(O.slice(4).toLowerCase()):O})}},void 0!==(A=function(){return g}.call(K,m,K,S))&&(S.exports=A)}()}).call(K,m(6)(U),function(){return this}())},function(U,K){U.exports=function(m){return m.webpackPolyfill||(m.deprecate=function(){},m.paths=[],m.children=[],m.webpackPolyfill=1),m}},function(U,K,m){"use strict";K.decode=K.parse=m(8),K.encode=K.stringify=m(9)},function(U,K){"use strict";function m(A,S){return Object.prototype.hasOwnProperty.call(A,S)}U.exports=function(A,S,b,l){b=b||"=";var v={};if("string"!=typeof A||0===A.length)return v;A=A.split(S=S||"&");var h=1e3;l&&"number"==typeof l.maxKeys&&(h=l.maxKeys);var f=A.length;h>0&&f>h&&(f=h);for(var n=0;n<f;++n){var e,t,i,s,c=A[n].replace(/\+/g,"%20"),r=c.indexOf(b);r>=0?(e=c.substr(0,r),t=c.substr(r+1)):(e=c,t=""),i=decodeURIComponent(e),s=decodeURIComponent(t),m(v,i)?Array.isArray(v[i])?v[i].push(s):v[i]=[v[i],s]:v[i]=s}return v}},function(U,K){"use strict";var m=function(A){switch(typeof A){case"string":return A;case"boolean":return A?"true":"false";case"number":return isFinite(A)?A:"";default:return""}};U.exports=function(A,S,b,l){return S=S||"&",b=b||"=",null===A&&(A=void 0),"object"==typeof A?Object.keys(A).map(function(v){var h=encodeURIComponent(m(v))+b;return Array.isArray(A[v])?A[v].map(function(f){return h+encodeURIComponent(m(f))}).join(S):h+encodeURIComponent(m(A[v]))}).join(S):l?encodeURIComponent(m(l))+b+encodeURIComponent(m(A)):""}},function(U,K){"use strict";var m=Array.isArray,A=Object.keys,S=Object.prototype.hasOwnProperty;U.exports=function b(l,v){if(l===v)return!0;var h,f,n,e=m(l),t=m(v);if(e&&t){if((f=l.length)!=v.length)return!1;for(h=0;h<f;h++)if(!b(l[h],v[h]))return!1;return!0}if(e!=t)return!1;var i=l instanceof Date,s=v instanceof Date;if(i!=s)return!1;if(i&&s)return l.getTime()==v.getTime();var c=l instanceof RegExp,r=v instanceof RegExp;if(c!=r)return!1;if(c&&r)return l.toString()==v.toString();if(l instanceof Object&&v instanceof Object){var p=A(l);if((f=p.length)!==A(v).length)return!1;for(h=0;h<f;h++)if(!S.call(v,p[h]))return!1;for(h=0;h<f;h++)if(!b(l[n=p[h]],v[n]))return!1;return!0}return!1}},function(U,K,m){"use strict";function S(N,W,G){var J=G?" !== ":" === ",M=G?" || ":" && ",H=G?"!":"",q=G?"":"!";switch(N){case"null":return W+J+"null";case"array":return H+"Array.isArray("+W+")";case"object":return"("+H+W+M+"typeof "+W+J+'"object"'+M+q+"Array.isArray("+W+"))";case"integer":return"(typeof "+W+J+'"number"'+M+q+"("+W+" % 1)"+M+W+J+W+")";default:return"typeof "+W+J+'"'+N+'"'}}function v(N){for(var W={},G=0;G<N.length;G++)W[N[G]]=!0;return W}function h(N){return"number"==typeof N?"["+N+"]":E.test(N)?"."+N:"['"+f(N)+"']"}function f(N){return N.replace(F,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function r(N){return"'"+f(N)+"'"}function g(N,W){return'""'==N?W:(N+" + "+W).replace(/' \+ '/g,"")}function d(N){return N.replace(/~/g,"~0").replace(/\//g,"~1")}function a(N){return N.replace(/~1/g,"/").replace(/~0/g,"~")}U.exports={copy:function(N,W){for(var G in W=W||{},N)W[G]=N[G];return W},checkDataType:S,checkDataTypes:function(N,W){if(1===N.length)return S(N[0],W,!0);var G="",J=v(N);for(var M in J.array&&J.object&&(G=J.null?"(":"(!"+W+" || ",G+="typeof "+W+' !== "object")',delete J.null,delete J.array,delete J.object),J.number&&delete J.integer,J)G+=(G?" && ":"")+S(M,W,!0);return G},coerceToTypes:function(N,W){if(Array.isArray(W)){for(var G=[],J=0;J<W.length;J++){var M=W[J];(w[M]||"array"===N&&"array"===M)&&(G[G.length]=M)}if(G.length)return G}else{if(w[W])return[W];if("array"===N&&"array"===W)return["array"]}},toHash:v,getProperty:h,escapeQuotes:f,equal:m(10),ucs2length:m(12),varOccurences:function(N,W){var G=N.match(new RegExp(W+="[^0-9]","g"));return G?G.length:0},varReplace:function(N,W,G){return W+="([^0-9])",G=G.replace(/\$/g,"$$$$"),N.replace(new RegExp(W,"g"),G+"$1")},cleanUpCode:function(N){return N.replace(_,"").replace(B,"").replace(R,"if (!($1))")},finalCleanUpCode:function(N,W){var G=N.match(P);return G&&2==G.length&&(N=W?N.replace(D,"").replace(L,$):N.replace(x,"").replace(T,k)),(G=N.match(O))&&3===G.length?N.replace(I,""):N},schemaHasRules:function(N,W){if("boolean"==typeof N)return!N;for(var G in N)if(W[G])return!0},schemaHasRulesExcept:function(N,W,G){if("boolean"==typeof N)return!N&&"not"!=G;for(var J in N)if(J!=G&&W[J])return!0},toQuotedString:r,getPathExpr:function(N,W,G,J){return g(N,G?"'/' + "+W+(J?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):J?"'[' + "+W+" + ']'":"'[\\'' + "+W+" + '\\']'")},getPath:function(N,W,G){return g(N,r(G?"/"+d(W):h(W)))},getData:function(N,W,G){var J,M,H,q;if(""===N)return"rootData";if("/"==N[0]){if(!j.test(N))throw new Error("Invalid JSON-pointer: "+N);M=N,H="rootData"}else{if(!(q=N.match(z)))throw new Error("Invalid JSON-pointer: "+N);if(J=+q[1],"#"==(M=q[2])){if(J>=W)throw new Error("Cannot access property/index "+J+" levels up, current level is "+W);return G[W-J]}if(J>W)throw new Error("Cannot access data "+J+" levels up, current level is "+W);if(H="data"+(W-J||""),!M)return H}for(var Y=H,Q=M.split("/"),V=0;V<Q.length;V++){var X=Q[V];X&&(Y+=" && "+(H+=h(a(X))))}return Y},unescapeFragment:function(N){return a(decodeURIComponent(N))},unescapeJsonPointer:a,escapeFragment:function(N){return encodeURIComponent(d(N))},escapeJsonPointer:d};var w=v(["string","number","integer","boolean","null"]),E=/^[a-z$_][a-z$_0-9]*$/i,F=/'|\\/g,_=/else\s*{\s*}/g,B=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,R=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g,P=/[^v.]errors/g,x=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,D=/var errors = 0;|var vErrors = null;/g,T="return errors === 0;",k="validate.errors = null; return true;",L=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,$="return data;",O=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,I=/if \(rootData === undefined\) rootData = data;/,j=/^\/(?:[^~]|~0|~1)*$/,z=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/},function(U,K){"use strict";U.exports=function(m){for(var A,S=0,b=m.length,l=0;l<b;)S++,(A=m.charCodeAt(l++))>=55296&&A<=56319&&l<b&&56320==(64512&(A=m.charCodeAt(l)))&&l++;return S}},function(U,K,m){"use strict";var S=m(11);U.exports=function(b){S.copy(b,this)}},function(U,K){"use strict";function m(b,l,v,h,f,n,e,t,i){if(v&&"object"==typeof v&&!Array.isArray(v))for(var s in l(v,h,f,n,e,t,i),v){var c=v[s];if(Array.isArray(c)){if(s in S.arrayKeywords)for(var r=0;r<c.length;r++)m(b,l,c[r],h+"/"+s+"/"+r,f,h,s,v,r)}else if(s in S.propsKeywords){if(c&&"object"==typeof c)for(var p in c)m(b,l,c[p],h+"/"+s+"/"+A(p),f,h,s,v,p)}else(s in S.keywords||b.allKeys&&!(s in S.skipKeywords))&&m(b,l,c,h+"/"+s,f,h,s,v)}}function A(b){return b.replace(/~/g,"~0").replace(/\//g,"~1")}var S=U.exports=function(b,l,v){"function"==typeof l&&(v=l,l={}),m(l,v,b,"",b)};S.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},S.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},S.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},S.skipKeywords={enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(U,K,m){"use strict";function S(v,h,f){this.message=f||S.message(v,h),this.missingRef=l.url(v,h),this.missingSchema=l.normalizeId(l.fullPath(this.missingRef))}function b(v){return v.prototype=Object.create(Error.prototype),v.prototype.constructor=v,v}var l=m(3);U.exports={Validation:b(function(v){this.message="validation failed",this.errors=v,this.ajv=this.validation=!0}),MissingRef:b(S)},S.message=function(v,h){return"can't resolve reference "+h+" from id "+v}},function(U,K){"use strict";U.exports=function(m,A){A||(A={}),"function"==typeof A&&(A={cmp:A});var v,S="boolean"==typeof A.cycles&&A.cycles,b=A.cmp&&(v=A.cmp,function(h){return function(f,n){return v({key:f,value:h[f]},{key:n,value:h[n]})}}),l=[];return function v(h){if(h&&h.toJSON&&"function"==typeof h.toJSON&&(h=h.toJSON()),void 0!==h){if("number"==typeof h)return isFinite(h)?""+h:"null";if("object"!=typeof h)return JSON.stringify(h);var f,n;if(Array.isArray(h)){for(n="[",f=0;f<h.length;f++)f&&(n+=","),n+=v(h[f])||"null";return n+"]"}if(null===h)return"null";if(-1!==l.indexOf(h)){if(S)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var e=l.push(h)-1,t=Object.keys(h).sort(b&&b(h));for(n="",f=0;f<t.length;f++){var i=t[f],s=v(h[i]);s&&(n&&(n+=","),n+=JSON.stringify(i)+":"+s)}return l.splice(e,1),"{"+n+"}"}}(m)}},function(U,K){"use strict";U.exports=function(m,A,S){function b(rt){for(var st=rt.rules,ot=0;ot<st.length;ot++)if(l(st[ot]))return!0}function l(rt){return void 0!==m.schema[rt.keyword]||rt.implements&&function(rt){for(var st=rt.implements,ot=0;ot<st.length;ot++)if(void 0!==m.schema[st[ot]])return!0}(rt)}var h="",f=!0===m.schema.$async,n=m.util.schemaHasRulesExcept(m.schema,m.RULES.all,"$ref"),e=m.self._getId(m.schema);if(m.isTop){if(f){m.async=!0;var t="es7"==m.opts.async;m.yieldAwait=t?"await":"yield"}h+=" var validate = ",f?t?h+=" (async function ":("*"!=m.opts.async&&(h+="co.wrap"),h+="(function* "):h+=" (function ",h+=" (data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",e&&(m.opts.sourceCode||m.opts.processCode)&&(h+=" /*# sourceURL="+e+" */ ")}if("boolean"==typeof m.schema||!n&&!m.schema.$ref){var i=m.level,s=m.dataLevel,c=m.schema["false schema"],r=m.schemaPath+m.util.getProperty("false schema"),p=m.errSchemaPath+"/false schema",a=!m.opts.allErrors,o="data"+(s||""),d="valid"+i;if(!1===m.schema){m.isTop?a=!0:h+=" var "+d+" = false; ",(u=u||[]).push(h),h="",!1!==m.createErrors?(h+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(p)+" , params: {} ",!1!==m.opts.messages&&(h+=" , message: 'boolean schema is false' "),m.opts.verbose&&(h+=" , schema: false , parentSchema: validate.schema"+m.schemaPath+" , data: "+o+" "),h+=" } "):h+=" {} ";var g=h;h=u.pop(),h+=!m.compositeRule&&a?m.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else h+=m.isTop?f?" return data; ":" validate.errors = null; return true; ":" var "+d+" = true; ";return m.isTop&&(h+=" }); return validate; "),h}if(m.isTop){var y=m.isTop;i=m.level=0,s=m.dataLevel=0,o="data",m.rootId=m.resolve.fullPath(m.self._getId(m.root.schema)),m.baseId=m.baseId||m.rootId,delete m.isTop,m.dataPathArr=[void 0],h+=" var vErrors = null; ",h+=" var errors = 0;     ",h+=" if (rootData === undefined) rootData = data; "}else{if(i=m.level,o="data"+((s=m.dataLevel)||""),e&&(m.baseId=m.resolve.url(m.baseId,e)),f&&!m.async)throw new Error("async schema in sync schema");h+=" var errs_"+i+" = errors;"}d="valid"+i,a=!m.opts.allErrors;var w="",E="",F=m.schema.type,_=Array.isArray(F);if(_&&1==F.length&&(F=F[0],_=!1),m.schema.$ref&&n){if("fail"==m.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+m.errSchemaPath+'" (see option extendRefs)');!0!==m.opts.extendRefs&&(n=!1,m.logger.warn('$ref: keywords ignored in schema at path "'+m.errSchemaPath+'"'))}if(F){if(m.opts.coerceTypes)var B=m.util.coerceToTypes(m.opts.coerceTypes,F);var R=m.RULES.types[F];if(B||_||!0===R||R&&!b(R)){if(r=m.schemaPath+".type",p=m.errSchemaPath+"/type",r=m.schemaPath+".type",p=m.errSchemaPath+"/type",h+=" if ("+m.util[_?"checkDataTypes":"checkDataType"](F,o,!0)+") { ",B){var x="dataType"+i,D="coerced"+i;h+=" var "+x+" = typeof "+o+"; ","array"==m.opts.coerceTypes&&(h+=" if ("+x+" == 'object' && Array.isArray("+o+")) "+x+" = 'array'; "),h+=" var "+D+" = undefined; ";var T="",k=B;if(k)for(var L,$=-1,O=k.length-1;$<O;)L=k[$+=1],$&&(h+=" if ("+D+" === undefined) { ",T+="}"),"array"==m.opts.coerceTypes&&"array"!=L&&(h+=" if ("+x+" == 'array' && "+o+".length == 1) { "+D+" = "+o+" = "+o+"[0]; "+x+" = typeof "+o+";  } "),"string"==L?h+=" if ("+x+" == 'number' || "+x+" == 'boolean') "+D+" = '' + "+o+"; else if ("+o+" === null) "+D+" = ''; ":"number"==L||"integer"==L?(h+=" if ("+x+" == 'boolean' || "+o+" === null || ("+x+" == 'string' && "+o+" && "+o+" == +"+o+" ","integer"==L&&(h+=" && !("+o+" % 1)"),h+=")) "+D+" = +"+o+"; "):"boolean"==L?h+=" if ("+o+" === 'false' || "+o+" === 0 || "+o+" === null) "+D+" = false; else if ("+o+" === 'true' || "+o+" === 1) "+D+" = true; ":"null"==L?h+=" if ("+o+" === '' || "+o+" === 0 || "+o+" === false) "+D+" = null; ":"array"==m.opts.coerceTypes&&"array"==L&&(h+=" if ("+x+" == 'string' || "+x+" == 'number' || "+x+" == 'boolean' || "+o+" == null) "+D+" = ["+o+"]; ");(u=u||[]).push(h+=" "+T+" if ("+D+" === undefined) {   "),h="",!1!==m.createErrors?(h+=" { keyword: 'type' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(p)+" , params: { type: '",h+=_?""+F.join(","):""+F,h+="' } ",!1!==m.opts.messages&&(h+=" , message: 'should be ",h+=_?""+F.join(","):""+F,h+="' "),m.opts.verbose&&(h+=" , schema: validate.schema"+r+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+o+" "),h+=" } "):h+=" {} ",g=h,h=u.pop(),h+=!m.compositeRule&&a?m.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h+=" } else {  ";var I=s?"data"+(s-1||""):"parentData";h+=" "+o+" = "+D+"; ",s||(h+="if ("+I+" !== undefined)"),h+=" "+I+"["+(s?m.dataPathArr[s]:"parentDataProperty")+"] = "+D+"; } "}else(u=u||[]).push(h),h="",!1!==m.createErrors?(h+=" { keyword: 'type' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(p)+" , params: { type: '",h+=_?""+F.join(","):""+F,h+="' } ",!1!==m.opts.messages&&(h+=" , message: 'should be ",h+=_?""+F.join(","):""+F,h+="' "),m.opts.verbose&&(h+=" , schema: validate.schema"+r+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+o+" "),h+=" } "):h+=" {} ",g=h,h=u.pop(),h+=!m.compositeRule&&a?m.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";h+=" } "}}if(m.schema.$ref&&!n)h+=" "+m.RULES.all.$ref.code(m,"$ref")+" ",a&&(h+=" } if (errors === ",h+=y?"0":"errs_"+i,h+=") { ",E+="}");else{m.opts.v5&&m.schema.patternGroups&&m.logger.warn('keyword "patternGroups" is deprecated and disabled. Use option patternGroups: true to enable.');var z=m.RULES;if(z)for(var N=-1,W=z.length-1;N<W;)if(b(R=z[N+=1])){if(R.type&&(h+=" if ("+m.util.checkDataType(R.type,o)+") { "),m.opts.useDefaults&&!m.compositeRule)if("object"==R.type&&m.schema.properties){c=m.schema.properties;var J=Object.keys(c);if(J)for(var M,H=-1,q=J.length-1;H<q;)void 0!==(Y=c[M=J[H+=1]]).default&&(h+="  if ("+(Q=o+m.util.getProperty(M))+" === undefined) "+Q+" = ",h+="shared"==m.opts.useDefaults?" "+m.useDefault(Y.default)+" ":" "+JSON.stringify(Y.default)+" ",h+="; ")}else if("array"==R.type&&Array.isArray(m.schema.items)){var V=m.schema.items;if(V){$=-1;for(var Y,X=V.length-1;$<X;)if(void 0!==(Y=V[$+=1]).default){var Q;h+="  if ("+(Q=o+"["+$+"]")+" === undefined) "+Q+" = ",h+="shared"==m.opts.useDefaults?" "+m.useDefault(Y.default)+" ":" "+JSON.stringify(Y.default)+" ",h+="; "}}}var u,Z=R.rules;if(Z)for(var tt,it=-1,et=Z.length-1;it<et;)if(l(tt=Z[it+=1])){var nt=tt.code(m,tt.keyword,R.type);nt&&(h+=" "+nt+" ",a&&(w+="}"))}if(a&&(h+=" "+w+" ",w=""),R.type&&(h+=" } ",F&&F===R.type&&!B))r=m.schemaPath+".type",p=m.errSchemaPath+"/type",(u=u||[]).push(h+=" else { "),h="",!1!==m.createErrors?(h+=" { keyword: 'type' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(p)+" , params: { type: '",h+=_?""+F.join(","):""+F,h+="' } ",!1!==m.opts.messages&&(h+=" , message: 'should be ",h+=_?""+F.join(","):""+F,h+="' "),m.opts.verbose&&(h+=" , schema: validate.schema"+r+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+o+" "),h+=" } "):h+=" {} ",g=h,h=u.pop(),h+=!m.compositeRule&&a?m.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h+=" } ";a&&(h+=" if (errors === ",h+=y?"0":"errs_"+i,h+=") { ",E+="}")}}return a&&(h+=" "+E+" "),y?(f?(h+=" if (errors === 0) return data;           ",h+=" else throw new ValidationError(vErrors); "):(h+=" validate.errors = vErrors; ",h+=" return errors === 0;       "),h+=" }); return validate;"):h+=" var "+d+" = errors === errs_"+i+";",h=m.util.cleanUpCode(h),y&&(h=m.util.finalCleanUpCode(h,f)),h}},function(U,K){function m(t){var i=this,s=e.call(arguments,1);return new Promise(function(c,r){function p(g){var y;try{y=t.next(g)}catch(C){return r(C)}u(y)}function o(g){var y;try{y=t.throw(g)}catch(C){return r(C)}u(y)}function u(g){if(g.done)return c(g.value);var y=A.call(i,g.value);return y&&v(y)?y.then(p,o):o(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(g.value)+'"'))}if("function"==typeof t&&(t=t.apply(i,s)),!t||"function"!=typeof t.next)return c(t);p()})}function A(t){return t&&(v(t)?t:function(t){var i=t.constructor;return!!i&&("GeneratorFunction"===i.name||"GeneratorFunction"===i.displayName||h(i.prototype))}(t)||h(t)?m.call(this,t):"function"==typeof t?S.call(this,t):Array.isArray(t)?b.call(this,t):function(t){return Object==t.constructor}(t)?l.call(this,t):t)}function S(t){var i=this;return new Promise(function(s,c){t.call(i,function(r,p){if(r)return c(r);arguments.length>2&&(p=e.call(arguments,1)),s(p)})})}function b(t){return Promise.all(t.map(A,this))}function l(t){for(var i=new t.constructor,s=Object.keys(t),c=[],r=0;r<s.length;r++){var p=s[r],o=A.call(this,t[p]);o&&v(o)?function(u,g){i[g]=void 0,c.push(u.then(function(y){i[g]=y}))}(o,p):i[p]=t[p]}return Promise.all(c).then(function(){return i})}function v(t){return"function"==typeof t.then}function h(t){return"function"==typeof t.next&&"function"==typeof t.throw}var e=Array.prototype.slice;U.exports=m.default=m.co=m,m.wrap=function(t){function i(){return m.call(this,t.apply(this,arguments))}return i.__generatorFunction__=t,i}},function(U,K){"use strict";var m=U.exports=function(){this._cache={}};m.prototype.put=function(A,S){this._cache[A]=S},m.prototype.get=function(A){return this._cache[A]},m.prototype.del=function(A){delete this._cache[A]},m.prototype.clear=function(){this._cache={}}},function(U,K,m){"use strict";function A(d){return n.copy(A[d="full"==d?"full":"fast"])}function S(d){var a=d.match(e);if(!a)return!1;var w=+a[1],E=+a[2];return w>=1&&w<=12&&E>=1&&E<=t[w]}function b(d,a){var w=d.match(i);return!!w&&w[1]<=23&&w[2]<=59&&w[3]<=59&&(!a||w[5])}function f(d){if(C.test(d))return!1;try{return new RegExp(d),!0}catch(a){return!1}}var n=m(11),e=/^\d\d\d\d-(\d\d)-(\d\d)$/,t=[0,31,29,31,30,31,30,31,31,30,31,30,31],i=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,s=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,c=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,r=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#.\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,p=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,o=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,u=/^(?:\/(?:[^~\/]|~0|~1)*)*$|^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;U.exports=A,A.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^[0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*)(?::|\/)\/?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/\/)?[^\s]*$/i,"uri-template":r,url:p,email:/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:s,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:f,uuid:o,"json-pointer":u,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~\/]|~0|~1)*)*)$/},A.full={date:S,time:b,"date-time":function(d){var a=d.split(g);return 2==a.length&&S(a[0])&&b(a[1],!0)},uri:function(d){return y.test(d)&&c.test(d)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,"uri-template":r,url:p,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(d){return d.length<=255&&s.test(d)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:f,uuid:o,"json-pointer":u,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~\/]|~0|~1)*)*)$/};var g=/t|\s/i,y=/\/|:/,C=/[^\\]\\Z/},function(U,K,m){"use strict";var A=m(22),S=m(11).toHash;U.exports=function(){var b=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","uniqueItems","contains","items"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf"]}],l=["type"];return b.all=S(l),b.types=S(["number","integer","string","array","object","boolean","null"]),b.forEach(function(f){f.rules=f.rules.map(function(n){var e;if("object"==typeof n){var t=Object.keys(n)[0];e=n[t],n=t,e.forEach(function(i){l.push(i),b.all[i]=!0})}return l.push(n),b.all[n]={keyword:n,code:A[n],implements:e}}),f.type&&(b.types[f.type]=f)}),b.keywords=S(l.concat(["additionalItems","$schema","$id","id","title","description","default","definitions"])),b.custom={},b}},function(U,K,m){"use strict";U.exports={$ref:m(23),allOf:m(24),anyOf:m(25),const:m(26),contains:m(27),dependencies:m(28),enum:m(29),format:m(30),items:m(31),maximum:m(32),minimum:m(32),maxItems:m(33),minItems:m(33),maxLength:m(34),minLength:m(34),maxProperties:m(35),minProperties:m(35),multipleOf:m(36),not:m(37),oneOf:m(38),pattern:m(39),properties:m(40),propertyNames:m(41),required:m(42),uniqueItems:m(43),validate:m(17)}},function(U,K){"use strict";U.exports=function(m,A,S){var b,l,v=" ",f=m.dataLevel,n=m.schema[A],e=m.errSchemaPath+"/"+A,t=!m.opts.allErrors,i="data"+(f||""),s="valid"+m.level;if("#"==n||"#/"==n)m.isRoot?(b=m.async,l="validate"):(b=!0===m.root.schema.$async,l="root.refVal[0]");else{var c=m.resolveRef(m.baseId,n,m.isRoot);if(void 0===c){var r=m.MissingRefError.message(m.baseId,n);if("fail"==m.opts.missingRefs){m.logger.error(r),(p=p||[]).push(v),v="",!1!==m.createErrors?(v+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(e)+" , params: { ref: '"+m.util.escapeQuotes(n)+"' } ",!1!==m.opts.messages&&(v+=" , message: 'can\\'t resolve reference "+m.util.escapeQuotes(n)+"' "),m.opts.verbose&&(v+=" , schema: "+m.util.toQuotedString(n)+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+i+" "),v+=" } "):v+=" {} ";var o=v;v=p.pop(),v+=!m.compositeRule&&t?m.async?" throw new ValidationError(["+o+"]); ":" validate.errors = ["+o+"]; return false; ":" var err = "+o+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t&&(v+=" if (false) { ")}else{if("ignore"!=m.opts.missingRefs)throw new m.MissingRefError(m.baseId,n,r);m.logger.warn(r),t&&(v+=" if (true) { ")}}else if(c.inline){var u=m.util.copy(m);u.level++;var g="valid"+u.level;u.schema=c.schema,u.schemaPath="",u.errSchemaPath=n,v+=" "+m.validate(u).replace(/validate\.schema/g,c.code)+" ",t&&(v+=" if ("+g+") { ")}else b=!0===c.$async,l=c.code}if(l){var p;(p=p||[]).push(v),v="",v+=m.opts.passContext?" "+l+".call(this, ":" "+l+"( ",v+=" "+i+", (dataPath || '')",'""'!=m.errorPath&&(v+=" + "+m.errorPath);var C=v+=" , "+(f?"data"+(f-1||""):"parentData")+" , "+(f?m.dataPathArr[f]:"parentDataProperty")+", rootData)  ";if(v=p.pop(),b){if(!m.async)throw new Error("async schema referenced by sync schema");t&&(v+=" var "+s+"; "),v+=" try { "+m.yieldAwait+" "+C+"; ",t&&(v+=" "+s+" = true; "),v+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",t&&(v+=" "+s+" = false; "),v+=" } ",t&&(v+=" if ("+s+") { ")}else v+=" if (!"+C+") { if (vErrors === null) vErrors = "+l+".errors; else vErrors = vErrors.concat("+l+".errors); errors = vErrors.length; } ",t&&(v+=" else { ")}return v}},function(U,K){"use strict";U.exports=function(m,A,S){var b=" ",l=m.schema[A],v=m.schemaPath+m.util.getProperty(A),h=m.errSchemaPath+"/"+A,f=!m.opts.allErrors,n=m.util.copy(m),e="";n.level++;var t="valid"+n.level,i=n.baseId,s=!0,c=l;if(c)for(var r,p=-1,o=c.length-1;p<o;)r=c[p+=1],m.util.schemaHasRules(r,m.RULES.all)&&(s=!1,n.schema=r,n.schemaPath=v+"["+p+"]",n.errSchemaPath=h+"/"+p,b+="  "+m.validate(n)+" ",n.baseId=i,f&&(b+=" if ("+t+") { ",e+="}"));return f&&(b+=s?" if (true) { ":" "+e.slice(0,-1)+" "),m.util.cleanUpCode(b)}},function(U,K){"use strict";U.exports=function(m,A,S){var b=" ",l=m.level,v=m.dataLevel,h=m.schema[A],f=m.schemaPath+m.util.getProperty(A),n=m.errSchemaPath+"/"+A,e=!m.opts.allErrors,t="data"+(v||""),i="valid"+l,s="errs__"+l,c=m.util.copy(m),r="";c.level++;var p="valid"+c.level;if(h.every(function(a){return m.util.schemaHasRules(a,m.RULES.all)})){var o=c.baseId;b+=" var "+s+" = errors; var "+i+" = false;  ";var u=m.compositeRule;m.compositeRule=c.compositeRule=!0;var g=h;if(g)for(var y,C=-1,d=g.length-1;C<d;)y=g[C+=1],c.schema=y,c.schemaPath=f+"["+C+"]",c.errSchemaPath=n+"/"+C,b+="  "+m.validate(c)+" ",c.baseId=o,b+=" "+i+" = "+i+" || "+p+"; if (!"+i+") { ",r+="}";m.compositeRule=c.compositeRule=u,b+=" "+r+" if (!"+i+") {   var err =   ",!1!==m.createErrors?(b+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(n)+" , params: {} ",!1!==m.opts.messages&&(b+=" , message: 'should match some schema in anyOf' "),m.opts.verbose&&(b+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+t+" "),b+=" } "):b+=" {} ",b+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!m.compositeRule&&e&&(b+=m.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),b+=" } else {  errors = "+s+"; if (vErrors !== null) { if ("+s+") vErrors.length = "+s+"; else vErrors = null; } ",m.opts.allErrors&&(b+=" } "),b=m.util.cleanUpCode(b)}else e&&(b+=" if (true) { ");return b}},function(U,K){"use strict";U.exports=function(m,A,S){var b=" ",l=m.level,v=m.dataLevel,h=m.schema[A],f=m.schemaPath+m.util.getProperty(A),n=m.errSchemaPath+"/"+A,e=!m.opts.allErrors,t="data"+(v||""),i="valid"+l,s=m.opts.$data&&h&&h.$data;s&&(b+=" var schema"+l+" = "+m.util.getData(h.$data,v,m.dataPathArr)+"; "),s||(b+=" var schema"+l+" = validate.schema"+f+";");var c=c||[];c.push(b+="var "+i+" = equal("+t+", schema"+l+"); if (!"+i+") {   "),b="",!1!==m.createErrors?(b+=" { keyword: 'const' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(n)+" , params: {} ",!1!==m.opts.messages&&(b+=" , message: 'should be equal to constant' "),m.opts.verbose&&(b+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+t+" "),b+=" } "):b+=" {} ";var r=b;return b=c.pop(),b+=!m.compositeRule&&e?m.async?" throw new ValidationError(["+r+"]); ":" validate.errors = ["+r+"]; return false; ":" var err = "+r+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",b+=" }",e&&(b+=" else { "),b}},function(U,K){"use strict";U.exports=function(m,A,S){var b=" ",l=m.level,v=m.dataLevel,h=m.schema[A],f=m.schemaPath+m.util.getProperty(A),n=m.errSchemaPath+"/"+A,e=!m.opts.allErrors,t="data"+(v||""),i="valid"+l,s="errs__"+l,c=m.util.copy(m);c.level++;var r="valid"+c.level,p="i"+l,o=c.dataLevel=m.dataLevel+1,u="data"+o,g=m.baseId,y=m.util.schemaHasRules(h,m.RULES.all);if(b+="var "+s+" = errors;var "+i+";",y){var C=m.compositeRule;m.compositeRule=c.compositeRule=!0,c.schema=h,c.schemaPath=f,c.errSchemaPath=n,b+=" var "+r+" = false; for (var "+p+" = 0; "+p+" < "+t+".length; "+p+"++) { ",c.errorPath=m.util.getPathExpr(m.errorPath,p,m.opts.jsonPointers,!0);var d=t+"["+p+"]";c.dataPathArr[o]=p;var a=m.validate(c);c.baseId=g,m.util.varOccurences(a,u)<2?b+=" "+m.util.varReplace(a,u,d)+" ":b+=" var "+u+" = "+d+"; "+a+" ",b+=" if ("+r+") break; }  ",m.compositeRule=c.compositeRule=C,b+="  if (!"+r+") {"}else b+=" if ("+t+".length == 0) {";var w=w||[];w.push(b),b="",!1!==m.createErrors?(b+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(n)+" , params: {} ",!1!==m.opts.messages&&(b+=" , message: 'should contain a valid item' "),m.opts.verbose&&(b+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+t+" "),b+=" } "):b+=" {} ";var E=b;return b=w.pop(),b+=!m.compositeRule&&e?m.async?" throw new ValidationError(["+E+"]); ":" validate.errors = ["+E+"]; return false; ":" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",b+=" } else { ",y&&(b+="  errors = "+s+"; if (vErrors !== null) { if ("+s+") vErrors.length = "+s+"; else vErrors = null; } "),m.opts.allErrors&&(b+=" } "),m.util.cleanUpCode(b)}},function(U,K){"use strict";U.exports=function(m,A,S){var b=" ",l=m.level,v=m.dataLevel,h=m.schema[A],f=m.schemaPath+m.util.getProperty(A),n=m.errSchemaPath+"/"+A,e=!m.opts.allErrors,t="data"+(v||""),i="errs__"+l,s=m.util.copy(m),c="";s.level++;var r="valid"+s.level,p={},o={},u=m.opts.ownProperties;for(d in h){var g=h[d],y=Array.isArray(g)?o:p;y[d]=g}b+="var "+i+" = errors;";var C=m.errorPath;for(var d in b+="var missing"+l+";",o)if((y=o[d]).length){if(b+=" if ( "+t+m.util.getProperty(d)+" !== undefined ",u&&(b+=" && Object.prototype.hasOwnProperty.call("+t+", '"+m.util.escapeQuotes(d)+"') "),e){b+=" && ( ";var a=y;if(a)for(var E=-1,F=a.length-1;E<F;)w=a[E+=1],E&&(b+=" || "),b+=" ( ( "+(B=t+(_=m.util.getProperty(w)))+" === undefined ",u&&(b+=" || ! Object.prototype.hasOwnProperty.call("+t+", '"+m.util.escapeQuotes(w)+"') "),b+=") && (missing"+l+" = "+m.util.toQuotedString(m.opts.jsonPointers?w:_)+") ) ";b+=")) {  ";var R="missing"+l,P="' + "+R+" + '";m.opts._errorDataPathProperty&&(m.errorPath=m.opts.jsonPointers?m.util.getPathExpr(C,R,!0):C+" + "+R);var x=x||[];x.push(b),b="",!1!==m.createErrors?(b+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(n)+" , params: { property: '"+m.util.escapeQuotes(d)+"', missingProperty: '"+P+"', depsCount: "+y.length+", deps: '"+m.util.escapeQuotes(1==y.length?y[0]:y.join(", "))+"' } ",!1!==m.opts.messages&&(b+=" , message: 'should have ",b+=1==y.length?"property "+m.util.escapeQuotes(y[0]):"properties "+m.util.escapeQuotes(y.join(", ")),b+=" when property "+m.util.escapeQuotes(d)+" is present' "),m.opts.verbose&&(b+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+t+" "),b+=" } "):b+=" {} ";var D=b;b=x.pop(),b+=!m.compositeRule&&e?m.async?" throw new ValidationError(["+D+"]); ":" validate.errors = ["+D+"]; return false; ":" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{b+=" ) { ";var T=y;if(T)for(var w,k=-1,L=T.length-1;k<L;){w=T[k+=1];var _=m.util.getProperty(w),B=(P=m.util.escapeQuotes(w),t+_);m.opts._errorDataPathProperty&&(m.errorPath=m.util.getPath(C,w,m.opts.jsonPointers)),b+=" if ( "+B+" === undefined ",u&&(b+=" || ! Object.prototype.hasOwnProperty.call("+t+", '"+m.util.escapeQuotes(w)+"') "),b+=") {  var err =   ",!1!==m.createErrors?(b+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(n)+" , params: { property: '"+m.util.escapeQuotes(d)+"', missingProperty: '"+P+"', depsCount: "+y.length+", deps: '"+m.util.escapeQuotes(1==y.length?y[0]:y.join(", "))+"' } ",!1!==m.opts.messages&&(b+=" , message: 'should have ",b+=1==y.length?"property "+m.util.escapeQuotes(y[0]):"properties "+m.util.escapeQuotes(y.join(", ")),b+=" when property "+m.util.escapeQuotes(d)+" is present' "),m.opts.verbose&&(b+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+t+" "),b+=" } "):b+=" {} ",b+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}b+=" }   ",e&&(c+="}",b+=" else { ")}m.errorPath=C;var $=s.baseId;for(var d in p)m.util.schemaHasRules(g=p[d],m.RULES.all)&&(b+=" "+r+" = true; if ( "+t+m.util.getProperty(d)+" !== undefined ",u&&(b+=" && Object.prototype.hasOwnProperty.call("+t+", '"+m.util.escapeQuotes(d)+"') "),b+=") { ",s.schema=g,s.schemaPath=f+m.util.getProperty(d),s.errSchemaPath=n+"/"+m.util.escapeFragment(d),b+="  "+m.validate(s)+" ",s.baseId=$,b+=" }  ",e&&(b+=" if ("+r+") { ",c+="}"));return e&&(b+="   "+c+" if ("+i+" == errors) {"),m.util.cleanUpCode(b)}},function(U,K){"use strict";U.exports=function(m,A,S){var b=" ",l=m.level,v=m.dataLevel,h=m.schema[A],f=m.schemaPath+m.util.getProperty(A),n=m.errSchemaPath+"/"+A,e=!m.opts.allErrors,t="data"+(v||""),i="valid"+l,s=m.opts.$data&&h&&h.$data;s&&(b+=" var schema"+l+" = "+m.util.getData(h.$data,v,m.dataPathArr)+"; ");var c="i"+l,r="schema"+l;s||(b+=" var "+r+" = validate.schema"+f+";"),b+="var "+i+";",s&&(b+=" if (schema"+l+" === undefined) "+i+" = true; else if (!Array.isArray(schema"+l+")) "+i+" = false; else {"),b+=i+" = false;for (var "+c+"=0; "+c+"<"+r+".length; "+c+"++) if (equal("+t+", "+r+"["+c+"])) { "+i+" = true; break; }",s&&(b+="  }  ");var p=p||[];p.push(b+=" if (!"+i+") {   "),b="",!1!==m.createErrors?(b+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(n)+" , params: { allowedValues: schema"+l+" } ",!1!==m.opts.messages&&(b+=" , message: 'should be equal to one of the allowed values' "),m.opts.verbose&&(b+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+t+" "),b+=" } "):b+=" {} ";var o=b;return b=p.pop(),b+=!m.compositeRule&&e?m.async?" throw new ValidationError(["+o+"]); ":" validate.errors = ["+o+"]; return false; ":" var err = "+o+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",b+=" }",e&&(b+=" else { "),b}},function(U,K){"use strict";U.exports=function(m,A,S){var b=" ",l=m.level,v=m.dataLevel,h=m.schema[A],f=m.schemaPath+m.util.getProperty(A),n=m.errSchemaPath+"/"+A,e=!m.opts.allErrors,t="data"+(v||"");if(!1===m.opts.format)return e&&(b+=" if (true) { "),b;var i,s=m.opts.$data&&h&&h.$data;s?(b+=" var schema"+l+" = "+m.util.getData(h.$data,v,m.dataPathArr)+"; ",i="schema"+l):i=h;var c=m.opts.unknownFormats,r=Array.isArray(c);if(s)b+=" var "+(p="format"+l)+" = formats["+i+"]; var "+(o="isObject"+l)+" = typeof "+p+" == 'object' && !("+p+" instanceof RegExp) && "+p+".validate; var "+(u="formatType"+l)+" = "+o+" && "+p+".type || 'string'; if ("+o+") { ",m.async&&(b+=" var async"+l+" = "+p+".async; "),b+=" "+p+" = "+p+".validate; } if (  ",s&&(b+=" ("+i+" !== undefined && typeof "+i+" != 'string') || "),b+=" (","ignore"!=c&&(b+=" ("+i+" && !"+p+" ",r&&(b+=" && self._opts.unknownFormats.indexOf("+i+") == -1 "),b+=") || "),b+=" ("+p+" && "+u+" == '"+S+"' && !(typeof "+p+" == 'function' ? ",b+=m.async?" (async"+l+" ? "+m.yieldAwait+" "+p+"("+t+") : "+p+"("+t+")) ":" "+p+"("+t+") ",b+=" : "+p+".test("+t+"))))) {";else{var p;if(!(p=m.formats[h])){if("ignore"==c)return m.logger.warn('unknown format "'+h+'" ignored in schema at path "'+m.errSchemaPath+'"'),e&&(b+=" if (true) { "),b;if(r&&c.indexOf(h)>=0)return e&&(b+=" if (true) { "),b;throw new Error('unknown format "'+h+'" is used in schema at path "'+m.errSchemaPath+'"')}var o,u=(o="object"==typeof p&&!(p instanceof RegExp)&&p.validate)&&p.type||"string";if(o){var g=!0===p.async;p=p.validate}if(u!=S)return e&&(b+=" if (true) { "),b;if(g){if(!m.async)throw new Error("async format in sync schema");var y="formats"+m.util.getProperty(h)+".validate";b+=" if (!("+m.yieldAwait+" "+y+"("+t+"))) { "}else b+=" if (! ",y="formats"+m.util.getProperty(h),o&&(y+=".validate"),b+="function"==typeof p?" "+y+"("+t+") ":" "+y+".test("+t+") ",b+=") { "}var C=C||[];C.push(b),b="",!1!==m.createErrors?(b+=" { keyword: 'format' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(n)+" , params: { format:  ",b+=s?""+i:""+m.util.toQuotedString(h),b+="  } ",!1!==m.opts.messages&&(b+=" , message: 'should match format \"",b+=s?"' + "+i+" + '":""+m.util.escapeQuotes(h),b+="\"' "),m.opts.verbose&&(b+=" , schema:  ",b+=s?"validate.schema"+f:""+m.util.toQuotedString(h),b+="         , parentSchema: validate.schema"+m.schemaPath+" , data: "+t+" "),b+=" } "):b+=" {} ";var d=b;return b=C.pop(),b+=!m.compositeRule&&e?m.async?" throw new ValidationError(["+d+"]); ":" validate.errors = ["+d+"]; return false; ":" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",b+=" } ",e&&(b+=" else { "),b}},function(U,K){"use strict";U.exports=function(m,A,S){var b=" ",l=m.level,v=m.dataLevel,h=m.schema[A],f=m.schemaPath+m.util.getProperty(A),n=m.errSchemaPath+"/"+A,e=!m.opts.allErrors,t="data"+(v||""),i="valid"+l,s="errs__"+l,c=m.util.copy(m),r="";c.level++;var p="valid"+c.level,o="i"+l,u=c.dataLevel=m.dataLevel+1,g="data"+u,y=m.baseId;if(b+="var "+s+" = errors;var "+i+";",Array.isArray(h)){var C=m.schema.additionalItems;if(!1===C){b+=" "+i+" = "+t+".length <= "+h.length+"; ";var d=n;n=m.errSchemaPath+"/additionalItems";var a=a||[];a.push(b+="  if (!"+i+") {   "),b="",!1!==m.createErrors?(b+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(n)+" , params: { limit: "+h.length+" } ",!1!==m.opts.messages&&(b+=" , message: 'should NOT have more than "+h.length+" items' "),m.opts.verbose&&(b+=" , schema: false , parentSchema: validate.schema"+m.schemaPath+" , data: "+t+" "),b+=" } "):b+=" {} ";var w=b;b=a.pop(),b+=!m.compositeRule&&e?m.async?" throw new ValidationError(["+w+"]); ":" validate.errors = ["+w+"]; return false; ":" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",b+=" } ",n=d,e&&(r+="}",b+=" else { ")}var E=h;if(E)for(var F,_=-1,B=E.length-1;_<B;)if(F=E[_+=1],m.util.schemaHasRules(F,m.RULES.all)){b+=" "+p+" = true; if ("+t+".length > "+_+") { ";var R=t+"["+_+"]";c.schema=F,c.schemaPath=f+"["+_+"]",c.errSchemaPath=n+"/"+_,c.errorPath=m.util.getPathExpr(m.errorPath,_,m.opts.jsonPointers,!0),c.dataPathArr[u]=_;var P=m.validate(c);c.baseId=y,m.util.varOccurences(P,g)<2?b+=" "+m.util.varReplace(P,g,R)+" ":b+=" var "+g+" = "+R+"; "+P+" ",b+=" }  ",e&&(b+=" if ("+p+") { ",r+="}")}"object"==typeof C&&m.util.schemaHasRules(C,m.RULES.all)&&(c.schema=C,c.schemaPath=m.schemaPath+".additionalItems",c.errSchemaPath=m.errSchemaPath+"/additionalItems",b+=" "+p+" = true; if ("+t+".length > "+h.length+") {  for (var "+o+" = "+h.length+"; "+o+" < "+t+".length; "+o+"++) { ",c.errorPath=m.util.getPathExpr(m.errorPath,o,m.opts.jsonPointers,!0),R=t+"["+o+"]",c.dataPathArr[u]=o,P=m.validate(c),c.baseId=y,m.util.varOccurences(P,g)<2?b+=" "+m.util.varReplace(P,g,R)+" ":b+=" var "+g+" = "+R+"; "+P+" ",e&&(b+=" if (!"+p+") break; "),b+=" } }  ",e&&(b+=" if ("+p+") { ",r+="}"))}else m.util.schemaHasRules(h,m.RULES.all)&&(c.schema=h,c.schemaPath=f,c.errSchemaPath=n,b+="  for (var "+o+" = 0; "+o+" < "+t+".length; "+o+"++) { ",c.errorPath=m.util.getPathExpr(m.errorPath,o,m.opts.jsonPointers,!0),R=t+"["+o+"]",c.dataPathArr[u]=o,P=m.validate(c),c.baseId=y,m.util.varOccurences(P,g)<2?b+=" "+m.util.varReplace(P,g,R)+" ":b+=" var "+g+" = "+R+"; "+P+" ",e&&(b+=" if (!"+p+") break; "),b+=" }");return e&&(b+=" "+r+" if ("+s+" == errors) {"),m.util.cleanUpCode(b)}},function(U,K){"use strict";U.exports=function(m,A,S){var l,v=" ",h=m.level,f=m.dataLevel,n=m.schema[A],e=m.schemaPath+m.util.getProperty(A),t=m.errSchemaPath+"/"+A,i=!m.opts.allErrors,s="data"+(f||""),c=m.opts.$data&&n&&n.$data;c?(v+=" var schema"+h+" = "+m.util.getData(n.$data,f,m.dataPathArr)+"; ",l="schema"+h):l=n;var r="maximum"==A,p=r?"exclusiveMaximum":"exclusiveMinimum",o=m.schema[p],g=r?"<":">",y=r?">":"<",b=void 0;if(m.opts.$data&&o&&o.$data){var _,C=m.util.getData(o.$data,f,m.dataPathArr),d="exclusive"+h,a="exclType"+h,w="exclIsNumber"+h,F="' + "+(E="op"+h)+" + '";v+=" var schemaExcl"+h+" = "+C+"; ",b=p,(_=_||[]).push(v+=" var "+d+"; var "+a+" = typeof "+(C="schemaExcl"+h)+"; if ("+a+" != 'boolean' && "+a+" != 'undefined' && "+a+" != 'number') { "),v="",!1!==m.createErrors?(v+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(t)+" , params: {} ",!1!==m.opts.messages&&(v+=" , message: '"+p+" should be boolean' "),m.opts.verbose&&(v+=" , schema: validate.schema"+e+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+s+" "),v+=" } "):v+=" {} ";var B=v;v=_.pop(),v+=!m.compositeRule&&i?m.async?" throw new ValidationError(["+B+"]); ":" validate.errors = ["+B+"]; return false; ":" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",v+=" } else if ( ",c&&(v+=" ("+l+" !== undefined && typeof "+l+" != 'number') || "),v+=" "+a+" == 'number' ? ( ("+d+" = "+l+" === undefined || "+C+" "+g+"= "+l+") ? "+s+" "+y+"= "+C+" : "+s+" "+y+" "+l+" ) : ( ("+d+" = "+C+" === true) ? "+s+" "+y+"= "+l+" : "+s+" "+y+" "+l+" ) || "+s+" !== "+s+") { var op"+h+" = "+d+" ? '"+g+"' : '"+g+"=';"}else if(F=g,(w="number"==typeof o)&&c){var E="'"+F+"'";v+=" if ( ",c&&(v+=" ("+l+" !== undefined && typeof "+l+" != 'number') || "),v+=" ( "+l+" === undefined || "+o+" "+g+"= "+l+" ? "+s+" "+y+"= "+o+" : "+s+" "+y+" "+l+" ) || "+s+" !== "+s+") { "}else w&&void 0===n?(d=!0,b=p,t=m.errSchemaPath+"/"+p,l=o,y+="="):(w&&(l=Math[r?"min":"max"](o,n)),o===(!w||l)?(d=!0,b=p,t=m.errSchemaPath+"/"+p,y+="="):(d=!1,F+="=")),E="'"+F+"'",v+=" if ( ",c&&(v+=" ("+l+" !== undefined && typeof "+l+" != 'number') || "),v+=" "+s+" "+y+" "+l+" || "+s+" !== "+s+") { ";return b=b||A,(_=_||[]).push(v),v="",!1!==m.createErrors?(v+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(t)+" , params: { comparison: "+E+", limit: "+l+", exclusive: "+d+" } ",!1!==m.opts.messages&&(v+=" , message: 'should be "+F+" ",v+=c?"' + "+l:l+"'"),m.opts.verbose&&(v+=" , schema:  ",v+=c?"validate.schema"+e:""+n,v+="         , parentSchema: validate.schema"+m.schemaPath+" , data: "+s+" "),v+=" } "):v+=" {} ",B=v,v=_.pop(),v+=!m.compositeRule&&i?m.async?" throw new ValidationError(["+B+"]); ":" validate.errors = ["+B+"]; return false; ":" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",v+=" } ",i&&(v+=" else { "),v}},function(U,K){"use strict";U.exports=function(m,A,S){var l,v=" ",h=m.level,f=m.dataLevel,n=m.schema[A],e=m.schemaPath+m.util.getProperty(A),t=m.errSchemaPath+"/"+A,i=!m.opts.allErrors,s="data"+(f||""),c=m.opts.$data&&n&&n.$data;c?(v+=" var schema"+h+" = "+m.util.getData(n.$data,f,m.dataPathArr)+"; ",l="schema"+h):l=n,v+="if ( ",c&&(v+=" ("+l+" !== undefined && typeof "+l+" != 'number') || ");var b=A,p=p||[];p.push(v+=" "+s+".length "+("maxItems"==A?">":"<")+" "+l+") { "),v="",!1!==m.createErrors?(v+=" { keyword: '"+(b||"_limitItems")+"' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(t)+" , params: { limit: "+l+" } ",!1!==m.opts.messages&&(v+=" , message: 'should NOT have ",v+="maxItems"==A?"more":"less",v+=" than ",v+=c?"' + "+l+" + '":""+n,v+=" items' "),m.opts.verbose&&(v+=" , schema:  ",v+=c?"validate.schema"+e:""+n,v+="         , parentSchema: validate.schema"+m.schemaPath+" , data: "+s+" "),v+=" } "):v+=" {} ";var o=v;return v=p.pop(),v+=!m.compositeRule&&i?m.async?" throw new ValidationError(["+o+"]); ":" validate.errors = ["+o+"]; return false; ":" var err = "+o+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",v+="} ",i&&(v+=" else { "),v}},function(U,K){"use strict";U.exports=function(m,A,S){var l,v=" ",h=m.level,f=m.dataLevel,n=m.schema[A],e=m.schemaPath+m.util.getProperty(A),t=m.errSchemaPath+"/"+A,i=!m.opts.allErrors,s="data"+(f||""),c=m.opts.$data&&n&&n.$data;c?(v+=" var schema"+h+" = "+m.util.getData(n.$data,f,m.dataPathArr)+"; ",l="schema"+h):l=n,v+="if ( ",c&&(v+=" ("+l+" !== undefined && typeof "+l+" != 'number') || "),v+=!1===m.opts.unicode?" "+s+".length ":" ucs2length("+s+") ";var b=A,p=p||[];p.push(v+=" "+("maxLength"==A?">":"<")+" "+l+") { "),v="",!1!==m.createErrors?(v+=" { keyword: '"+(b||"_limitLength")+"' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(t)+" , params: { limit: "+l+" } ",!1!==m.opts.messages&&(v+=" , message: 'should NOT be ",v+="maxLength"==A?"longer":"shorter",v+=" than ",v+=c?"' + "+l+" + '":""+n,v+=" characters' "),m.opts.verbose&&(v+=" , schema:  ",v+=c?"validate.schema"+e:""+n,v+="         , parentSchema: validate.schema"+m.schemaPath+" , data: "+s+" "),v+=" } "):v+=" {} ";var o=v;return v=p.pop(),v+=!m.compositeRule&&i?m.async?" throw new ValidationError(["+o+"]); ":" validate.errors = ["+o+"]; return false; ":" var err = "+o+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",v+="} ",i&&(v+=" else { "),v}},function(U,K){"use strict";U.exports=function(m,A,S){var l,v=" ",h=m.level,f=m.dataLevel,n=m.schema[A],e=m.schemaPath+m.util.getProperty(A),t=m.errSchemaPath+"/"+A,i=!m.opts.allErrors,s="data"+(f||""),c=m.opts.$data&&n&&n.$data;c?(v+=" var schema"+h+" = "+m.util.getData(n.$data,f,m.dataPathArr)+"; ",l="schema"+h):l=n,v+="if ( ",c&&(v+=" ("+l+" !== undefined && typeof "+l+" != 'number') || ");var b=A,p=p||[];p.push(v+=" Object.keys("+s+").length "+("maxProperties"==A?">":"<")+" "+l+") { "),v="",!1!==m.createErrors?(v+=" { keyword: '"+(b||"_limitProperties")+"' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(t)+" , params: { limit: "+l+" } ",!1!==m.opts.messages&&(v+=" , message: 'should NOT have ",v+="maxProperties"==A?"more":"less",v+=" than ",v+=c?"' + "+l+" + '":""+n,v+=" properties' "),m.opts.verbose&&(v+=" , schema:  ",v+=c?"validate.schema"+e:""+n,v+="         , parentSchema: validate.schema"+m.schemaPath+" , data: "+s+" "),v+=" } "):v+=" {} ";var o=v;return v=p.pop(),v+=!m.compositeRule&&i?m.async?" throw new ValidationError(["+o+"]); ":" validate.errors = ["+o+"]; return false; ":" var err = "+o+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",v+="} ",i&&(v+=" else { "),v}},function(U,K){"use strict";U.exports=function(m,A,S){var b,l=" ",v=m.level,h=m.dataLevel,f=m.schema[A],n=m.schemaPath+m.util.getProperty(A),e=m.errSchemaPath+"/"+A,t=!m.opts.allErrors,i="data"+(h||""),s=m.opts.$data&&f&&f.$data;s?(l+=" var schema"+v+" = "+m.util.getData(f.$data,h,m.dataPathArr)+"; ",b="schema"+v):b=f,l+="var division"+v+";if (",s&&(l+=" "+b+" !== undefined && ( typeof "+b+" != 'number' || "),l+=" (division"+v+" = "+i+" / "+b+", ",l+=m.opts.multipleOfPrecision?" Math.abs(Math.round(division"+v+") - division"+v+") > 1e-"+m.opts.multipleOfPrecision+" ":" division"+v+" !== parseInt(division"+v+") ",l+=" ) ",s&&(l+="  )  ");var c=c||[];c.push(l+=" ) {   "),l="",!1!==m.createErrors?(l+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(e)+" , params: { multipleOf: "+b+" } ",!1!==m.opts.messages&&(l+=" , message: 'should be multiple of ",l+=s?"' + "+b:b+"'"),m.opts.verbose&&(l+=" , schema:  ",l+=s?"validate.schema"+n:""+f,l+="         , parentSchema: validate.schema"+m.schemaPath+" , data: "+i+" "),l+=" } "):l+=" {} ";var r=l;return l=c.pop(),l+=!m.compositeRule&&t?m.async?" throw new ValidationError(["+r+"]); ":" validate.errors = ["+r+"]; return false; ":" var err = "+r+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l+="} ",t&&(l+=" else { "),l}},function(U,K){"use strict";U.exports=function(m,A,S){var b=" ",l=m.level,v=m.dataLevel,h=m.schema[A],f=m.schemaPath+m.util.getProperty(A),n=m.errSchemaPath+"/"+A,e=!m.opts.allErrors,t="data"+(v||""),i="errs__"+l,s=m.util.copy(m);s.level++;var c="valid"+s.level;if(m.util.schemaHasRules(h,m.RULES.all)){s.schema=h,s.schemaPath=f,s.errSchemaPath=n,b+=" var "+i+" = errors;  ";var p,r=m.compositeRule;m.compositeRule=s.compositeRule=!0,s.createErrors=!1,s.opts.allErrors&&(p=s.opts.allErrors,s.opts.allErrors=!1),b+=" "+m.validate(s)+" ",s.createErrors=!0,p&&(s.opts.allErrors=p),m.compositeRule=s.compositeRule=r;var o=o||[];o.push(b+=" if ("+c+") {   "),b="",!1!==m.createErrors?(b+=" { keyword: 'not' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(n)+" , params: {} ",!1!==m.opts.messages&&(b+=" , message: 'should NOT be valid' "),m.opts.verbose&&(b+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+t+" "),b+=" } "):b+=" {} ";var u=b;b=o.pop(),b+=!m.compositeRule&&e?m.async?" throw new ValidationError(["+u+"]); ":" validate.errors = ["+u+"]; return false; ":" var err = "+u+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",b+=" } else {  errors = "+i+"; if (vErrors !== null) { if ("+i+") vErrors.length = "+i+"; else vErrors = null; } ",m.opts.allErrors&&(b+=" } ")}else b+="  var err =   ",!1!==m.createErrors?(b+=" { keyword: 'not' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(n)+" , params: {} ",!1!==m.opts.messages&&(b+=" , message: 'should NOT be valid' "),m.opts.verbose&&(b+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+t+" "),b+=" } "):b+=" {} ",b+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e&&(b+=" if (false) { ");return b}},function(U,K){"use strict";U.exports=function(m,A,S){var b=" ",l=m.level,v=m.dataLevel,h=m.schema[A],f=m.schemaPath+m.util.getProperty(A),n=m.errSchemaPath+"/"+A,e=!m.opts.allErrors,t="data"+(v||""),i="valid"+l,s="errs__"+l,c=m.util.copy(m),r="";c.level++;var p="valid"+c.level;b+="var "+s+" = errors;var prevValid"+l+" = false;var "+i+" = false;";var o=c.baseId,u=m.compositeRule;m.compositeRule=c.compositeRule=!0;var g=h;if(g)for(var y,C=-1,d=g.length-1;C<d;)y=g[C+=1],m.util.schemaHasRules(y,m.RULES.all)?(c.schema=y,c.schemaPath=f+"["+C+"]",c.errSchemaPath=n+"/"+C,b+="  "+m.validate(c)+" ",c.baseId=o):b+=" var "+p+" = true; ",C&&(b+=" if ("+p+" && prevValid"+l+") "+i+" = false; else { ",r+="}"),b+=" if ("+p+") "+i+" = prevValid"+l+" = true;";return m.compositeRule=c.compositeRule=u,b+=r+"if (!"+i+") {   var err =   ",!1!==m.createErrors?(b+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(n)+" , params: {} ",!1!==m.opts.messages&&(b+=" , message: 'should match exactly one schema in oneOf' "),m.opts.verbose&&(b+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+t+" "),b+=" } "):b+=" {} ",b+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!m.compositeRule&&e&&(b+=m.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),b+="} else {  errors = "+s+"; if (vErrors !== null) { if ("+s+") vErrors.length = "+s+"; else vErrors = null; }",m.opts.allErrors&&(b+=" } "),b}},function(U,K){"use strict";U.exports=function(m,A,S){var b,l=" ",v=m.level,h=m.dataLevel,f=m.schema[A],n=m.schemaPath+m.util.getProperty(A),e=m.errSchemaPath+"/"+A,t=!m.opts.allErrors,i="data"+(h||""),s=m.opts.$data&&f&&f.$data;s?(l+=" var schema"+v+" = "+m.util.getData(f.$data,h,m.dataPathArr)+"; ",b="schema"+v):b=f;var c=s?"(new RegExp("+b+"))":m.usePattern(f);l+="if ( ",s&&(l+=" ("+b+" !== undefined && typeof "+b+" != 'string') || ");var r=r||[];r.push(l+=" !"+c+".test("+i+") ) {   "),l="",!1!==m.createErrors?(l+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(e)+" , params: { pattern:  ",l+=s?""+b:""+m.util.toQuotedString(f),l+="  } ",!1!==m.opts.messages&&(l+=" , message: 'should match pattern \"",l+=s?"' + "+b+" + '":""+m.util.escapeQuotes(f),l+="\"' "),m.opts.verbose&&(l+=" , schema:  ",l+=s?"validate.schema"+n:""+m.util.toQuotedString(f),l+="         , parentSchema: validate.schema"+m.schemaPath+" , data: "+i+" "),l+=" } "):l+=" {} ";var p=l;return l=r.pop(),l+=!m.compositeRule&&t?m.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l+="} ",t&&(l+=" else { "),l}},function(U,K){"use strict";U.exports=function(m,A,S){var b=" ",l=m.level,v=m.dataLevel,h=m.schema[A],f=m.schemaPath+m.util.getProperty(A),n=m.errSchemaPath+"/"+A,e=!m.opts.allErrors,t="data"+(v||""),i="valid"+l,s="errs__"+l,c=m.util.copy(m),r="";c.level++;var p="valid"+c.level,o="key"+l,u="idx"+l,g=c.dataLevel=m.dataLevel+1,y="data"+g,C="dataProperties"+l,d=Object.keys(h||{}),a=m.schema.patternProperties||{},w=Object.keys(a),E=m.schema.additionalProperties,F=d.length||w.length,_=!1===E,B="object"==typeof E&&Object.keys(E).length,R=m.opts.removeAdditional,P=_||B||R,x=m.opts.ownProperties,D=m.baseId,T=m.schema.required;if(T&&(!m.opts.v5||!T.$data)&&T.length<m.opts.loopRequired)var k=m.util.toHash(T);if(m.opts.patternGroups)var L=m.schema.patternGroups||{},$=Object.keys(L);if(b+="var "+s+" = errors;var "+p+" = true;",x&&(b+=" var "+C+" = undefined;"),P){if(b+=x?" "+C+" = "+C+" || Object.keys("+t+"); for (var "+u+"=0; "+u+"<"+C+".length; "+u+"++) { var "+o+" = "+C+"["+u+"]; ":" for (var "+o+" in "+t+") { ",F){if(b+=" var isAdditional"+l+" = !(false ",d.length)if(d.length>5)b+=" || validate.schema"+f+"["+o+"] ";else{var O=d;if(O)for(var j=-1,z=O.length-1;j<z;)I=O[j+=1],b+=" || "+o+" == "+m.util.toQuotedString(I)+" "}if(w.length){var N=w;if(N)for(var G=-1,J=N.length-1;G<J;)W=N[G+=1],b+=" || "+m.usePattern(W)+".test("+o+") "}if(m.opts.patternGroups&&$.length){var M=$;if(M){G=-1;for(var q=M.length-1;G<q;)H=M[G+=1],b+=" || "+m.usePattern(H)+".test("+o+") "}}b+=" ); if (isAdditional"+l+") { "}if("all"==R)b+=" delete "+t+"["+o+"]; ";else{var Y=m.errorPath,Q="' + "+o+" + '";if(m.opts._errorDataPathProperty&&(m.errorPath=m.util.getPathExpr(m.errorPath,o,m.opts.jsonPointers)),_)if(R)b+=" delete "+t+"["+o+"]; ";else{var V=n;n=m.errSchemaPath+"/additionalProperties",(X=X||[]).push(b+=" "+p+" = false; "),b="",!1!==m.createErrors?(b+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(n)+" , params: { additionalProperty: '"+Q+"' } ",!1!==m.opts.messages&&(b+=" , message: 'should NOT have additional properties' "),m.opts.verbose&&(b+=" , schema: false , parentSchema: validate.schema"+m.schemaPath+" , data: "+t+" "),b+=" } "):b+=" {} ";var Z=b;b=X.pop(),b+=!m.compositeRule&&e?m.async?" throw new ValidationError(["+Z+"]); ":" validate.errors = ["+Z+"]; return false; ":" var err = "+Z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n=V,e&&(b+=" break; ")}else if(B)if("failing"==R){b+=" var "+s+" = errors;  ";var tt=m.compositeRule;m.compositeRule=c.compositeRule=!0,c.schema=E,c.schemaPath=m.schemaPath+".additionalProperties",c.errSchemaPath=m.errSchemaPath+"/additionalProperties",c.errorPath=m.opts._errorDataPathProperty?m.errorPath:m.util.getPathExpr(m.errorPath,o,m.opts.jsonPointers);var it=t+"["+o+"]";c.dataPathArr[g]=o;var et=m.validate(c);c.baseId=D,m.util.varOccurences(et,y)<2?b+=" "+m.util.varReplace(et,y,it)+" ":b+=" var "+y+" = "+it+"; "+et+" ",b+=" if (!"+p+") { errors = "+s+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+t+"["+o+"]; }  ",m.compositeRule=c.compositeRule=tt}else c.schema=E,c.schemaPath=m.schemaPath+".additionalProperties",c.errSchemaPath=m.errSchemaPath+"/additionalProperties",c.errorPath=m.opts._errorDataPathProperty?m.errorPath:m.util.getPathExpr(m.errorPath,o,m.opts.jsonPointers),it=t+"["+o+"]",c.dataPathArr[g]=o,et=m.validate(c),c.baseId=D,m.util.varOccurences(et,y)<2?b+=" "+m.util.varReplace(et,y,it)+" ":b+=" var "+y+" = "+it+"; "+et+" ",e&&(b+=" if (!"+p+") break; ");m.errorPath=Y}F&&(b+=" } "),b+=" }  ",e&&(b+=" if ("+p+") { ",r+="}")}var nt=m.opts.useDefaults&&!m.compositeRule;if(d.length){var rt=d;if(rt)for(var I,st=-1,ot=rt.length-1;st<ot;){if(I=rt[st+=1],m.util.schemaHasRules(at=h[I],m.RULES.all)){var vt=m.util.getProperty(I),bt=(it=t+vt,nt&&void 0!==at.default);if(c.schema=at,c.schemaPath=f+vt,c.errSchemaPath=n+"/"+m.util.escapeFragment(I),c.errorPath=m.util.getPath(m.errorPath,I,m.opts.jsonPointers),c.dataPathArr[g]=m.util.toQuotedString(I),et=m.validate(c),c.baseId=D,m.util.varOccurences(et,y)<2){et=m.util.varReplace(et,y,it);var ht=it}else ht=y,b+=" var "+y+" = "+it+"; ";if(bt)b+=" "+et+" ";else{if(k&&k[I]){b+=" if ( "+ht+" === undefined ",x&&(b+=" || ! Object.prototype.hasOwnProperty.call("+t+", '"+m.util.escapeQuotes(I)+"') "),b+=") { "+p+" = false; ",Y=m.errorPath,V=n;var yt=m.util.escapeQuotes(I);m.opts._errorDataPathProperty&&(m.errorPath=m.util.getPath(Y,I,m.opts.jsonPointers)),n=m.errSchemaPath+"/required",(X=X||[]).push(b),b="",!1!==m.createErrors?(b+=" { keyword: 'required' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(n)+" , params: { missingProperty: '"+yt+"' } ",!1!==m.opts.messages&&(b+=" , message: '",b+=m.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+yt+"\\'",b+="' "),m.opts.verbose&&(b+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+t+" "),b+=" } "):b+=" {} ",Z=b,b=X.pop(),b+=!m.compositeRule&&e?m.async?" throw new ValidationError(["+Z+"]); ":" validate.errors = ["+Z+"]; return false; ":" var err = "+Z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n=V,m.errorPath=Y,b+=" } else { "}else e?(b+=" if ( "+ht+" === undefined ",x&&(b+=" || ! Object.prototype.hasOwnProperty.call("+t+", '"+m.util.escapeQuotes(I)+"') "),b+=") { "+p+" = true; } else { "):(b+=" if ("+ht+" !== undefined ",x&&(b+=" &&   Object.prototype.hasOwnProperty.call("+t+", '"+m.util.escapeQuotes(I)+"') "),b+=" ) { ");b+=" "+et+" } "}}e&&(b+=" if ("+p+") { ",r+="}")}}if(w.length){var ut=w;if(ut)for(var W,wt=-1,At=ut.length-1;wt<At;)W=ut[wt+=1],m.util.schemaHasRules(at=a[W],m.RULES.all)&&(c.schema=at,c.schemaPath=m.schemaPath+".patternProperties"+m.util.getProperty(W),c.errSchemaPath=m.errSchemaPath+"/patternProperties/"+m.util.escapeFragment(W),b+=x?" "+C+" = "+C+" || Object.keys("+t+"); for (var "+u+"=0; "+u+"<"+C+".length; "+u+"++) { var "+o+" = "+C+"["+u+"]; ":" for (var "+o+" in "+t+") { ",b+=" if ("+m.usePattern(W)+".test("+o+")) { ",c.errorPath=m.util.getPathExpr(m.errorPath,o,m.opts.jsonPointers),it=t+"["+o+"]",c.dataPathArr[g]=o,et=m.validate(c),c.baseId=D,m.util.varOccurences(et,y)<2?b+=" "+m.util.varReplace(et,y,it)+" ":b+=" var "+y+" = "+it+"; "+et+" ",e&&(b+=" if (!"+p+") break; "),b+=" } ",e&&(b+=" else "+p+" = true; "),b+=" }  ",e&&(b+=" if ("+p+") { ",r+="}"))}if(m.opts.patternGroups&&$.length){var ft=$;if(ft)for(var H,Ct=-1,Et=ft.length-1;Ct<Et;){var at,pt=L[H=ft[Ct+=1]];if(m.util.schemaHasRules(at=pt.schema,m.RULES.all)){c.schema=at,c.schemaPath=m.schemaPath+".patternGroups"+m.util.getProperty(H)+".schema",c.errSchemaPath=m.errSchemaPath+"/patternGroups/"+m.util.escapeFragment(H)+"/schema",b+=" var pgPropCount"+l+" = 0;  ",b+=x?" "+C+" = "+C+" || Object.keys("+t+"); for (var "+u+"=0; "+u+"<"+C+".length; "+u+"++) { var "+o+" = "+C+"["+u+"]; ":" for (var "+o+" in "+t+") { ",b+=" if ("+m.usePattern(H)+".test("+o+")) { pgPropCount"+l+"++; ",c.errorPath=m.util.getPathExpr(m.errorPath,o,m.opts.jsonPointers),it=t+"["+o+"]",c.dataPathArr[g]=o,et=m.validate(c),c.baseId=D,m.util.varOccurences(et,y)<2?b+=" "+m.util.varReplace(et,y,it)+" ":b+=" var "+y+" = "+it+"; "+et+" ",e&&(b+=" if (!"+p+") break; "),b+=" } ",e&&(b+=" else "+p+" = true; "),b+=" }  ",e&&(b+=" if ("+p+") { ",r+="}");var dt=pt.minimum,lt=pt.maximum;if(void 0!==dt||void 0!==lt){if(b+=" var "+i+" = true; ",V=n,void 0!==dt){var ct=dt,mt="minimum",gt="less";b+=" "+i+" = pgPropCount"+l+" >= "+dt+"; ",n=m.errSchemaPath+"/patternGroups/minimum",(X=X||[]).push(b+="  if (!"+i+") {   "),b="",!1!==m.createErrors?(b+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(n)+" , params: { reason: '"+mt+"', limit: "+ct+", pattern: '"+m.util.escapeQuotes(H)+"' } ",!1!==m.opts.messages&&(b+=" , message: 'should NOT have "+gt+" than "+ct+' properties matching pattern "'+m.util.escapeQuotes(H)+"\"' "),m.opts.verbose&&(b+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+t+" "),b+=" } "):b+=" {} ",Z=b,b=X.pop(),b+=!m.compositeRule&&e?m.async?" throw new ValidationError(["+Z+"]); ":" validate.errors = ["+Z+"]; return false; ":" var err = "+Z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",b+=" } ",void 0!==lt&&(b+=" else ")}var X;if(void 0!==lt)ct=lt,mt="maximum",gt="more",b+=" "+i+" = pgPropCount"+l+" <= "+lt+"; ",n=m.errSchemaPath+"/patternGroups/maximum",(X=X||[]).push(b+="  if (!"+i+") {   "),b="",!1!==m.createErrors?(b+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(n)+" , params: { reason: '"+mt+"', limit: "+ct+", pattern: '"+m.util.escapeQuotes(H)+"' } ",!1!==m.opts.messages&&(b+=" , message: 'should NOT have "+gt+" than "+ct+' properties matching pattern "'+m.util.escapeQuotes(H)+"\"' "),m.opts.verbose&&(b+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+t+" "),b+=" } "):b+=" {} ",Z=b,b=X.pop(),b+=!m.compositeRule&&e?m.async?" throw new ValidationError(["+Z+"]); ":" validate.errors = ["+Z+"]; return false; ":" var err = "+Z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",b+=" } ";n=V,e&&(b+=" if ("+i+") { ",r+="}")}}}}return e&&(b+=" "+r+" if ("+s+" == errors) {"),m.util.cleanUpCode(b)}},function(U,K){"use strict";U.exports=function(m,A,S){var b=" ",l=m.level,v=m.dataLevel,h=m.schema[A],f=m.schemaPath+m.util.getProperty(A),n=m.errSchemaPath+"/"+A,e=!m.opts.allErrors,t="data"+(v||""),i="errs__"+l,s=m.util.copy(m);s.level++;var c="valid"+s.level;if(m.util.schemaHasRules(h,m.RULES.all)){s.schema=h,s.schemaPath=f,s.errSchemaPath=n;var r="key"+l,p="idx"+l,o="i"+l,u="' + "+r+" + '",y="data"+(s.dataLevel=m.dataLevel+1),C="dataProperties"+l,d=m.opts.ownProperties,a=m.baseId;b+=" var "+i+" = errors; ",d&&(b+=" var "+C+" = undefined; "),b+=d?" "+C+" = "+C+" || Object.keys("+t+"); for (var "+p+"=0; "+p+"<"+C+".length; "+p+"++) { var "+r+" = "+C+"["+p+"]; ":" for (var "+r+" in "+t+") { ",b+=" var startErrs"+l+" = errors; ";var w=r,E=m.compositeRule;m.compositeRule=s.compositeRule=!0;var F=m.validate(s);s.baseId=a,m.util.varOccurences(F,y)<2?b+=" "+m.util.varReplace(F,y,w)+" ":b+=" var "+y+" = "+w+"; "+F+" ",m.compositeRule=s.compositeRule=E,b+=" if (!"+c+") { for (var "+o+"=startErrs"+l+"; "+o+"<errors; "+o+"++) { vErrors["+o+"].propertyName = "+r+"; }   var err =   ",!1!==m.createErrors?(b+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(n)+" , params: { propertyName: '"+u+"' } ",!1!==m.opts.messages&&(b+=" , message: 'property name \\'"+u+"\\' is invalid' "),m.opts.verbose&&(b+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+t+" "),b+=" } "):b+=" {} ",b+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!m.compositeRule&&e&&(b+=m.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),e&&(b+=" break; "),b+=" } }"}return e&&(b+="  if ("+i+" == errors) {"),m.util.cleanUpCode(b)}},function(U,K){"use strict";U.exports=function(m,A,S){var b=" ",l=m.level,v=m.dataLevel,h=m.schema[A],f=m.schemaPath+m.util.getProperty(A),n=m.errSchemaPath+"/"+A,e=!m.opts.allErrors,t="data"+(v||""),i="valid"+l,s=m.opts.$data&&h&&h.$data;s&&(b+=" var schema"+l+" = "+m.util.getData(h.$data,v,m.dataPathArr)+"; ");var c="schema"+l;if(!s)if(h.length<m.opts.loopRequired&&m.schema.properties&&Object.keys(m.schema.properties).length){var y=[],r=h;if(r)for(var p,o=-1,u=r.length-1;o<u;){p=r[o+=1];var g=m.schema.properties[p];g&&m.util.schemaHasRules(g,m.RULES.all)||(y[y.length]=p)}}else y=h;if(s||y.length){var C=m.errorPath,d=s||y.length>=m.opts.loopRequired,a=m.opts.ownProperties;if(e)if(b+=" var missing"+l+"; ",d){s||(b+=" var "+c+" = validate.schema"+f+"; ");var F="' + "+(E="schema"+l+"["+(w="i"+l)+"]")+" + '";m.opts._errorDataPathProperty&&(m.errorPath=m.util.getPathExpr(C,E,m.opts.jsonPointers)),b+=" var "+i+" = true; ",s&&(b+=" if (schema"+l+" === undefined) "+i+" = true; else if (!Array.isArray(schema"+l+")) "+i+" = false; else {"),b+=" for (var "+w+" = 0; "+w+" < "+c+".length; "+w+"++) { "+i+" = "+t+"["+c+"["+w+"]] !== undefined ",a&&(b+=" &&   Object.prototype.hasOwnProperty.call("+t+", "+c+"["+w+"]) "),b+="; if (!"+i+") break; } ",s&&(b+="  }  "),(_=_||[]).push(b+="  if (!"+i+") {   "),b="",!1!==m.createErrors?(b+=" { keyword: 'required' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(n)+" , params: { missingProperty: '"+F+"' } ",!1!==m.opts.messages&&(b+=" , message: '",b+=m.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+F+"\\'",b+="' "),m.opts.verbose&&(b+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+t+" "),b+=" } "):b+=" {} ";var B=b;b=_.pop(),b+=!m.compositeRule&&e?m.async?" throw new ValidationError(["+B+"]); ":" validate.errors = ["+B+"]; return false; ":" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",b+=" } else { "}else{b+=" if ( ";var _,R=y;if(R)for(var w=-1,x=R.length-1;w<x;)P=R[w+=1],w&&(b+=" || "),b+=" ( ( "+(T=t+(D=m.util.getProperty(P)))+" === undefined ",a&&(b+=" || ! Object.prototype.hasOwnProperty.call("+t+", '"+m.util.escapeQuotes(P)+"') "),b+=") && (missing"+l+" = "+m.util.toQuotedString(m.opts.jsonPointers?P:D)+") ) ";b+=") {  ",F="' + "+(E="missing"+l)+" + '",m.opts._errorDataPathProperty&&(m.errorPath=m.opts.jsonPointers?m.util.getPathExpr(C,E,!0):C+" + "+E),(_=_||[]).push(b),b="",!1!==m.createErrors?(b+=" { keyword: 'required' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(n)+" , params: { missingProperty: '"+F+"' } ",!1!==m.opts.messages&&(b+=" , message: '",b+=m.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+F+"\\'",b+="' "),m.opts.verbose&&(b+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+t+" "),b+=" } "):b+=" {} ",B=b,b=_.pop(),b+=!m.compositeRule&&e?m.async?" throw new ValidationError(["+B+"]); ":" validate.errors = ["+B+"]; return false; ":" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",b+=" } else { "}else if(d){var E;s||(b+=" var "+c+" = validate.schema"+f+"; "),F="' + "+(E="schema"+l+"["+(w="i"+l)+"]")+" + '",m.opts._errorDataPathProperty&&(m.errorPath=m.util.getPathExpr(C,E,m.opts.jsonPointers)),s&&(b+=" if ("+c+" && !Array.isArray("+c+")) {  var err =   ",!1!==m.createErrors?(b+=" { keyword: 'required' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(n)+" , params: { missingProperty: '"+F+"' } ",!1!==m.opts.messages&&(b+=" , message: '",b+=m.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+F+"\\'",b+="' "),m.opts.verbose&&(b+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+t+" "),b+=" } "):b+=" {} ",b+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+c+" !== undefined) { "),b+=" for (var "+w+" = 0; "+w+" < "+c+".length; "+w+"++) { if ("+t+"["+c+"["+w+"]] === undefined ",a&&(b+=" || ! Object.prototype.hasOwnProperty.call("+t+", "+c+"["+w+"]) "),b+=") {  var err =   ",!1!==m.createErrors?(b+=" { keyword: 'required' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(n)+" , params: { missingProperty: '"+F+"' } ",!1!==m.opts.messages&&(b+=" , message: '",b+=m.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+F+"\\'",b+="' "),m.opts.verbose&&(b+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+t+" "),b+=" } "):b+=" {} ",b+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",s&&(b+="  }  ")}else{var k=y;if(k)for(var P,L=-1,$=k.length-1;L<$;){P=k[L+=1];var D=m.util.getProperty(P),T=(F=m.util.escapeQuotes(P),t+D);m.opts._errorDataPathProperty&&(m.errorPath=m.util.getPath(C,P,m.opts.jsonPointers)),b+=" if ( "+T+" === undefined ",a&&(b+=" || ! Object.prototype.hasOwnProperty.call("+t+", '"+m.util.escapeQuotes(P)+"') "),b+=") {  var err =   ",!1!==m.createErrors?(b+=" { keyword: 'required' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(n)+" , params: { missingProperty: '"+F+"' } ",!1!==m.opts.messages&&(b+=" , message: '",b+=m.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+F+"\\'",b+="' "),m.opts.verbose&&(b+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+t+" "),b+=" } "):b+=" {} ",b+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}m.errorPath=C}else e&&(b+=" if (true) {");return b}},function(U,K){"use strict";U.exports=function(m,A,S){var b,l=" ",v=m.level,h=m.dataLevel,f=m.schema[A],n=m.schemaPath+m.util.getProperty(A),e=m.errSchemaPath+"/"+A,t=!m.opts.allErrors,i="data"+(h||""),s="valid"+v,c=m.opts.$data&&f&&f.$data;if(c?(l+=" var schema"+v+" = "+m.util.getData(f.$data,h,m.dataPathArr)+"; ",b="schema"+v):b=f,(f||c)&&!1!==m.opts.uniqueItems){c&&(l+=" var "+s+"; if ("+b+" === false || "+b+" === undefined) "+s+" = true; else if (typeof "+b+" != 'boolean') "+s+" = false; else { "),l+=" var "+s+" = true; if ("+i+".length > 1) { var i = "+i+".length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal("+i+"[i], "+i+"[j])) { "+s+" = false; break outer; } } } } ",c&&(l+="  }  ");var r=r||[];r.push(l+=" if (!"+s+") {   "),l="",!1!==m.createErrors?(l+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(e)+" , params: { i: i, j: j } ",!1!==m.opts.messages&&(l+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),m.opts.verbose&&(l+=" , schema:  ",l+=c?"validate.schema"+n:""+f,l+="         , parentSchema: validate.schema"+m.schemaPath+" , data: "+i+" "),l+=" } "):l+=" {} ";var p=l;l=r.pop(),l+=!m.compositeRule&&t?m.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l+=" } ",t&&(l+=" else { ")}else t&&(l+=" if (true) { ");return l}},function(U,K){"use strict";var m=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];U.exports=function(A,S){for(var b=0;b<S.length;b++){A=JSON.parse(JSON.stringify(A));var l,v=S[b].split("/"),h=A;for(l=1;l<v.length;l++)h=h[v[l]];for(l=0;l<m.length;l++){var f=m[l],n=h[f];n&&(h[f]={anyOf:[n,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]})}}return A}},function(U,K){"use strict";U.exports=function(m){var A=m._opts.defaultMeta,S="string"==typeof A?{$ref:A}:m.getSchema("http://json-schema.org/draft-06/schema")?{$ref:"http://json-schema.org/draft-06/schema"}:{};m.addKeyword("patternGroups",{metaSchema:{type:"object",additionalProperties:{type:"object",required:["schema"],properties:{maximum:{type:"integer",minimum:0},minimum:{type:"integer",minimum:0},schema:S},additionalProperties:!1}}}),m.RULES.all.properties.implements.push("patternGroups")}},function(U,K,m){"use strict";var S=m(15).MissingRef;U.exports=function A(b,l,v){function h(t){var i=t.$schema;return i&&!n.getSchema(i)?A.call(n,{$ref:i},!0):Promise.resolve()}function f(t){try{return n._compile(t)}catch(i){if(i instanceof S)return function(s){function c(){delete n._loadingSchemas[p]}function r(u){return n._refs[u]||n._schemas[u]}var p=s.missingSchema;if(r(p))throw new Error("Schema "+p+" is loaded but "+s.missingRef+" cannot be resolved");var o=n._loadingSchemas[p];return o||(o=n._loadingSchemas[p]=n._opts.loadSchema(p)).then(c,c),o.then(function(u){if(!r(p))return h(u).then(function(){r(p)||n.addSchema(u,p,void 0,l)})}).then(function(){return f(t)})}(i);throw i}}var n=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof l&&(v=l,l=void 0);var e=h(b).then(function(){var t=n._addSchema(b,void 0,l);return t.validate||f(t)});return v&&e.then(function(t){v(null,t)},v),e}},function(U,K,m){"use strict";var l=/^[a-z_$][a-z0-9_$-]*$/i,v=m(48);U.exports={add:function(h,f){function n(o,u,g){for(var y,C=0;C<t.length;C++){var d=t[C];if(d.type==u){y=d;break}}y||t.push(y={type:u,rules:[]});var a={keyword:o,definition:g,custom:!0,code:v,implements:g.implements};y.rules.push(a),t.custom[o]=a}function e(o){if(!t.types[o])throw new Error("Unknown type "+o)}var t=this.RULES;if(t.keywords[h])throw new Error("Keyword "+h+" is already defined");if(!l.test(h))throw new Error("Keyword "+h+" is not a valid identifier");if(f){if(f.macro&&void 0!==f.valid)throw new Error('"valid" option cannot be used with macro keywords');var i=f.type;if(Array.isArray(i)){var s,c=i.length;for(s=0;s<c;s++)e(i[s]);for(s=0;s<c;s++)n(h,i[s],f)}else i&&e(i),n(h,i,f);var r=!0===f.$data&&this._opts.$data;if(r&&!f.validate)throw new Error('$data support: "validate" function is not defined');var p=f.metaSchema;p&&(r&&(p={anyOf:[p,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]}),f.validateSchema=this.compile(p,!0))}return t.keywords[h]=t.all[h]=!0,this},get:function(h){var f=this.RULES.custom[h];return f?f.definition:this.RULES.keywords[h]||!1},remove:function(h){var f=this.RULES;delete f.keywords[h],delete f.all[h],delete f.custom[h];for(var n=0;n<f.length;n++)for(var e=f[n].rules,t=0;t<e.length;t++)if(e[t].keyword==h){e.splice(t,1);break}return this}}},function(U,K){"use strict";U.exports=function(m,A,S){var b,l,v=" ",h=m.level,f=m.dataLevel,n=m.schema[A],e=m.schemaPath+m.util.getProperty(A),t=m.errSchemaPath+"/"+A,i=!m.opts.allErrors,s="data"+(f||""),c="valid"+h,r="errs__"+h,p=m.opts.$data&&n&&n.$data;p?(v+=" var schema"+h+" = "+m.util.getData(n.$data,f,m.dataPathArr)+"; ",l="schema"+h):l=n;var o,u,g,y,C,d=this,a="definition"+h,w=d.definition,E="";if(p&&w.$data){var F=w.validateSchema;v+=" var "+a+" = RULES.custom['"+A+"'].definition; var "+(C="keywordValidate"+h)+" = "+a+".validate;"}else{if(!(y=m.useCustomRule(d,n,m.schema,m)))return;l="validate.schema"+e,C=y.code,o=w.compile,u=w.inline,g=w.macro}var _=C+".errors",B="i"+h,R="ruleErr"+h,P=w.async;if(P&&!m.async)throw new Error("async keyword in sync schema");if(u||g||(v+=_+" = null;"),v+="var "+r+" = errors;var "+c+";",p&&w.$data&&(E+="}",v+=" if ("+l+" === undefined) { "+c+" = true; } else { ",F&&(E+="}",v+=" "+c+" = "+a+".validateSchema("+l+"); if ("+c+") { ")),u)v+=w.statements?" "+y.validate+" ":" "+c+" = "+y.validate+"; ";else if(g){var x=m.util.copy(m);E="",x.level++;var D="valid"+x.level;x.schema=y.validate,x.schemaPath="";var T=m.compositeRule;m.compositeRule=x.compositeRule=!0;var k=m.validate(x).replace(/validate\.schema/g,C);m.compositeRule=x.compositeRule=T,v+=" "+k}else{(L=L||[]).push(v),v="",v+="  "+C+".call( ",v+=m.opts.passContext?"this":"self",v+=o||!1===w.schema?" , "+s+" ":" , "+l+" , "+s+" , validate.schema"+m.schemaPath+" ",v+=" , (dataPath || '')",'""'!=m.errorPath&&(v+=" + "+m.errorPath);var $=f?"data"+(f-1||""):"parentData",O=f?m.dataPathArr[f]:"parentDataProperty",I=v+=" , "+$+" , "+O+" , rootData )  ";v=L.pop(),!1===w.errors?(v+=" "+c+" = ",P&&(v+=""+m.yieldAwait),v+=I+"; "):v+=P?" var "+(_="customErrors"+h)+" = null; try { "+c+" = "+m.yieldAwait+I+"; } catch (e) { "+c+" = false; if (e instanceof ValidationError) "+_+" = e.errors; else throw e; } ":" "+_+" = null; "+c+" = "+I+"; "}if(w.modifying&&(v+=" if ("+$+") "+s+" = "+$+"["+O+"];"),v+=""+E,w.valid)i&&(v+=" if (true) { ");else{var L;v+=" if ( ",void 0===w.valid?(v+=" !",v+=g?""+D:""+c):v+=" "+!w.valid+" ",b=d.keyword,(L=L||[]).push(v+=") { "),(L=L||[]).push(v=""),v="",!1!==m.createErrors?(v+=" { keyword: '"+(b||"custom")+"' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(t)+" , params: { keyword: '"+d.keyword+"' } ",!1!==m.opts.messages&&(v+=" , message: 'should pass \""+d.keyword+"\" keyword validation' "),m.opts.verbose&&(v+=" , schema: validate.schema"+e+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+s+" "),v+=" } "):v+=" {} ";var j=v;v=L.pop();var z=v+=!m.compositeRule&&i?m.async?" throw new ValidationError(["+j+"]); ":" validate.errors = ["+j+"]; return false; ":" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";v=L.pop(),u?w.errors?"full"!=w.errors&&(v+="  for (var "+B+"="+r+"; "+B+"<errors; "+B+"++) { var "+R+" = vErrors["+B+"]; if ("+R+".dataPath === undefined) "+R+".dataPath = (dataPath || '') + "+m.errorPath+"; if ("+R+".schemaPath === undefined) { "+R+'.schemaPath = "'+t+'"; } ',m.opts.verbose&&(v+=" "+R+".schema = "+l+"; "+R+".data = "+s+"; "),v+=" } "):!1===w.errors?v+=" "+z+" ":(v+=" if ("+r+" == errors) { "+z+" } else {  for (var "+B+"="+r+"; "+B+"<errors; "+B+"++) { var "+R+" = vErrors["+B+"]; if ("+R+".dataPath === undefined) "+R+".dataPath = (dataPath || '') + "+m.errorPath+"; if ("+R+".schemaPath === undefined) { "+R+'.schemaPath = "'+t+'"; } ',m.opts.verbose&&(v+=" "+R+".schema = "+l+"; "+R+".data = "+s+"; "),v+=" } } "):g?(v+="   var err =   ",!1!==m.createErrors?(v+=" { keyword: '"+(b||"custom")+"' , dataPath: (dataPath || '') + "+m.errorPath+" , schemaPath: "+m.util.toQuotedString(t)+" , params: { keyword: '"+d.keyword+"' } ",!1!==m.opts.messages&&(v+=" , message: 'should pass \""+d.keyword+"\" keyword validation' "),m.opts.verbose&&(v+=" , schema: validate.schema"+e+" , parentSchema: validate.schema"+m.schemaPath+" , data: "+s+" "),v+=" } "):v+=" {} ",v+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!m.compositeRule&&i&&(v+=m.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):!1===w.errors?v+=" "+z+" ":(v+=" if (Array.isArray("+_+")) { if (vErrors === null) vErrors = "+_+"; else vErrors = vErrors.concat("+_+"); errors = vErrors.length;  for (var "+B+"="+r+"; "+B+"<errors; "+B+"++) { var "+R+" = vErrors["+B+"]; if ("+R+".dataPath === undefined) "+R+".dataPath = (dataPath || '') + "+m.errorPath+";  "+R+'.schemaPath = "'+t+'";  ',m.opts.verbose&&(v+=" "+R+".schema = "+l+"; "+R+".data = "+s+"; "),v+=" } } else { "+z+" } "),v+=" } ",i&&(v+=" else { ")}return v}},function(U,K){U.exports={$schema:"http://json-schema.org/draft-06/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#",description:"Meta-schema for $data reference (JSON-schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},function(U,K){U.exports={$schema:"http://json-schema.org/draft-06/schema#",$id:"http://json-schema.org/draft-06/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},title:{type:"string"},description:{type:"string"},default:{},examples:{type:"array",items:{}},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:{},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:{}}},function(U,K,m){"use strict";var A=m(52),S=m(53),b=m(56),l=m(57),v=m(59),h=m(60),f=m(69),n=m(54),e=m(70),t=m(65),i=m(67),s=m(58).translate,c=m(58).setLanguages,r=m(58).setLanguage,p=document.body,o={create:function(u,g){if(!u)throw new Error("No container element provided.");this.container=u,this.dom={},this.highlighter=new A,this.selection=void 0,this.multiselection={nodes:[]},this.validateSchema=null,this.errorNodes=[],this.node=null,this.focusTarget=null,this._setOptions(g),g.autocomplete&&(this.autocomplete=new e(g.autocomplete)),this.options.history&&"view"!==this.options.mode&&(this.history=new S(this)),this._createFrame(),this._createTable()},destroy:function(){this.frame&&this.container&&this.frame.parentNode==this.container&&(this.container.removeChild(this.frame),this.frame=null),this.container=null,this.dom=null,this.clear(),this.node=null,this.focusTarget=null,this.selection=null,this.multiselection=null,this.errorNodes=null,this.validateSchema=null,this._debouncedValidate=null,this.history&&(this.history.destroy(),this.history=null),this.searchBox&&(this.searchBox.destroy(),this.searchBox=null),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null)},_setOptions:function(u){if(this.options={search:!0,history:!0,mode:"tree",name:void 0,schema:null,schemaRefs:null,autocomplete:null,navigationBar:!0,onSelectionChange:null},u)for(var g in u)u.hasOwnProperty(g)&&(this.options[g]=u[g]);this.setSchema(this.options.schema,this.options.schemaRefs),this._debouncedValidate=n.debounce(this.validate.bind(this),this.DEBOUNCE_INTERVAL),u.onSelectionChange&&this.onSelectionChange(u.onSelectionChange),c(this.options.languages),r(this.options.language)},set:function(u,g){if(g&&(console.warn('Second parameter "name" is deprecated. Use setName(name) instead.'),this.options.name=g),u instanceof Function||void 0===u)this.clear();else{this.content.removeChild(this.table);var C=new h(this,{field:this.options.name,value:u});this._setRoot(C),this.validate(),this.node.expand(!1),this.content.appendChild(this.table)}this.history&&this.history.clear(),this.searchBox&&this.searchBox.clear()},get:function(){if(this.focusTarget){var u=h.getNodeFromTarget(this.focusTarget);u&&u.blur()}return this.node?this.node.getValue():void 0},getText:function(){return JSON.stringify(this.get())},setText:function(u){try{this.set(n.parse(u))}catch(y){var g=n.sanitize(u);this.set(n.parse(g))}},setName:function(u){this.options.name=u,this.node&&this.node.updateField(this.options.name)},getName:function(){return this.options.name},focus:function(){var u=this.scrollableContent.querySelector("[contenteditable=true]");u?u.focus():this.node.dom.expand?this.node.dom.expand.focus():this.node.dom.menu?this.node.dom.menu.focus():(u=this.frame.querySelector("button"))&&u.focus()},clear:function(){this.node&&(this.node.collapse(),this.tbody.removeChild(this.node.getDom()),delete this.node),this.treePath&&this.treePath.reset()},_setRoot:function(u){this.clear(),this.node=u,this.tbody.appendChild(u.getDom())},search:function(u){var g;return this.node?(this.content.removeChild(this.table),g=this.node.search(u),this.content.appendChild(this.table)):g=[],g},expandAll:function(){this.node&&(this.content.removeChild(this.table),this.node.expand(),this.content.appendChild(this.table))},collapseAll:function(){this.node&&(this.content.removeChild(this.table),this.node.collapse(),this.content.appendChild(this.table))},_onAction:function(u,g){this.history&&this.history.add(u,g),this._onChange()},_onChange:function(){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(u){console.error("Error in onChange callback: ",u)}},validate:function(){this.errorNodes&&this.errorNodes.forEach(function(a){a.setError(null)});var u=this.node;if(u){var g=u.validate(),y=[];this.validateSchema&&(this.validateSchema(u.getValue())||(y=this.validateSchema.errors.map(function(a){return n.improveSchemaError(a)}).map(function(a){return{node:u.findNode(a.dataPath),error:a}}).filter(function(a){return null!=a.node})));var C=g.concat(y),d=C.reduce(function(a,w){return w.node.findParents().filter(function(E){return!a.some(function(F){return F[0]===E})}).map(function(E){return[E,w.node]}).concat(a)},[]);this.errorNodes=d.map(function(a){return{node:a[0],child:a[1],error:{message:"object"===a[0].type?"Contains invalid properties":"Contains invalid items"}}}).concat(C).map(function(a){return a.node.setError(a.error,a.child),a.node})}},refresh:function(){this.node&&this.node.updateDom({recurse:!0})},startAutoScroll:function(u){var g=this,y=this.scrollableContent,C=n.getAbsoluteTop(y),d=y.clientHeight,a=C+d;this.autoScrollStep=u<C+24&&y.scrollTop>0?(C+24-u)/3:u>a-24&&d+y.scrollTop<y.scrollHeight?(a-24-u)/3:void 0,this.autoScrollStep?this.autoScrollTimer||(this.autoScrollTimer=setInterval(function(){g.autoScrollStep?y.scrollTop-=g.autoScrollStep:g.stopAutoScroll()},50)):this.stopAutoScroll()},stopAutoScroll:function(){this.autoScrollTimer&&(clearTimeout(this.autoScrollTimer),delete this.autoScrollTimer),this.autoScrollStep&&delete this.autoScrollStep},setDomSelection:function(u){u&&("scrollTop"in u&&this.scrollableContent&&(this.scrollableContent.scrollTop=u.scrollTop),u.nodes&&this.select(u.nodes),u.range&&n.setSelectionOffset(u.range),u.dom&&u.dom.focus())},getDomSelection:function(){var u=n.getSelectionOffset();return u&&"DIV"!==u.container.nodeName&&(u=null),{dom:this.focusTarget,range:u,nodes:this.multiselection.nodes.slice(0),scrollTop:this.scrollableContent?this.scrollableContent.scrollTop:0}},scrollTo:function(u,g){var y=this.scrollableContent;if(y){var C=this;C.animateTimeout&&(clearTimeout(C.animateTimeout),delete C.animateTimeout),C.animateCallback&&(C.animateCallback(!1),delete C.animateCallback);var d=y.clientHeight,a=y.scrollHeight-d,w=Math.min(Math.max(u-d/4,0),a),E=function(){var _=w-y.scrollTop;Math.abs(_)>3?(y.scrollTop+=_/3,C.animateCallback=g,C.animateTimeout=setTimeout(E,50)):(g&&g(!0),y.scrollTop=w,delete C.animateTimeout,delete C.animateCallback)};E()}else g&&g(!1)},_createFrame:function(){function u(_){g._onEvent&&g._onEvent(_)}this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.container.appendChild(this.frame);var g=this;this.frame.onclick=function(_){var B=_.target;u(_),"BUTTON"==B.nodeName&&_.preventDefault()},this.frame.oninput=u,this.frame.onchange=u,this.frame.onkeydown=u,this.frame.onkeyup=u,this.frame.oncut=u,this.frame.onpaste=u,this.frame.onmousedown=u,this.frame.onmouseup=u,this.frame.onmouseover=u,this.frame.onmouseout=u,n.addEventListener(this.frame,"focus",u,!0),n.addEventListener(this.frame,"blur",u,!0),this.frame.onfocusin=u,this.frame.onfocusout=u,this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var y=document.createElement("button");y.type="button",y.className="jsoneditor-expand-all",y.title=s("expandAll"),y.onclick=function(){g.expandAll()},this.menu.appendChild(y);var C=document.createElement("button");C.type="button",C.title=s("collapseAll"),C.className="jsoneditor-collapse-all",C.onclick=function(){g.collapseAll()},this.menu.appendChild(C);var d=document.createElement("button");d.type="button",d.className="jsoneditor-sort",d.title=s("sortTitleShort"),d.onclick=function(){t(g.node,g.options.modalAnchor||p)},this.menu.appendChild(d);var a=document.createElement("button");if(a.type="button",a.title=s("transformTitleShort"),a.className="jsoneditor-transform",a.onclick=function(){i(g.node,g.options.modalAnchor||p)},this.menu.appendChild(a),this.history){var w=document.createElement("button");w.type="button",w.className="jsoneditor-undo jsoneditor-separator",w.title=s("undo"),w.onclick=function(){g._onUndo()},this.menu.appendChild(w),this.dom.undo=w;var E=document.createElement("button");E.type="button",E.className="jsoneditor-redo",E.title=s("redo"),E.onclick=function(){g._onRedo()},this.menu.appendChild(E),this.dom.redo=E,this.history.onChange=function(){w.disabled=!g.history.canUndo(),E.disabled=!g.history.canRedo()},this.history.onChange()}if(this.options&&this.options.modes&&this.options.modes.length){var F=this;this.modeSwitcher=new f(this.menu,this.options.modes,this.options.mode,function(_){F.modeSwitcher.destroy(),F.setMode(_),F.modeSwitcher.focus()})}this.options.search&&(this.searchBox=new b(this,this.menu)),this.options.navigationBar&&(this.navBar=document.createElement("div"),this.navBar.className="jsoneditor-navigation-bar nav-bar-empty",this.frame.appendChild(this.navBar),this.treePath=new v(this.navBar),this.treePath.onSectionSelected(this._onTreePathSectionSelected.bind(this)),this.treePath.onContextMenuItemSelected(this._onTreePathMenuItemSelected.bind(this)))},_onUndo:function(){this.history&&(this.history.undo(),this._onChange())},_onRedo:function(){this.history&&(this.history.redo(),this._onChange())},_onEvent:function(u){"keydown"===u.type&&this._onKeyDown(u),"focus"===u.type&&(this.focusTarget=u.target),"mousedown"===u.type&&this._startDragDistance(u),"mousemove"!==u.type&&"mouseup"!==u.type&&"click"!==u.type||this._updateDragDistance(u);var g=h.getNodeFromTarget(u.target);if(g&&this.options&&this.options.navigationBar&&g&&("keydown"===u.type||"mousedown"===u.type)){var y=this;setTimeout(function(){y._updateTreePath(g.getNodePath())})}if(g&&g.selected){if("click"===u.type){if(u.target===g.dom.menu)return void this.showContextMenu(u.target);u.hasMoved||this.deselect()}"mousedown"===u.type&&h.onDragStart(this.multiselection.nodes,u)}else"mousedown"===u.type&&(this.deselect(),g&&u.target===g.dom.drag?h.onDragStart(g,u):(!g||u.target!==g.dom.field&&u.target!==g.dom.value&&u.target!==g.dom.select)&&this._onMultiSelectStart(u));g&&g.onEvent(u)},_updateTreePath:function(u){function g(C){return void 0!==C.field?C._escapeHTML(C.field):isNaN(C.index)?C.type:C.index}if(u&&u.length){n.removeClassName(this.navBar,"nav-bar-empty");var y=[];u.forEach(function(C){var d={name:g(C),node:C,children:[]};C.childs&&C.childs.length&&C.childs.forEach(function(a){d.children.push({name:g(a),node:a})}),y.push(d)}),this.treePath.setPath(y)}else n.addClassName(this.navBar,"nav-bar-empty")},_onTreePathSectionSelected:function(u){u&&u.node&&(u.node.expandTo(),u.node.focus())},_onTreePathMenuItemSelected:function(u,g){if(u&&u.children.length){var y=u.children.find(function(C){return C.name===g});y&&y.node&&(this._updateTreePath(y.node.getNodePath()),y.node.expandTo(),y.node.focus())}},_startDragDistance:function(u){this.dragDistanceEvent={initialTarget:u.target,initialPageX:u.pageX,initialPageY:u.pageY,dragDistance:0,hasMoved:!1}},_updateDragDistance:function(u){this.dragDistanceEvent||this._startDragDistance(u);var g=u.pageX-this.dragDistanceEvent.initialPageX,y=u.pageY-this.dragDistanceEvent.initialPageY;return this.dragDistanceEvent.dragDistance=Math.sqrt(g*g+y*y),this.dragDistanceEvent.hasMoved=this.dragDistanceEvent.hasMoved||this.dragDistanceEvent.dragDistance>10,u.dragDistance=this.dragDistanceEvent.dragDistance,u.hasMoved=this.dragDistanceEvent.hasMoved,u.dragDistance},_onMultiSelectStart:function(u){var g=h.getNodeFromTarget(u.target);if("tree"===this.options.mode&&void 0===this.options.onEditable){this.multiselection={start:g||null,end:null,nodes:[]},this._startDragDistance(u);var y=this;this.mousemove||(this.mousemove=n.addEventListener(window,"mousemove",function(C){y._onMultiSelect(C)})),this.mouseup||(this.mouseup=n.addEventListener(window,"mouseup",function(C){y._onMultiSelectEnd(C)}))}},_onMultiSelect:function(u){if(u.preventDefault(),this._updateDragDistance(u),u.hasMoved){var g=h.getNodeFromTarget(u.target);g&&(null==this.multiselection.start&&(this.multiselection.start=g),this.multiselection.end=g),this.deselect();var y=this.multiselection.start,C=this.multiselection.end||this.multiselection.start;if(y&&C){if(this.multiselection.nodes=this._findTopLevelNodes(y,C),this.multiselection.nodes&&this.multiselection.nodes.length){var d=this.multiselection.nodes[0];this.multiselection.direction=this.multiselection.start===d||this.multiselection.start.isDescendantOf(d)?"down":"up"}this.select(this.multiselection.nodes)}}},_onMultiSelectEnd:function(u){this.multiselection.nodes[0]&&this.multiselection.nodes[0].dom.menu.focus(),this.multiselection.start=null,this.multiselection.end=null,this.mousemove&&(n.removeEventListener(window,"mousemove",this.mousemove),delete this.mousemove),this.mouseup&&(n.removeEventListener(window,"mouseup",this.mouseup),delete this.mouseup)},deselect:function(u){var g=!!this.multiselection.nodes.length;this.multiselection.nodes.forEach(function(y){y.setSelected(!1)}),this.multiselection.nodes=[],u&&(this.multiselection.start=null,this.multiselection.end=null),g&&this._selectionChangedHandler&&this._selectionChangedHandler()},select:function(u){if(!Array.isArray(u))return this.select([u]);if(u){this.deselect(),this.multiselection.nodes=u.slice(0);var g=u[0];if(u.forEach(function(C){C.expandPathToNode(),C.setSelected(!0,C===g)}),this._selectionChangedHandler){var y=this.getSelection();this._selectionChangedHandler(y.start,y.end)}}},_findTopLevelNodes:function(u,g){for(var y=u.getNodePath(),C=g.getNodePath(),d=0;d<y.length&&y[d]===C[d];)d++;var a=y[d-1],w=y[d],E=C[d];if(w&&E||(a.parent?(w=a,E=a,a=a.parent):(w=a.childs[0],E=a.childs[a.childs.length-1])),a&&w&&E){var F=a.childs.indexOf(w),_=a.childs.indexOf(E),B=Math.min(F,_),R=Math.max(F,_);return a.childs.slice(B,R+1)}return[]},_onKeyDown:function(u){var g=u.which||u.keyCode,y=u.altKey,C=u.ctrlKey,d=u.metaKey,a=u.shiftKey,w=!1;if(9==g){var E=this;setTimeout(function(){n.selectContentEditable(E.focusTarget)},0)}if(this.searchBox&&(C&&70==g?(this.searchBox.dom.search.focus(),this.searchBox.dom.search.select(),w=!0):(114==g||C&&71==g)&&(a?this.searchBox.previous(!0):this.searchBox.next(!0),w=!0)),this.history&&(C&&!a&&90==g?(this._onUndo(),w=!0):C&&a&&90==g&&(this._onRedo(),w=!0)),this.options.autocomplete&&!w&&!(C||y||d||1!=u.key.length&&8!=g&&46!=g)){w=!1;var F="";u.target.className.indexOf("jsoneditor-value")>=0&&(F="value"),u.target.className.indexOf("jsoneditor-field")>=0&&(F="field");var _=h.getNodeFromTarget(u.target);setTimeout(function(B,R){if(R.innerText.length>0){var P=this.options.autocomplete.getOptions(R.innerText,B.getPath(),F,B.editor);null===P?this.autocomplete.hideDropDown():"function"==typeof P.then?P.then(function(x){null===x?this.autocomplete.hideDropDown():x.options?this.autocomplete.show(R,x.startFrom,x.options):this.autocomplete.show(R,0,x)}.bind(this)):P.options?this.autocomplete.show(R,P.startFrom,P.options):this.autocomplete.show(R,0,P)}else this.autocomplete.hideDropDown()}.bind(this,_,u.target),50)}w&&(u.preventDefault(),u.stopPropagation())},_createTable:function(){var g,u=document.createElement("div");u.className="jsoneditor-outer",this.options.navigationBar&&n.addClassName(u,"has-nav-bar"),this.contentOuter=u,this.scrollableContent=document.createElement("div"),this.scrollableContent.className="jsoneditor-tree",u.appendChild(this.scrollableContent),this.content=document.createElement("div"),this.content.className="jsoneditor-tree-inner",this.scrollableContent.appendChild(this.content),this.table=document.createElement("table"),this.table.className="jsoneditor-tree",this.content.appendChild(this.table),this.colgroupContent=document.createElement("colgroup"),"tree"===this.options.mode&&((g=document.createElement("col")).width="24px",this.colgroupContent.appendChild(g)),(g=document.createElement("col")).width="24px",this.colgroupContent.appendChild(g),g=document.createElement("col"),this.colgroupContent.appendChild(g),this.table.appendChild(this.colgroupContent),this.tbody=document.createElement("tbody"),this.table.appendChild(this.tbody),this.frame.appendChild(u)},showContextMenu:function(u,g){var y=[],C=this;y.push({text:s("duplicateText"),title:s("duplicateTitle"),className:"jsoneditor-duplicate",click:function(){h.onDuplicate(C.multiselection.nodes)}}),y.push({text:s("remove"),title:s("removeTitle"),className:"jsoneditor-remove",click:function(){h.onRemove(C.multiselection.nodes)}}),new l(y,{close:g}).show(u,this.content)},getSelection:function(){var u={start:null,end:null};if(this.multiselection.nodes&&this.multiselection.nodes.length&&this.multiselection.nodes.length){var g=this.multiselection.nodes[0],y=this.multiselection.nodes[this.multiselection.nodes.length-1];"down"===this.multiselection.direction?(u.start=g.serialize(),u.end=y.serialize()):(u.start=y.serialize(),u.end=g.serialize())}return u},onSelectionChange:function(u){"function"==typeof u&&(this._selectionChangedHandler=n.debounce(u,this.DEBOUNCE_INTERVAL))},setSelection:function(u,g){u&&u.dom&&u.range&&(console.warn("setSelection/getSelection usage for text selection is depracated and should not be used, see documantaion for supported selection options"),this.setDomSelection(u));var y=this._getNodeIntsncesByRange(u,g);y.forEach(function(C){C.expandTo()}),this.select(y)},_getNodeIntsncesByRange:function(u,g){var y,C;u&&u.path&&(y=this.node.findNodeByPath(u.path),g&&g.path&&(C=this.node.findNodeByPath(g.path)));var d=[];if(y instanceof h)if(C instanceof h&&C!==y)if(y.parent===C.parent){y.getIndex()<C.getIndex()?(u=y,g=C):(u=C,g=y);var a=u;d.push(a);do{a=a.nextSibling(),d.push(a)}while(a&&a!==g)}else d=this._findTopLevelNodes(y,C);else d.push(y);return d},getNodesByRange:function(u,g){var y=this._getNodeIntsncesByRange(u,g),C=[];return y.forEach(function(d){C.push(d.serialize())}),C}};U.exports=[{mode:"tree",mixin:o,data:"json"},{mode:"view",mixin:o,data:"json"},{mode:"form",mixin:o,data:"json"}]},function(U,K){"use strict";function m(){this.locked=!1}m.prototype.highlight=function(A){this.locked||(this.node!=A&&(this.node&&this.node.setHighlight(!1),this.node=A,this.node.setHighlight(!0)),this._cancelUnhighlight())},m.prototype.unhighlight=function(){if(!this.locked){var A=this;this.node&&(this._cancelUnhighlight(),this.unhighlightTimer=setTimeout(function(){A.node.setHighlight(!1),A.node=void 0,A.unhighlightTimer=void 0},0))}},m.prototype._cancelUnhighlight=function(){this.unhighlightTimer&&(clearTimeout(this.unhighlightTimer),this.unhighlightTimer=void 0)},m.prototype.lock=function(){this.locked=!0},m.prototype.unlock=function(){this.locked=!1},U.exports=m},function(U,K,m){"use strict";function A(S){this.editor=S,this.history=[],this.index=-1,this.clear(),this.actions={editField:{undo:function(b){b.node.updateField(b.oldValue)},redo:function(b){b.node.updateField(b.newValue)}},editValue:{undo:function(b){b.node.updateValue(b.oldValue)},redo:function(b){b.node.updateValue(b.newValue)}},changeType:{undo:function(b){b.node.changeType(b.oldType)},redo:function(b){b.node.changeType(b.newType)}},appendNodes:{undo:function(b){b.nodes.forEach(function(l){b.parent.removeChild(l)})},redo:function(b){b.nodes.forEach(function(l){b.parent.appendChild(l)})}},insertBeforeNodes:{undo:function(b){b.nodes.forEach(function(l){b.parent.removeChild(l)})},redo:function(b){b.nodes.forEach(function(l){b.parent.insertBefore(l,b.beforeNode)})}},insertAfterNodes:{undo:function(b){b.nodes.forEach(function(l){b.parent.removeChild(l)})},redo:function(b){var l=b.afterNode;b.nodes.forEach(function(v){b.parent.insertAfter(b.node,l),l=v})}},removeNodes:{undo:function(b){var l=b.parent,v=l.childs[b.index]||l.append;b.nodes.forEach(function(h){l.insertBefore(h,v)})},redo:function(b){b.nodes.forEach(function(l){b.parent.removeChild(l)})}},duplicateNodes:{undo:function(b){b.nodes.forEach(function(l){b.parent.removeChild(l)})},redo:function(b){var l=b.afterNode;b.nodes.forEach(function(v){b.parent.insertAfter(v,l),l=v})}},moveNodes:{undo:function(b){b.nodes.forEach(function(l){b.oldBeforeNode.parent.moveBefore(l,b.oldBeforeNode)})},redo:function(b){b.nodes.forEach(function(l){b.newBeforeNode.parent.moveBefore(l,b.newBeforeNode)})}},sort:{undo:function(b){var l=b.node;l.hideChilds(),l.childs=b.oldChilds,l.updateDom({updateIndexes:!0}),l.showChilds()},redo:function(b){var l=b.node;l.hideChilds(),l.childs=b.newChilds,l.updateDom({updateIndexes:!0}),l.showChilds()}},transform:{undo:function(b){b.node.setValue(b.oldValue)},redo:function(b){b.node.setValue(b.newValue)}}}}m(54),A.prototype.onChange=function(){},A.prototype.add=function(S,b){this.index++,this.history[this.index]={action:S,params:b,timestamp:new Date},this.index<this.history.length-1&&this.history.splice(this.index+1,this.history.length-this.index-1),this.onChange()},A.prototype.clear=function(){this.history=[],this.index=-1,this.onChange()},A.prototype.canUndo=function(){return this.index>=0},A.prototype.canRedo=function(){return this.index<this.history.length-1},A.prototype.undo=function(){if(this.canUndo()){var S=this.history[this.index];if(S){var b=this.actions[S.action];b&&b.undo?(b.undo(S.params),S.params.oldSelection&&this.editor.setDomSelection(S.params.oldSelection)):console.error(new Error('unknown action "'+S.action+'"'))}this.index--,this.onChange()}},A.prototype.redo=function(){if(this.canRedo()){this.index++;var S=this.history[this.index];if(S){var b=this.actions[S.action];b&&b.redo?(b.redo(S.params),S.params.newSelection&&this.editor.setDomSelection(S.params.newSelection)):console.error(new Error('unknown action "'+S.action+'"'))}this.onChange()}},A.prototype.destroy=function(){this.editor=null,this.history=[],this.index=-1},U.exports=A},function(U,K,m){"use strict";var A=m(55);K.parse=function(l){try{return JSON.parse(l)}catch(v){throw K.validate(l),v}},K.sanitize=function(l){function v(){return l.charAt(t)}function h(){return l.charAt(t+1)}function n(r){e.push('"'),t++;for(var p=v();t<l.length&&p!==r;)'"'===p&&"\\"!==l.charAt(t-1)?e.push('\\"'):s.hasOwnProperty(p)?e.push(s[p]):("\\"===p&&(t++,"'"!==(p=v())&&e.push("\\")),e.push(p)),t++,p=v();p===r&&(e.push('"'),t++)}var e=[],t=0,i=l.match(/^\s*(\/\*(.|[\r\n])*?\*\/)?\s*[\da-zA-Z_$]+\s*\(([\s\S]*)\)\s*;?\s*$/);i&&(l=i[3]);for(var s={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};t<l.length;){var c=v();"/"===c&&"*"===h()?function(){for(t+=2;t<l.length&&("*"!==v()||"/"!==h());)t++;t+=2}():"/"===c&&"/"===h()?function(){for(t+=2;t<l.length&&"\n"!==v();)t++}():"\xa0"===c||c>="\u2000"&&c<="\u200a"||"\u202f"===c||"\u205f"===c||"\u3000"===c?(e.push(" "),t++):"'"===c?n("'"):'"'===c?n('"'):"`"===c?n("\xb4"):"\u2018"===c?n("\u2019"):"\u201c"===c?n("\u201d"):/[a-zA-Z_$]/.test(c)&&-1!==["{",","].indexOf(function(){for(var r=e.length-1;r>=0;){var p=e[r];if(" "!==p&&"\n"!==p&&"\r"!==p&&"\t"!==p)return p;r--}return""}())?function(){for(var p="",o=v(),u=/[a-zA-Z_$\d]/;u.test(o);)p+=o,t++,o=v();-1===["null","true","false"].indexOf(p)?e.push('"'+p+'"'):e.push(p)}():(e.push(c),t++)}return e.join("")},K.escapeUnicodeChars=function(l){return l.replace(/[\u007F-\uFFFF]/g,function(v){return"\\u"+("0000"+v.charCodeAt(0).toString(16)).slice(-4)})},K.validate=function(l){void 0!==A?A.parse(l):JSON.parse(l)},K.extend=function(l,v){for(var h in v)v.hasOwnProperty(h)&&(l[h]=v[h]);return l},K.clear=function(l){for(var v in l)l.hasOwnProperty(v)&&delete l[v];return l},K.type=function(l){return null===l?"null":void 0===l?"undefined":l instanceof Number||"number"==typeof l?"number":l instanceof String||"string"==typeof l?"string":l instanceof Boolean||"boolean"==typeof l?"boolean":l instanceof RegExp||"regexp"==typeof l?"regexp":K.isArray(l)?"array":"object"};var S=/^https?:\/\/\S+$/;K.isUrl=function(l){return("string"==typeof l||l instanceof String)&&S.test(l)},K.isArray=function(l){return"[object Array]"===Object.prototype.toString.call(l)},K.getAbsoluteLeft=function(l){return l.getBoundingClientRect().left+window.pageXOffset||document.scrollLeft||0},K.getAbsoluteTop=function(l){return l.getBoundingClientRect().top+window.pageYOffset||document.scrollTop||0},K.addClassName=function(l,v){var h=l.className.split(" ");-1==h.indexOf(v)&&(h.push(v),l.className=h.join(" "))},K.removeClassName=function(l,v){var h=l.className.split(" "),f=h.indexOf(v);-1!=f&&(h.splice(f,1),l.className=h.join(" "))},K.stripFormatting=function(l){for(var v=l.childNodes,h=0,f=v.length;h<f;h++){var n=v[h];n.style&&n.removeAttribute("style");var e=n.attributes;if(e)for(var t=e.length-1;t>=0;t--){var i=e[t];!0===i.specified&&n.removeAttribute(i.name)}K.stripFormatting(n)}},K.setEndOfContentEditable=function(l){var v,h;document.createRange&&((v=document.createRange()).selectNodeContents(l),v.collapse(!1),(h=window.getSelection()).removeAllRanges(),h.addRange(v))},K.selectContentEditable=function(l){var v,h;l&&"DIV"==l.nodeName&&window.getSelection&&document.createRange&&((h=document.createRange()).selectNodeContents(l),(v=window.getSelection()).removeAllRanges(),v.addRange(h))},K.getSelection=function(){if(window.getSelection){var l=window.getSelection();if(l.getRangeAt&&l.rangeCount)return l.getRangeAt(0)}return null},K.setSelection=function(l){if(l&&window.getSelection){var v=window.getSelection();v.removeAllRanges(),v.addRange(l)}},K.getSelectionOffset=function(){var l=K.getSelection();return l&&"startOffset"in l&&"endOffset"in l&&l.startContainer&&l.startContainer==l.endContainer?{startOffset:l.startOffset,endOffset:l.endOffset,container:l.startContainer.parentNode}:null},K.setSelectionOffset=function(l){if(document.createRange&&window.getSelection&&window.getSelection()){var v=document.createRange();l.container.firstChild||l.container.appendChild(document.createTextNode("")),v.setStart(l.container.firstChild,l.startOffset),v.setEnd(l.container.firstChild,l.endOffset),K.setSelection(v)}},K.getInnerText=function(l,v){if(null==v&&(v={text:"",flush:function(){var c=this.text;return this.text="",c},set:function(c){this.text=c}}),l.nodeValue)return v.flush()+l.nodeValue;if(l.hasChildNodes()){for(var h=l.childNodes,f="",n=0,e=h.length;n<e;n++){var t=h[n];if("DIV"==t.nodeName||"P"==t.nodeName){var i=h[n-1],s=i?i.nodeName:void 0;s&&"DIV"!=s&&"P"!=s&&"BR"!=s&&(f+="\n",v.flush()),f+=K.getInnerText(t,v),v.set("\n")}else"BR"==t.nodeName?(f+=v.flush(),v.set("\n")):f+=K.getInnerText(t,v)}return f}return"P"==l.nodeName&&-1!=K.getInternetExplorerVersion()?v.flush():""},K.getInternetExplorerVersion=function(){if(-1==b){var l=-1;if("undefined"!=typeof navigator&&"Microsoft Internet Explorer"==navigator.appName){var v=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(v)&&(l=parseFloat(RegExp.$1))}b=l}return b},K.isFirefox=function(){return"undefined"!=typeof navigator&&-1!==navigator.userAgent.indexOf("Firefox")};var b=-1;K.addEventListener=function(l,v,h,f){if(l.addEventListener)return void 0===f&&(f=!1),"mousewheel"===v&&K.isFirefox()&&(v="DOMMouseScroll"),l.addEventListener(v,h,f),h;if(l.attachEvent){var n=function(){return h.call(l,window.event)};return l.attachEvent("on"+v,n),n}},K.removeEventListener=function(l,v,h,f){l.removeEventListener?(void 0===f&&(f=!1),"mousewheel"===v&&K.isFirefox()&&(v="DOMMouseScroll"),l.removeEventListener(v,h,f)):l.detachEvent&&l.detachEvent("on"+v,h)},K.parsePath=function l(v){var h,f;if(0===v.length)return[];var n=v.match(/^\.(\w+)/);if(n)f=v.substr((h=n[1]).length+1);else{if("["!==v[0])throw new SyntaxError("Failed to parse path");var e=v.indexOf("]");if(-1===e)throw new SyntaxError("Character ] expected in path");if(1===e)throw new SyntaxError("Index expected after [");var t=v.substring(1,e);"'"===t[0]&&(t='"'+t.substring(1,t.length-1)+'"'),h="*"===t?t:JSON.parse(t),f=v.substr(e+1)}return[h].concat(l(f))},K.improveSchemaError=function(l){if("enum"===l.keyword&&Array.isArray(l.schema)){var v=l.schema;if(v){if((v=v.map(function(f){return JSON.stringify(f)})).length>5){var h=["("+(v.length-5)+" more...)"];(v=v.slice(0,5)).push(h)}l.message="should be equal to one of: "+v.join(", ")}}return"additionalProperties"===l.keyword&&(l.message="should NOT have additional property: "+l.params.additionalProperty),l},K.insideRect=function(l,v,h){var f=void 0!==h?h:0;return v.left-f>=l.left&&v.right+f<=l.right&&v.top-f>=l.top&&v.bottom+f<=l.bottom},K.debounce=function(l,v,h){var f;return function(){var n=this,e=arguments,t=function(){f=null,h||l.apply(n,e)},i=h&&!f;clearTimeout(f),f=setTimeout(t,v),i&&l.apply(n,e)}},K.textDiff=function(l,v){for(var h=v.length,f=0,n=l.length,e=v.length;v.charAt(f)===l.charAt(f)&&f<h;)f++;for(;v.charAt(e-1)===l.charAt(n-1)&&e>f&&n>0;)e--,n--;return{start:f,end:e}},K.getInputSelection=function(l){function v(c){var r=l.value.substring(0,c);return{row:(r.match(/\n/g)||[]).length+1,column:r.length-r.lastIndexOf("\n")}}var h,f,n,e,t,i=0,s=0;return"number"==typeof l.selectionStart&&"number"==typeof l.selectionEnd?(i=l.selectionStart,s=l.selectionEnd):(f=document.selection.createRange())&&f.parentElement()==l&&(e=l.value.length,h=l.value.replace(/\r\n/g,"\n"),(n=l.createTextRange()).moveToBookmark(f.getBookmark()),(t=l.createTextRange()).collapse(!1),n.compareEndPoints("StartToEnd",t)>-1?i=s=e:(i=-n.moveStart("character",-e),i+=h.slice(0,i).split("\n").length-1,n.compareEndPoints("EndToEnd",t)>-1?s=e:(s=-n.moveEnd("character",-e),s+=h.slice(0,s).split("\n").length-1))),{startIndex:i,endIndex:s,start:v(i),end:v(s)}},K.getIndexForPosition=function(l,v,h){if(v>0&&h>0){var n=(l.value||"").split("\n",v);v=Math.min(n.length,v),h=Math.min(n[v-1].length,h-1);var e=1==v?h:h+1;return n.slice(0,v-1).join("\n").length+e}return-1},"undefined"!=typeof Element&&function(){function l(v){v.hasOwnProperty("remove")||Object.defineProperty(v,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!=this.parentNode&&this.parentNode.removeChild(this)}})}"undefined"!=typeof Element&&l(Element.prototype),"undefined"!=typeof CharacterData&&l(CharacterData.prototype),"undefined"!=typeof DocumentType&&l(DocumentType.prototype)}(),String.prototype.startsWith||(String.prototype.startsWith=function(l,v){return this.substr(v=v||0,l.length)===l}),Array.prototype.find||(Array.prototype.find=function(l){for(var v=0;v<this.length;v++){var h=this[v];if(l.call(this,h,v,this))return h}})},function(U,K,m){var S,A=((S={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(l,v,h,f,n,e,t){var i=e.length-1;switch(n){case 1:this.$=l.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(l);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=e[i-1];case 13:this.$={};break;case 14:case 19:this.$=e[i-1];break;case 15:this.$=[e[i-2],e[i]];break;case 16:this.$={},this.$[e[i][0]]=e[i][1];break;case 17:this.$=e[i-2],e[i-2][e[i][0]]=e[i][1];break;case 18:this.$=[];break;case 20:this.$=[e[i]];break;case 21:this.$=e[i-2],e[i-2].push(e[i])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(l,v){throw new Error(l)},parse:function(l){function v(){var R;return"number"!=typeof(R=h.lexer.lex()||1)&&(R=h.symbols_[R]||R),R}var h=this,f=[0],n=[null],e=[],t=this.table,i="",s=0,c=0,r=0;this.lexer.setInput(l),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var o=this.lexer.yylloc;e.push(o),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var u,g,y,C,d,a,w,F,_={};;){if(this.defaultActions[y=f[f.length-1]]?C=this.defaultActions[y]:(null==u&&(u=v()),C=t[y]&&t[y][u]),void 0===C||!C.length||!C[0]){if(!r){for(a in F=[],t[y])this.terminals_[a]&&a>2&&F.push("'"+this.terminals_[a]+"'");var B="";B=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+F.join(", ")+", got '"+this.terminals_[u]+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==u?"end of input":"'"+(this.terminals_[u]||u)+"'"),this.parseError(B,{text:this.lexer.match,token:this.terminals_[u]||u,line:this.lexer.yylineno,loc:o,expected:F})}if(3==r){if(1==u)throw new Error(B||"Parsing halted.");c=this.lexer.yyleng,i=this.lexer.yytext,s=this.lexer.yylineno,o=this.lexer.yylloc,u=v()}for(;!(2..toString()in t[y]);){if(0==y)throw new Error(B||"Parsing halted.");f.length=f.length-2,n.length=n.length-1,e.length=e.length-1,y=f[f.length-1]}g=u,u=2,C=t[y=f[f.length-1]]&&t[y][2],r=3}if(C[0]instanceof Array&&C.length>1)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+u);switch(C[0]){case 1:f.push(u),n.push(this.lexer.yytext),e.push(this.lexer.yylloc),f.push(C[1]),u=null,g?(u=g,g=null):(c=this.lexer.yyleng,i=this.lexer.yytext,s=this.lexer.yylineno,o=this.lexer.yylloc,r>0&&r--);break;case 2:if(_.$=n[n.length-(w=this.productions_[C[1]][1])],_._$={first_line:e[e.length-(w||1)].first_line,last_line:e[e.length-1].last_line,first_column:e[e.length-(w||1)].first_column,last_column:e[e.length-1].last_column},void 0!==(d=this.performAction.call(_,i,c,s,this.yy,C[1],n,e)))return d;w&&(f=f.slice(0,-1*w*2),n=n.slice(0,-1*w),e=e.slice(0,-1*w)),f.push(this.productions_[C[1]][0]),n.push(_.$),e.push(_._$),f.push(t[f[f.length-2]][f[f.length-1]]);break;case 3:return!0}}return!0}}).lexer={EOF:1,parseError:function(v,h){if(!this.yy.parseError)throw new Error(v);this.yy.parseError(v,h)},setInput:function(v){return this._input=v,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var v=this._input[0];return this.yytext+=v,this.yyleng++,this.match+=v,this.matched+=v,v.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),v},unput:function(v){return this._input=v+this._input,this},more:function(){return this._more=!0,this},less:function(v){this._input=this.match.slice(v)+this._input},pastInput:function(){var v=this.matched.substr(0,this.matched.length-this.match.length);return(v.length>20?"...":"")+v.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var v=this.match;return v.length<20&&(v+=this._input.substr(0,20-v.length)),(v.substr(0,20)+(v.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var v=this.pastInput(),h=new Array(v.length+1).join("-");return v+this.upcomingInput()+"\n"+h+"^"},next:function(){if(this.done)return this.EOF;var v,h,f,n,e;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var t=this._currentRules(),i=0;i<t.length&&(!(f=this._input.match(this.rules[t[i]]))||h&&!(f[0].length>h[0].length)||(h=f,n=i,this.options.flex));i++);return h?((e=h[0].match(/\n.*/g))&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-1:this.yylloc.last_column+h[0].length},this.yytext+=h[0],this.match+=h[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(h[0].length),this.matched+=h[0],v=this.performAction.call(this,this.yy,this,t[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),v||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var v=this.next();return void 0!==v?v:this.lex()},begin:function(v){this.conditionStack.push(v)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(v){this.begin(v)},options:{},performAction:function(v,h,f,n){switch(f){case 0:break;case 1:return 6;case 2:return h.yytext=h.yytext.substr(1,h.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt\/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}},S);K.parser=A,K.parse=A.parse.bind(A)},function(U,K){"use strict";function m(A,S){var b=this;this.editor=A,this.timeout=void 0,this.delay=200,this.lastText=void 0,this.dom={},this.dom.container=S;var l=document.createElement("table");this.dom.table=l,l.className="jsoneditor-search",S.appendChild(l);var v=document.createElement("tbody");this.dom.tbody=v,l.appendChild(v);var h=document.createElement("tr");v.appendChild(h);var f=document.createElement("td");h.appendChild(f);var n=document.createElement("div");this.dom.results=n,n.className="jsoneditor-results",f.appendChild(n),f=document.createElement("td"),h.appendChild(f);var e=document.createElement("div");this.dom.input=e,e.className="jsoneditor-frame",e.title="Search fields and values",f.appendChild(e);var t=document.createElement("table");e.appendChild(t);var i=document.createElement("tbody");t.appendChild(i),h=document.createElement("tr"),i.appendChild(h);var s=document.createElement("button");s.type="button",s.className="jsoneditor-refresh",(f=document.createElement("td")).appendChild(s),h.appendChild(f);var c=document.createElement("input");this.dom.search=c,c.oninput=function(o){b._onDelayedSearch(o)},c.onchange=function(o){b._onSearch()},c.onkeydown=function(o){b._onKeyDown(o)},c.onkeyup=function(o){b._onKeyUp(o)},s.onclick=function(o){c.select()},(f=document.createElement("td")).appendChild(c),h.appendChild(f);var r=document.createElement("button");r.type="button",r.title="Next result (Enter)",r.className="jsoneditor-next",r.onclick=function(){b.next()},(f=document.createElement("td")).appendChild(r),h.appendChild(f);var p=document.createElement("button");p.type="button",p.title="Previous result (Shift+Enter)",p.className="jsoneditor-previous",p.onclick=function(){b.previous()},(f=document.createElement("td")).appendChild(p),h.appendChild(f)}m.prototype.next=function(A){if(null!=this.results){var S=null!=this.resultIndex?this.resultIndex+1:0;S>this.results.length-1&&(S=0),this._setActiveResult(S,A)}},m.prototype.previous=function(A){if(null!=this.results){var S=this.results.length-1,b=null!=this.resultIndex?this.resultIndex-1:S;b<0&&(b=S),this._setActiveResult(b,A)}},m.prototype._setActiveResult=function(A,S){if(this.activeResult){var b=this.activeResult.node;"field"==this.activeResult.elem?delete b.searchFieldActive:delete b.searchValueActive,b.updateDom()}if(!this.results||!this.results[A])return this.resultIndex=void 0,void(this.activeResult=void 0);this.resultIndex=A;var l=this.results[this.resultIndex].node,v=this.results[this.resultIndex].elem;"field"==v?l.searchFieldActive=!0:l.searchValueActive=!0,this.activeResult=this.results[this.resultIndex],l.updateDom(),l.scrollTo(function(){S&&l.focus(v)})},m.prototype._clearDelay=function(){null!=this.timeout&&(clearTimeout(this.timeout),delete this.timeout)},m.prototype._onDelayedSearch=function(A){this._clearDelay();var S=this;this.timeout=setTimeout(function(b){S._onSearch()},this.delay)},m.prototype._onSearch=function(A){this._clearDelay();var S=this.dom.search.value,b=S.length>0?S:void 0;if(b!==this.lastText||A){this.lastText=b,this.results=this.editor.search(b);var l=this.results[0]?this.results[0].node.MAX_SEARCH_RESULTS:1/0;if(this._setActiveResult(0,!1),void 0!==b){var v=this.results.length;this.dom.results.innerHTML=0===v?"no&nbsp;results":1===v?"1&nbsp;result":v>l?l+"+&nbsp;results":v+"&nbsp;results"}else this.dom.results.innerHTML=""}},m.prototype._onKeyDown=function(A){var S=A.which;27==S?(this.dom.search.value="",this._onSearch(),A.preventDefault(),A.stopPropagation()):13==S&&(A.ctrlKey?this._onSearch(!0):A.shiftKey?this.previous():this.next(),A.preventDefault(),A.stopPropagation())},m.prototype._onKeyUp=function(A){var S=A.keyCode;27!=S&&13!=S&&this._onDelayedSearch(A)},m.prototype.clear=function(){this.dom.search.value="",this._onSearch()},m.prototype.destroy=function(){this.editor=null,this.dom.container.removeChild(this.dom.table),this.dom=null,this.results=null,this.activeResult=null,this._clearDelay()},U.exports=m},function(U,K,m){"use strict";function S(v,h){this.dom={};var n=this,e=this.dom;this.anchor=void 0,this.items=v,this.eventListeners={},this.selection=void 0,this.onClose=h?h.close:void 0;var t=document.createElement("div");t.className="jsoneditor-contextmenu-root",e.root=t;var i=document.createElement("div");i.className="jsoneditor-contextmenu",e.menu=i,t.appendChild(i);var s=document.createElement("ul");s.className="jsoneditor-menu",i.appendChild(s),e.list=s,e.items=[];var c=document.createElement("button");c.type="button",e.focusButton=c;var r=document.createElement("li");r.style.overflow="hidden",r.style.height="0",r.appendChild(c),s.appendChild(r),function f(p,o,u){u.forEach(function(g){if("separator"==g.type){var y=document.createElement("div");y.className="jsoneditor-separator",(d=document.createElement("li")).appendChild(y),p.appendChild(d)}else{var C={},d=document.createElement("li");p.appendChild(d);var a=document.createElement("button");if(a.type="button",a.className=g.className,C.button=a,g.title&&(a.title=g.title),g.click&&(a.onclick=function(x){x.preventDefault(),n.hide(),g.click()}),d.appendChild(a),g.submenu){var w=document.createElement("div");w.className="jsoneditor-icon",a.appendChild(w);var F,E=document.createElement("div");if(E.className="jsoneditor-text"+(g.click?"":" jsoneditor-right-margin"),E.appendChild(document.createTextNode(g.text)),a.appendChild(E),g.click){a.className+=" jsoneditor-default";var _=document.createElement("button");_.type="button",C.buttonExpand=_,_.className="jsoneditor-expand",_.innerHTML='<div class="jsoneditor-expand"></div>',d.appendChild(_),g.submenuTitle&&(_.title=g.submenuTitle),F=_}else{var B=document.createElement("div");B.className="jsoneditor-expand",a.appendChild(B),F=a}F.onclick=function(x){x.preventDefault(),n._onExpandItem(C),F.focus()};var R=[];C.subItems=R;var P=document.createElement("ul");C.ul=P,P.className="jsoneditor-menu",P.style.height="0",d.appendChild(P),f(P,R,g.submenu)}else a.innerHTML='<div class="jsoneditor-icon"></div><div class="jsoneditor-text">'+l(g.text)+"</div>";o.push(C)}})}(s,this.dom.items,v),this.maxHeight=0,v.forEach(function(p){n.maxHeight=Math.max(n.maxHeight,24*(v.length+(p.submenu?p.submenu.length:0)))})}var b=m(54),l=m(58).translate;S.prototype._getVisibleButtons=function(){var v=[],h=this;return this.dom.items.forEach(function(f){v.push(f.button),f.buttonExpand&&v.push(f.buttonExpand),f.subItems&&f==h.expandedItem&&f.subItems.forEach(function(n){v.push(n.button),n.buttonExpand&&v.push(n.buttonExpand)})}),v},S.visibleMenu=void 0,S.prototype.show=function(v,h){this.hide();var f=!0,n=v.parentNode,e=v.getBoundingClientRect(),t=n.getBoundingClientRect();if(h){var i=h.getBoundingClientRect();e.bottom+this.maxHeight<i.bottom||e.top-this.maxHeight>i.top&&(f=!1)}var s=e.left-t.left,c=e.top-t.top;if(f){var r=v.offsetHeight;this.dom.menu.style.left=s+"px",this.dom.menu.style.top=c+r+"px",this.dom.menu.style.bottom=""}else this.dom.menu.style.left=s+"px",this.dom.menu.style.top=c+"px",this.dom.menu.style.bottom="0px";this.rootNode=function(v){return v.getRootNode&&v.getRootNode()||window}(v),n.insertBefore(this.dom.root,n.firstChild);var p=this,o=this.dom.list;this.eventListeners.mousedown=b.addEventListener(this.rootNode,"mousedown",function(u){var g=u.target;g==o||p._isChildOf(g,o)||(p.hide(),u.stopPropagation(),u.preventDefault())}),this.eventListeners.keydown=b.addEventListener(this.rootNode,"keydown",function(u){p._onKeyDown(u)}),this.selection=b.getSelection(),this.anchor=v,setTimeout(function(){p.dom.focusButton.focus()},0),S.visibleMenu&&S.visibleMenu.hide(),S.visibleMenu=this},S.prototype.hide=function(){for(var v in this.dom.root.parentNode&&(this.dom.root.parentNode.removeChild(this.dom.root),this.onClose&&this.onClose()),this.eventListeners)if(this.eventListeners.hasOwnProperty(v)){var h=this.eventListeners[v];h&&b.removeEventListener(this.rootNode,v,h),delete this.eventListeners[v]}S.visibleMenu==this&&(S.visibleMenu=void 0)},S.prototype._onExpandItem=function(v){var h=this,f=v==this.expandedItem,n=this.expandedItem;if(n&&(n.ul.style.height="0",n.ul.style.padding="",setTimeout(function(){h.expandedItem!=n&&(n.ul.style.display="",b.removeClassName(n.ul.parentNode,"jsoneditor-selected"))},300),this.expandedItem=void 0),!f){var e=v.ul;e.style.display="block",setTimeout(function(){if(h.expandedItem==v){for(var t=0,i=0;i<e.childNodes.length;i++)t+=e.childNodes[i].clientHeight;e.style.height=t+"px",e.style.padding="5px 10px"}},0),b.addClassName(e.parentNode,"jsoneditor-selected"),this.expandedItem=v}},S.prototype._onKeyDown=function(v){var h,f,n,e,t=v.target,i=v.which,s=!1;27==i?(this.selection&&b.setSelection(this.selection),this.anchor&&this.anchor.focus(),this.hide(),s=!0):9==i?v.shiftKey?0==(f=(h=this._getVisibleButtons()).indexOf(t))&&(h[h.length-1].focus(),s=!0):(f=(h=this._getVisibleButtons()).indexOf(t))==h.length-1&&(h[0].focus(),s=!0):37==i?("jsoneditor-expand"==t.className&&(f=(h=this._getVisibleButtons()).indexOf(t),(n=h[f-1])&&n.focus()),s=!0):38==i?(f=(h=this._getVisibleButtons()).indexOf(t),(n=h[f-1])&&"jsoneditor-expand"==n.className&&(n=h[f-2]),n||(n=h[h.length-1]),n&&n.focus(),s=!0):39==i?(f=(h=this._getVisibleButtons()).indexOf(t),(e=h[f+1])&&"jsoneditor-expand"==e.className&&e.focus(),s=!0):40==i&&(f=(h=this._getVisibleButtons()).indexOf(t),(e=h[f+1])&&"jsoneditor-expand"==e.className&&(e=h[f+2]),e||(e=h[0]),e&&(e.focus(),s=!0),s=!0),s&&(v.stopPropagation(),v.preventDefault())},S.prototype._isChildOf=function(v,h){for(var f=v.parentNode;f;){if(f==h)return!0;f=f.parentNode}return!1},U.exports=S},function(U,K){"use strict";var m,A=["en","pt-BR"],S={en:{array:"Array",auto:"Auto",appendText:"Append",appendTitle:"Append a new field with type 'auto' after this field (Ctrl+Shift+Ins)",appendSubmenuTitle:"Select the type of the field to be appended",appendTitleAuto:"Append a new field with type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascending",ascendingTitle:"Sort the childs of this ${type} in ascending order",actionsMenu:"Click to open the actions menu (Ctrl+M)",collapseAll:"Collapse all fields",descending:"Descending",descendingTitle:"Sort the childs of this ${type} in descending order",drag:"Drag to move this field (Alt+Shift+Arrows)",duplicateKey:"duplicate key",duplicateText:"Duplicate",duplicateTitle:"Duplicate selected fields (Ctrl+D)",duplicateField:"Duplicate this field (Ctrl+D)",empty:"empty",expandAll:"Expand all fields",expandTitle:"Click to expand/collapse this field (Ctrl+E). \nCtrl+Click to expand/collapse including all childs.",insert:"Insert",insertTitle:"Insert a new field with type 'auto' before this field (Ctrl+Ins)",insertSub:"Select the type of the field to be inserted",object:"Object",ok:"Ok",redo:"Redo (Ctrl+Shift+Z)",removeText:"Remove",removeTitle:"Remove selected fields (Ctrl+Del)",removeField:"Remove this field (Ctrl+Del)",selectNode:"Select a node...",showAll:"show all",showMore:"show more",showMoreStatus:"displaying ${visibleChilds} of ${totalChilds} items.",sort:"Sort",sortTitle:"Sort the childs of this ${type}",sortTitleShort:"Sort contents",sortFieldLabel:"Field:",sortDirectionLabel:"Direction:",sortFieldTitle:"Select the nested field by which to sort the array or object",sortAscending:"Ascending",sortAscendingTitle:"Sort the selected field in ascending order",sortDescending:"Descending",sortDescendingTitle:"Sort the selected field in descending order",string:"String",transform:"Transform",transformTitle:"Filter, sort, or transform the childs of this ${type}",transformTitleShort:"Filter, sort, or transform contents",transformQueryTitle:"Enter a JMESPath query",transformWizardLabel:"Wizard",transformWizardFilter:"Filter",transformWizardSortBy:"Sort by",transformWizardSelectFields:"Select fields",transformQueryLabel:"Query",transformPreviewLabel:"Preview",type:"Type",typeTitle:"Change the type of this field",openUrl:"Ctrl+Click or Ctrl+Enter to open url in new window",undo:"Undo last action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Field type "auto". The field type is automatically determined from the value and can be a string, number, boolean, or null.',objectType:'Field type "object". An object contains an unordered set of key/value pairs.',arrayType:'Field type "array". An array contains an ordered collection of values.',stringType:'Field type "string". Field type is not determined from the value, but always returned as string.'},"pt-BR":{array:"Lista",auto:"Automatico",appendText:"Adicionar",appendTitle:"Adicionar novo campo com tipo 'auto' depois deste campo (Ctrl+Shift+Ins)",appendSubmenuTitle:"Selecione o tipo do campo a ser adicionado",appendTitleAuto:"Adicionar novo campo com tipo 'auto' (Ctrl+Shift+Ins)",ascending:"Ascendente",ascendingTitle:"Organizar filhor do tipo ${type} em crescente",actionsMenu:"Clique para abrir o menu de a\xe7\xf5es (Ctrl+M)",collapseAll:"Fechar todos campos",descending:"Descendente",descendingTitle:"Organizar o filhos do tipo ${type} em decrescente",duplicateKey:"chave duplicada",drag:"Arraste para mover este campo (Alt+Shift+Arrows)",duplicateText:"Duplicar",duplicateTitle:"Duplicar campos selecionados (Ctrl+D)",duplicateField:"Duplicar este campo (Ctrl+D)",empty:"vazio",expandAll:"Expandir todos campos",expandTitle:"Clique para expandir/encolher este campo (Ctrl+E). \nCtrl+Click para expandir/encolher incluindo todos os filhos.",insert:"Inserir",insertTitle:"Inserir um novo campo do tipo 'auto' antes deste campo (Ctrl+Ins)",insertSub:"Selecionar o tipo de campo a ser inserido",object:"Objeto",ok:"Ok",redo:"Refazer (Ctrl+Shift+Z)",removeText:"Remover",removeTitle:"Remover campos selecionados (Ctrl+Del)",removeField:"Remover este campo (Ctrl+Del)",selectNode:"Select a node...",showAll:"mostre tudo",showMore:"mostre mais",showMoreStatus:"exibindo ${visibleChilds} de ${totalChilds} itens.",sort:"Organizar",sortTitle:"Organizar os filhos deste ${type}",sortTitleShort:"Organizar os filhos",sortFieldLabel:"Field:",sortDirectionLabel:"Direction:",sortFieldTitle:"Select the nested field by which to sort the array or object",sortAscending:"Ascending",sortAscendingTitle:"Sort the selected field in ascending order",sortDescending:"Descending",sortDescendingTitle:"Sort the selected field in descending order",string:"Texto",transform:"Transform",transformTitle:"Filter, sort, or transform the childs of this ${type}",transformTitleShort:"Filter, sort, or transform contents",transformQueryTitle:"Enter a JMESPath query",transformWizardLabel:"Wizard",transformWizardFilter:"Filter",transformWizardSortBy:"Sort by",transformWizardSelectFields:"Select fields",transformQueryLabel:"Query",transformPreviewLabel:"Preview",type:"Tipo",typeTitle:"Mudar o tipo deste campo",openUrl:"Ctrl+Click ou Ctrl+Enter para abrir link em nova janela",undo:"Desfazer \xfaltimo a\xe7\xe3o (Ctrl+Z)",validationCannotMove:"N\xe3o pode mover um campo como filho dele mesmo",autoType:'Campo do tipo "auto". O tipo do campo \xe9 determinao automaticamente a partir do seu valor e pode ser texto, n\xfamero, verdade/falso ou nulo.',objectType:'Campo do tipo "objeto". Um objeto cont\xe9m uma lista de pares com chave e valor.',arrayType:'Campo do tipo "lista". Uma lista contem uma cole\xe7\xe3o de valores ordenados.',stringType:'Campo do tipo "string". Campo do tipo nao \xe9 determinado atrav\xe9s do seu valor, mas sempre retornara um texto.'}},b="undefined"!=typeof navigator?navigator.language||navigator.userLanguage:void 0;(m=A.find(function(l){return l===b}))||(m="en"),U.exports={_locales:A,_defs:S,_lang:m,setLanguage:function(l){if(l){var v=A.find(function(h){return h===l});v?m=v:console.error("Language not found")}},setLanguages:function(l){if(l)for(var v in l)A.find(function(f){return f===v})||A.push(v),S[v]=Object.assign({},S.en,S[v],l[v])},translate:function(l,v,h){h||(h=m);var f=S[h][l];if(v)for(l in v)f=f.replace("${"+l+"}",v[l]);return f||l}}},function(U,K,m){"use strict";function A(l){l&&(this.path=document.createElement("div"),this.path.className="jsoneditor-treepath",l.appendChild(this.path),this.reset())}var S=m(57),b=m(58).translate;A.prototype.reset=function(){this.path.innerHTML=b("selectNode")},A.prototype.setPath=function(l){function v(n){this.selectionCallback&&this.selectionCallback(n)}function h(n,e){this.contextMenuCallback&&this.contextMenuCallback(n,e)}var f=this;this.path.innerHTML="",l&&l.length&&l.forEach(function(n,e){var t,i=document.createElement("span");if(i.className="jsoneditor-treepath-element",i.innerText=n.name,i.onclick=v.bind(f,n),f.path.appendChild(i),n.children.length&&((t=document.createElement("span")).className="jsoneditor-treepath-seperator",t.innerHTML="&#9658;",t.onclick=function(){var c=[];n.children.forEach(function(r){c.push({text:r.name,className:"jsoneditor-type-modes"+(l[e+1]+1&&l[e+1].name===r.name?" jsoneditor-selected":""),click:h.bind(f,n,r.name)})}),new S(c).show(t)},f.path.appendChild(t,f.container)),e===l.length-1){var s=(t||i).getBoundingClientRect().left;f.path.offsetWidth<s&&(f.path.scrollLeft=s)}})},A.prototype.onSectionSelected=function(l){"function"==typeof l&&(this.selectionCallback=l)},A.prototype.onContextMenuItemSelected=function(l){"function"==typeof l&&(this.contextMenuCallback=l)},U.exports=A},function(U,K,m){"use strict";function A(r,p){this.editor=r,this.dom={},this.expanded=!1,p&&p instanceof Object?(this.setField(p.field,p.fieldEditable),this.setValue(p.value,p.type)):(this.setField(""),this.setValue(null)),this._debouncedOnChangeValue=e.debounce(this._onChangeValue.bind(this),A.prototype.DEBOUNCE_INTERVAL),this._debouncedOnChangeField=e.debounce(this._onChangeField.bind(this),A.prototype.DEBOUNCE_INTERVAL)}var S=m(61),b=m(62),l=m(57),v=m(63),h=m(64),f=m(65),n=m(67),e=m(54),t=m(58).translate,i=document.body;A.prototype.DEBOUNCE_INTERVAL=150,A.prototype.MAX_SEARCH_RESULTS=999,A.prototype.visibleChilds=A.prototype.MAX_VISIBLE_CHILDS=100,A.prototype._updateEditability=function(){if(this.editable={field:!0,value:!0},this.editor&&(this.editable.field="tree"===this.editor.options.mode,this.editable.value="view"!==this.editor.options.mode,("tree"===this.editor.options.mode||"form"===this.editor.options.mode)&&"function"==typeof this.editor.options.onEditable)){var r=this.editor.options.onEditable({field:this.field,value:this.value,path:this.getPath()});"boolean"==typeof r?(this.editable.field=r,this.editable.value=r):("boolean"==typeof r.field&&(this.editable.field=r.field),"boolean"==typeof r.value&&(this.editable.value=r.value))}},A.prototype.getPath=function(){for(var r=this,p=[];r;){var o=r.getName();void 0!==o&&p.unshift(o),r=r.parent}return p},A.prototype.getName=function(){return this.parent?"array"!=this.parent.type?this.field:this.index:void 0},A.prototype.findNodeByPath=function(r){if(r){if(0==r.length)return this;if(r.length&&this.childs&&this.childs.length)for(var p=0;p<this.childs.length;++p)if(""+r[0]==""+this.childs[p].getName())return this.childs[p].findNodeByPath(r.slice(1))}},A.prototype.serialize=function(){return{value:this.getValue(),path:this.getPath()}},A.prototype.findNode=function(r){for(var p=e.parsePath(r),o=this;o&&p.length>0;){var u=p.shift();if("number"==typeof u){if("array"!==o.type)throw new Error("Cannot get child node at index "+u+": node is no array");o=o.childs[u]}else{if("object"!==o.type)throw new Error("Cannot get child node "+u+": node is no object");o=o.childs.filter(function(g){return g.field===u})[0]}}return o},A.prototype.findParents=function(){for(var r=[],p=this.parent;p;)r.unshift(p),p=p.parent;return r},A.prototype.setError=function(r,p){this.error=r,this.errorChild=p,this.dom&&this.dom.tr&&this.updateError()},A.prototype.updateError=function(){var r=this.error,p=this.dom.tdError;if(r&&this.dom&&this.dom.tr){p||(p=document.createElement("td"),this.dom.tdError=p,this.dom.tdValue.parentNode.appendChild(p));var o=document.createElement("div");o.className="jsoneditor-popover jsoneditor-right",o.appendChild(document.createTextNode(r.message));var u=document.createElement("button");u.type="button",u.className="jsoneditor-schema-error",u.appendChild(o),u.onmouseover=u.onfocus=function(){for(var y=["right","above","below","left"],C=0;C<y.length;C++){o.className="jsoneditor-popover jsoneditor-"+y[C];var a=this.editor.content.getBoundingClientRect(),w=o.getBoundingClientRect();if(e.insideRect(a,w,20))break}}.bind(this);var g=this.errorChild;for(g&&(u.onclick=function(){g.findParents().forEach(function(y){y.expand(!1)}),g.scrollTo(function(){g.focus()})});p.firstChild;)p.removeChild(p.firstChild);p.appendChild(u)}else p&&(this.dom.tdError.parentNode.removeChild(this.dom.tdError),delete this.dom.tdError)},A.prototype.getIndex=function(){return this.parent?this.parent.childs.indexOf(this):-1},A.prototype.setParent=function(r){this.parent=r},A.prototype.setField=function(r,p){this.field=r,this.previousField=r,this.fieldEditable=!0===p},A.prototype.getField=function(){return void 0===this.field&&this._getDomField(),this.field},A.prototype.setValue=function(r,p){var o,u,y=this.childs;if(y)for(;y.length;)this.removeChild(y[0],!1);if(this.type=this._getType(r),p&&p!=this.type){if("string"!=p||"auto"!=this.type)throw new Error('Type mismatch: cannot cast value of type "'+this.type+' to the specified type "'+p+'"');this.type=p}if("array"==this.type){this.childs=[];for(var C=0,d=r.length;C<d;C++)void 0===(o=r[C])||o instanceof Function||(u=new A(this.editor,{value:o}),this.appendChild(u,C<this.MAX_VISIBLE_CHILDS,!1));this.value=""}else if("object"==this.type){for(var a in this.childs=[],C=0,r)r.hasOwnProperty(a)&&(void 0===(o=r[a])||o instanceof Function||(u=new A(this.editor,{field:a,value:o}),this.appendChild(u,C<this.MAX_VISIBLE_CHILDS,!1)),C++);this.value="",!0===this.editor.options.sortObjectKeys&&this.sort([],"asc")}else this.childs=void 0,this.value=r;this.updateDom({updateIndexes:!0}),this.previousValue=this.value},A.prototype.getValue=function(){if("array"==this.type){var r=[];return this.childs.forEach(function(o){r.push(o.getValue())}),r}if("object"==this.type){var p={};return this.childs.forEach(function(o){p[o.getField()]=o.getValue()}),p}return void 0===this.value&&this._getDomValue(),this.value},A.prototype.getLevel=function(){return this.parent?this.parent.getLevel()+1:0},A.prototype.getNodePath=function(){var r=this.parent?this.parent.getNodePath():[];return r.push(this),r},A.prototype.clone=function(){var r=new A(this.editor);if(r.type=this.type,r.field=this.field,r.fieldInnerText=this.fieldInnerText,r.fieldEditable=this.fieldEditable,r.value=this.value,r.valueInnerText=this.valueInnerText,r.expanded=this.expanded,r.visibleChilds=this.visibleChilds,this.childs){var p=[];this.childs.forEach(function(o){var u=o.clone();u.setParent(r),p.push(u)}),r.childs=p}else r.childs=void 0;return r},A.prototype.expand=function(r){this.childs&&(this.expanded=!0,this.dom.expand&&(this.dom.expand.className="jsoneditor-expanded"),this.showChilds(),!1!==r&&this.childs.forEach(function(p){p.expand(r)}))},A.prototype.collapse=function(r){this.childs&&(this.hideChilds(),!1!==r&&this.childs.forEach(function(p){p.collapse(r)}),this.dom.expand&&(this.dom.expand.className="jsoneditor-collapsed"),this.expanded=!1)},A.prototype.showChilds=function(){if(this.childs&&this.expanded){var r=this.dom.tr,p=r?r.parentNode:void 0;if(p){var o=this.getAppendDom();o.parentNode||((d=r.nextSibling)?p.insertBefore(o,d):p.appendChild(o));for(var u=Math.min(this.childs.length,this.visibleChilds),d=this._getNextTr(),g=0;g<u;g++){var y=this.childs[g];y.getDom().parentNode||p.insertBefore(y.getDom(),d),y.showChilds()}var C=this.getShowMoreDom();d=this._getNextTr(),C.parentNode||p.insertBefore(C,d),this.showMore.updateDom()}}},A.prototype._getNextTr=function(){return this.showMore&&this.showMore.getDom().parentNode?this.showMore.getDom():this.append&&this.append.getDom().parentNode?this.append.getDom():void 0},A.prototype.hide=function(r){var p=this.dom.tr,o=p?p.parentNode:void 0;o&&o.removeChild(p),this.hideChilds(r)},A.prototype.hideChilds=function(r){if(this.childs&&this.expanded){var p=this.getAppendDom();p.parentNode&&p.parentNode.removeChild(p),this.childs.forEach(function(u){u.hide()});var o=this.getShowMoreDom();o.parentNode&&o.parentNode.removeChild(o),r&&!r.resetVisibleChilds||delete this.visibleChilds}},A.prototype.expandTo=function(){for(var r=this.parent;r;)r.expanded||r.expand(),r=r.parent},A.prototype.appendChild=function(r,p,o){if(this._hasChilds()){if(r.setParent(this),r.fieldEditable="object"==this.type,"array"==this.type&&(r.index=this.childs.length),this.childs.push(r),this.expanded&&!1!==p){var u=r.getDom(),g=this._getNextTr(),y=g?g.parentNode:void 0;g&&y&&y.insertBefore(u,g),r.showChilds(),this.visibleChilds++}!1!==o&&(this.updateDom({updateIndexes:!0}),r.updateDom({recurse:!0}))}},A.prototype.moveBefore=function(r,p){if(this._hasChilds()){var o=this.dom.tr?this.dom.tr.parentNode:void 0;if(o){var u=document.createElement("tr");u.style.height=o.clientHeight+"px",o.appendChild(u)}r.parent&&r.parent.removeChild(r),p instanceof s?this.childs.length+1>this.visibleChilds?this.insertBefore(r,this.childs[this.visibleChilds-1]):this.appendChild(r):this.insertBefore(r,p),o&&o.removeChild(u)}},A.prototype.moveTo=function(r,p){r.parent==this&&this.childs.indexOf(r)<p&&p++,this.moveBefore(r,this.childs[p]||this.append)},A.prototype.insertBefore=function(r,p){if(this._hasChilds()){if(this.visibleChilds++,p==this.append)r.setParent(this),r.fieldEditable="object"==this.type,this.childs.push(r);else{var o=this.childs.indexOf(p);if(-1==o)throw new Error("Node not found");r.setParent(this),r.fieldEditable="object"==this.type,this.childs.splice(o,0,r)}if(this.expanded){var u=r.getDom(),g=p.getDom(),y=g?g.parentNode:void 0;g&&y&&y.insertBefore(u,g),r.showChilds(),this.showChilds()}this.updateDom({updateIndexes:!0}),r.updateDom({recurse:!0})}},A.prototype.insertAfter=function(r,p){if(this._hasChilds()){var o=this.childs.indexOf(p),u=this.childs[o+1];u?this.insertBefore(r,u):this.appendChild(r)}},A.prototype.search=function(r,p){Array.isArray(p)||(p=[]);var u=r?r.toLowerCase():void 0;return delete this.searchField,delete this.searchValue,void 0!==this.field&&p.length<=this.MAX_SEARCH_RESULTS&&(-1!==String(this.field).toLowerCase().indexOf(u)&&(this.searchField=!0,p.push({node:this,elem:"field"})),this._updateDomField()),this._hasChilds()?this.childs&&this.childs.forEach(function(y){y.search(r,p)}):void 0!==this.value&&p.length<=this.MAX_SEARCH_RESULTS&&(-1!==String(this.value).toLowerCase().indexOf(u)&&(this.searchValue=!0,p.push({node:this,elem:"value"})),this._updateDomValue()),p},A.prototype.scrollTo=function(r){this.expandPathToNode(),this.dom.tr&&this.dom.tr.parentNode&&this.editor.scrollTo(this.dom.tr.offsetTop,r)},A.prototype.expandPathToNode=function(){for(var r=this;r&&r.parent;){for(var p="array"===r.parent.type?r.index:r.parent.childs.indexOf(r);r.parent.visibleChilds<p+1;)r.parent.visibleChilds+=A.prototype.MAX_VISIBLE_CHILDS;r.parent.expand(!1),r=r.parent}},A.focusElement=void 0,A.prototype.focus=function(r){if(A.focusElement=r,this.dom.tr&&this.dom.tr.parentNode){var p=this.dom;switch(r){case"drag":p.drag?p.drag.focus():p.menu.focus();break;case"menu":p.menu.focus();break;case"expand":this._hasChilds()?p.expand.focus():p.field&&this.fieldEditable?(p.field.focus(),e.selectContentEditable(p.field)):p.value&&!this._hasChilds()?(p.value.focus(),e.selectContentEditable(p.value)):p.menu.focus();break;case"field":p.field&&this.fieldEditable?(p.field.focus(),e.selectContentEditable(p.field)):p.value&&!this._hasChilds()?(p.value.focus(),e.selectContentEditable(p.value)):this._hasChilds()?p.expand.focus():p.menu.focus();break;default:p.select?p.select.focus():p.value&&!this._hasChilds()?(p.value.focus(),e.selectContentEditable(p.value)):p.field&&this.fieldEditable?(p.field.focus(),e.selectContentEditable(p.field)):this._hasChilds()?p.expand.focus():p.menu.focus()}}},A.select=function(r){setTimeout(function(){e.selectContentEditable(r)},0)},A.prototype.blur=function(){this._getDomValue(!1),this._getDomField(!1)},A.prototype.containsNode=function(r){if(this==r)return!0;var p=this.childs;if(p)for(var o=0,u=p.length;o<u;o++)if(p[o].containsNode(r))return!0;return!1},A.prototype.removeChild=function(r,p){if(this.childs){var o=this.childs.indexOf(r);if(-1!==o){o<this.visibleChilds&&this.expanded&&this.visibleChilds--,r.hide(),delete r.searchField,delete r.searchValue;var u=this.childs.splice(o,1)[0];return u.parent=null,!1!==p&&this.updateDom({updateIndexes:!0}),u}}},A.prototype._remove=function(r){this.removeChild(r)},A.prototype.changeType=function(r){var p=this.type;if(p!=r){if("string"!=r&&"auto"!=r||"string"!=p&&"auto"!=p){var o,u=this.dom.tr?this.dom.tr.parentNode:void 0,g=(o=this.expanded?this.getAppendDom():this.getDom())&&o.parentNode?o.nextSibling:void 0;this.hide({resetVisibleChilds:!1}),this.clearDom(),this.type=r,"object"==r?(this.childs||(this.childs=[]),this.childs.forEach(function(y,C){y.clearDom(),delete y.index,y.fieldEditable=!0,null==y.field&&(y.field="")}),"string"!=p&&"auto"!=p||(this.expanded=!0)):"array"==r?(this.childs||(this.childs=[]),this.childs.forEach(function(y,C){y.clearDom(),y.fieldEditable=!1,y.index=C}),"string"!=p&&"auto"!=p||(this.expanded=!0)):this.expanded=!1,u&&(g?u.insertBefore(this.getDom(),g):u.appendChild(this.getDom())),this.showChilds()}else this.type=r;"auto"!=r&&"string"!=r||(this.value="string"==r?String(this.value):this._stringCast(String(this.value)),this.focus()),this.updateDom({updateIndexes:!0})}},A.prototype._getDomValue=function(r){if(this.dom.value&&"array"!=this.type&&"object"!=this.type&&(this.valueInnerText=e.getInnerText(this.dom.value)),null!=this.valueInnerText)try{var p;if("string"==this.type)p=this._unescapeHTML(this.valueInnerText);else{var o=this._unescapeHTML(this.valueInnerText);p=this._stringCast(o)}p!==this.value&&(this.value=p,this._debouncedOnChangeValue())}catch(u){if(this.value=void 0,!0!==r)throw u}},A.prototype._onChangeValue=function(){var r=this.editor.getDomSelection();if(r.range){var p=e.textDiff(String(this.value),String(this.previousValue));r.range.startOffset=p.start,r.range.endOffset=p.end}var o=this.editor.getDomSelection();if(o.range){var u=e.textDiff(String(this.previousValue),String(this.value));o.range.startOffset=u.start,o.range.endOffset=u.end}this.editor._onAction("editValue",{node:this,oldValue:this.previousValue,newValue:this.value,oldSelection:r,newSelection:o}),this.previousValue=this.value},A.prototype._onChangeField=function(){var r=this.editor.getDomSelection(),p=this.previousField||"";if(r.range){var o=e.textDiff(this.field,p);r.range.startOffset=o.start,r.range.endOffset=o.end}var u=this.editor.getDomSelection();if(u.range){var g=e.textDiff(p,this.field);u.range.startOffset=g.start,u.range.endOffset=g.end}this.editor._onAction("editField",{node:this,oldValue:this.previousField,newValue:this.field,oldSelection:r,newSelection:u}),this.previousField=this.field},A.prototype._updateDomValue=function(){var r=this.dom.value;if(r){var p=["jsoneditor-value"],o=this.value,u="auto"==this.type?e.type(o):this.type,g="string"==u&&e.isUrl(o);if(p.push("jsoneditor-"+u),g&&p.push("jsoneditor-url"),""==String(this.value)&&"array"!=this.type&&"object"!=this.type&&p.push("jsoneditor-empty"),this.searchValueActive&&p.push("jsoneditor-highlight-active"),this.searchValue&&p.push("jsoneditor-highlight"),r.className=p.join(" "),r.title="array"==u||"object"==u?this.type+" containing "+(this.childs?this.childs.length:0)+" items":g&&this.editable.value?t("openUrl"):"","boolean"===u&&this.editable.value?(this.dom.checkbox||(this.dom.checkbox=document.createElement("input"),this.dom.checkbox.type="checkbox",this.dom.tdCheckbox=document.createElement("td"),this.dom.tdCheckbox.className="jsoneditor-tree",this.dom.tdCheckbox.appendChild(this.dom.checkbox),this.dom.tdValue.parentNode.insertBefore(this.dom.tdCheckbox,this.dom.tdValue)),this.dom.checkbox.checked=this.value):this.dom.tdCheckbox&&(this.dom.tdCheckbox.parentNode.removeChild(this.dom.tdCheckbox),delete this.dom.tdCheckbox,delete this.dom.checkbox),this.enum&&this.editable.value){if(!this.dom.select){this.dom.select=document.createElement("select"),this.id=this.field+"_"+(new Date).getUTCMilliseconds(),this.dom.select.id=this.id,this.dom.select.name=this.dom.select.id,this.dom.select.option=document.createElement("option"),this.dom.select.option.value="",this.dom.select.option.innerHTML="--",this.dom.select.appendChild(this.dom.select.option);for(var C=0;C<this.enum.length;C++)this.dom.select.option=document.createElement("option"),this.dom.select.option.value=this.enum[C],this.dom.select.option.innerHTML=this.enum[C],this.dom.select.option.value==this.value&&(this.dom.select.option.selected=!0),this.dom.select.appendChild(this.dom.select.option);this.dom.tdSelect=document.createElement("td"),this.dom.tdSelect.className="jsoneditor-tree",this.dom.tdSelect.appendChild(this.dom.select),this.dom.tdValue.parentNode.insertBefore(this.dom.tdSelect,this.dom.tdValue)}!this.schema||this.schema.hasOwnProperty("oneOf")||this.schema.hasOwnProperty("anyOf")||this.schema.hasOwnProperty("allOf")?delete this.valueFieldHTML:(this.valueFieldHTML=this.dom.tdValue.innerHTML,this.dom.tdValue.style.visibility="hidden",this.dom.tdValue.innerHTML="")}else this.dom.tdSelect&&(this.dom.tdSelect.parentNode.removeChild(this.dom.tdSelect),delete this.dom.tdSelect,delete this.dom.select,this.dom.tdValue.innerHTML=this.valueFieldHTML,this.dom.tdValue.style.visibility="",delete this.valueFieldHTML);e.stripFormatting(r)}},A.prototype._updateDomField=function(){var r=this.dom.field;r&&(""==String(this.field)&&"array"!=this.parent.type?e.addClassName(r,"jsoneditor-empty"):e.removeClassName(r,"jsoneditor-empty"),this.searchFieldActive?e.addClassName(r,"jsoneditor-highlight-active"):e.removeClassName(r,"jsoneditor-highlight-active"),this.searchField?e.addClassName(r,"jsoneditor-highlight"):e.removeClassName(r,"jsoneditor-highlight"),e.stripFormatting(r))},A.prototype._getDomField=function(r){if(this.dom.field&&this.fieldEditable&&(this.fieldInnerText=e.getInnerText(this.dom.field)),null!=this.fieldInnerText)try{var p=this._unescapeHTML(this.fieldInnerText);p!==this.field&&(this.field=p,this._debouncedOnChangeField())}catch(o){if(this.field=void 0,!0!==r)throw o}},A.prototype.validate=function(){var r=[];if("object"===this.type){for(var p={},o=[],u=0;u<this.childs.length;u++){var g=this.childs[u];p.hasOwnProperty(g.field)&&o.push(g.field),p[g.field]=!0}o.length>0&&(r=this.childs.filter(function(C){return-1!==o.indexOf(C.field)}).map(function(C){return{node:C,error:{message:t("duplicateKey")+' "'+C.field+'"'}}}))}if(this.childs)for(u=0;u<this.childs.length;u++){var y=this.childs[u].validate();y.length>0&&(r=r.concat(y))}return r},A.prototype.clearDom=function(){this.dom={}},A.prototype.getDom=function(){var r=this.dom;if(r.tr)return r.tr;if(this._updateEditability(),r.tr=document.createElement("tr"),r.tr.node=this,"tree"===this.editor.options.mode){var p=document.createElement("td");if(this.editable.field&&this.parent){var o=document.createElement("button");o.type="button",r.drag=o,o.className="jsoneditor-dragarea",o.title=t("drag"),p.appendChild(o)}r.tr.appendChild(p);var u=document.createElement("td"),g=document.createElement("button");g.type="button",r.menu=g,g.className="jsoneditor-contextmenu",g.title=t("actionsMenu"),u.appendChild(r.menu),r.tr.appendChild(u)}var y=document.createElement("td");return r.tr.appendChild(y),r.tree=this._createDomTree(),y.appendChild(r.tree),this.updateDom({updateIndexes:!0}),r.tr},A.prototype.isVisible=function(){return this.dom&&this.dom.tr&&this.dom.tr.parentNode||!1},A.onDragStart=function(r,p){if(!Array.isArray(r))return A.onDragStart([r],p);if(0!==r.length){var o=r[0],u=r[r.length-1],g=A.getNodeFromTarget(p.target),y=u.nextSibling(),C=o.editor,d=e.getAbsoluteTop(g.dom.tr)-e.getAbsoluteTop(o.dom.tr);C.mousemove||(C.mousemove=e.addEventListener(window,"mousemove",function(a){A.onDrag(r,a)})),C.mouseup||(C.mouseup=e.addEventListener(window,"mouseup",function(a){A.onDragEnd(r,a)})),C.highlighter.lock(),C.drag={oldCursor:document.body.style.cursor,oldSelection:C.getDomSelection(),oldBeforeNode:y,mouseX:p.pageX,offsetY:d,level:o.getLevel()},document.body.style.cursor="move",p.preventDefault()}},A.onDrag=function(r,p){if(!Array.isArray(r))return A.onDrag([r],p);if(0!==r.length){var o,u,g,y,C,d,a,w,E,F,_,B,R,P,x=r[0].editor,D=p.pageY-x.drag.offsetY,T=p.pageX,k=!1,L=r[0];if(E=e.getAbsoluteTop(o=L.dom.tr),B=o.offsetHeight,D<E){u=o;do{a=A.getNodeFromTarget(u=u.previousSibling),F=u?e.getAbsoluteTop(u):0}while(u&&D<F);a&&!a.parent&&(a=void 0),a||(a=A.getNodeFromTarget(u=(d=o.parentNode.firstChild)?d.nextSibling:void 0))==L&&(a=void 0),a&&a.isVisible()&&D>(F=(u=a.dom.tr)?e.getAbsoluteTop(u):0)+B&&(a=void 0),a&&(r.forEach(function(W){a.parent.moveBefore(W,a)}),k=!0)}else{var $=r[r.length-1];if(y=(C=$.expanded&&$.append?$.append.getDom():$.dom.tr)?C.nextSibling:void 0){_=e.getAbsoluteTop(y),g=y;do{w=A.getNodeFromTarget(g),g&&(R=g.nextSibling?e.getAbsoluteTop(g.nextSibling):0,P=g?R-_:0,w&&w.parent.childs.length==r.length&&w.parent.childs[r.length-1]==$&&(E+=27),g=g.nextSibling)}while(g&&D>E+P);if(w&&w.parent){var I=Math.round((T-x.drag.mouseX)/24/2),j=x.drag.level+I,z=w.getLevel();for(u=w.dom.tr&&w.dom.tr.previousSibling;z<j&&u;){if(a=A.getNodeFromTarget(u),!r.some(function(W){return W===a||a.isDescendantOf(W)})){if(!(a instanceof s))break;var N=a.parent.childs;if(N.length==r.length&&N[r.length-1]==$)break;z=(w=A.getNodeFromTarget(u)).getLevel()}u=u.previousSibling}w instanceof s&&!w.isVisible()&&w.parent.showMore.isVisible()&&(w=w._nextNode()),w&&w.dom.tr&&C.nextSibling!=w.dom.tr&&(r.forEach(function(W){w.parent.moveBefore(W,w)}),k=!0)}}}k&&(x.drag.mouseX=T,x.drag.level=L.getLevel()),x.startAutoScroll(D),p.preventDefault()}},A.onDragEnd=function(r,p){if(!Array.isArray(r))return A.onDrag([r],p);if(0!==r.length){var o=r[0],u=o.editor,g=o.parent,y=g.childs.indexOf(o),C=g.childs[y+r.length]||g.append;r[0]&&r[0].dom.menu.focus();var d={nodes:r,oldSelection:u.drag.oldSelection,newSelection:u.getDomSelection(),oldBeforeNode:u.drag.oldBeforeNode,newBeforeNode:C};d.oldBeforeNode!=d.newBeforeNode&&u._onAction("moveNodes",d),document.body.style.cursor=u.drag.oldCursor,u.highlighter.unlock(),r.forEach(function(a){p.target!==a.dom.drag&&p.target!==a.dom.menu&&u.highlighter.unhighlight()}),delete u.drag,u.mousemove&&(e.removeEventListener(window,"mousemove",u.mousemove),delete u.mousemove),u.mouseup&&(e.removeEventListener(window,"mouseup",u.mouseup),delete u.mouseup),u.stopAutoScroll(),p.preventDefault()}},A.prototype.isDescendantOf=function(r){for(var p=this.parent;p;){if(p==r)return!0;p=p.parent}return!1},A.prototype._createDomField=function(){return document.createElement("div")},A.prototype.setHighlight=function(r){this.dom.tr&&(r?e.addClassName(this.dom.tr,"jsoneditor-highlight"):e.removeClassName(this.dom.tr,"jsoneditor-highlight"),this.append&&this.append.setHighlight(r),this.childs&&this.childs.forEach(function(p){p.setHighlight(r)}))},A.prototype.setSelected=function(r,p){this.selected=r,this.dom.tr&&(r?e.addClassName(this.dom.tr,"jsoneditor-selected"):e.removeClassName(this.dom.tr,"jsoneditor-selected"),p?e.addClassName(this.dom.tr,"jsoneditor-first"):e.removeClassName(this.dom.tr,"jsoneditor-first"),this.append&&this.append.setSelected(r),this.showMore&&this.showMore.setSelected(r),this.childs&&this.childs.forEach(function(o){o.setSelected(r)}))},A.prototype.updateValue=function(r){this.value=r,this.updateDom()},A.prototype.updateField=function(r){this.field=r,this.updateDom()},A.prototype.updateDom=function(r){var p=this.dom.tree;p&&(p.style.marginLeft=24*this.getLevel()+"px");var u,o=this.dom.field;o&&(this.fieldEditable?(o.contentEditable=this.editable.field,o.spellcheck=!1,o.className="jsoneditor-field"):o.className="jsoneditor-readonly",u=null!=this.index?this.index:null!=this.field?this.field:this._hasChilds()?this.type:"",o.innerHTML=this._escapeHTML(u),this._updateSchema());var g=this.dom.value;if(g){var y=this.childs?this.childs.length:0;"array"==this.type?(g.innerHTML="["+y+"]",e.addClassName(this.dom.tr,"jsoneditor-expandable")):"object"==this.type?(g.innerHTML="{"+y+"}",e.addClassName(this.dom.tr,"jsoneditor-expandable")):(g.innerHTML=this._escapeHTML(this.value),e.removeClassName(this.dom.tr,"jsoneditor-expandable"))}this._updateDomField(),this._updateDomValue(),r&&!0===r.updateIndexes&&this._updateDomIndexes(),r&&!0===r.recurse&&this.childs&&this.childs.forEach(function(C){C.updateDom(r)}),this.error&&this.updateError(),this.append&&this.append.updateDom(),this.showMore&&this.showMore.updateDom()},A.prototype._updateSchema=function(){this.editor&&this.editor.options&&(this.schema=this.editor.options.schema?A._findSchema(this.editor.options.schema,this.getPath()):null,this.schema?this.enum=A._findEnum(this.schema):delete this.enum)},A._findEnum=function(r){if(r.enum)return r.enum;var p=r.oneOf||r.anyOf||r.allOf;if(p){var o=p.filter(function(u){return u.enum});if(o.length>0)return o[0].enum}return null},A._findSchema=function(r,p){var o=r,u=o,g=r.oneOf||r.anyOf||r.allOf;g||(g=[r]);for(var y=0;y<g.length;y++){o=g[y];for(var C=0;C<p.length&&o;C++){var d=p[C];if("string"==typeof d&&o.patternProperties&&C==p.length-1)for(var a in o.patternProperties)u=A._findSchema(o.patternProperties[a],p.slice(C,p.length));else o.items&&o.items.properties?(o=o.items.properties[d])&&(u=A._findSchema(o,p.slice(C,p.length))):"string"==typeof d&&o.properties?(o=o.properties[d]||null)&&(u=A._findSchema(o,p.slice(C,p.length))):"number"==typeof d&&o.items&&(o=o.items)&&(u=A._findSchema(o,p.slice(C,p.length)))}}return u},A.prototype._updateDomIndexes=function(){var p=this.childs;this.dom.value&&p&&("array"==this.type?p.forEach(function(o,u){o.index=u;var g=o.dom.field;g&&(g.innerHTML=u)}):"object"==this.type&&p.forEach(function(o){null!=o.index&&(delete o.index,null==o.field&&(o.field=""))}))},A.prototype._createDomValue=function(){var r;return"array"==this.type?(r=document.createElement("div")).innerHTML="[...]":"object"==this.type?(r=document.createElement("div")).innerHTML="{...}":!this.editable.value&&e.isUrl(this.value)?((r=document.createElement("a")).href=this.value,r.innerHTML=this._escapeHTML(this.value)):((r=document.createElement("div")).contentEditable=this.editable.value,r.spellcheck=!1,r.innerHTML=this._escapeHTML(this.value)),r},A.prototype._createDomExpandButton=function(){var r=document.createElement("button");return r.type="button",this._hasChilds()?(r.className=this.expanded?"jsoneditor-expanded":"jsoneditor-collapsed",r.title=t("expandTitle")):(r.className="jsoneditor-invisible",r.title=""),r},A.prototype._createDomTree=function(){var r=this.dom,p=document.createElement("table"),o=document.createElement("tbody");p.style.borderCollapse="collapse",p.className="jsoneditor-values",p.appendChild(o);var u=document.createElement("tr");o.appendChild(u);var g=document.createElement("td");g.className="jsoneditor-tree",u.appendChild(g),r.expand=this._createDomExpandButton(),g.appendChild(r.expand),r.tdExpand=g;var y=document.createElement("td");y.className="jsoneditor-tree",u.appendChild(y),r.field=this._createDomField(),y.appendChild(r.field),r.tdField=y;var C=document.createElement("td");C.className="jsoneditor-tree",u.appendChild(C),"object"!=this.type&&"array"!=this.type&&(C.appendChild(document.createTextNode(":")),C.className="jsoneditor-separator"),r.tdSeparator=C;var d=document.createElement("td");return d.className="jsoneditor-tree",u.appendChild(d),r.value=this._createDomValue(),d.appendChild(r.value),r.tdValue=d,p},A.prototype.onEvent=function(r){var p=r.type,o=r.target||r.srcElement,u=this.dom,g=this,y=this._hasChilds();if(o!=u.drag&&o!=u.menu||("mouseover"==p?this.editor.highlighter.highlight(this):"mouseout"==p&&this.editor.highlighter.unhighlight()),"click"==p&&o==u.menu){var C=g.editor.highlighter;C.highlight(g),C.lock(),e.addClassName(u.menu,"jsoneditor-selected"),this.showContextMenu(u.menu,function(){e.removeClassName(u.menu,"jsoneditor-selected"),C.unlock(),C.unhighlight()})}"click"!=p||o!=u.expand&&("view"!==g.editor.options.mode&&"form"!==g.editor.options.mode||"DIV"!==o.nodeName)||!y||this._onExpand(r.ctrlKey),"change"==p&&o==u.checkbox&&(this.dom.value.innerHTML=!this.value,this._getDomValue()),"change"==p&&o==u.select&&(this.dom.value.innerHTML=u.select.value,this._getDomValue(),this._updateDomValue());var a=u.value;if(o==a)switch(p){case"blur":case"change":this._getDomValue(!0),this._updateDomValue(),this.value&&(a.innerHTML=this._escapeHTML(this.value));break;case"input":case"keyup":this._getDomValue(!0),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"click":r.ctrlKey&&this.editable.value&&e.isUrl(this.value)&&(r.preventDefault(),window.open(this.value,"_blank"));break;case"cut":case"paste":setTimeout(function(){g._getDomValue(!0),g._updateDomValue()},1)}var w=u.field;if(o==w)switch(p){case"blur":case"change":this._getDomField(!0),this._updateDomField(),this.field&&(w.innerHTML=this._escapeHTML(this.field));break;case"input":this._getDomField(!0),this._updateSchema(),this._updateDomField(),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"keyup":this._getDomField(!0),this._updateDomField();break;case"cut":case"paste":setTimeout(function(){g._getDomField(!0),g._updateDomField()},1)}var E=u.tree;E&&o==E.parentNode&&"click"==p&&!r.hasMoved&&((null!=r.offsetX?r.offsetX<24*(this.getLevel()+1):r.pageX<e.getAbsoluteLeft(u.tdSeparator))||y?w&&(e.setEndOfContentEditable(w),w.focus()):a&&!this.enum&&(e.setEndOfContentEditable(a),a.focus())),(o!=u.tdExpand||y)&&o!=u.tdField&&o!=u.tdSeparator||"click"!=p||r.hasMoved||w&&(e.setEndOfContentEditable(w),w.focus()),"keydown"==p&&this.onKeyDown(r)},A.prototype.onKeyDown=function(r){var p,o,u,y,C,d,a,w=r.which||r.keyCode,E=r.target||r.srcElement,F=r.ctrlKey,_=r.shiftKey,B=r.altKey,R=!1,P="tree"===this.editor.options.mode,x=this.editor.multiselection.nodes.length>0?this.editor.multiselection.nodes:[this],D=x[0],T=x[x.length-1];if(13==w)E==this.dom.value?this.editable.value&&!r.ctrlKey||e.isUrl(this.value)&&(window.open(this.value,"_blank"),R=!0):E==this.dom.expand&&this._hasChilds()&&(this._onExpand(r.ctrlKey),E.focus(),R=!0);else if(68==w)F&&P&&(A.onDuplicate(x),R=!0);else if(69==w)F&&(this._onExpand(_),E.focus(),R=!0);else if(77==w&&P)F&&(this.showContextMenu(E),R=!0);else if(46==w&&P)F&&(A.onRemove(x),R=!0);else if(45==w&&P)F&&!_?(this._onInsertBefore(),R=!0):F&&_&&(this._onInsertAfter(),R=!0);else if(35==w){if(B){var $=this._lastNode();$&&$.focus(A.focusElement||this._getElementName(E)),R=!0}}else if(36==w){if(B){var O=this._firstNode();O&&O.focus(A.focusElement||this._getElementName(E)),R=!0}}else if(37==w){if(B&&!_){var I=this._previousElement(E);I&&this.focus(this._getElementName(I)),R=!0}else if(B&&_&&P){if(T.expanded){var j=T.getAppendDom();u=j?j.nextSibling:void 0}else{var z=T.getDom();u=z.nextSibling}u&&(o=A.getNodeFromTarget(u),G=A.getNodeFromTarget(u.nextSibling),o&&o instanceof s&&1!=T.parent.childs.length&&G&&G.parent&&(y=this.editor.getDomSelection(),C=T.nextSibling(),x.forEach(function(J){G.parent.moveBefore(J,G)}),this.focus(A.focusElement||this._getElementName(E)),this.editor._onAction("moveNodes",{nodes:x,oldBeforeNode:C,newBeforeNode:G,oldSelection:y,newSelection:this.editor.getDomSelection()})))}}else if(38==w)B&&!_?((p=this._previousNode())&&(this.editor.deselect(!0),p.focus(A.focusElement||this._getElementName(E))),R=!0):!B&&F&&_&&P?((p=this._previousNode())&&((a=this.editor.multiselection).start=a.start||this,a.end=p,d=this.editor._findTopLevelNodes(a.start,a.end),this.editor.select(d),p.focus("field")),R=!0):B&&_&&P&&((p=D._previousNode())&&p.parent&&(y=this.editor.getDomSelection(),C=T.nextSibling(),x.forEach(function(J){p.parent.moveBefore(J,p)}),this.focus(A.focusElement||this._getElementName(E)),this.editor._onAction("moveNodes",{nodes:x,oldBeforeNode:C,newBeforeNode:p,oldSelection:y,newSelection:this.editor.getDomSelection()})),R=!0);else if(39==w){if(B&&!_){var N=this._nextElement(E);N&&this.focus(this._getElementName(N)),R=!0}else if(B&&_&&P){var W=(z=D.getDom()).previousSibling;W&&(p=A.getNodeFromTarget(W))&&p.parent&&!p.isVisible()&&(y=this.editor.getDomSelection(),C=T.nextSibling(),x.forEach(function(J){p.parent.moveBefore(J,p)}),this.focus(A.focusElement||this._getElementName(E)),this.editor._onAction("moveNodes",{nodes:x,oldBeforeNode:C,newBeforeNode:p,oldSelection:y,newSelection:this.editor.getDomSelection()}))}}else if(40==w)if(B&&!_)(o=this._nextNode())&&(this.editor.deselect(!0),o.focus(A.focusElement||this._getElementName(E))),R=!0;else if(!B&&F&&_&&P)(o=this._nextNode())&&((a=this.editor.multiselection).start=a.start||this,a.end=o,d=this.editor._findTopLevelNodes(a.start,a.end),this.editor.select(d),o.focus("field")),R=!0;else if(B&&_&&P){(o=T.expanded?T.append?T.append._nextNode():void 0:T._nextNode())&&!o.isVisible()&&(o=o.parent.showMore),o&&o instanceof s&&(o=T);var G=o&&(o._nextNode()||o.parent.append);G&&G.parent&&(y=this.editor.getDomSelection(),C=T.nextSibling(),x.forEach(function(J){G.parent.moveBefore(J,G)}),this.focus(A.focusElement||this._getElementName(E)),this.editor._onAction("moveNodes",{nodes:x,oldBeforeNode:C,newBeforeNode:G,oldSelection:y,newSelection:this.editor.getDomSelection()})),R=!0}R&&(r.preventDefault(),r.stopPropagation())},A.prototype._onExpand=function(r){if(r){var p=this.dom.tr.parentNode,o=p.parentNode,u=o.scrollTop;o.removeChild(p)}this.expanded?this.collapse(r):this.expand(r),r&&(o.appendChild(p),o.scrollTop=u)},A.onRemove=function(r){if(!Array.isArray(r))return A.onRemove([r]);if(r&&r.length>0){var p=r[0],o=p.parent,u=p.editor,g=p.getIndex();u.highlighter.unhighlight();var y=u.getDomSelection();A.blurNodes(r);var C=u.getDomSelection();r.forEach(function(d){d.parent._remove(d)}),u._onAction("removeNodes",{nodes:r.slice(0),parent:o,index:g,oldSelection:y,newSelection:C})}},A.onDuplicate=function(r){if(!Array.isArray(r))return A.onDuplicate([r]);if(r&&r.length>0){var p=r[r.length-1],o=p.parent,u=p.editor;u.deselect(u.multiselection.nodes);var g=u.getDomSelection(),y=p,C=r.map(function(a){var w=a.clone();return o.insertAfter(w,y),y=w,w});1===r.length?C[0].focus():u.select(C);var d=u.getDomSelection();u._onAction("duplicateNodes",{afterNode:p,nodes:C,parent:o,oldSelection:g,newSelection:d})}},A.prototype._onInsertBefore=function(r,p,o){var u=this.editor.getDomSelection(),g=new A(this.editor,{field:null!=r?r:"",value:null!=p?p:"",type:o});g.expand(!0),this.parent.insertBefore(g,this),this.editor.highlighter.unhighlight(),g.focus("field");var y=this.editor.getDomSelection();this.editor._onAction("insertBeforeNodes",{nodes:[g],beforeNode:this,parent:this.parent,oldSelection:u,newSelection:y})},A.prototype._onInsertAfter=function(r,p,o){var u=this.editor.getDomSelection(),g=new A(this.editor,{field:null!=r?r:"",value:null!=p?p:"",type:o});g.expand(!0),this.parent.insertAfter(g,this),this.editor.highlighter.unhighlight(),g.focus("field");var y=this.editor.getDomSelection();this.editor._onAction("insertAfterNodes",{nodes:[g],afterNode:this,parent:this.parent,oldSelection:u,newSelection:y})},A.prototype._onAppend=function(r,p,o){var u=this.editor.getDomSelection(),g=new A(this.editor,{field:null!=r?r:"",value:null!=p?p:"",type:o});g.expand(!0),this.parent.appendChild(g),this.editor.highlighter.unhighlight(),g.focus("field");var y=this.editor.getDomSelection();this.editor._onAction("appendNodes",{nodes:[g],parent:this.parent,oldSelection:u,newSelection:y})},A.prototype._onChangeType=function(r){var p=this.type;if(r!=p){var o=this.editor.getDomSelection();this.changeType(r);var u=this.editor.getDomSelection();this.editor._onAction("changeType",{node:this,oldType:p,newType:r,oldSelection:o,newSelection:u})}},A.prototype.sort=function(r,p){if(this._hasChilds()){this.hideChilds();var o=this.childs;this.childs=this.childs.concat();var u="desc"===p?-1:1;this.childs.sort("object"===this.type?function(g,y){return u*b(g.field,y.field)}:function(g,y){var C=g.getNestedChild(r),d=y.getNestedChild(r);if(!C)return u;if(!d)return-u;var a=C.value,w=d.value;return"string"!=typeof a&&"string"!=typeof w?a>w?u:a<w?-u:0:u*b(a,w)}),this._updateDomIndexes(),this.editor._onAction("sort",{node:this,oldChilds:o,newChilds:this.childs}),this.showChilds()}},A.prototype.transform=function(r){if(this._hasChilds()){this.hideChilds();var p=this.type,o=this.childs;this.childs=this.childs.concat();try{var u=this.getValue(),g=S.search(u,r);this.setValue(g),this.editor._onAction("transform",{node:this,oldType:p,newType:this.type,oldValue:u,newValue:g,oldChilds:o,newChilds:this.childs}),this.showChilds()}catch(y){this.showChilds(),this.editor._onError(y)}}},A.prototype.getNestedChild=function(r){for(var p=0,o=this;o&&p<r.length;)o=o.findChildByProperty(r[p]),p++;return o},A.prototype.findChildByProperty=function(r){if("object"===this.type)return this.childs.find(function(p){return p.field===r})},A.prototype.getChildPaths=function(r){var p={};return this._getChildPaths(p,"",r),"array"===this.type&&this.childs.forEach(function(o){o._getChildPaths(p,"",r)}),Object.keys(p).sort()},A.prototype._getChildPaths=function(r,p,o){("auto"===this.type||"string"===this.type||o)&&(r[p||"."]=!0),"object"===this.type&&this.childs.forEach(function(u){u._getChildPaths(r,p+"."+u.field,o)})},A.prototype.getAppendDom=function(){return this.append||(this.append=new s(this.editor),this.append.setParent(this)),this.append.getDom()},A.prototype.getShowMoreDom=function(){return this.showMore||(this.showMore=new c(this.editor,this)),this.showMore.getDom()},A.getNodeFromTarget=function(r){for(;r;){if(r.node)return r.node;r=r.parentNode}},A.blurNodes=function(r){if(Array.isArray(r)){var p=r[0],o=p.parent,u=p.getIndex();o.childs[u+r.length]?o.childs[u+r.length].focus():o.childs[u-1]?o.childs[u-1].focus():o.focus()}else A.blurNodes([r])},A.prototype.nextSibling=function(){var r=this.parent.childs.indexOf(this);return this.parent.childs[r+1]||this.parent.append},A.prototype._previousNode=function(){var r=null,p=this.getDom();if(p&&p.parentNode){var o=p;do{r=A.getNodeFromTarget(o=o.previousSibling)}while(o&&r&&r instanceof s&&!r.isVisible())}return r},A.prototype._nextNode=function(){var r=null,p=this.getDom();if(p&&p.parentNode){var o=p;do{r=A.getNodeFromTarget(o=o.nextSibling)}while(o&&r&&r instanceof s&&!r.isVisible())}return r},A.prototype._firstNode=function(){var r=null,p=this.getDom();return p&&p.parentNode&&(r=A.getNodeFromTarget(p.parentNode.firstChild)),r},A.prototype._lastNode=function(){var r=null,p=this.getDom();if(p&&p.parentNode){var o=p.parentNode.lastChild;for(r=A.getNodeFromTarget(o);o&&r&&!r.isVisible();)r=A.getNodeFromTarget(o=o.previousSibling)}return r},A.prototype._previousElement=function(r){var p=this.dom;switch(r){case p.value:if(this.fieldEditable)return p.field;case p.field:if(this._hasChilds())return p.expand;case p.expand:return p.menu;case p.menu:if(p.drag)return p.drag;default:return null}},A.prototype._nextElement=function(r){var p=this.dom;switch(r){case p.drag:return p.menu;case p.menu:if(this._hasChilds())return p.expand;case p.expand:if(this.fieldEditable)return p.field;case p.field:if(!this._hasChilds())return p.value;default:return null}},A.prototype._getElementName=function(r){var p=this.dom;for(var o in p)if(p.hasOwnProperty(o)&&p[o]==r)return o;return null},A.prototype._hasChilds=function(){return"array"==this.type||"object"==this.type},A.TYPE_TITLES={auto:t("autoType"),object:t("objectType"),array:t("arrayType"),string:t("stringType")},A.prototype.addTemplates=function(r,p){var o=this,u=o.editor.options.templates;if(null!=u){u.length&&r.push({type:"separator"});var g=function(C,d){o._onAppend(C,d)},y=function(C,d){o._onInsertBefore(C,d)};u.forEach(function(C){r.push({text:C.text,className:C.className||"jsoneditor-type-object",title:C.title,click:p?g.bind(this,C.field,C.value):y.bind(this,C.field,C.value)})})}},A.prototype.showContextMenu=function(r,p){var o=this,u=A.TYPE_TITLES,g=[];if(this.editable.value&&g.push({text:t("type"),title:t("typeTitle"),className:"jsoneditor-type-"+this.type,submenu:[{text:t("auto"),className:"jsoneditor-type-auto"+("auto"==this.type?" jsoneditor-selected":""),title:u.auto,click:function(){o._onChangeType("auto")}},{text:t("array"),className:"jsoneditor-type-array"+("array"==this.type?" jsoneditor-selected":""),title:u.array,click:function(){o._onChangeType("array")}},{text:t("object"),className:"jsoneditor-type-object"+("object"==this.type?" jsoneditor-selected":""),title:u.object,click:function(){o._onChangeType("object")}},{text:t("string"),className:"jsoneditor-type-string"+("string"==this.type?" jsoneditor-selected":""),title:u.string,click:function(){o._onChangeType("string")}}]}),this._hasChilds()&&(g.push({text:t("sort"),title:t("sortTitle",{type:this.type}),className:"jsoneditor-sort-asc",click:function(){f(o,o.editor.options.modalAnchor||i)}}),g.push({text:t("transform"),title:t("transformTitle",{type:this.type}),className:"jsoneditor-transform",click:function(){n(o,o.editor.options.modalAnchor||i)}})),this.parent&&this.parent._hasChilds()){g.length&&g.push({type:"separator"});var y=o.parent.childs;if(o==y[y.length-1]){var C=[{text:t("auto"),className:"jsoneditor-type-auto",title:u.auto,click:function(){o._onAppend("","","auto")}},{text:t("array"),className:"jsoneditor-type-array",title:u.array,click:function(){o._onAppend("",[])}},{text:t("object"),className:"jsoneditor-type-object",title:u.object,click:function(){o._onAppend("",{})}},{text:t("string"),className:"jsoneditor-type-string",title:u.string,click:function(){o._onAppend("","","string")}}];o.addTemplates(C,!0),g.push({text:t("appendText"),title:t("appendTitle"),submenuTitle:t("appendSubmenuTitle"),className:"jsoneditor-append",click:function(){o._onAppend("","","auto")},submenu:C})}var d=[{text:t("auto"),className:"jsoneditor-type-auto",title:u.auto,click:function(){o._onInsertBefore("","","auto")}},{text:t("array"),className:"jsoneditor-type-array",title:u.array,click:function(){o._onInsertBefore("",[])}},{text:t("object"),className:"jsoneditor-type-object",title:u.object,click:function(){o._onInsertBefore("",{})}},{text:t("string"),className:"jsoneditor-type-string",title:u.string,click:function(){o._onInsertBefore("","","string")}}];o.addTemplates(d,!1),g.push({text:t("insert"),title:t("insertTitle"),submenuTitle:t("insertSub"),className:"jsoneditor-insert",click:function(){o._onInsertBefore("","","auto")},submenu:d}),this.editable.field&&(g.push({text:t("duplicateText"),title:t("duplicateField"),className:"jsoneditor-duplicate",click:function(){A.onDuplicate(o)}}),g.push({text:t("removeText"),title:t("removeField"),className:"jsoneditor-remove",click:function(){A.onRemove(o)}}))}new l(g,{close:p}).show(r,this.editor.content)},A.prototype._getType=function(r){return r instanceof Array?"array":r instanceof Object?"object":"string"==typeof r&&"string"!=typeof this._stringCast(r)?"string":"auto"},A.prototype._stringCast=function(r){var p=r.toLowerCase(),o=Number(r),u=parseFloat(r);return""==r?"":"null"==p?null:"true"==p||"false"!=p&&(isNaN(o)||isNaN(u)?r:o)},A.prototype._escapeHTML=function(r){if("string"!=typeof r)return String(r);var p=String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/  /g," &nbsp;").replace(/^ /,"&nbsp;").replace(/ $/,"&nbsp;"),o=JSON.stringify(p),u=o.substring(1,o.length-1);return!0===this.editor.options.escapeUnicode&&(u=e.escapeUnicodeChars(u)),u},A.prototype._unescapeHTML=function(r){var p='"'+this._escapeJSON(r)+'"';return e.parse(p).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;|\u00A0/g," ").replace(/&amp;/g,"&")},A.prototype._escapeJSON=function(r){for(var p="",o=0;o<r.length;){var u=r.charAt(o);"\n"==u?p+="\\n":"\\"==u?(p+=u,o++,""!==(u=r.charAt(o))&&-1!='"\\/bfnrtu'.indexOf(u)||(p+="\\"),p+=u):p+='"'==u?'\\"':u,o++}return p};var s=v(A),c=h(A);U.exports=A},function(U,K,m){!function(A){"use strict";function S(x){return null!==x&&"[object Array]"===Object.prototype.toString.call(x)}function b(x){return null!==x&&"[object Object]"===Object.prototype.toString.call(x)}function l(x,D){if(x===D)return!0;if(Object.prototype.toString.call(x)!==Object.prototype.toString.call(D))return!1;if(!0===S(x)){if(x.length!==D.length)return!1;for(var T=0;T<x.length;T++)if(!1===l(x[T],D[T]))return!1;return!0}if(!0===b(x)){var k={};for(var L in x)if(hasOwnProperty.call(x,L)){if(!1===l(x[L],D[L]))return!1;k[L]=!0}for(var $ in D)if(hasOwnProperty.call(D,$)&&!0!==k[$])return!1;return!0}return!1}function v(x){if(""===x||!1===x||null===x||S(x)&&0===x.length)return!0;if(b(x)){for(var D in x)if(x.hasOwnProperty(D))return!1;return!0}return!1}function f(x){return x>="a"&&x<="z"||x>="A"&&x<="Z"||"_"===x}function n(x){return x>="0"&&x<="9"||"-"===x}function e(x){return x>="a"&&x<="z"||x>="A"&&x<="Z"||x>="0"&&x<="9"||"_"===x}function t(){}function i(){}function s(x){this.runtime=x}function c(x){this._interpreter=x,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[g]}]},avg:{_func:this._functionAvg,_signature:[{types:[E]}]},ceil:{_func:this._functionCeil,_signature:[{types:[g]}]},contains:{_func:this._functionContains,_signature:[{types:[C,d]},{types:[y]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[C]},{types:[C]}]},floor:{_func:this._functionFloor,_signature:[{types:[g]}]},length:{_func:this._functionLength,_signature:[{types:[C,d,a]}]},map:{_func:this._functionMap,_signature:[{types:[w]},{types:[d]}]},max:{_func:this._functionMax,_signature:[{types:[E,F]}]},merge:{_func:this._functionMerge,_signature:[{types:[a],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[d]},{types:[w]}]},sum:{_func:this._functionSum,_signature:[{types:[E]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[C]},{types:[C]}]},min:{_func:this._functionMin,_signature:[{types:[E,F]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[d]},{types:[w]}]},type:{_func:this._functionType,_signature:[{types:[y]}]},keys:{_func:this._functionKeys,_signature:[{types:[a]}]},values:{_func:this._functionValues,_signature:[{types:[a]}]},sort:{_func:this._functionSort,_signature:[{types:[F,E]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[d]},{types:[w]}]},join:{_func:this._functionJoin,_signature:[{types:[C]},{types:[F]}]},reverse:{_func:this._functionReverse,_signature:[{types:[C,d]}]},to_array:{_func:this._functionToArray,_signature:[{types:[y]}]},to_string:{_func:this._functionToString,_signature:[{types:[y]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[y]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[y],variadic:!0}]}}}var u;u="function"==typeof String.prototype.trimLeft?function(x){return x.trimLeft()}:function(x){return x.match(/^\s*(.*)/)[1]};var g=0,y=1,C=2,d=3,a=4,w=6,E=8,F=9,_={".":"Dot","*":"Star",",":"Comma",":":"Colon","{":"Lbrace","}":"Rbrace","]":"Rbracket","(":"Lparen",")":"Rparen","@":"Current"},B={"<":!0,">":!0,"=":!0,"!":!0},R={" ":!0,"\t":!0,"\n":!0};t.prototype={tokenize:function(x){var T,k,L,D=[];for(this._current=0;this._current<x.length;)if(f(x[this._current]))T=this._current,k=this._consumeUnquotedIdentifier(x),D.push({type:"UnquotedIdentifier",value:k,start:T});else if(void 0!==_[x[this._current]])D.push({type:_[x[this._current]],value:x[this._current],start:this._current}),this._current++;else if(n(x[this._current]))L=this._consumeNumber(x),D.push(L);else if("["===x[this._current])L=this._consumeLBracket(x),D.push(L);else if('"'===x[this._current])T=this._current,k=this._consumeQuotedIdentifier(x),D.push({type:"QuotedIdentifier",value:k,start:T});else if("'"===x[this._current])T=this._current,k=this._consumeRawStringLiteral(x),D.push({type:"Literal",value:k,start:T});else if("`"===x[this._current]){T=this._current;var $=this._consumeLiteral(x);D.push({type:"Literal",value:$,start:T})}else if(void 0!==B[x[this._current]])D.push(this._consumeOperator(x));else if(void 0!==R[x[this._current]])this._current++;else if("&"===x[this._current])T=this._current,this._current++,"&"===x[this._current]?(this._current++,D.push({type:"And",value:"&&",start:T})):D.push({type:"Expref",value:"&",start:T});else{if("|"!==x[this._current]){var O=new Error("Unknown character:"+x[this._current]);throw O.name="LexerError",O}T=this._current,this._current++,"|"===x[this._current]?(this._current++,D.push({type:"Or",value:"||",start:T})):D.push({type:"Pipe",value:"|",start:T})}return D},_consumeUnquotedIdentifier:function(x){var D=this._current;for(this._current++;this._current<x.length&&e(x[this._current]);)this._current++;return x.slice(D,this._current)},_consumeQuotedIdentifier:function(x){var D=this._current;this._current++;for(var T=x.length;'"'!==x[this._current]&&this._current<T;){var k=this._current;"\\"!==x[k]||"\\"!==x[k+1]&&'"'!==x[k+1]?k++:k+=2,this._current=k}return this._current++,JSON.parse(x.slice(D,this._current))},_consumeRawStringLiteral:function(x){var D=this._current;this._current++;for(var T=x.length;"'"!==x[this._current]&&this._current<T;){var k=this._current;"\\"!==x[k]||"\\"!==x[k+1]&&"'"!==x[k+1]?k++:k+=2,this._current=k}return this._current++,x.slice(D+1,this._current-1).replace("\\'","'")},_consumeNumber:function(x){var D=this._current;this._current++;for(var T=x.length;n(x[this._current])&&this._current<T;)this._current++;return{type:"Number",value:parseInt(x.slice(D,this._current)),start:D}},_consumeLBracket:function(x){var D=this._current;return this._current++,"?"===x[this._current]?(this._current++,{type:"Filter",value:"[?",start:D}):"]"===x[this._current]?(this._current++,{type:"Flatten",value:"[]",start:D}):{type:"Lbracket",value:"[",start:D}},_consumeOperator:function(x){var D=this._current,T=x[D];return this._current++,"!"===T?"="===x[this._current]?(this._current++,{type:"NE",value:"!=",start:D}):{type:"Not",value:"!",start:D}:"<"===T?"="===x[this._current]?(this._current++,{type:"LTE",value:"<=",start:D}):{type:"LT",value:"<",start:D}:">"===T?"="===x[this._current]?(this._current++,{type:"GTE",value:">=",start:D}):{type:"GT",value:">",start:D}:"="===T&&"="===x[this._current]?(this._current++,{type:"EQ",value:"==",start:D}):void 0},_consumeLiteral:function(x){this._current++;for(var D,T=this._current,k=x.length;"`"!==x[this._current]&&this._current<k;){var L=this._current;"\\"!==x[L]||"\\"!==x[L+1]&&"`"!==x[L+1]?L++:L+=2,this._current=L}var $=u(x.slice(T,this._current));return $=$.replace("\\`","`"),D=this._looksLikeJSON($)?JSON.parse($):JSON.parse('"'+$+'"'),this._current++,D},_looksLikeJSON:function(x){if(""===x)return!1;if('[{"'.indexOf(x[0])>=0||["true","false","null"].indexOf(x)>=0)return!0;if(!("-0123456789".indexOf(x[0])>=0))return!1;try{return JSON.parse(x),!0}catch(L){return!1}}};var P={EOF:0,UnquotedIdentifier:0,QuotedIdentifier:0,Rbracket:0,Rparen:0,Comma:0,Rbrace:0,Number:0,Current:0,Expref:0,Pipe:1,Or:2,And:3,EQ:5,GT:5,LT:5,GTE:5,LTE:5,NE:5,Flatten:9,Star:20,Filter:21,Dot:40,Not:45,Lbrace:50,Lbracket:55,Lparen:60};i.prototype={parse:function(x){this._loadTokens(x),this.index=0;var D=this.expression(0);if("EOF"!==this._lookahead(0)){var T=this._lookaheadToken(0),k=new Error("Unexpected token type: "+T.type+", value: "+T.value);throw k.name="ParserError",k}return D},_loadTokens:function(x){var T=(new t).tokenize(x);T.push({type:"EOF",value:"",start:x.length}),this.tokens=T},expression:function(x){var D=this._lookaheadToken(0);this._advance();for(var T=this.nud(D),k=this._lookahead(0);x<P[k];)this._advance(),T=this.led(k,T),k=this._lookahead(0);return T},_lookahead:function(x){return this.tokens[this.index+x].type},_lookaheadToken:function(x){return this.tokens[this.index+x]},_advance:function(){this.index++},nud:function(x){var T,k;switch(x.type){case"Literal":return{type:"Literal",value:x.value};case"UnquotedIdentifier":return{type:"Field",name:x.value};case"QuotedIdentifier":var L={type:"Field",name:x.value};if("Lparen"===this._lookahead(0))throw new Error("Quoted identifier not allowed for function names.");return L;case"Not":return{type:"NotExpression",children:[T=this.expression(P.Not)]};case"Star":return T=null,{type:"ValueProjection",children:[{type:"Identity"},T="Rbracket"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(P.Star)]};case"Filter":return this.led(x.type,{type:"Identity"});case"Lbrace":return this._parseMultiselectHash();case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[{type:"Identity"}]},T=this._parseProjectionRHS(P.Flatten)]};case"Lbracket":return"Number"===this._lookahead(0)||"Colon"===this._lookahead(0)?(T=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},T)):"Star"===this._lookahead(0)&&"Rbracket"===this._lookahead(1)?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},T=this._parseProjectionRHS(P.Star)]}):this._parseMultiselectList();case"Current":return{type:"Current"};case"Expref":return{type:"ExpressionReference",children:[k=this.expression(P.Expref)]};case"Lparen":for(var $=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(k={type:"Current"},this._advance()):k=this.expression(0),$.push(k);return this._match("Rparen"),$[0];default:this._errorToken(x)}},led:function(x,D){var T;switch(x){case"Dot":var k=P.Dot;return"Star"!==this._lookahead(0)?{type:"Subexpression",children:[D,T=this._parseDotRHS(k)]}:(this._advance(),{type:"ValueProjection",children:[D,T=this._parseProjectionRHS(k)]});case"Pipe":return{type:"Pipe",children:[D,T=this.expression(P.Pipe)]};case"Or":return{type:"OrExpression",children:[D,T=this.expression(P.Or)]};case"And":return{type:"AndExpression",children:[D,T=this.expression(P.And)]};case"Lparen":for(var L,$=D.name,O=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(L={type:"Current"},this._advance()):L=this.expression(0),"Comma"===this._lookahead(0)&&this._match("Comma"),O.push(L);return this._match("Rparen"),{type:"Function",name:$,children:O};case"Filter":var I=this.expression(0);return this._match("Rbracket"),{type:"FilterProjection",children:[D,T="Flatten"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(P.Filter),I]};case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[D]},this._parseProjectionRHS(P.Flatten)]};case"EQ":case"NE":case"GT":case"GTE":case"LT":case"LTE":return this._parseComparator(D,x);case"Lbracket":var j=this._lookaheadToken(0);return"Number"===j.type||"Colon"===j.type?(T=this._parseIndexExpression(),this._projectIfSlice(D,T)):(this._match("Star"),this._match("Rbracket"),{type:"Projection",children:[D,T=this._parseProjectionRHS(P.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(x){if(this._lookahead(0)!==x){var D=this._lookaheadToken(0),T=new Error("Expected "+x+", got: "+D.type);throw T.name="ParserError",T}this._advance()},_errorToken:function(x){var D=new Error("Invalid token ("+x.type+'): "'+x.value+'"');throw D.name="ParserError",D},_parseIndexExpression:function(){if("Colon"===this._lookahead(0)||"Colon"===this._lookahead(1))return this._parseSliceExpression();var x={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match("Rbracket"),x},_projectIfSlice:function(x,D){var T={type:"IndexExpression",children:[x,D]};return"Slice"===D.type?{type:"Projection",children:[T,this._parseProjectionRHS(P.Star)]}:T},_parseSliceExpression:function(){for(var x=[null,null,null],D=0,T=this._lookahead(0);"Rbracket"!==T&&D<3;){if("Colon"===T)D++,this._advance();else{if("Number"!==T){var k=this._lookahead(0),L=new Error("Syntax error, unexpected token: "+k.value+"("+k.type+")");throw L.name="Parsererror",L}x[D]=this._lookaheadToken(0).value,this._advance()}T=this._lookahead(0)}return this._match("Rbracket"),{type:"Slice",children:x}},_parseComparator:function(x,D){return{type:"Comparator",name:D,children:[x,this.expression(P[D])]}},_parseDotRHS:function(x){var D=this._lookahead(0);return["UnquotedIdentifier","QuotedIdentifier","Star"].indexOf(D)>=0?this.expression(x):"Lbracket"===D?(this._match("Lbracket"),this._parseMultiselectList()):"Lbrace"===D?(this._match("Lbrace"),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(x){var D;if(P[this._lookahead(0)]<10)D={type:"Identity"};else if("Lbracket"===this._lookahead(0))D=this.expression(x);else if("Filter"===this._lookahead(0))D=this.expression(x);else{if("Dot"!==this._lookahead(0)){var T=this._lookaheadToken(0),k=new Error("Sytanx error, unexpected token: "+T.value+"("+T.type+")");throw k.name="ParserError",k}this._match("Dot"),D=this._parseDotRHS(x)}return D},_parseMultiselectList:function(){for(var x=[];"Rbracket"!==this._lookahead(0);){var D=this.expression(0);if(x.push(D),"Comma"===this._lookahead(0)&&(this._match("Comma"),"Rbracket"===this._lookahead(0)))throw new Error("Unexpected token Rbracket")}return this._match("Rbracket"),{type:"MultiSelectList",children:x}},_parseMultiselectHash:function(){for(var x,D,T,L=[],$=["UnquotedIdentifier","QuotedIdentifier"];;){if(x=this._lookaheadToken(0),$.indexOf(x.type)<0)throw new Error("Expecting an identifier token, got: "+x.type);if(D=x.value,this._advance(),this._match("Colon"),T=this.expression(0),L.push({type:"KeyValuePair",name:D,value:T}),"Comma"===this._lookahead(0))this._match("Comma");else if("Rbrace"===this._lookahead(0)){this._match("Rbrace");break}}return{type:"MultiSelectHash",children:L}}},s.prototype={search:function(x,D){return this.visit(x,D)},visit:function(x,D){var T,k,L,$,O,I,j,z,N;switch(x.type){case"Field":return null===D?null:b(D)?void 0===(I=D[x.name])?null:I:null;case"Subexpression":for(L=this.visit(x.children[0],D),N=1;N<x.children.length;N++)if(null===(L=this.visit(x.children[1],L)))return null;return L;case"IndexExpression":case"Pipe":return j=this.visit(x.children[0],D),this.visit(x.children[1],j);case"Index":if(!S(D))return null;var W=x.value;return W<0&&(W=D.length+W),void 0===(L=D[W])&&(L=null),L;case"Slice":if(!S(D))return null;var G=x.children.slice(0),J=this.computeSliceParams(D.length,G),M=J[0],H=J[1],q=J[2];if(L=[],q>0)for(N=M;N<H;N+=q)L.push(D[N]);else for(N=M;N>H;N+=q)L.push(D[N]);return L;case"Projection":var Y=this.visit(x.children[0],D);if(!S(Y))return null;for(z=[],N=0;N<Y.length;N++)null!==(k=this.visit(x.children[1],Y[N]))&&z.push(k);return z;case"ValueProjection":if(!b(Y=this.visit(x.children[0],D)))return null;z=[];var Q=function(x){for(var D=Object.keys(x),T=[],k=0;k<D.length;k++)T.push(x[D[k]]);return T}(Y);for(N=0;N<Q.length;N++)null!==(k=this.visit(x.children[1],Q[N]))&&z.push(k);return z;case"FilterProjection":if(!S(Y=this.visit(x.children[0],D)))return null;var V=[],X=[];for(N=0;N<Y.length;N++)v(T=this.visit(x.children[2],Y[N]))||V.push(Y[N]);for(var Z=0;Z<V.length;Z++)null!==(k=this.visit(x.children[1],V[Z]))&&X.push(k);return X;case"Comparator":switch($=this.visit(x.children[0],D),O=this.visit(x.children[1],D),x.name){case"EQ":L=l($,O);break;case"NE":L=!l($,O);break;case"GT":L=$>O;break;case"GTE":L=$>=O;break;case"LT":L=$<O;break;case"LTE":L=$<=O;break;default:throw new Error("Unknown comparator: "+x.name)}return L;case"Flatten":var tt=this.visit(x.children[0],D);if(!S(tt))return null;var it=[];for(N=0;N<tt.length;N++)S(k=tt[N])?it.push.apply(it,k):it.push(k);return it;case"Identity":case"Current":return D;case"MultiSelectList":if(null===D)return null;for(z=[],N=0;N<x.children.length;N++)z.push(this.visit(x.children[N],D));return z;case"MultiSelectHash":if(null===D)return null;var et;for(z={},N=0;N<x.children.length;N++)z[(et=x.children[N]).name]=this.visit(et.value,D);return z;case"OrExpression":return v(T=this.visit(x.children[0],D))&&(T=this.visit(x.children[1],D)),T;case"AndExpression":return!0===v($=this.visit(x.children[0],D))?$:this.visit(x.children[1],D);case"NotExpression":return v($=this.visit(x.children[0],D));case"Literal":return x.value;case"Function":var nt=[];for(N=0;N<x.children.length;N++)nt.push(this.visit(x.children[N],D));return this.runtime.callFunction(x.name,nt);case"ExpressionReference":var rt=x.children[0];return rt.jmespathType="Expref",rt;default:throw new Error("Unknown node type: "+x.type)}},computeSliceParams:function(x,D){var T=D[0],k=D[1],L=D[2],$=[null,null,null];if(null===L)L=1;else if(0===L){var O=new Error("Invalid slice, step cannot be 0");throw O.name="RuntimeError",O}var I=L<0;return T=null===T?I?x-1:0:this.capSliceRange(x,T,L),k=null===k?I?-1:x:this.capSliceRange(x,k,L),$[0]=T,$[1]=k,$[2]=L,$},capSliceRange:function(x,D,T){return D<0?(D+=x)<0&&(D=T<0?-1:0):D>=x&&(D=T<0?x-1:x),D}},c.prototype={callFunction:function(x,D){var T=this.functionTable[x];if(void 0===T)throw new Error("Unknown function: "+x+"()");return this._validateArgs(x,D,T._signature),T._func.call(this,D)},_validateArgs:function(x,D,T){var k;if(T[T.length-1].variadic){if(D.length<T.length)throw k=1===T.length?" argument":" arguments",new Error("ArgumentError: "+x+"() takes at least"+T.length+k+" but received "+D.length)}else if(D.length!==T.length)throw k=1===T.length?" argument":" arguments",new Error("ArgumentError: "+x+"() takes "+T.length+k+" but received "+D.length);for(var L,$,O,I=0;I<T.length;I++){O=!1,L=T[I].types,$=this._getTypeName(D[I]);for(var j=0;j<L.length;j++)if(this._typeMatches($,L[j],D[I])){O=!0;break}if(!O)throw new Error("TypeError: "+x+"() expected argument "+(I+1)+" to be type "+L+" but received type "+$+" instead.")}},_typeMatches:function(x,D,T){if(D===y)return!0;if(D!==F&&D!==E&&D!==d)return x===D;if(D===d)return x===d;if(x===d){var k;D===E?k=g:D===F&&(k=C);for(var L=0;L<T.length;L++)if(!this._typeMatches(this._getTypeName(T[L]),k,T[L]))return!1;return!0}},_getTypeName:function(x){switch(Object.prototype.toString.call(x)){case"[object String]":return C;case"[object Number]":return g;case"[object Array]":return d;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return"Expref"===x.jmespathType?w:a}},_functionStartsWith:function(x){return 0===x[0].lastIndexOf(x[1])},_functionEndsWith:function(x){var D=x[0],T=x[1];return-1!==D.indexOf(T,D.length-T.length)},_functionReverse:function(x){if(this._getTypeName(x[0])===C){for(var D=x[0],T="",k=D.length-1;k>=0;k--)T+=D[k];return T}var L=x[0].slice(0);return L.reverse(),L},_functionAbs:function(x){return Math.abs(x[0])},_functionCeil:function(x){return Math.ceil(x[0])},_functionAvg:function(x){for(var D=0,T=x[0],k=0;k<T.length;k++)D+=T[k];return D/T.length},_functionContains:function(x){return x[0].indexOf(x[1])>=0},_functionFloor:function(x){return Math.floor(x[0])},_functionLength:function(x){return b(x[0])?Object.keys(x[0]).length:x[0].length},_functionMap:function(x){for(var D=[],T=this._interpreter,k=x[0],L=x[1],$=0;$<L.length;$++)D.push(T.visit(k,L[$]));return D},_functionMerge:function(x){for(var D={},T=0;T<x.length;T++){var k=x[T];for(var L in k)D[L]=k[L]}return D},_functionMax:function(x){if(x[0].length>0){if(this._getTypeName(x[0][0])===g)return Math.max.apply(Math,x[0]);for(var D=x[0],T=D[0],k=1;k<D.length;k++)T.localeCompare(D[k])<0&&(T=D[k]);return T}return null},_functionMin:function(x){if(x[0].length>0){if(this._getTypeName(x[0][0])===g)return Math.min.apply(Math,x[0]);for(var D=x[0],T=D[0],k=1;k<D.length;k++)D[k].localeCompare(T)<0&&(T=D[k]);return T}return null},_functionSum:function(x){for(var D=0,T=x[0],k=0;k<T.length;k++)D+=T[k];return D},_functionType:function(x){switch(this._getTypeName(x[0])){case g:return"number";case C:return"string";case d:return"array";case a:return"object";case 5:return"boolean";case w:return"expref";case 7:return"null"}},_functionKeys:function(x){return Object.keys(x[0])},_functionValues:function(x){for(var D=x[0],T=Object.keys(D),k=[],L=0;L<T.length;L++)k.push(D[T[L]]);return k},_functionJoin:function(x){return x[1].join(x[0])},_functionToArray:function(x){return this._getTypeName(x[0])===d?x[0]:[x[0]]},_functionToString:function(x){return this._getTypeName(x[0])===C?x[0]:JSON.stringify(x[0])},_functionToNumber:function(x){var D,T=this._getTypeName(x[0]);return T===g?x[0]:T!==C||(D=+x[0],isNaN(D))?null:D},_functionNotNull:function(x){for(var D=0;D<x.length;D++)if(7!==this._getTypeName(x[D]))return x[D];return null},_functionSort:function(x){var D=x[0].slice(0);return D.sort(),D},_functionSortBy:function(x){var D=x[0].slice(0);if(0===D.length)return D;var T=this._interpreter,k=x[1],L=this._getTypeName(T.visit(k,D[0]));if([g,C].indexOf(L)<0)throw new Error("TypeError");for(var $=this,O=[],I=0;I<D.length;I++)O.push([I,D[I]]);O.sort(function(z,N){var W=T.visit(k,z[1]),G=T.visit(k,N[1]);if($._getTypeName(W)!==L)throw new Error("TypeError: expected "+L+", received "+$._getTypeName(W));if($._getTypeName(G)!==L)throw new Error("TypeError: expected "+L+", received "+$._getTypeName(G));return W>G?1:W<G?-1:z[0]-N[0]});for(var j=0;j<O.length;j++)D[j]=O[j][1];return D},_functionMaxBy:function(x){for(var D,T,L=x[0],$=this.createKeyFunction(x[1],[g,C]),O=-1/0,I=0;I<L.length;I++)(T=$(L[I]))>O&&(O=T,D=L[I]);return D},_functionMinBy:function(x){for(var D,T,L=x[0],$=this.createKeyFunction(x[1],[g,C]),O=1/0,I=0;I<L.length;I++)(T=$(L[I]))<O&&(O=T,D=L[I]);return D},createKeyFunction:function(x,D){var T=this,k=this._interpreter;return function(L){var $=k.visit(x,L);if(D.indexOf(T._getTypeName($))<0){var O="TypeError: expected one of "+D+", received "+T._getTypeName($);throw new Error(O)}return $}}},A.tokenize=function(x){return(new t).tokenize(x)},A.compile=function(x){return(new i).parse(x)},A.search=function(x,D){var T=new i,k=new c,L=new s(k);k._interpreter=L;var $=T.parse(D);return L.search($,x)},A.strictDeepEqual=l}(K)},function(U,K){U.exports=function m(A,S){"use strict";var b,l,v=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,h=/(^[ ]*|[ ]*$)/g,f=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,n=/^0x[0-9a-f]+$/i,e=function(g){return m.insensitive&&(""+g).toLowerCase()||""+g},t=e(A).replace(h,"")||"",i=e(S).replace(h,"")||"",s=t.replace(v,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),c=i.replace(v,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),r=parseInt(t.match(n),16)||1!==s.length&&t.match(f)&&Date.parse(t),p=parseInt(i.match(n),16)||r&&i.match(f)&&Date.parse(i)||null;if(p){if(r<p)return-1;if(r>p)return 1}for(var o=0,u=Math.max(s.length,c.length);o<u;o++){if(b=!(s[o]||"").match(/^0/)&&parseFloat(s[o])||s[o]||0,l=!(c[o]||"").match(/^0/)&&parseFloat(c[o])||c[o]||0,isNaN(b)!==isNaN(l))return isNaN(b)?1:-1;if(typeof b!=typeof l&&(b+="",l+=""),b<l)return-1;if(b>l)return 1}return 0}},function(U,K,m){"use strict";var S=m(54),b=m(57),l=m(58).translate;U.exports=function(v){function h(f){this.editor=f,this.dom={}}return(h.prototype=new v).getDom=function(){var f=this.dom;if(f.tr)return f.tr;this._updateEditability();var n=document.createElement("tr");if(n.className="jsoneditor-append",n.node=this,f.tr=n,"tree"===this.editor.options.mode){f.tdDrag=document.createElement("td");var e=document.createElement("td");f.tdMenu=e;var t=document.createElement("button");t.type="button",t.className="jsoneditor-contextmenu",t.title="Click to open the actions menu (Ctrl+M)",f.menu=t,e.appendChild(f.menu)}var i=document.createElement("td"),s=document.createElement("div");return s.innerHTML="("+l("empty")+")",s.className="jsoneditor-readonly",i.appendChild(s),f.td=i,f.text=s,this.updateDom(),n},h.prototype.updateDom=function(f){var n=this.dom,e=n.td;e&&(e.style.paddingLeft=24*this.getLevel()+26+"px");var t=n.text;t&&(t.innerHTML="("+l("empty")+" "+this.parent.type+")");var i=n.tr;this.isVisible()?n.tr.firstChild||(n.tdDrag&&i.appendChild(n.tdDrag),n.tdMenu&&i.appendChild(n.tdMenu),i.appendChild(e)):n.tr.firstChild&&(n.tdDrag&&i.removeChild(n.tdDrag),n.tdMenu&&i.removeChild(n.tdMenu),i.removeChild(e))},h.prototype.isVisible=function(){return 0==this.parent.childs.length},h.prototype.showContextMenu=function(f,n){var e=this,t=v.TYPE_TITLES,i=[{text:l("auto"),className:"jsoneditor-type-auto",title:t.auto,click:function(){e._onAppend("","","auto")}},{text:l("array"),className:"jsoneditor-type-array",title:t.array,click:function(){e._onAppend("",[])}},{text:l("object"),className:"jsoneditor-type-object",title:t.object,click:function(){e._onAppend("",{})}},{text:l("string"),className:"jsoneditor-type-string",title:t.string,click:function(){e._onAppend("","","string")}}];e.addTemplates(i,!0);var s=[{text:l("appendText"),title:l("appendTitleAuto"),submenuTitle:l("appendSubmenuTitle"),className:"jsoneditor-insert",click:function(){e._onAppend("","","auto")},submenu:i}];new b(s,{close:n}).show(f,this.editor.content)},h.prototype.onEvent=function(f){var n=f.type,e=f.target||f.srcElement,t=this.dom;if(e==t.menu&&("mouseover"==n?this.editor.highlighter.highlight(this.parent):"mouseout"==n&&this.editor.highlighter.unhighlight()),"click"==n&&e==t.menu){var i=this.editor.highlighter;i.highlight(this.parent),i.lock(),S.addClassName(t.menu,"jsoneditor-selected"),this.showContextMenu(t.menu,function(){S.removeClassName(t.menu,"jsoneditor-selected"),i.unlock(),i.unhighlight()})}"keydown"==n&&this.onKeyDown(f)},h}},function(U,K,m){"use strict";var S=m(58).translate;U.exports=function(b){function l(v,h){this.editor=v,this.parent=h,this.dom={}}return(l.prototype=new b).getDom=function(){if(this.dom.tr)return this.dom.tr;if(this._updateEditability(),!this.dom.tr){var v=this,h=this.parent,f=document.createElement("a");f.appendChild(document.createTextNode(S("showMore"))),f.href="#",f.onclick=function(c){return h.visibleChilds=Math.floor(h.visibleChilds/h.MAX_VISIBLE_CHILDS+1)*h.MAX_VISIBLE_CHILDS,v.updateDom(),h.showChilds(),c.preventDefault(),!1};var n=document.createElement("a");n.appendChild(document.createTextNode(S("showAll"))),n.href="#",n.onclick=function(c){return h.visibleChilds=1/0,v.updateDom(),h.showChilds(),c.preventDefault(),!1};var e=document.createElement("div"),t=document.createTextNode(this._getShowMoreText());e.className="jsoneditor-show-more",e.appendChild(t),e.appendChild(f),e.appendChild(document.createTextNode(". ")),e.appendChild(n),e.appendChild(document.createTextNode(". "));var i=document.createElement("td");i.appendChild(e);var s=document.createElement("tr");s.appendChild(document.createElement("td")),s.appendChild(document.createElement("td")),s.appendChild(i),s.className="jsoneditor-show-more",this.dom.tr=s,this.dom.moreContents=e,this.dom.moreText=t}return this.updateDom(),this.dom.tr},l.prototype.updateDom=function(v){if(this.isVisible()){if(this.dom.tr.node=this.parent.childs[this.parent.visibleChilds],!this.dom.tr.parentNode){var h=this.parent._getNextTr();h&&h.parentNode.insertBefore(this.dom.tr,h)}this.dom.moreText.nodeValue=this._getShowMoreText(),this.dom.moreContents.style.marginLeft=24*(this.getLevel()+1)+"px"}else this.dom.tr&&this.dom.tr.parentNode&&this.dom.tr.parentNode.removeChild(this.dom.tr)},l.prototype._getShowMoreText=function(){return S("showMoreStatus",{visibleChilds:this.parent.visibleChilds,totalChilds:this.parent.childs.length})+" "},l.prototype.isVisible=function(){return this.parent.expanded&&this.parent.childs.length>this.parent.visibleChilds},l.prototype.onEvent=function(v){"keydown"===v.type&&this.onKeyDown(v)},l}},function(U,K,m){var S=m(66),b=m(58).translate;U.exports=function(l,v){var h='<div class="pico-modal-contents"><div class="pico-modal-header">'+b("sort")+"</div><form><table><tbody><tr>  <td>"+b("sortFieldLabel")+' </td>  <td class="jsoneditor-modal-input">  <div class="jsoneditor-select-wrapper">    <select id="field" title="'+b("sortFieldTitle")+'">    </select>  </div>  </td></tr><tr>  <td>'+b("sortDirectionLabel")+' </td>  <td class="jsoneditor-modal-input">  <div id="direction" class="jsoneditor-button-group"><input type="button" value="'+b("sortAscending")+'" title="'+b("sortAscendingTitle")+'" data-value="asc" class="jsoneditor-button-first jsoneditor-button-asc"/><input type="button" value="'+b("sortDescending")+'" title="'+b("sortDescendingTitle")+'" data-value="desc" class="jsoneditor-button-last jsoneditor-button-desc"/>  </div>  </td></tr><tr><td colspan="2" class="jsoneditor-modal-input jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+b("ok")+'" /></td></tr></tbody></table></form></div>';S({parent:v,content:h,overlayClass:"jsoneditor-modal-overlay",modalClass:"jsoneditor-modal jsoneditor-modal-sort"}).afterCreate(function(f){function n(r){s.value=r,s.className="jsoneditor-button-group jsoneditor-button-group-value-"+s.value}var e=f.modalElem().querySelector("form"),t=f.modalElem().querySelector("#ok"),i=f.modalElem().querySelector("#field"),s=f.modalElem().querySelector("#direction"),c="array"===l.type?l.getChildPaths():["."];c.forEach(function(r){var p=document.createElement("option");p.text=r,p.value=r,i.appendChild(p)}),i.value=l.sortedBy?l.sortedBy.path:c[0],n(l.sortedBy?l.sortedBy.direction:"asc"),s.onclick=function(r){n(r.target.getAttribute("data-value"))},t.onclick=function(r){r.preventDefault(),r.stopPropagation(),f.close();var p=i.value,o="."===p?[]:p.split(".").slice(1);l.sortedBy={path:p,direction:s.value},l.sort(o,s.value)},e&&(e.onsubmit=t.onclick)}).afterClose(function(f){f.destroy()}).show()}},function(U,K,m){var A,b;!function(l,v){"use strict";A=function(){function l(g){return"object"==typeof Node?g instanceof Node:g&&"object"==typeof g&&"number"==typeof g.nodeType}function h(){var g=[];return{watch:g.push.bind(g),trigger:function(y,C){for(var d=!0,a={detail:C,preventDefault:function(){d=!1}},w=0;w<g.length;w++)g[w](y,a);return d}}}function f(g){return"none"===window.getComputedStyle(g).display}function n(g){this.elem=g}function e(g,y){return n.make(g("parent")).clazz("pico-overlay").clazz(g("overlayClass","")).stylize({display:"none",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1e4}).stylize(g("overlayStyles",{opacity:.5,background:"#000"})).onClick(function(){g("overlayClose",!0)&&y()})}function i(g,y){if(y("closeButton",!0))return g.child("button").html(y("closeHtml","&#xD7;")).clazz("pico-close").clazz(y("closeClass","")).stylize(y("closeStyles",{borderRadius:"2px",border:0,padding:0,cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})).attr("aria-label",y("close-label","Close"))}function s(g){return function(){return g().elem}}function c(g,y){function C(F,_){return(F.msMatchesSelector||F.webkitMatchesSelector||F.matches).call(F,_)}function d(F){return!(f(F)||C(F,":disabled")||F.hasAttribute("contenteditable"))&&(F.hasAttribute("tabindex")||C(F,"input,select,textarea,button,a[href],area[href],iframe"))}function a(F){for(var _=F.getElementsByTagName("*"),B=0;B<_.length;B++)if(d(_[B]))return _[B]}var E;g.beforeShow(function(){E=document.activeElement}),g.afterShow(function(){if(y()){var F=a(g.modalElem());F&&F.focus()}}),g.afterClose(function(){y()&&E&&E.focus(),E=null}),u.watch(function(F){if(y()&&g.isVisible()){var _=a(g.modalElem()),B=function(F){for(var _=F.getElementsByTagName("*"),B=_.length;B--;)if(d(_[B]))return _[B]}(g.modalElem());(F.shiftKey?_:B)===document.activeElement&&((F.shiftKey?B:_).focus(),F.preventDefault())}})}n.make=function(g,y){"string"==typeof g&&(g=document.querySelector(g));var C=document.createElement(y||"div");return(g||document.body).appendChild(C),new n(C)},n.prototype={child:function(g){return n.make(this.elem,g)},stylize:function(g){for(var y in void 0!==(g=g||{}).opacity&&(g.filter="alpha(opacity="+100*g.opacity+")"),g)g.hasOwnProperty(y)&&(this.elem.style[y]=g[y]);return this},clazz:function(g){return this.elem.className+=" "+g,this},html:function(g){return l(g)?this.elem.appendChild(g):this.elem.innerHTML=g,this},onClick:function(g){return this.elem.addEventListener("click",g),this},destroy:function(){this.elem.parentNode.removeChild(this.elem)},hide:function(){this.elem.style.display="none"},show:function(){this.elem.style.display="block"},attr:function(g,y){return void 0!==y&&this.elem.setAttribute(g,y),this},anyAncestor:function(g){for(var y=this.elem;y;){if(g(new n(y)))return!0;y=y.parentNode}return!1},isVisible:function(){return!f(this.elem)}};var p=1,o=h(),u=h();return document.documentElement.addEventListener("keydown",function(g){var y=g.which||g.keyCode;27===y?o.trigger():9===y&&u.trigger(g)}),function(g){function y(L,$){var O=g[L];return"function"==typeof O&&(O=O($)),void 0===O?$:O}function C(L){T().hide(),D().hide(),x.trigger(E,L)}function d(L){P.trigger(E,L)&&C(L)}function a(L){return function(){return L.apply(this,arguments),E}}function w(L,$){if(!F){var O=function(g,y){var C=g("width","auto");"number"==typeof C&&(C+="px");var d=g("modalId","pico-"+p++);return n.make(g("parent")).clazz("pico-content").clazz(g("modalClass","")).stylize({display:"none",position:"fixed",zIndex:10001,left:"50%",top:"38.1966%",maxHeight:"90%",boxSizing:"border-box",width:C,"-ms-transform":"translate(-50%,-38.1966%)","-moz-transform":"translate(-50%,-38.1966%)","-webkit-transform":"translate(-50%,-38.1966%)","-o-transform":"translate(-50%,-38.1966%)",transform:"translate(-50%,-38.1966%)"}).stylize(g("modalStyles",{overflow:"auto",backgroundColor:"white",padding:"20px",borderRadius:"5px"})).html(g("content")).attr("id",d).attr("role","dialog").attr("aria-labelledby",g("ariaLabelledBy")).attr("aria-describedby",g("ariaDescribedBy",d)).onClick(function(a){new n(a.target).anyAncestor(function(w){return/\bpico-close\b/.test(w.elem.className)})&&y()})}(y,d);F={modal:O,overlay:e(y,d),close:i(O,y)},_.trigger(E,$)}return F[L]}(function(g){return"string"==typeof g}(g)||l(g))&&(g={content:g});var E,F,_=h(),B=h(),R=h(),P=h(),x=h(),D=w.bind(window,"modal"),T=w.bind(window,"overlay"),k=w.bind(window,"close");return c(E={modalElem:s(D),closeElem:s(k),overlayElem:s(T),buildDom:a(w.bind(null,null)),isVisible:function(){return!!(F&&D&&D().isVisible())},show:function(L){return B.trigger(E,L)&&(T().show(),k(),D().show(),R.trigger(E,L)),this},close:a(d),forceClose:a(C),destroy:function(){D().destroy(),T().destroy(),T=D=k=void 0},options:function(L){Object.keys(L).map(function($){g[$]=L[$]})},afterCreate:a(_.watch),beforeShow:a(B.watch),afterShow:a(R.watch),beforeClose:a(P.watch),afterClose:a(x.watch)},y.bind(null,"focus",!0)),function(g,y){var C,d=new n(document.body);g.beforeShow(function(){C=d.elem.style.overflow,y()&&d.stylize({overflow:"hidden"})}),g.afterClose(function(){d.stylize({overflow:C})})}(E,y.bind(null,"bodyOverflow",!0)),o.watch(function(){y("escCloses",!0)&&E.isVisible()&&E.close()}),E}},void 0!==(b=A.apply(K,[]))&&(U.exports=b)}()},function(U,K,m){var S=m(61),b=m(66),l=m(68),v=m(58).translate,h=m(54).debounce;U.exports=function(n,e){var t=n.getValue(),i='<label class="pico-modal-contents"><div class="pico-modal-header">'+v("transform")+'</div><p>Enter a <a href="http://jmespath.org" target="_blank">JMESPath</a> query to filter, sort, or transform the JSON data.<br/>To learn JMESPath, go to <a href="http://jmespath.org/tutorial.html" target="_blank">the interactive tutorial</a>.</p><table><tbody><tr>  <th>'+v("transformWizardLabel")+' </th>  <td>  <div id="wizard" class="jsoneditor-jmespath-wizard">  <div>    <div class="jsoneditor-jmespath-wizard-label">'+v("transformWizardFilter")+'</div>    <div class="jsoneditor-jmespath-filter">      <div class="jsoneditor-inline jsoneditor-jmespath-filter-field" >        <select id="filterField">        </select>      </div>      <div class="jsoneditor-inline jsoneditor-jmespath-filter-relation" >        <select id="filterRelation">          <option value="==">==</option>          <option value="!=">!=</option>          <option value="<">&lt;</option>          <option value="<=">&lt;=</option>          <option value=">">&gt;</option>          <option value=">=">&gt;=</option>        </select>      </div>      <div class="jsoneditor-inline jsoneditor-jmespath-filter-value" >        <input placeholder="value..." id="filterValue" />      </div>    </div>  </div>  <div>    <div class="jsoneditor-jmespath-wizard-label">'+v("transformWizardSortBy")+'</div>    <div class="jsoneditor-jmespath-filter">      <div class="jsoneditor-inline jsoneditor-jmespath-sort-field">        <select id="sortField">        </select>      </div>      <div class="jsoneditor-inline jsoneditor-jmespath-sort-order" >        <select id="sortOrder">          <option value="asc">Ascending</option>          <option value="desc">Descending</option>        </select>      </div>    </div>  </div>  <div id="selectFieldsPart">    <div class="jsoneditor-jmespath-wizard-label">'+v("transformWizardSelectFields")+'</div>    <select class="jsoneditor-jmespath-select-fields" id="selectFields" multiple>    </select>  </div>  </div>  </td></tr><tr>  <th>'+v("transformQueryLabel")+' </th>  <td class="jsoneditor-modal-input">    <textarea id="query"               rows="4"               autocomplete="off"               autocorrect="off"               autocapitalize="off"               spellcheck="false"              title="'+v("transformQueryTitle")+'">[*]</textarea>  </td></tr><tr>  <th>'+v("transformPreviewLabel")+' </th>  <td class="jsoneditor-modal-input">    <textarea id="preview"         class="jsoneditor-transform-preview"        readonly> </textarea>  </td></tr><tr><td colspan="2" class="jsoneditor-modal-input jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+v("ok")+'" autofocus /></td></tr></tbody></table></div>';b({parent:e,content:i,overlayClass:"jsoneditor-modal-overlay",modalClass:"jsoneditor-modal jsoneditor-modal-transform",focus:!1}).afterCreate(function(s){function c(L){return"."===L[0]?"."===L?"@":L.slice(1):L}function r(){if(y.value&&C.value&&d.value){var L=y.value,$=JSON.stringify(n._stringCast(d.value));F.value="[? "+L+" "+C.value+" `"+$+"`]"}else F.value="[*]";if(a.value&&w.value){var O=a.value;F.value+="desc"===w.value?" | reverse(sort_by(@, &"+O+"))":" | sort_by(@, &"+O+")"}if(E.value){for(var I=[],j=0;j<E.options.length;j++)if(E.options[j].selected){var z=E.options[j].value;I.push(z)}"]"!==F.value[F.value.length-1]&&(F.value+=" | [*]"),1===I.length?F.value+="."+z:I.length>1&&(F.value+=".{"+I.map(function(N){var W=N.split(".");return W[W.length-1]+": "+N}).join(", ")+"}")}k()}var o=s.modalElem(),u=o.querySelector("#wizard"),g=o.querySelector("#ok"),y=o.querySelector("#filterField"),C=o.querySelector("#filterRelation"),d=o.querySelector("#filterValue"),a=o.querySelector("#sortField"),w=o.querySelector("#sortOrder"),E=o.querySelector("#selectFields"),F=o.querySelector("#query"),_=o.querySelector("#preview");Array.isArray(t)||(u.style.display="none",u.parentNode.style.fontStyle="italic",u.parentNode.appendChild(document.createTextNode("(wizard not available for objects, only for arrays)"))),n.getChildPaths().forEach(function(L){var $=c(L),O=document.createElement("option");O.text=$,O.value=$,y.appendChild(O);var I=document.createElement("option");I.text=$,I.value=$,a.appendChild(I)});var B=n.getChildPaths(!0).filter(function(L){return"."!==L});B.length>0?B.forEach(function(L){var $=c(L),O=document.createElement("option");O.text=$,O.value=$,E.appendChild(O)}):o.querySelector("#selectFieldsPart").style.display="none";var R=new l(y,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),P=new l(C,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"compare..."}),x=new l(a,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),D=new l(w,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"order..."}),T=new l(E,{multiple:!0,clearable:!0,defaultSelected:!1});R.on("selectr.change",r),P.on("selectr.change",r),d.oninput=r,x.on("selectr.change",r),D.on("selectr.change",r),T.on("selectr.change",r),o.querySelector(".pico-modal-contents").onclick=function(L){L.preventDefault()},F.value=Array.isArray(t)?"[*]":"@";var k=h(function(){try{var L=S.search(t,F.value),$=JSON.stringify(L,null,2).split("\n");$.length>100&&($=$.slice(0,100).concat(["..."])),_.className="jsoneditor-transform-preview",_.value=$.join("\n"),g.disabled=!1}catch(O){_.className="jsoneditor-transform-preview jsoneditor-error",_.value=O.toString(),g.disabled=!0}},300);F.oninput=k,k(),g.onclick=function(L){L.preventDefault(),L.stopPropagation(),s.close(),n.transform(F.value)},setTimeout(function(){F.select(),F.focus(),F.selectionStart=3,F.selectionEnd=3})}).afterClose(function(s){s.destroy()}).show()}},function(U,K){"use strict";function m(o,u){return o.hasOwnProperty(u)&&(!0===o[u]||o[u].length)}function A(o,u,g){o.parentNode?o.parentNode.parentNode||u.appendChild(o.parentNode):u.appendChild(o),l.removeClass(o,"excluded"),g||(o.innerHTML=o.textContent)}var S={defaultSelected:!0,width:"auto",disabled:!1,searchable:!0,clearable:!1,sortSelected:!1,allowDeselect:!1,closeOnScroll:!1,nativeDropdown:!1,placeholder:"Select an option...",taggable:!1,tagPlaceholder:"Enter a tag..."},b=function(){};b.prototype={on:function(o,u){this._events=this._events||{},this._events[o]=this._events[o]||[],this._events[o].push(u)},off:function(o,u){this._events=this._events||{},o in this._events&&this._events[o].splice(this._events[o].indexOf(u),1)},emit:function(o){if(this._events=this._events||{},o in this._events)for(var u=0;u<this._events[o].length;u++)this._events[o][u].apply(this,Array.prototype.slice.call(arguments,1))}},b.mixin=function(o){for(var u=["on","off","emit"],g=0;g<u.length;g++)"function"==typeof o?o.prototype[u[g]]=b.prototype[u[g]]:o[u[g]]=b.prototype[u[g]];return o};var l={extend:function(o,u){var g;for(g in u=u||{},o)o.hasOwnProperty(g)&&(u.hasOwnProperty(g)||(u[g]=o[g]));return u},each:function(o,u,g){if("[object Object]"===Object.prototype.toString.call(o))for(var y in o)Object.prototype.hasOwnProperty.call(o,y)&&u.call(g,y,o[y],o);else for(var C=0,d=o.length;C<d;C++)u.call(g,C,o[C],o)},createElement:function(o,u){var C,g=document,y=g.createElement(o);if(u&&"[object Object]"===Object.prototype.toString.call(u))for(C in u)if(C in y)y[C]=u[C];else if("html"===C)y.innerHTML=u[C];else if("text"===C){var d=g.createTextNode(u[C]);y.appendChild(d)}else y.setAttribute(C,u[C]);return y},hasClass:function(o,u){if(o)return o.classList?o.classList.contains(u):!!o.className&&!!o.className.match(new RegExp("(\\s|^)"+u+"(\\s|$)"))},addClass:function(o,u){l.hasClass(o,u)||(o.classList?o.classList.add(u):o.className=o.className.trim()+" "+u)},removeClass:function(o,u){l.hasClass(o,u)&&(o.classList?o.classList.remove(u):o.className=o.className.replace(new RegExp("(^|\\s)"+u.split(" ").join("|")+"(\\s|$)","gi")," "))},closest:function(o,u){return o&&o!==document.body&&(u(o)?o:l.closest(o.parentNode,u))},isInt:function(o){return"number"==typeof o&&isFinite(o)&&Math.floor(o)===o},debounce:function(o,u,g){var y;return function(){var C=this,d=arguments,a=function(){y=null,g||o.apply(C,d)},w=g&&!y;clearTimeout(y),y=setTimeout(a,u),w&&o.apply(C,d)}},rect:function(o,u){var g=window,y=o.getBoundingClientRect(),C=u?g.pageXOffset:0,d=u?g.pageYOffset:0;return{bottom:y.bottom+d,height:y.height,left:y.left+C,right:y.right+C,top:y.top+d,width:y.width}},includes:function(o,u){return o.indexOf(u)>-1},truncate:function(o){for(;o.firstChild;)o.removeChild(o.firstChild)}},v=function(){if(this.items.length){var o=document.createDocumentFragment();if(this.config.pagination){var u=this.pages.slice(0,this.pageIndex);l.each(u,function(g,y){l.each(y,function(C,d){A(d,o,this.customOption)},this)},this)}else l.each(this.items,function(g,y){A(y,o,this.customOption)},this);o.childElementCount&&(l.removeClass(this.items[this.navIndex],"active"),this.navIndex=o.querySelector(".selectr-option").idx,l.addClass(this.items[this.navIndex],"active")),this.tree.appendChild(o)}},h=function(o){this.container.contains(o.target)||!this.opened&&!l.hasClass(this.container,"notice")||this.close()},f=function(o,u){u=u||o;var g=this.customOption?this.config.renderOption(u):o.textContent,y=l.createElement("li",{class:"selectr-option",html:g,role:"treeitem","aria-selected":!1});return y.idx=o.idx,this.items.push(y),o.defaultSelected&&this.defaultSelected.push(o.idx),o.disabled&&(y.disabled=!0,l.addClass(y,"disabled")),y},n=function(){this.requiresPagination=this.config.pagination&&this.config.pagination>0,m(this.config,"width")&&(l.isInt(this.config.width)?this.width=this.config.width+"px":"auto"===this.config.width?this.width="100%":l.includes(this.config.width,"%")&&(this.width=this.config.width)),this.container=l.createElement("div",{class:"selectr-container"}),this.config.customClass&&l.addClass(this.container,this.config.customClass),l.addClass(this.container,this.mobileDevice?"selectr-mobile":"selectr-desktop"),this.el.tabIndex=-1,l.addClass(this.el,this.config.nativeDropdown||this.mobileDevice?"selectr-visible":"selectr-hidden"),this.selected=l.createElement("div",{class:"selectr-selected",disabled:this.disabled,tabIndex:1,"aria-expanded":!1}),this.label=l.createElement(this.el.multiple?"ul":"span",{class:"selectr-label"});var o=l.createElement("div",{class:"selectr-options-container"});if(this.tree=l.createElement("ul",{class:"selectr-options",role:"tree","aria-hidden":!0,"aria-expanded":!1}),this.notice=l.createElement("div",{class:"selectr-notice"}),this.el.setAttribute("aria-hidden",!0),this.disabled&&(this.el.disabled=!0),this.el.multiple&&(l.addClass(this.label,"selectr-tags"),l.addClass(this.container,"multiple"),this.tags=[],this.selectedValues=this.getSelectedProperties("value"),this.selectedIndexes=this.getSelectedProperties("idx")),this.selected.appendChild(this.label),this.config.clearable&&(this.selectClear=l.createElement("button",{class:"selectr-clear",type:"button"}),this.container.appendChild(this.selectClear),l.addClass(this.container,"clearable")),this.config.taggable){var u=l.createElement("li",{class:"input-tag"});this.input=l.createElement("input",{class:"selectr-tag-input",placeholder:this.config.tagPlaceholder,tagIndex:0,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),u.appendChild(this.input),this.label.appendChild(u),l.addClass(this.container,"taggable"),this.tagSeperators=[","],this.config.tagSeperators&&(this.tagSeperators=this.tagSeperators.concat(this.config.tagSeperators))}this.config.searchable&&(this.input=l.createElement("input",{class:"selectr-input",tagIndex:-1,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),this.inputClear=l.createElement("button",{class:"selectr-input-clear",type:"button"}),this.inputContainer=l.createElement("div",{class:"selectr-input-container"}),this.inputContainer.appendChild(this.input),this.inputContainer.appendChild(this.inputClear),o.appendChild(this.inputContainer)),o.appendChild(this.notice),o.appendChild(this.tree),this.items=[],this.options=[],this.el.options.length&&(this.options=[].slice.call(this.el.options));var a,g=!1,y=0;if(this.el.children.length&&l.each(this.el.children,function(E,F){"OPTGROUP"===F.nodeName?(g=l.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+F.label+"</li>"}),l.each(F.children,function(_,B){B.idx=y,g.appendChild(f.call(this,B,g)),y++},this)):(F.idx=y,f.call(this,F),y++)},this),this.config.data&&Array.isArray(this.config.data)){this.data=[];var C,d=!1;g=!1,y=0,l.each(this.config.data,function(E,F){m(F,"children")?(d=l.createElement("optgroup",{label:F.text}),g=l.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+F.text+"</li>"}),l.each(F.children,function(_,B){(C=new Option(B.text,B.value,!1,B.hasOwnProperty("selected")&&!0===B.selected)).disabled=m(B,"disabled"),this.options.push(C),d.appendChild(C),C.idx=y,g.appendChild(f.call(this,C,B)),this.data[y]=B,y++},this)):((C=new Option(F.text,F.value,!1,F.hasOwnProperty("selected")&&!0===F.selected)).disabled=m(F,"disabled"),this.options.push(C),C.idx=y,f.call(this,C,F),this.data[y]=F,y++)},this)}this.setSelected(!0),this.navIndex=0;for(var w=0;w<this.items.length;w++)if(!l.hasClass(a=this.items[w],"disabled")){l.addClass(a,"active"),this.navIndex=w;break}this.requiresPagination&&(this.pageIndex=1,this.paginate()),this.container.appendChild(this.selected),this.container.appendChild(o),this.placeEl=l.createElement("div",{class:"selectr-placeholder"}),this.setPlaceholder(),this.selected.appendChild(this.placeEl),this.disabled&&this.disable(),this.el.parentNode.insertBefore(this.container,this.el),this.container.appendChild(this.el)},e=function(o){if(o=o||window.event,this.items.length&&this.opened&&l.includes([13,38,40],o.which)){if(o.preventDefault(),13===o.which)return!(this.config.taggable&&this.input.value.length>0)&&this.change(this.navIndex);var u,g=this.items[this.navIndex];switch(o.which){case 38:u=0,this.navIndex>0&&this.navIndex--;break;case 40:u=1,this.navIndex<this.items.length-1&&this.navIndex++}for(this.navigating=!0;l.hasClass(this.items[this.navIndex],"disabled")||l.hasClass(this.items[this.navIndex],"excluded");)if(u?this.navIndex++:this.navIndex--,this.searching){if(this.navIndex>this.tree.lastElementChild.idx){this.navIndex=this.tree.lastElementChild.idx;break}if(this.navIndex<this.tree.firstElementChild.idx){this.navIndex=this.tree.firstElementChild.idx;break}}var y=l.rect(this.items[this.navIndex]);u?(0===this.navIndex?this.tree.scrollTop=0:y.top+y.height>this.optsRect.top+this.optsRect.height&&(this.tree.scrollTop=this.tree.scrollTop+(y.top+y.height-(this.optsRect.top+this.optsRect.height))),this.navIndex===this.tree.childElementCount-1&&this.requiresPagination&&s.call(this)):0===this.navIndex?this.tree.scrollTop=0:y.top-this.optsRect.top<0&&(this.tree.scrollTop=this.tree.scrollTop+(y.top-this.optsRect.top)),g&&l.removeClass(g,"active"),l.addClass(this.items[this.navIndex],"active")}else this.navigating=!1},t=function(o){var u,g=this,y=document.createDocumentFragment(),C=this.options[o.idx],a=this.customSelected?this.config.renderSelection(this.data?this.data[o.idx]:C):C.textContent,w=l.createElement("li",{class:"selectr-tag",html:a}),E=l.createElement("button",{class:"selectr-tag-remove",type:"button"});if(w.appendChild(E),w.idx=o.idx,w.tag=C.value,this.tags.push(w),this.config.sortSelected){var F=this.tags.slice();u=function(_,B){_.replace(/(\d+)|(\D+)/g,function(R,P,x){B.push([P||1/0,x||""])})},F.sort(function(_,B){var R,P,x=[],D=[];for(!0===g.config.sortSelected?(R=_.tag,P=B.tag):"text"===g.config.sortSelected&&(R=_.textContent,P=B.textContent),u(R,x),u(P,D);x.length&&D.length;){var T=x.shift(),k=D.shift(),L=T[0]-k[0]||T[1].localeCompare(k[1]);if(L)return L}return x.length-D.length}),l.each(F,function(_,B){y.appendChild(B)}),this.label.innerHTML=""}else y.appendChild(w);this.config.taggable?this.label.insertBefore(y,this.input.parentNode):this.label.appendChild(y)},i=function(o){var u=!1;l.each(this.tags,function(g,y){y.idx===o.idx&&(u=y)},this),u&&(this.label.removeChild(u),this.tags.splice(this.tags.indexOf(u),1))},s=function(){var o=this.tree;if(o.scrollTop>=o.scrollHeight-o.offsetHeight&&this.pageIndex<this.pages.length){var u=document.createDocumentFragment();l.each(this.pages[this.pageIndex],function(g,y){A(y,u,this.customOption)},this),o.appendChild(u),this.pageIndex++,this.emit("selectr.paginate",{items:this.items.length,total:this.data.length,page:this.pageIndex,pages:this.pages.length})}},c=function(){(this.config.searchable||this.config.taggable)&&(this.input.value=null,this.searching=!1,this.config.searchable&&l.removeClass(this.inputContainer,"active"),l.hasClass(this.container,"notice")&&(l.removeClass(this.container,"notice"),l.addClass(this.container,"open"),this.input.focus()),l.each(this.items,function(o,u){l.removeClass(u,"excluded"),this.customOption||(u.innerHTML=u.textContent)},this))},p=function(o,u){if(u=u||{},!o)throw new Error("You must supply either a HTMLSelectElement or a CSS3 selector string.");if(this.el=o,"string"==typeof o&&(this.el=document.querySelector(o)),null===this.el)throw new Error("The element you passed to Selectr can not be found.");if("select"!==this.el.nodeName.toLowerCase())throw new Error("The element you passed to Selectr is not a HTMLSelectElement.");this.render(u)};p.prototype.render=function(o){if(!this.rendered){this.config=l.extend(S,o),this.originalType=this.el.type,this.originalIndex=this.el.tabIndex,this.defaultSelected=[],this.originalOptionCount=this.el.options.length,(this.config.multiple||this.config.taggable)&&(this.el.multiple=!0),this.disabled=m(this.config,"disabled"),this.opened=!1,this.config.taggable&&(this.config.searchable=!1),this.navigating=!1,this.mobileDevice=!1,/Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent)&&(this.mobileDevice=!0),this.customOption=this.config.hasOwnProperty("renderOption")&&"function"==typeof this.config.renderOption,this.customSelected=this.config.hasOwnProperty("renderSelection")&&"function"==typeof this.config.renderSelection,b.mixin(this),n.call(this),this.bindEvents(),this.update(),this.optsRect=l.rect(this.tree),this.rendered=!0,this.el.multiple||(this.el.selectedIndex=this.selectedIndex);var u=this;setTimeout(function(){u.emit("selectr.init")},20)}},p.prototype.getSelected=function(){return this.el.querySelectorAll("option:checked")},p.prototype.getSelectedProperties=function(o){var u=this.getSelected();return[].slice.call(u).map(function(g){return g[o]}).filter(function(g){return null!=g})},p.prototype.bindEvents=function(){var o=this;this.events={},this.events.dismiss=h.bind(this),this.events.navigate=e.bind(this),this.events.reset=this.reset.bind(this),(this.config.nativeDropdown||this.mobileDevice)&&(this.container.addEventListener("touchstart",function(g){g.changedTouches[0].target===o.el&&o.toggle()}),(this.config.nativeDropdown||this.mobileDevice)&&this.container.addEventListener("click",function(g){g.preventDefault(),g.stopPropagation(),g.target===o.el&&o.toggle()}),this.el.addEventListener("change",function(g){if(o.el.multiple){var y=o.getSelectedProperties("idx"),C=function(g,y){for(var C,d=[],a=g.slice(0),w=0;w<y.length;w++)(C=a.indexOf(y[w]))>-1?a.splice(C,1):d.push(y[w]);return[d,a]}(o.selectedIndexes,y);l.each(C[0],function(d,a){o.select(a)},o),l.each(C[1],function(d,a){o.deselect(a)},o)}else o.el.selectedIndex>-1&&o.select(o.el.selectedIndex)})),this.config.nativeDropdown&&this.container.addEventListener("keydown",function(g){"Enter"===g.key&&o.selected===document.activeElement&&(o.toggle(),setTimeout(function(){o.el.focus()},200))}),this.selected.addEventListener("click",function(g){o.disabled||o.toggle(),g.preventDefault(),g.stopPropagation()}),this.label.addEventListener("click",function(g){l.hasClass(g.target,"selectr-tag-remove")&&o.deselect(g.target.parentNode.idx)}),this.selectClear&&this.selectClear.addEventListener("click",this.clear.bind(this)),this.tree.addEventListener("mousedown",function(g){g.preventDefault()}),this.tree.addEventListener("click",function(g){g.preventDefault(),g.stopPropagation();var y=l.closest(g.target,function(C){return C&&l.hasClass(C,"selectr-option")});y&&(l.hasClass(y,"disabled")||(l.hasClass(y,"selected")?(o.el.multiple||!o.el.multiple&&o.config.allowDeselect)&&o.deselect(y.idx):o.select(y.idx),o.opened&&!o.el.multiple&&o.close()))}),this.tree.addEventListener("mouseover",function(g){l.hasClass(g.target,"selectr-option")&&(l.hasClass(g.target,"disabled")||(l.removeClass(o.items[o.navIndex],"active"),l.addClass(g.target,"active"),o.navIndex=[].slice.call(o.items).indexOf(g.target)))}),this.config.searchable&&(this.input.addEventListener("focus",function(g){o.searching=!0}),this.input.addEventListener("blur",function(g){o.searching=!1}),this.input.addEventListener("keyup",function(g){o.search(),o.config.taggable||(this.value.length?l.addClass(this.parentNode,"active"):l.removeClass(this.parentNode,"active"))}),this.inputClear.addEventListener("click",function(g){o.input.value=null,c.call(o),o.tree.childElementCount||v.call(o)})),this.config.taggable&&this.input.addEventListener("keyup",function(g){if(o.search(),o.config.taggable&&this.value.length){var y=this.value.trim();(13===g.which||l.includes(o.tagSeperators,g.key))&&(l.each(o.tagSeperators,function(C,d){y=y.replace(d,"")}),o.add({value:y,text:y,selected:!0},!0)?(o.close(),c.call(o)):(this.value="",o.setMessage("That tag is already in use.")))}}),this.update=l.debounce(function(){o.opened&&o.config.closeOnScroll&&o.close(),o.width&&(o.container.style.width=o.width),o.invert()},50),this.requiresPagination&&(this.paginateItems=l.debounce(function(){s.call(this)},50),this.tree.addEventListener("scroll",this.paginateItems.bind(this))),document.addEventListener("click",this.events.dismiss),window.addEventListener("keydown",this.events.navigate),window.addEventListener("resize",this.update),window.addEventListener("scroll",this.update),this.el.form&&this.el.form.addEventListener("reset",this.events.reset)},p.prototype.setSelected=function(o){if(this.config.data||this.el.multiple||!this.el.options.length||(0===this.el.selectedIndex&&(this.el.options[0].defaultSelected||this.config.defaultSelected||(this.el.selectedIndex=-1)),this.selectedIndex=this.el.selectedIndex,this.selectedIndex>-1&&this.select(this.selectedIndex)),this.config.multiple&&"select-one"===this.originalType&&!this.config.data&&this.el.options[0].selected&&!this.el.options[0].defaultSelected&&(this.el.options[0].selected=!1),l.each(this.options,function(g,y){y.selected&&y.defaultSelected&&this.select(y.idx)},this),this.config.selectedValue&&this.setValue(this.config.selectedValue),this.config.data){!this.el.multiple&&this.config.defaultSelected&&this.el.selectedIndex<0&&this.select(0);var u=0;l.each(this.config.data,function(g,y){m(y,"children")?l.each(y.children,function(C,d){d.hasOwnProperty("selected")&&!0===d.selected&&this.select(u),u++},this):(y.hasOwnProperty("selected")&&!0===y.selected&&this.select(u),u++)},this)}},p.prototype.destroy=function(){this.rendered&&(this.emit("selectr.destroy"),"select-one"===this.originalType&&(this.el.multiple=!1),this.config.data&&(this.el.innerHTML=""),l.removeClass(this.el,"selectr-hidden"),this.el.form&&l.off(this.el.form,"reset",this.events.reset),l.off(document,"click",this.events.dismiss),l.off(document,"keydown",this.events.navigate),l.off(window,"resize",this.update),l.off(window,"scroll",this.update),this.container.parentNode.replaceChild(this.el,this.container),this.rendered=!1)},p.prototype.change=function(o){var g=this.options[o];g.disabled||(g.selected&&l.hasClass(this.items[o],"selected")?this.deselect(o):this.select(o),this.opened&&!this.el.multiple&&this.close())},p.prototype.select=function(o){var u=this.items[o],g=[].slice.call(this.el.options),y=this.options[o];if(this.el.multiple){if(l.includes(this.selectedIndexes,o))return!1;if(this.config.maxSelections&&this.tags.length===this.config.maxSelections)return this.setMessage("A maximum of "+this.config.maxSelections+" items can be selected.",!0),!1;this.selectedValues.push(y.value),this.selectedIndexes.push(o),t.call(this,u)}else this.label.innerHTML=this.customSelected?this.config.renderSelection(this.data?this.data[o]:y):y.textContent,this.selectedValue=y.value,this.selectedIndex=o,l.each(this.options,function(d,a){var w=this.items[d];d!==o&&(w&&l.removeClass(w,"selected"),a.selected=!1,a.removeAttribute("selected"))},this);l.includes(g,y)||this.el.add(y),u.setAttribute("aria-selected",!0),l.addClass(u,"selected"),l.addClass(this.container,"has-selected"),y.selected=!0,y.setAttribute("selected",""),this.emit("selectr.change",y),this.emit("selectr.select",y)},p.prototype.deselect=function(o,u){var g=this.items[o],y=this.options[o];if(this.el.multiple){var C=this.selectedIndexes.indexOf(o);this.selectedIndexes.splice(C,1);var d=this.selectedValues.indexOf(y.value);this.selectedValues.splice(d,1),i.call(this,g),this.tags.length||l.removeClass(this.container,"has-selected")}else{if(!u&&!this.config.clearable&&!this.config.allowDeselect)return!1;this.label.innerHTML="",this.selectedValue=null,this.el.selectedIndex=this.selectedIndex=-1,l.removeClass(this.container,"has-selected")}this.items[o].setAttribute("aria-selected",!1),l.removeClass(this.items[o],"selected"),y.selected=!1,y.removeAttribute("selected"),this.emit("selectr.change",null),this.emit("selectr.deselect",y)},p.prototype.setValue=function(o){var u=Array.isArray(o);if(u||(o=o.toString().trim()),!this.el.multiple&&u)return!1;l.each(this.options,function(g,y){(u&&l.includes(o.toString(),y.value)||y.value===o)&&this.change(y.idx)},this)},p.prototype.getValue=function(o,u){var g;if(this.el.multiple)o?this.selectedIndexes.length&&((g={}).values=[],l.each(this.selectedIndexes,function(C,d){var a=this.options[d];g.values[C]={value:a.value,text:a.textContent}},this)):g=this.selectedValues.slice();else if(o){var y=this.options[this.selectedIndex];g={value:y.value,text:y.textContent}}else g=this.selectedValue;return o&&u&&(g=JSON.stringify(g)),g},p.prototype.add=function(o,u){if(o){if(this.data=this.data||[],this.items=this.items||[],this.options=this.options||[],Array.isArray(o))l.each(o,function(C,d){this.add(d,u)},this);else if("[object Object]"===Object.prototype.toString.call(o)){if(u){var g=!1;if(l.each(this.options,function(C,d){d.value.toLowerCase()===o.value.toLowerCase()&&(g=!0)}),g)return!1}var y=l.createElement("option",o);return this.data.push(o),this.options.push(y),y.idx=this.options.length>0?this.options.length-1:0,f.call(this,y),o.selected&&this.select(y.idx),y}return this.setPlaceholder(),this.config.pagination&&this.paginate(),!0}},p.prototype.remove=function(o){var g,u=[];Array.isArray(o)?l.each(o,function(y,C){l.isInt(C)?u.push(this.getOptionByIndex(C)):"string"==typeof o&&u.push(this.getOptionByValue(C))},this):l.isInt(o)?u.push(this.getOptionByIndex(o)):"string"==typeof o&&u.push(this.getOptionByValue(o)),u.length&&(l.each(u,function(y,C){g=C.idx,this.el.remove(C),this.options.splice(g,1);var d=this.items[g].parentNode;d&&d.removeChild(this.items[g]),this.items.splice(g,1),l.each(this.options,function(a,w){w.idx=a,this.items[a].idx=a},this)},this),this.setPlaceholder(),this.config.pagination&&this.paginate())},p.prototype.removeAll=function(){this.clear(!0),l.each(this.el.options,function(o,u){this.el.remove(u)},this),l.truncate(this.tree),this.items=[],this.options=[],this.data=[],this.navIndex=0,this.requiresPagination&&(this.requiresPagination=!1,this.pageIndex=1,this.pages=[]),this.setPlaceholder()},p.prototype.search=function(o){if(!this.navigating){o=o||this.input.value;var u=document.createDocumentFragment();if(this.removeMessage(),l.truncate(this.tree),o.length>1)if(l.each(this.options,function(C,d){var a=this.items[d.idx];l.includes(d.textContent.toLowerCase(),o.toLowerCase())&&!d.disabled?(A(a,u,this.customOption),l.removeClass(a,"excluded"),this.customOption||(a.innerHTML=function(o,u){var g=new RegExp(o,"i").exec(u.textContent);return!!g&&u.textContent.replace(g[0],"<span class='selectr-match'>"+g[0]+"</span>")}(o,d))):l.addClass(a,"excluded")},this),u.childElementCount){var y=u.firstElementChild;l.removeClass(this.items[this.navIndex],"active"),this.navIndex=y.idx,l.addClass(y,"active")}else this.config.taggable||this.setMessage("no results.");else v.call(this);this.tree.appendChild(u)}},p.prototype.toggle=function(){this.disabled||(this.opened?this.close():this.open())},p.prototype.open=function(){var o=this;return!!this.options.length&&(this.opened||this.emit("selectr.open"),this.opened=!0,this.mobileDevice||this.config.nativeDropdown?(l.addClass(this.container,"native-open"),void(this.config.data&&l.each(this.options,function(u,g){this.el.add(g)},this))):(l.addClass(this.container,"open"),v.call(this),this.invert(),this.tree.scrollTop=0,l.removeClass(this.container,"notice"),this.selected.setAttribute("aria-expanded",!0),this.tree.setAttribute("aria-hidden",!1),this.tree.setAttribute("aria-expanded",!0),void(this.config.searchable&&!this.config.taggable&&setTimeout(function(){o.input.focus(),o.input.tabIndex=0},10))))},p.prototype.close=function(){if(this.opened&&this.emit("selectr.close"),this.opened=!1,this.mobileDevice||this.config.nativeDropdown)l.removeClass(this.container,"native-open");else{var o=l.hasClass(this.container,"notice");this.config.searchable&&!o&&(this.input.blur(),this.input.tabIndex=-1,this.searching=!1),o&&(l.removeClass(this.container,"notice"),this.notice.textContent=""),l.removeClass(this.container,"open"),l.removeClass(this.container,"native-open"),this.selected.setAttribute("aria-expanded",!1),this.tree.setAttribute("aria-hidden",!0),this.tree.setAttribute("aria-expanded",!1),l.truncate(this.tree),c.call(this)}},p.prototype.enable=function(){this.disabled=!1,this.el.disabled=!1,this.selected.tabIndex=this.originalIndex,this.el.multiple&&l.each(this.tags,function(o,u){u.lastElementChild.tabIndex=0}),l.removeClass(this.container,"selectr-disabled")},p.prototype.disable=function(o){o||(this.el.disabled=!0),this.selected.tabIndex=-1,this.el.multiple&&l.each(this.tags,function(u,g){g.lastElementChild.tabIndex=-1}),this.disabled=!0,l.addClass(this.container,"selectr-disabled")},p.prototype.reset=function(){this.disabled||(this.clear(),this.setSelected(!0),l.each(this.defaultSelected,function(o,u){this.select(u)},this),this.emit("selectr.reset"))},p.prototype.clear=function(o){if(this.el.multiple){if(this.selectedIndexes.length){var u=this.selectedIndexes.slice();l.each(u,function(g,y){this.deselect(y)},this)}}else this.selectedIndex>-1&&this.deselect(this.selectedIndex,o);this.emit("selectr.clear")},p.prototype.serialise=function(o){var u=[];return l.each(this.options,function(g,y){var C={value:y.value,text:y.textContent};y.selected&&(C.selected=!0),y.disabled&&(C.disabled=!0),u[g]=C}),o?JSON.stringify(u):u},p.prototype.serialize=function(o){return this.serialise(o)},p.prototype.setPlaceholder=function(o){o=o||this.config.placeholder||this.el.getAttribute("placeholder"),this.options.length||(o="No options available"),this.placeEl.innerHTML=o},p.prototype.paginate=function(){if(this.items.length){var o=this;return this.pages=this.items.map(function(u,g){return g%o.config.pagination==0?o.items.slice(g,g+o.config.pagination):null}).filter(function(u){return u}),this.pages}},p.prototype.setMessage=function(o,u){u&&this.close(),l.addClass(this.container,"notice"),this.notice.textContent=o},p.prototype.removeMessage=function(){l.removeClass(this.container,"notice"),this.notice.innerHTML=""},p.prototype.invert=function(){var o=l.rect(this.selected),g=window.innerHeight;o.top+o.height+this.tree.parentNode.offsetHeight>g?(l.addClass(this.container,"inverted"),this.isInverted=!0):(l.removeClass(this.container,"inverted"),this.isInverted=!1),this.optsRect=l.rect(this.tree)},p.prototype.getOptionByIndex=function(o){return this.options[o]},p.prototype.getOptionByValue=function(o){for(var u=!1,g=0,y=this.options.length;g<y;g++)if(this.options[g].value.trim()===o.toString().trim()){u=this.options[g];break}return u},U.exports=p},function(U,K,m){"use strict";function A(b,l,v,h){for(var f={code:{text:"Code",title:"Switch to code highlighter",click:function(){h("code")}},form:{text:"Form",title:"Switch to form editor",click:function(){h("form")}},text:{text:"Text",title:"Switch to plain text editor",click:function(){h("text")}},tree:{text:"Tree",title:"Switch to tree editor",click:function(){h("tree")}},view:{text:"View",title:"Switch to tree view",click:function(){h("view")}}},n=[],e=0;e<l.length;e++){var t=l[e],i=f[t];if(!i)throw new Error('Unknown mode "'+t+'"');i.className="jsoneditor-type-modes"+(v==t?" jsoneditor-selected":""),n.push(i)}var s=f[v];if(!s)throw new Error('Unknown mode "'+v+'"');var c=s.text,r=document.createElement("button");r.type="button",r.className="jsoneditor-modes jsoneditor-separator",r.innerHTML=c+" &#x25BE;",r.title="Switch editor mode",r.onclick=function(){new S(n).show(r)};var p=document.createElement("div");p.className="jsoneditor-modes",p.style.position="relative",p.appendChild(r),b.appendChild(p),this.dom={container:b,box:r,frame:p}}var S=m(57);A.prototype.focus=function(){this.dom.box.focus()},A.prototype.destroy=function(){this.dom&&this.dom.frame&&this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom=null},U.exports=A},function(U,K){"use strict";U.exports=function(A){function S(r){var p,o;document.createRange?((p=document.createRange()).selectNodeContents(r),p.collapse(!1),(o=window.getSelection()).removeAllRanges(),o.addRange(p)):document.selection&&((p=document.body.createTextRange()).moveToElementText(r),p.collapse(!1),p.select())}function b(r){return void 0===n&&((n=document.createElement("span")).style.visibility="hidden",n.style.position="fixed",n.style.outline="0",n.style.margin="0",n.style.padding="0",n.style.border="0",n.style.left="0",n.style.whiteSpace="pre",n.style.fontSize=l,n.style.fontFamily=v,n.style.fontWeight="normal",document.body.appendChild(n)),n.innerHTML=String(r).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n.getBoundingClientRect().right}(A=A||{}).confirmKeys=A.confirmKeys||[39,35,9],A.caseSensitive=A.caseSensitive||!1;var l="",v="",h=document.createElement("div");h.style.position="relative",h.style.outline="0",h.style.border="0",h.style.margin="0",h.style.padding="0";var f=document.createElement("div");f.className="autocomplete dropdown",f.style.position="absolute",f.style.visibility="hidden";var n,e,r,o,u,g,y,C,d,a,t={onArrowDown:function(){},onArrowUp:function(){},onEnter:function(){},onTab:function(){},startFrom:0,options:[],element:null,elementHint:null,elementStyle:null,wrapper:h,show:function(r,p,o){this.startFrom=p,this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null),""==l&&(l=window.getComputedStyle(r).getPropertyValue("font-size")),""==v&&(v=window.getComputedStyle(r).getPropertyValue("font-family")),r.getBoundingClientRect(),r.getBoundingClientRect(),f.style.marginLeft="0",f.style.marginTop=r.getBoundingClientRect().height+"px",this.options=o,this.element!=r&&(this.element=r,this.elementStyle={zIndex:this.element.style.zIndex,position:this.element.style.position,backgroundColor:this.element.style.backgroundColor,borderColor:this.element.style.borderColor}),this.element.style.zIndex=3,this.element.style.position="relative",this.element.style.backgroundColor="transparent",this.element.style.borderColor="transparent",this.elementHint=r.cloneNode(),this.elementHint.className="autocomplete hint",this.elementHint.style.zIndex=2,this.elementHint.style.position="absolute",this.elementHint.onfocus=function(){this.element.focus()}.bind(this),this.element.addEventListener&&(this.element.removeEventListener("keydown",s),this.element.addEventListener("keydown",s,!1),this.element.removeEventListener("blur",c),this.element.addEventListener("blur",c,!1)),h.appendChild(this.elementHint),h.appendChild(f),r.parentElement.appendChild(h),this.repaint(r)},setText:function(r){this.element.innerText=r},getText:function(){return this.element.innerText},hideDropDown:function(){this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null,i.hide(),this.element.style.zIndex=this.elementStyle.zIndex,this.element.style.position=this.elementStyle.position,this.element.style.backgroundColor=this.elementStyle.backgroundColor,this.element.style.borderColor=this.elementStyle.borderColor)},repaint:function(r){var p=r.innerText;p=p.replace("\n","");var o=this.options.length,u=p.substring(this.startFrom);e=p.substring(0,this.startFrom);for(var g=0;g<o;g++){var y=this.options[g];if(!A.caseSensitive&&0===y.toLowerCase().indexOf(u.toLowerCase())||A.caseSensitive&&0===y.indexOf(u)){this.elementHint.innerText=e+u+y.substring(u.length),this.elementHint.realInnerText=e+y;break}}f.style.left=b(e)+"px",i.refresh(u,this.options),this.elementHint.style.width=b(this.elementHint.innerText)+10+"px","hidden"==f.style.visibility||(this.elementHint.style.width=b(this.elementHint.innerText)+f.clientWidth+"px")}},i=(r=f,o=[],u=0,g=-1,y=function(){this.style.outline="1px solid #ddd"},C=function(){this.style.outline="0"},d=function(){a.hide(),a.onmouseselection(this.__hint,a.rs)},a={rs:t,hide:function(){r.style.visibility="hidden"},refresh:function(w,E){r.style.visibility="hidden",u=0,r.innerHTML="";var F=window.innerHeight||document.documentElement.clientHeight,_=r.parentNode.getBoundingClientRect(),B=_.top-6,R=F-_.bottom-6;o=[];for(var P=0;P<E.length;P++)if(!(A.caseSensitive&&0!==E[P].indexOf(w)||!A.caseSensitive&&0!==E[P].toLowerCase().indexOf(w.toLowerCase()))){var x=document.createElement("div");x.className="item",x.onmouseover=y,x.onmouseout=C,x.onmousedown=d,x.__hint=E[P],x.innerHTML=E[P].substring(0,w.length)+"<b>"+E[P].substring(w.length)+"</b>",o.push(x),r.appendChild(x)}0!==o.length&&(1===o.length&&(w.toLowerCase()===o[0].__hint.toLowerCase()&&!A.caseSensitive||w===o[0].__hint&&A.caseSensitive)||o.length<2||(a.highlight(0),B>3*R?(r.style.maxHeight=B+"px",r.style.top="",r.style.bottom="100%"):(r.style.top="100%",r.style.bottom="",r.style.maxHeight=R+"px"),r.style.visibility="visible"))},highlight:function(w){-1!=g&&o[g]&&(o[g].className="item"),o[w].className="item hover",g=w},move:function(w){return"hidden"===r.style.visibility?"":(u+w===-1||u+w===o.length||a.highlight(u+=w),o[u].__hint)},onmouseselection:function(){}}),s=function(r){var p=(r=r||window.event).keyCode;if(null!=this.elementHint&&33!=p&&34!=p){if(27==p)return t.hideDropDown(),t.element.focus(),r.preventDefault(),void r.stopPropagation();var o=this.element.innerText;if(o=o.replace("\n",""),A.confirmKeys.indexOf(p)>=0)return 9==p&&0==this.elementHint.innerText.length&&t.onTab(),void(this.elementHint.innerText.length>0&&this.element.innerText!=this.elementHint.realInnerText&&(this.element.innerText=this.elementHint.realInnerText,t.hideDropDown(),S(this.element),9==p&&(t.element.focus(),r.preventDefault(),r.stopPropagation())));if(13!=p){if(40==p){var u=o.substring(this.startFrom);return""==(g=i.move(1))&&t.onArrowDown(),this.elementHint.innerText=e+u+g.substring(u.length),this.elementHint.realInnerText=e+g,r.preventDefault(),void r.stopPropagation()}var g;if(38==p)return u=o.substring(this.startFrom),""==(g=i.move(-1))&&t.onArrowUp(),this.elementHint.innerText=e+u+g.substring(u.length),this.elementHint.realInnerText=e+g,r.preventDefault(),void r.stopPropagation()}else if(0==this.elementHint.innerText.length)t.onEnter();else{var y="hidden"==f.style.visibility;if(i.hide(),y)return t.hideDropDown(),t.element.focus(),void t.onEnter();this.element.innerText=this.elementHint.realInnerText,t.hideDropDown(),S(this.element),r.preventDefault(),r.stopPropagation()}}}.bind(t),c=function(r){t.hideDropDown()}.bind(t);return i.onmouseselection=function(r,p){p.element.innerText=p.elementHint.innerText=e+r,p.hideDropDown(),window.setTimeout(function(){p.element.focus(),S(p.element)},1)},t}},function(U,K,m){"use strict";var A=m(72),S=m(69),b=m(54),l={create:function(v,h){void 0===(h=h||{}).statusBar&&(h.statusBar=!0),this.options=h,this.indentation=h.indentation?Number(h.indentation):2;var f=h.ace?h.ace:A;if(this.mode="code"==h.mode?"code":"text","code"==this.mode&&void 0===f&&(this.mode="text",console.warn("Failed to load Ace editor, falling back to plain text mode. Please use a JSONEditor bundle including Ace, or pass Ace as via the configuration option `ace`.")),this.theme=h.theme||"ace/theme/jsoneditor","ace/theme/jsoneditor"===this.theme&&f)try{m(78)}catch(F){console.error(F)}h.onTextSelectionChange&&this.onTextSelectionChange(h.onTextSelectionChange);var n=this;this.container=v,this.dom={},this.aceEditor=void 0,this.textarea=void 0,this.validateSchema=null,this._debouncedValidate=b.debounce(this.validate.bind(this),this.DEBOUNCE_INTERVAL),this.width=v.clientWidth,this.height=v.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.frame.onclick=function(F){F.preventDefault()},this.frame.onkeydown=function(F){n._onKeyDown(F)},this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var e=document.createElement("button");e.type="button",e.className="jsoneditor-format",e.title="Format JSON data, with proper indentation and line feeds (Ctrl+\\)",this.menu.appendChild(e),e.onclick=function(){try{n.format(),n._onChange()}catch(F){n._onError(F)}};var t=document.createElement("button");t.type="button",t.className="jsoneditor-compact",t.title="Compact JSON data, remove all whitespaces (Ctrl+Shift+\\)",this.menu.appendChild(t),t.onclick=function(){try{n.compact(),n._onChange()}catch(F){n._onError(F)}};var i=document.createElement("button");i.type="button",i.className="jsoneditor-repair",i.title="Repair JSON: fix quotes and escape characters, remove comments and JSONP notation, turn JavaScript objects into JSON.",this.menu.appendChild(i),i.onclick=function(){try{n.repair(),n._onChange()}catch(F){n._onError(F)}},this.options&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new S(this.menu,this.options.modes,this.options.mode,function(F){n.setMode(F),n.modeSwitcher.focus()}));var c=this.options.onEditable&&typeof("function"===this.options.onEditable)&&!this.options.onEditable({});if(this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.frame.appendChild(this.content),this.container.appendChild(this.frame),"code"==this.mode){this.editorDom=document.createElement("div"),this.editorDom.style.height="100%",this.editorDom.style.width="100%",this.content.appendChild(this.editorDom);var r=f.edit(this.editorDom);r.$blockScrolling=1/0,r.setTheme(this.theme),r.setOptions({readOnly:c}),r.setShowPrintMargin(!1),r.setFontSize(13),r.getSession().setMode("ace/mode/json"),r.getSession().setTabSize(this.indentation),r.getSession().setUseSoftTabs(!0),r.getSession().setUseWrapMode(!0),r.commands.bindKey("Ctrl-L",null),r.commands.bindKey("Command-L",null),this.aceEditor=r,this.hasOwnProperty("editor")||Object.defineProperty(this,"editor",{get:function(){return console.warn('Property "editor" has been renamed to "aceEditor".'),n.aceEditor},set:function(F){console.warn('Property "editor" has been renamed to "aceEditor".'),n.aceEditor=F}});var p=document.createElement("a");p.appendChild(document.createTextNode("powered by ace")),p.href="http://ace.ajax.org",p.target="_blank",p.className="jsoneditor-poweredBy",p.onclick=function(){window.open(p.href,p.target)},this.menu.appendChild(p),r.on("change",this._onChange.bind(this)),r.on("changeSelection",this._onSelect.bind(this))}else{var o=document.createElement("textarea");o.className="jsoneditor-text",o.spellcheck=!1,this.content.appendChild(o),this.textarea=o,this.textarea.readOnly=c,null===this.textarea.oninput?this.textarea.oninput=this._onChange.bind(this):this.textarea.onchange=this._onChange.bind(this),o.onselect=this._onSelect.bind(this),o.onmousedown=this._onMouseDown.bind(this),o.onblur=this._onBlur.bind(this)}var u=document.createElement("div");if(u.className="validation-errors-container",this.dom.validationErrorsContainer=u,this.frame.appendChild(u),h.statusBar){b.addClassName(this.content,"has-status-bar"),this.curserInfoElements={};var g=document.createElement("div");this.dom.statusBar=g,g.className="jsoneditor-statusbar",this.frame.appendChild(g);var y=document.createElement("span");y.className="jsoneditor-curserinfo-label",y.innerText="Ln:";var C=document.createElement("span");C.className="jsoneditor-curserinfo-val",C.innerText="1",g.appendChild(y),g.appendChild(C);var d=document.createElement("span");d.className="jsoneditor-curserinfo-label",d.innerText="Col:";var a=document.createElement("span");a.className="jsoneditor-curserinfo-val",a.innerText="1",g.appendChild(d),g.appendChild(a),this.curserInfoElements.colVal=a,this.curserInfoElements.lnVal=C;var w=document.createElement("span");w.className="jsoneditor-curserinfo-label",w.innerText="characters selected",w.style.display="none";var E=document.createElement("span");E.className="jsoneditor-curserinfo-count",E.innerText="0",E.style.display="none",this.curserInfoElements.countLabel=w,this.curserInfoElements.countVal=E,g.appendChild(E),g.appendChild(w)}this.setSchema(this.options.schema,this.options.schemaRefs)},_onChange:function(){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(v){console.error("Error in onChange callback: ",v)}},_onSelect:function(){this._updateCursorInfo(),this._emitSelectionChange()},_onKeyDown:function(v){var f=!1;220==(v.which||v.keyCode)&&v.ctrlKey&&(v.shiftKey?(this.compact(),this._onChange()):(this.format(),this._onChange()),f=!0),f&&(v.preventDefault(),v.stopPropagation()),this._updateCursorInfo(),this._emitSelectionChange()},_onMouseDown:function(v){this._updateCursorInfo(),this._emitSelectionChange()},_onBlur:function(v){this._updateCursorInfo(),this._emitSelectionChange()},_updateCursorInfo:function(){function v(){e.curserInfoElements.countVal.innerText!==n&&(e.curserInfoElements.countVal.innerText=n,e.curserInfoElements.countVal.style.display=n?"inline":"none",e.curserInfoElements.countLabel.style.display=n?"inline":"none"),e.curserInfoElements.lnVal.innerText=h,e.curserInfoElements.colVal.innerText=f}var h,f,n,e=this;if(this.textarea)setTimeout(function(){var s=b.getInputSelection(e.textarea);s.startIndex!==s.endIndex&&(n=s.endIndex-s.startIndex),n&&e.cursorInfo&&e.cursorInfo.line===s.end.row&&e.cursorInfo.column===s.end.column?(h=s.start.row,f=s.start.column):(h=s.end.row,f=s.end.column),e.cursorInfo={line:h,column:f,count:n},e.options.statusBar&&v()},0);else if(this.aceEditor&&this.curserInfoElements){var t=this.aceEditor.getCursorPosition(),i=this.aceEditor.getSelectedText();e.cursorInfo={line:h=t.row+1,column:f=t.column+1,count:n=i.length},this.options.statusBar&&v()}},_emitSelectionChange:function(){if(this._selectionChangedHandler){var v=this.getTextSelection();this._selectionChangedHandler(v.start,v.end,v.text)}},destroy:function(){this.aceEditor&&(this.aceEditor.destroy(),this.aceEditor=null),this.frame&&this.container&&this.frame.parentNode==this.container&&this.container.removeChild(this.frame),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this.textarea=null,this._debouncedValidate=null},compact:function(){var v=this.get(),h=JSON.stringify(v);this.setText(h)},format:function(){var v=this.get(),h=JSON.stringify(v,null,this.indentation);this.setText(h)},repair:function(){var v=this.getText(),h=b.sanitize(v);this.setText(h)},focus:function(){this.textarea&&this.textarea.focus(),this.aceEditor&&this.aceEditor.focus()},resize:function(){this.aceEditor&&this.aceEditor.resize(!1)},set:function(v){this.setText(JSON.stringify(v,null,this.indentation))},get:function(){var v,h=this.getText();try{v=b.parse(h)}catch(f){h=b.sanitize(h),v=b.parse(h)}return v},getText:function(){return this.textarea?this.textarea.value:this.aceEditor?this.aceEditor.getValue():""},setText:function(v){var h;if(h=!0===this.options.escapeUnicode?b.escapeUnicodeChars(v):v,this.textarea&&(this.textarea.value=h),this.aceEditor){var f=this.options.onChange;this.options.onChange=null,this.aceEditor.setValue(h,-1),this.options.onChange=f}this.validate()},validate:function(){this.dom.validationErrors&&(this.dom.validationErrors.parentNode.removeChild(this.dom.validationErrors),this.dom.validationErrors=null,this.content.style.marginBottom="",this.content.style.paddingBottom="");var v,h=!1,f=[];try{v=this.get(),h=!0}catch(i){}if(h&&this.validateSchema&&(this.validateSchema(v)||(f=this.validateSchema.errors.map(function(i){return b.improveSchemaError(i)}))),f.length>0){f.length>3&&(f=f.slice(0,3)).push("("+(this.validateSchema.errors.length-3)+" more errors...)");var e=document.createElement("div");e.innerHTML='<table class="jsoneditor-text-errors"><tbody>'+f.map(function(i){return'<tr><td><button class="jsoneditor-schema-error"></button></td>'+("string"==typeof i?'<td colspan="2"><pre>'+i+"</pre></td>":"<td>"+i.dataPath+"</td><td>"+i.message+"</td>")+"</tr>"}).join("")+"</tbody></table>",this.dom.validationErrors=e,this.dom.validationErrorsContainer.appendChild(e);var t=e.clientHeight+(this.dom.statusBar?this.dom.statusBar.clientHeight:0);this.content.style.marginBottom=-t+"px",this.content.style.paddingBottom=t+"px"}this.aceEditor&&this.aceEditor.resize(!1)},getTextSelection:function(){var v={};if(this.textarea){var h=b.getInputSelection(this.textarea);return this.cursorInfo&&this.cursorInfo.line===h.end.row&&this.cursorInfo.column===h.end.column?(v.start=h.end,v.end=h.start):v=h,{start:v.start,end:v.end,text:this.textarea.value.substring(h.startIndex,h.endIndex)}}if(this.aceEditor){var f=this.aceEditor.getSelection(),n=this.aceEditor.getSelectedText(),e=f.getRange(),t=f.getSelectionLead();return t.row===e.end.row&&t.column===e.end.column?v=e:(v.start=e.end,v.end=e.start),{start:{row:v.start.row+1,column:v.start.column+1},end:{row:v.end.row+1,column:v.end.column+1},text:n}}},onTextSelectionChange:function(v){"function"==typeof v&&(this._selectionChangedHandler=b.debounce(v,this.DEBOUNCE_INTERVAL))},setTextSelection:function(v,h){if(v&&h)if(this.textarea){var f=b.getIndexForPosition(this.textarea,v.row,v.column),n=b.getIndexForPosition(this.textarea,h.row,h.column);f>-1&&n>-1&&(this.textarea.setSelectionRange?(this.textarea.focus(),this.textarea.setSelectionRange(f,n)):this.textarea.createTextRange&&((e=this.textarea.createTextRange()).collapse(!0),e.moveEnd("character",n),e.moveStart("character",f),e.select()))}else if(this.aceEditor){var e;this.aceEditor.selection.setRange(e={start:{row:v.row-1,column:v.column-1},end:{row:h.row-1,column:h.column-1}})}}};U.exports=[{mode:"text",mixin:l,data:"text",load:l.format},{mode:"code",mixin:l,data:"text",load:l.format}]},function(U,K,m){var A;if(window.ace)A=window.ace;else try{A=m(73),m(75),m(77)}catch(S){}U.exports=A},function(U,K,m){(function(){var A=function(){return this}();A||"undefined"==typeof window||(A=window);var S=function(f,n,e){"string"==typeof f?(2==arguments.length&&(e=n),S.modules[f]||(S.payloads[f]=e,S.modules[f]=null)):S.original?S.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};S.modules={},S.payloads={};var n,b=function(f,n,e){if("string"==typeof n){var t=h(f,n);if(null!=t)return e&&e(),t}else if("[object Array]"===Object.prototype.toString.call(n)){for(var i=[],s=0,c=n.length;s<c;++s){var r=h(f,n[s]);if(null==r&&l.original)return;i.push(r)}return e&&e.apply(null,i)||!0}},l=function(f,n){var e=b("",f,n);return null==e&&l.original?l.original.apply(this,arguments):e},v=function(f,n){if(-1!==n.indexOf("!")){var e=n.split("!");return v(f,e[0])+"!"+v(f,e[1])}if("."==n.charAt(0))for(n=f.split("/").slice(0,-1).join("/")+"/"+n;-1!==n.indexOf(".")&&i!=n;){var i=n;n=n.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return n},h=function(f,n){n=v(f,n);var e=S.modules[n];if(!e){if("function"==typeof(e=S.payloads[n])){var t={},i={id:n,uri:"",exports:t,packaged:!0};t=e(function(s,c){return b(n,s,c)},t,i)||i.exports,S.modules[n]=t,delete S.payloads[n]}e=S.modules[n]=t||e}return e};n=A,A["ace"]||(A.ace={}),(n=A.ace).define&&n.define.packaged||(S.original=n.define,n.define=S,n.define.packaged=!0),n.acequire&&n.acequire.packaged||(l.original=n.acequire,n.acequire=l,n.acequire.packaged=!0)})(),ace.define("ace/lib/regexp",["require","exports","module"],function(A,S,b){"use strict";function l(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function v(e,t,i){if(Array.prototype.indexOf)return e.indexOf(t,i);for(var s=i||0;s<e.length;s++)if(e[s]===t)return s;return-1}var h={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},f=void 0===h.exec.call(/()??/,"")[1],n=(h.test.call(/^/g,""),!/^/g.lastIndex);n&&f||(RegExp.prototype.exec=function(e){var t,i,s=h.exec.apply(this,arguments);if("string"==typeof e&&s){if(!f&&s.length>1&&v(s,"")>-1&&(i=RegExp(this.source,h.replace.call(l(this),"g","")),h.replace.call(e.slice(s.index),i,function(){for(var r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(s[r]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var c=1;c<s.length;c++)(t=this._xregexp.captureNames[c-1])&&(s[t]=s[c]);!n&&this.global&&!s[0].length&&this.lastIndex>s.index&&this.lastIndex--}return s},n||(RegExp.prototype.test=function(e){var t=h.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(A,S,b){function l(){}function v(k){try{return Object.defineProperty(k,"sentinel",{}),"sentinel"in k}catch(L){}}function h(k){return(k=+k)!=k?k=0:0!==k&&k!==1/0&&k!==-1/0&&(k=(k>0||-1)*Math.floor(Math.abs(k))),k}Function.prototype.bind||(Function.prototype.bind=function(k){var L=this;if("function"!=typeof L)throw new TypeError("Function.prototype.bind called on incompatible "+L);var $=p.call(arguments,1),O=function(){if(this instanceof O){var I=L.apply(this,$.concat(p.call(arguments)));return Object(I)===I?I:this}return L.apply(k,$.concat(p.call(arguments)))};return L.prototype&&(l.prototype=L.prototype,O.prototype=new l,l.prototype=null),O});var f,n,e,t,i,s=Function.prototype.call,r=Object.prototype,p=Array.prototype.slice,o=s.bind(r.toString),u=s.bind(r.hasOwnProperty);if((i=u(r,"__defineGetter__"))&&(f=s.bind(r.__defineGetter__),n=s.bind(r.__defineSetter__),e=s.bind(r.__lookupGetter__),t=s.bind(r.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function k(O){var I=new Array(O+2);return I[0]=I[1]=0,I}var L,$=[];if($.splice.apply($,k(20)),$.splice.apply($,k(26)),L=$.length,$.splice(5,0,"XXX"),L+1==$.length)return!0}()){var g=Array.prototype.splice;Array.prototype.splice=function(k,L){return arguments.length?g.apply(this,[void 0===k?0:k,void 0===L?this.length-k:L].concat(p.call(arguments,2))):[]}}else Array.prototype.splice=function(k,L){var $=this.length;k>0?k>$&&(k=$):null==k?k=0:k<0&&(k=Math.max($+k,0)),k+L<$||(L=$-k);var O=this.slice(k,k+L),I=p.call(arguments,2),j=I.length;if(k===$)j&&this.push.apply(this,I);else{var z=Math.min(L,$-k),N=k+z,W=N+j-z,G=$-N,J=$-z;if(W<N)for(var M=0;M<G;++M)this[W+M]=this[N+M];else if(W>N)for(M=G;M--;)this[W+M]=this[N+M];if(j&&k===J)this.length=J,this.push.apply(this,I);else for(this.length=J+j,M=0;M<j;++M)this[k+M]=I[M]}return O};Array.isArray||(Array.isArray=function(k){return"[object Array]"==o(k)});var d,L,y=Object("a"),C="a"!=y[0]||!(0 in y);if(Array.prototype.forEach||(Array.prototype.forEach=function(k){var L=T(this),$=C&&"[object String]"==o(this)?this.split(""):L,O=arguments[1],I=-1,j=$.length>>>0;if("[object Function]"!=o(k))throw new TypeError;for(;++I<j;)I in $&&k.call(O,$[I],I,L)}),Array.prototype.map||(Array.prototype.map=function(k){var L=T(this),$=C&&"[object String]"==o(this)?this.split(""):L,O=$.length>>>0,I=Array(O),j=arguments[1];if("[object Function]"!=o(k))throw new TypeError(k+" is not a function");for(var z=0;z<O;z++)z in $&&(I[z]=k.call(j,$[z],z,L));return I}),Array.prototype.filter||(Array.prototype.filter=function(k){var L,$=T(this),O=C&&"[object String]"==o(this)?this.split(""):$,I=O.length>>>0,j=[],z=arguments[1];if("[object Function]"!=o(k))throw new TypeError(k+" is not a function");for(var N=0;N<I;N++)N in O&&k.call(z,L=O[N],N,$)&&j.push(L);return j}),Array.prototype.every||(Array.prototype.every=function(k){var L=T(this),$=C&&"[object String]"==o(this)?this.split(""):L,O=$.length>>>0,I=arguments[1];if("[object Function]"!=o(k))throw new TypeError(k+" is not a function");for(var j=0;j<O;j++)if(j in $&&!k.call(I,$[j],j,L))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(k){var L=T(this),$=C&&"[object String]"==o(this)?this.split(""):L,O=$.length>>>0,I=arguments[1];if("[object Function]"!=o(k))throw new TypeError(k+" is not a function");for(var j=0;j<O;j++)if(j in $&&k.call(I,$[j],j,L))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(k){var L=T(this),$=C&&"[object String]"==o(this)?this.split(""):L,O=$.length>>>0;if("[object Function]"!=o(k))throw new TypeError(k+" is not a function");if(!O&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var I,j=0;if(arguments.length>=2)I=arguments[1];else for(;;){if(j in $){I=$[j++];break}if(++j>=O)throw new TypeError("reduce of empty array with no initial value")}for(;j<O;j++)j in $&&(I=k.call(void 0,I,$[j],j,L));return I}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(k){var L=T(this),$=C&&"[object String]"==o(this)?this.split(""):L,O=$.length>>>0;if("[object Function]"!=o(k))throw new TypeError(k+" is not a function");if(!O&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var I,j=O-1;if(arguments.length>=2)I=arguments[1];else for(;;){if(j in $){I=$[j--];break}if(--j<0)throw new TypeError("reduceRight of empty array with no initial value")}do{j in this&&(I=k.call(void 0,I,$[j],j,L))}while(j--);return I}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(k){var L=C&&"[object String]"==o(this)?this.split(""):T(this),$=L.length>>>0;if(!$)return-1;var O=0;for(arguments.length>1&&(O=h(arguments[1])),O=O>=0?O:Math.max(0,$+O);O<$;O++)if(O in L&&L[O]===k)return O;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(k){var L=C&&"[object String]"==o(this)?this.split(""):T(this),$=L.length>>>0;if(!$)return-1;var O=$-1;for(arguments.length>1&&(O=Math.min(O,h(arguments[1]))),O=O>=0?O:$-Math.abs(O);O>=0;O--)if(O in L&&k===L[O])return O;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(k){return k.__proto__||(k.constructor?k.constructor.prototype:r)}),!Object.getOwnPropertyDescriptor&&(Object.getOwnPropertyDescriptor=function(k,L){if("object"!=typeof k&&"function"!=typeof k||null===k)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+k);if(u(k,L)){var $;if($={enumerable:!0,configurable:!0},i){var j=k.__proto__;k.__proto__=r;var O=e(k,L),I=t(k,L);if(k.__proto__=j,O||I)return O&&($.get=O),I&&($.set=I),$}return $.value=k[L],$}}),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(k){return Object.keys(k)}),Object.create||(d=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var k={};for(var L in k)k[L]=null;return k.constructor=k.hasOwnProperty=k.propertyIsEnumerable=k.isPrototypeOf=k.toLocaleString=k.toString=k.valueOf=k.__proto__=null,k},Object.create=function(k,L){var $;if(null===k)$=d();else{if("object"!=typeof k)throw new TypeError("typeof prototype["+typeof k+"] != 'object'");var O=function(){};O.prototype=k,($=new O).__proto__=k}return void 0!==L&&Object.defineProperties($,L),$}),Object.defineProperty){var a=v({}),w="undefined"==typeof document||v(document.createElement("div"));if(!a||!w)var E=Object.defineProperty}(!Object.defineProperty||E)&&(Object.defineProperty=function(k,L,$){if("object"!=typeof k&&"function"!=typeof k||null===k)throw new TypeError("Object.defineProperty called on non-object: "+k);if("object"!=typeof $&&"function"!=typeof $||null===$)throw new TypeError("Property description must be an object: "+$);if(E)try{return E.call(Object,k,L,$)}catch(I){}if(u($,"value"))if(i&&(e(k,L)||t(k,L))){var O=k.__proto__;k.__proto__=r,delete k[L],k[L]=$.value,k.__proto__=O}else k[L]=$.value;else{if(!i)throw new TypeError("getters & setters can not be defined on this javascript engine");u($,"get")&&f(k,L,$.get),u($,"set")&&n(k,L,$.set)}return k}),Object.defineProperties||(Object.defineProperties=function(k,L){for(var $ in L)u(L,$)&&Object.defineProperty(k,$,L[$]);return k}),Object.seal||(Object.seal=function(k){return k}),Object.freeze||(Object.freeze=function(k){return k});try{Object.freeze(function(){})}catch(k){Object.freeze=(L=Object.freeze,function($){return"function"==typeof $?$:L($)})}if(Object.preventExtensions||(Object.preventExtensions=function(k){return k}),Object.isSealed||(Object.isSealed=function(k){return!1}),Object.isFrozen||(Object.isFrozen=function(k){return!1}),Object.isExtensible||(Object.isExtensible=function(k){if(Object(k)===k)throw new TypeError;for(var L="";u(k,L);)L+="?";k[L]=!0;var $=u(k,L);return delete k[L],$}),!Object.keys){var F=!0,_=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],B=_.length;for(var R in{toString:null})F=!1;Object.keys=function(k){if("object"!=typeof k&&"function"!=typeof k||null===k)throw new TypeError("Object.keys called on a non-object");var L=[];for(var $ in k)u(k,$)&&L.push($);if(F)for(var O=0,I=B;O<I;O++){var j=_[O];u(k,j)&&L.push(j)}return L}}Date.now||(Date.now=function(){return(new Date).getTime()});var P="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";if(!String.prototype.trim||P.trim()){P="["+P+"]";var x=new RegExp("^"+P+P+"*"),D=new RegExp(P+P+"*$");String.prototype.trim=function(){return String(this).replace(x,"").replace(D,"")}}var T=function(k){if(null==k)throw new TypeError("can't convert "+k+" to object");return Object(k)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(A,S,b){"use strict";A("./regexp"),A("./es5-shim")}),ace.define("ace/lib/dom",["require","exports","module"],function(A,S,b){"use strict";S.getDocumentHead=function(l){return l||(l=document),l.head||l.getElementsByTagName("head")[0]||l.documentElement},S.createElement=function(l,v){return document.createElementNS?document.createElementNS(v||"http://www.w3.org/1999/xhtml",l):document.createElement(l)},S.hasCssClass=function(l,v){return-1!==(l.className+"").split(/\s+/g).indexOf(v)},S.addCssClass=function(l,v){S.hasCssClass(l,v)||(l.className+=" "+v)},S.removeCssClass=function(l,v){for(var h=l.className.split(/\s+/g);;){var f=h.indexOf(v);if(-1==f)break;h.splice(f,1)}l.className=h.join(" ")},S.toggleCssClass=function(l,v){for(var h=l.className.split(/\s+/g),f=!0;;){var n=h.indexOf(v);if(-1==n)break;f=!1,h.splice(n,1)}return f&&h.push(v),l.className=h.join(" "),f},S.setCssClass=function(l,v,h){h?S.addCssClass(l,v):S.removeCssClass(l,v)},S.hasCssString=function(l,v){var h,f=0;if((v=v||document).createStyleSheet&&(h=v.styleSheets)){for(;f<h.length;)if(h[f++].owningElement.id===l)return!0}else if(h=v.getElementsByTagName("style"))for(;f<h.length;)if(h[f++].id===l)return!0;return!1},S.importCssString=function(l,v,h){if(h=h||document,v&&S.hasCssString(v,h))return null;var f;v&&(l+="\n/*# sourceURL=ace/css/"+v+" */"),h.createStyleSheet?((f=h.createStyleSheet()).cssText=l,v&&(f.owningElement.id=v)):((f=S.createElement("style")).appendChild(h.createTextNode(l)),v&&(f.id=v),S.getDocumentHead(h).appendChild(f))},S.importCssStylsheet=function(l,v){if(v.createStyleSheet)v.createStyleSheet(l);else{var h=S.createElement("link");h.rel="stylesheet",h.href=l,S.getDocumentHead(v).appendChild(h)}},S.getInnerWidth=function(l){return parseInt(S.computedStyle(l,"paddingLeft"),10)+parseInt(S.computedStyle(l,"paddingRight"),10)+l.clientWidth},S.getInnerHeight=function(l){return parseInt(S.computedStyle(l,"paddingTop"),10)+parseInt(S.computedStyle(l,"paddingBottom"),10)+l.clientHeight},S.scrollbarWidth=function(l){var v=S.createElement("ace_inner");v.style.width="100%",v.style.minWidth="0px",v.style.height="200px",v.style.display="block";var h=S.createElement("ace_outer"),f=h.style;f.position="absolute",f.left="-10000px",f.overflow="hidden",f.width="200px",f.minWidth="0px",f.height="150px",f.display="block",h.appendChild(v);var n=l.documentElement;n.appendChild(h);var e=v.offsetWidth;f.overflow="scroll";var t=v.offsetWidth;return e==t&&(t=h.clientWidth),n.removeChild(h),e-t},"undefined"!=typeof document?(void 0!==window.pageYOffset?(S.getPageScrollTop=function(){return window.pageYOffset},S.getPageScrollLeft=function(){return window.pageXOffset}):(S.getPageScrollTop=function(){return document.body.scrollTop},S.getPageScrollLeft=function(){return document.body.scrollLeft}),S.computedStyle=window.getComputedStyle?function(l,v){return v?(window.getComputedStyle(l,"")||{})[v]||"":window.getComputedStyle(l,"")||{}}:function(l,v){return v?l.currentStyle[v]:l.currentStyle},S.setInnerHtml=function(l,v){var h=l.cloneNode(!1);return h.innerHTML=v,l.parentNode.replaceChild(h,l),h},"textContent"in document.documentElement?(S.setInnerText=function(l,v){l.textContent=v},S.getInnerText=function(l){return l.textContent}):(S.setInnerText=function(l,v){l.innerText=v},S.getInnerText=function(l){return l.innerText}),S.getParentWindow=function(l){return l.defaultView||l.parentWindow}):S.importCssString=function(){}}),ace.define("ace/lib/oop",["require","exports","module"],function(A,S,b){"use strict";S.inherits=function(l,v){l.super_=v,l.prototype=Object.create(v.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}})},S.mixin=function(l,v){for(var h in v)l[h]=v[h];return l},S.implement=function(l,v){S.mixin(l,v)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(A,S,b){"use strict";A("./fixoldbrowsers");var l=A("./oop"),v=function(){var h,f,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(f in n.FUNCTION_KEYS)h=n.FUNCTION_KEYS[f].toLowerCase(),n[h]=parseInt(f,10);for(f in n.PRINTABLE_KEYS)h=n.PRINTABLE_KEYS[f].toLowerCase(),n[h]=parseInt(f,10);return l.mixin(n,n.MODIFIER_KEYS),l.mixin(n,n.PRINTABLE_KEYS),l.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,n[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter(function(i){return t&n.KEY_MODS[i]}).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();l.mixin(S,v),S.keyCodeToString=function(h){var f=v[h];return"string"!=typeof f&&(f=String.fromCharCode(h)),f.toLowerCase()}}),ace.define("ace/lib/useragent",["require","exports","module"],function(A,S,b){"use strict";if(S.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},S.getOS=function(){return S.isMac?S.OS.MAC:S.isLinux?S.OS.LINUX:S.OS.WINDOWS},"object"==typeof navigator){var l=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),v=navigator.userAgent;S.isWin="win"==l,S.isMac="mac"==l,S.isLinux="linux"==l,S.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((v.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((v.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),S.isOldIE=S.isIE&&S.isIE<9,S.isGecko=S.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,S.isOldGecko=S.isGecko&&parseInt((v.match(/rv:(\d+)/)||[])[1],10)<4,S.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),S.isWebKit=parseFloat(v.split("WebKit/")[1])||void 0,S.isChrome=parseFloat(v.split(" Chrome/")[1])||void 0,S.isAIR=v.indexOf("AdobeAIR")>=0,S.isIPad=v.indexOf("iPad")>=0,S.isChromeOS=v.indexOf(" CrOS ")>=0,S.isIOS=/iPad|iPhone|iPod/.test(v)&&!window.MSStream,S.isIOS&&(S.isMac=!0)}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(A,S,b){"use strict";function l(i,s,c){var r=t(s);if(!f.isMac&&n){if(s.getModifierState&&(s.getModifierState("OS")||s.getModifierState("Win"))&&(r|=8),n.altGr){if(3==(3&r))return;n.altGr=0}if(18===c||17===c){var p="location"in s?s.location:s.keyLocation;17===c&&1===p?1==n[c]&&(e=s.timeStamp):18===c&&3===r&&2===p&&s.timeStamp-e<50&&(n.altGr=!0)}}if(c in h.MODIFIER_KEYS&&(c=-1),8&r&&c>=91&&c<=93&&(c=-1),r||13!==c||3!==(p="location"in s?s.location:s.keyLocation)||(i(s,r,-c),!s.defaultPrevented)){if(f.isChromeOS&&8&r){if(i(s,r,c),s.defaultPrevented)return;r&=-9}return!!(r||c in h.FUNCTION_KEYS||c in h.PRINTABLE_KEYS)&&i(s,r,c)}}function v(){n=Object.create(null)}var h=A("./keys"),f=A("./useragent"),n=null,e=0;S.addListener=function(i,s,c){if(i.addEventListener)return i.addEventListener(s,c,!1);if(i.attachEvent){var r=function(){c.call(i,window.event)};c._wrapper=r,i.attachEvent("on"+s,r)}},S.removeListener=function(i,s,c){if(i.removeEventListener)return i.removeEventListener(s,c,!1);i.detachEvent&&i.detachEvent("on"+s,c._wrapper||c)},S.stopEvent=function(i){return S.stopPropagation(i),S.preventDefault(i),!1},S.stopPropagation=function(i){i.stopPropagation?i.stopPropagation():i.cancelBubble=!0},S.preventDefault=function(i){i.preventDefault?i.preventDefault():i.returnValue=!1},S.getButton=function(i){return"dblclick"==i.type?0:"contextmenu"==i.type||f.isMac&&i.ctrlKey&&!i.altKey&&!i.shiftKey?2:i.preventDefault?i.button:{1:0,2:2,4:1}[i.button]},S.capture=function(i,s,c){function r(p){s&&s(p),c&&c(p),S.removeListener(document,"mousemove",s,!0),S.removeListener(document,"mouseup",r,!0),S.removeListener(document,"dragstart",r,!0)}return S.addListener(document,"mousemove",s,!0),S.addListener(document,"mouseup",r,!0),S.addListener(document,"dragstart",r,!0),r},S.addTouchMoveListener=function(i,s){var c,r;S.addListener(i,"touchstart",function(p){var u=p.touches[0];c=u.clientX,r=u.clientY}),S.addListener(i,"touchmove",function(p){var o=p.touches;if(!(o.length>1)){var u=o[0];p.wheelX=c-u.clientX,p.wheelY=r-u.clientY,c=u.clientX,r=u.clientY,s(p)}})},S.addMouseWheelListener=function(i,s){"onmousewheel"in i?S.addListener(i,"mousewheel",function(c){void 0!==c.wheelDeltaX?(c.wheelX=-c.wheelDeltaX/8,c.wheelY=-c.wheelDeltaY/8):(c.wheelX=0,c.wheelY=-c.wheelDelta/8),s(c)}):"onwheel"in i?S.addListener(i,"wheel",function(c){switch(c.deltaMode){case c.DOM_DELTA_PIXEL:c.wheelX=.35*c.deltaX||0,c.wheelY=.35*c.deltaY||0;break;case c.DOM_DELTA_LINE:case c.DOM_DELTA_PAGE:c.wheelX=5*(c.deltaX||0),c.wheelY=5*(c.deltaY||0)}s(c)}):S.addListener(i,"DOMMouseScroll",function(c){c.axis&&c.axis==c.HORIZONTAL_AXIS?(c.wheelX=5*(c.detail||0),c.wheelY=0):(c.wheelX=0,c.wheelY=5*(c.detail||0)),s(c)})},S.addMultiMouseDownListener=function(i,s,c,r){function p(a){if(0!==S.getButton(a)?C=0:a.detail>1?++C>4&&(C=1):C=1,f.isIE){var w=Math.abs(a.clientX-u)>5||Math.abs(a.clientY-g)>5;y&&!w||(C=1),y&&clearTimeout(y),y=setTimeout(function(){y=null},s[C-1]||600),1==C&&(u=a.clientX,g=a.clientY)}if(a._clicks=C,c[r]("mousedown",a),C>4)C=0;else if(C>1)return c[r](d[C],a)}function o(a){C=2,y&&clearTimeout(y),y=setTimeout(function(){y=null},s[C-1]||600),c[r]("mousedown",a),c[r](d[C],a)}var u,g,y,C=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(i)||(i=[i]),i.forEach(function(a){S.addListener(a,"mousedown",p),f.isOldIE&&S.addListener(a,"dblclick",o)})};var t=f.isMac&&f.isOpera&&!("KeyboardEvent"in window)?function(i){return 0|(i.metaKey?1:0)|(i.altKey?2:0)|(i.shiftKey?4:0)|(i.ctrlKey?8:0)}:function(i){return 0|(i.ctrlKey?1:0)|(i.altKey?2:0)|(i.shiftKey?4:0)|(i.metaKey?8:0)};S.getModifierString=function(i){return h.KEY_MODS[t(i)]},S.addCommandKeyListener=function(i,s){var c=S.addListener;if(f.isOldGecko||f.isOpera&&!("KeyboardEvent"in window)){var r=null;c(i,"keydown",function(o){r=o.keyCode}),c(i,"keypress",function(o){return l(s,o,r)})}else{var p=null;c(i,"keydown",function(o){n[o.keyCode]=(n[o.keyCode]||0)+1;var u=l(s,o,o.keyCode);return p=o.defaultPrevented,u}),c(i,"keypress",function(o){p&&(o.ctrlKey||o.altKey||o.shiftKey||o.metaKey)&&(S.stopEvent(o),p=null)}),c(i,"keyup",function(o){n[o.keyCode]=null}),n||(v(),c(window,"focus",v))}},"object"==typeof window&&window.postMessage&&!f.isOldIE&&(S.nextTick=function(i,s){s=s||window,S.addListener(s,"message",function c(r){"zero-timeout-message-1"==r.data&&(S.stopPropagation(r),S.removeListener(s,"message",c),i())}),s.postMessage("zero-timeout-message-1","*")}),S.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),S.nextFrame=S.nextFrame?S.nextFrame.bind(window):function(i){setTimeout(i,17)}}),ace.define("ace/lib/lang",["require","exports","module"],function(A,S,b){"use strict";S.last=function(l){return l[l.length-1]},S.stringReverse=function(l){return l.split("").reverse().join("")},S.stringRepeat=function(l,v){for(var h="";v>0;)1&v&&(h+=l),(v>>=1)&&(l+=l);return h},S.stringTrimLeft=function(l){return l.replace(/^\s\s*/,"")},S.stringTrimRight=function(l){return l.replace(/\s\s*$/,"")},S.copyObject=function(l){var v={};for(var h in l)v[h]=l[h];return v},S.copyArray=function(l){for(var v=[],h=0,f=l.length;h<f;h++)v[h]=l[h]&&"object"==typeof l[h]?this.copyObject(l[h]):l[h];return v},S.deepCopy=function l(v){if("object"!=typeof v||!v)return v;var h;if(Array.isArray(v)){h=[];for(var f=0;f<v.length;f++)h[f]=l(v[f]);return h}if("[object Object]"!==Object.prototype.toString.call(v))return v;for(var f in h={},v)h[f]=l(v[f]);return h},S.arrayToMap=function(l){for(var v={},h=0;h<l.length;h++)v[l[h]]=1;return v},S.createMap=function(l){var v=Object.create(null);for(var h in l)v[h]=l[h];return v},S.arrayRemove=function(l,v){for(var h=0;h<=l.length;h++)v===l[h]&&l.splice(h,1)},S.escapeRegExp=function(l){return l.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},S.escapeHTML=function(l){return l.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},S.getMatchOffsets=function(l,v){var h=[];return l.replace(v,function(f){h.push({offset:arguments[arguments.length-2],length:f.length})}),h},S.deferredCall=function(l){var v=null,h=function(){v=null,l()},f=function(n){return f.cancel(),v=setTimeout(h,n||0),f};return f.schedule=f,f.call=function(){return this.cancel(),l(),f},f.cancel=function(){return clearTimeout(v),v=null,f},f.isPending=function(){return v},f},S.delayedCall=function(l,v){var h=null,f=function(){h=null,l()},n=function(e){null==h&&(h=setTimeout(f,e||v))};return n.delay=function(e){h&&clearTimeout(h),h=setTimeout(f,e||v)},n.schedule=n,n.call=function(){this.cancel(),l()},n.cancel=function(){h&&clearTimeout(h),h=null},n.isPending=function(){return h},n}}),ace.define("ace/keyboard/textinput_ios",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/lib/keys"],function(A,S,b){"use strict";var l=A("../lib/event"),v=A("../lib/useragent"),h=A("../lib/dom"),f=A("../lib/lang"),n=A("../lib/keys"),e=n.KEY_MODS,t=v.isChrome<18,i=v.isIE;S.TextInput=function(c,r){function p(V){if(!w){if(w=!0,D)X=0,Z=V?0:g.value.length-1;else var X=4,Z=5;try{g.setSelectionRange(X,Z)}catch(tt){}w=!1}}function o(){w||(g.value=y,v.isWebKit&&R.schedule())}function u(){clearTimeout(M),M=setTimeout(function(){E&&(g.style.cssText=E,E=""),null==r.renderer.$keepTextAreaAtCursor&&(r.renderer.$keepTextAreaAtCursor=!0,r.renderer.$moveTextAreaToCursor())},0)}var g=h.createElement("textarea");g.className=v.isIOS?"ace_text-input ace_text-input-ios":"ace_text-input",v.isTouchPad&&g.setAttribute("x-palm-disable-auto-cap",!0),g.setAttribute("wrap","off"),g.setAttribute("autocorrect","off"),g.setAttribute("autocapitalize","off"),g.setAttribute("spellcheck",!1),g.style.opacity="0",c.insertBefore(g,c.firstChild);var y="\n aaaa a\n",C=!1,d=!1,a=!1,w=!1,E="",F=!0;try{var _=document.activeElement===g}catch(V){}l.addListener(g,"blur",function(V){r.onBlur(V),_=!1}),l.addListener(g,"focus",function(V){_=!0,r.onFocus(V),p()}),this.focus=function(){if(E)return g.focus();g.style.position="fixed",g.focus()},this.blur=function(){g.blur()},this.isFocused=function(){return _};var B=f.delayedCall(function(){_&&p(F)}),R=f.delayedCall(function(){w||(g.value=y,_&&p())});v.isWebKit||r.addEventListener("changeSelection",function(){r.selection.isEmpty()!=F&&(F=!F,B.schedule())}),o(),_&&r.onFocus();var D=null;this.setInputHandler=function(V){D=V},this.getInputHandler=function(){return D};var T=!1,k=function(V){4===g.selectionStart&&5===g.selectionEnd||(D&&(V=D(V),D=null),a?(p(),V&&r.onPaste(V),a=!1):V==y.substr(0)&&4===g.selectionStart?r.execCommand(T?"del":"backspace",{source:"ace"}):C||(V.substring(0,9)==y&&V.length>y.length?V=V.substr(9):V.substr(0,4)==y.substr(0,4)?V=V.substr(4,V.length-y.length+1):V.charAt(V.length-1)==y.charAt(0)&&(V=V.slice(0,-1)),V==y.charAt(0)||V.charAt(V.length-1)==y.charAt(0)&&(V=V.slice(0,-1)),V&&r.onTextInput(V)),C&&(C=!1),T&&(T=!1))},L=function(V){w||(k(g.value),o())},$=function(V,X,Z){var tt=V.clipboardData||window.clipboardData;if(tt&&!t){var it=i||Z?"Text":"text/plain";try{return X?!1!==tt.setData(it,X):tt.getData(it)}catch(et){if(!Z)return $(et,X,!0)}}},O=function(V,X){var Z=r.getCopyText();if(!Z)return l.preventDefault(V);$(V,Z)?(v.isIOS&&(d=X,g.value="\n aa"+Z+"a a\n",g.setSelectionRange(4,4+Z.length),C={value:Z}),X?r.onCut():r.onCopy(),v.isIOS||l.preventDefault(V)):(C=!0,g.value=Z,g.select(),setTimeout(function(){C=!1,o(),p(),X?r.onCut():r.onCopy()}))};l.addCommandKeyListener(g,r.onCommandKey.bind(r)),l.addListener(g,"select",function(V){!function(V){return 0===V.selectionStart&&V.selectionEnd===V.value.length}(g)?D&&p(r.selection.isEmpty()):(r.selectAll(),p())}),l.addListener(g,"input",L),l.addListener(g,"cut",function(V){O(V,!0)}),l.addListener(g,"copy",function(V){O(V,!1)}),l.addListener(g,"paste",function(V){var X=$(V);"string"==typeof X?(X&&r.onPaste(X,V),v.isIE&&setTimeout(p),l.preventDefault(V)):(g.value="",a=!0)});var W=function(){if(w&&r.onCompositionUpdate&&!r.$readOnly){var V=g.value.replace(/\x01/g,"");if(w.lastValue!==V&&(r.onCompositionUpdate(V),w.lastValue&&r.undo(),w.canUndo&&(w.lastValue=V),w.lastValue)){var X=r.selection.getRange();r.insert(w.lastValue),r.session.markUndoGroup(),w.range=r.selection.getRange(),r.selection.setRange(X),r.selection.clearSelection()}}},G=function(V){if(r.onCompositionEnd&&!r.$readOnly){var X=w;w=!1;var Z=setTimeout(function(){Z=null;var tt=g.value.replace(/\x01/g,"");w||(tt==X.lastValue?o():!X.lastValue&&tt&&(o(),k(tt)))});D=function(tt){return Z&&clearTimeout(Z),(tt=tt.replace(/\x01/g,""))==X.lastValue?"":(X.lastValue&&Z&&r.undo(),tt)},r.onCompositionEnd(),r.removeListener("mousedown",G),"compositionend"==V.type&&X.range&&r.selection.setRange(X.range),(v.isChrome&&v.isChrome>=53||v.isWebKit&&v.isWebKit>=603)&&L()}},J=f.delayedCall(W,50);l.addListener(g,"compositionstart",function(V){w||!r.onCompositionStart||r.$readOnly||((w={}).canUndo=r.session.$undoManager,r.onCompositionStart(),setTimeout(W,0),r.on("mousedown",G),w.canUndo&&!r.selection.isEmpty()&&(r.insert(""),r.session.markUndoGroup(),r.selection.clearSelection()),r.session.markUndoGroup())}),v.isGecko?l.addListener(g,"text",function(){J.schedule()}):(l.addListener(g,"keyup",function(){J.schedule()}),l.addListener(g,"keydown",function(){J.schedule()})),l.addListener(g,"compositionend",G),this.getElement=function(){return g},this.setReadOnly=function(V){g.readOnly=V},this.onContextMenu=function(V){T=!0,p(r.selection.isEmpty()),r._emit("nativecontextmenu",{target:r,domEvent:V}),this.moveToMouse(V,!0)},this.moveToMouse=function(V,X){E||(E=g.style.cssText),g.style.cssText=(X?"z-index:100000;":"")+"height:"+g.style.height+";"+(v.isIE?"opacity:0.1;":"");var Z=r.container.getBoundingClientRect(),tt=h.computedStyle(r.container),it=Z.top+(parseInt(tt.borderTopWidth)||0),et=Z.left+(parseInt(Z.borderLeftWidth)||0),nt=Z.bottom-it-g.clientHeight-2,rt=function(st){g.style.left=st.clientX-et-2+"px",g.style.top=Math.min(st.clientY-it-2,nt)+"px"};rt(V),"mousedown"==V.type&&(r.renderer.$keepTextAreaAtCursor&&(r.renderer.$keepTextAreaAtCursor=null),clearTimeout(M),v.isWin&&l.capture(r.container,rt,u))},this.onContextMenuClose=u;var M,H=function(V){r.textInput.onContextMenu(V),u()};if(l.addListener(g,"mouseup",H),l.addListener(g,"mousedown",function(V){V.preventDefault(),u()}),l.addListener(r.renderer.scroller,"contextmenu",H),l.addListener(g,"contextmenu",H),v.isIOS){var q=null,Y=!1;c.addEventListener("keydown",function(V){q&&clearTimeout(q),Y=!0}),c.addEventListener("keyup",function(V){q=setTimeout(function(){Y=!1},100)});var Q=function(V){if(document.activeElement===g&&!Y){if(d)return setTimeout(function(){d=!1},100);var X=g.selectionStart,Z=g.selectionEnd;if(g.setSelectionRange(4,5),X==Z)switch(X){case 0:r.onCommandKey(null,0,n.up);break;case 1:r.onCommandKey(null,0,n.home);break;case 2:r.onCommandKey(null,e.option,n.left);break;case 4:r.onCommandKey(null,0,n.left);break;case 5:r.onCommandKey(null,0,n.right);break;case 7:r.onCommandKey(null,e.option,n.right);break;case 8:r.onCommandKey(null,0,n.end);break;case 9:r.onCommandKey(null,0,n.down)}else{switch(Z){case 6:r.onCommandKey(null,e.shift,n.right);break;case 7:r.onCommandKey(null,e.shift|e.option,n.right);break;case 8:r.onCommandKey(null,e.shift,n.end);break;case 9:r.onCommandKey(null,e.shift,n.down)}switch(X){case 0:r.onCommandKey(null,e.shift,n.up);break;case 1:r.onCommandKey(null,e.shift,n.home);break;case 2:r.onCommandKey(null,e.shift|e.option,n.left);break;case 3:r.onCommandKey(null,e.shift,n.left)}}}};document.addEventListener("selectionchange",Q),r.on("destroy",function(){document.removeEventListener("selectionchange",Q)})}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/keyboard/textinput_ios"],function(A,S,b){"use strict";var l=A("../lib/event"),v=A("../lib/useragent"),h=A("../lib/dom"),f=A("../lib/lang"),n=v.isChrome<18,e=v.isIE,t=A("./textinput_ios").TextInput;S.TextInput=function(s,c){function r(M){if(!d){if(d=!0,P)var H=0,q=M?0:u.value.length-1;else H=M?2:1,q=2;try{u.setSelectionRange(H,q)}catch(Y){}d=!1}}function p(){d||(u.value=g,v.isWebKit&&_.schedule())}function o(){clearTimeout(G),G=setTimeout(function(){a&&(u.style.cssText=a,a=""),null==c.renderer.$keepTextAreaAtCursor&&(c.renderer.$keepTextAreaAtCursor=!0,c.renderer.$moveTextAreaToCursor())},0)}if(v.isIOS)return t.call(this,s,c);var u=h.createElement("textarea");u.className="ace_text-input",u.setAttribute("wrap","off"),u.setAttribute("autocorrect","off"),u.setAttribute("autocapitalize","off"),u.setAttribute("spellcheck",!1),u.style.opacity="0",s.insertBefore(u,s.firstChild);var g="\u2028\u2028",y=!1,C=!1,d=!1,a="",w=!0;try{var E=document.activeElement===u}catch(M){}l.addListener(u,"blur",function(M){c.onBlur(M),E=!1}),l.addListener(u,"focus",function(M){E=!0,c.onFocus(M),r()}),this.focus=function(){if(a)return u.focus();var M=u.style.top;u.style.position="fixed",u.style.top="0px",u.focus(),setTimeout(function(){u.style.position="","0px"==u.style.top&&(u.style.top=M)},0)},this.blur=function(){u.blur()},this.isFocused=function(){return E};var F=f.delayedCall(function(){E&&r(w)}),_=f.delayedCall(function(){d||(u.value=g,E&&r())});v.isWebKit||c.addEventListener("changeSelection",function(){c.selection.isEmpty()!=w&&(w=!w,F.schedule())}),p(),E&&c.onFocus();var P=null;this.setInputHandler=function(M){P=M},this.getInputHandler=function(){return P};var x=!1,D=function(M){P&&(M=P(M),P=null),C?(r(),M&&c.onPaste(M),C=!1):M==g.charAt(0)?c.execCommand(x?"del":"backspace",{source:"ace"}):(M.substring(0,2)==g?M=M.substr(2):M.charAt(0)==g.charAt(0)?M=M.substr(1):M.charAt(M.length-1)==g.charAt(0)&&(M=M.slice(0,-1)),M.charAt(M.length-1)==g.charAt(0)&&(M=M.slice(0,-1)),M&&c.onTextInput(M)),x&&(x=!1)},T=function(M){d||(D(u.value),p())},k=function(M,H,q){var Y=M.clipboardData||window.clipboardData;if(Y&&!n){var Q=e||q?"Text":"text/plain";try{return H?!1!==Y.setData(Q,H):Y.getData(Q)}catch(V){if(!q)return k(V,H,!0)}}},L=function(M,H){var q=c.getCopyText();if(!q)return l.preventDefault(M);k(M,q)?(H?c.onCut():c.onCopy(),l.preventDefault(M)):(y=!0,u.value=q,u.select(),setTimeout(function(){y=!1,p(),r(),H?c.onCut():c.onCopy()}))},$=function(M){L(M,!0)},O=function(M){L(M,!1)},I=function(M){var H=k(M);"string"==typeof H?(H&&c.onPaste(H,M),v.isIE&&setTimeout(r),l.preventDefault(M)):(u.value="",C=!0)};l.addCommandKeyListener(u,c.onCommandKey.bind(c)),l.addListener(u,"select",function(M){y?y=!1:function(M){return 0===M.selectionStart&&M.selectionEnd===M.value.length}(u)?(c.selectAll(),r()):P&&r(c.selection.isEmpty())}),l.addListener(u,"input",T),l.addListener(u,"cut",$),l.addListener(u,"copy",O),l.addListener(u,"paste",I),"oncut"in u&&"oncopy"in u&&"onpaste"in u||l.addListener(s,"keydown",function(M){if((!v.isMac||M.metaKey)&&M.ctrlKey)switch(M.keyCode){case 67:O(M);break;case 86:I(M);break;case 88:$(M)}});var z=function(){if(d&&c.onCompositionUpdate&&!c.$readOnly){var M=u.value.replace(/\u2028/g,"");if(d.lastValue!==M&&(c.onCompositionUpdate(M),d.lastValue&&c.undo(),d.canUndo&&(d.lastValue=M),d.lastValue)){var H=c.selection.getRange();c.insert(d.lastValue),c.session.markUndoGroup(),d.range=c.selection.getRange(),c.selection.setRange(H),c.selection.clearSelection()}}},N=function(M){if(c.onCompositionEnd&&!c.$readOnly){var H=d;d=!1;var q=setTimeout(function(){q=null;var Y=u.value.replace(/\u2028/g,"");d||(Y==H.lastValue?p():!H.lastValue&&Y&&(p(),D(Y)))});P=function(Y){return q&&clearTimeout(q),(Y=Y.replace(/\u2028/g,""))==H.lastValue?"":(H.lastValue&&q&&c.undo(),Y)},c.onCompositionEnd(),c.removeListener("mousedown",N),"compositionend"==M.type&&H.range&&c.selection.setRange(H.range),(v.isChrome&&v.isChrome>=53||v.isWebKit&&v.isWebKit>=603)&&T()}},W=f.delayedCall(z,50);l.addListener(u,"compositionstart",function(M){d||!c.onCompositionStart||c.$readOnly||((d={}).canUndo=c.session.$undoManager,c.onCompositionStart(),setTimeout(z,0),c.on("mousedown",N),d.canUndo&&!c.selection.isEmpty()&&(c.insert(""),c.session.markUndoGroup(),c.selection.clearSelection()),c.session.markUndoGroup())}),v.isGecko?l.addListener(u,"text",function(){W.schedule()}):(l.addListener(u,"keyup",function(){W.schedule()}),l.addListener(u,"keydown",function(){W.schedule()})),l.addListener(u,"compositionend",N),this.getElement=function(){return u},this.setReadOnly=function(M){u.readOnly=M},this.onContextMenu=function(M){x=!0,r(c.selection.isEmpty()),c._emit("nativecontextmenu",{target:c,domEvent:M}),this.moveToMouse(M,!0)},this.moveToMouse=function(M,H){a||(a=u.style.cssText),u.style.cssText=(H?"z-index:100000;":"")+"height:"+u.style.height+";"+(v.isIE?"opacity:0.1;":"");var q=c.container.getBoundingClientRect(),Y=h.computedStyle(c.container),Q=q.top+(parseInt(Y.borderTopWidth)||0),V=q.left+(parseInt(q.borderLeftWidth)||0),X=q.bottom-Q-u.clientHeight-2,Z=function(tt){u.style.left=tt.clientX-V-2+"px",u.style.top=Math.min(tt.clientY-Q-2,X)+"px"};Z(M),"mousedown"==M.type&&(c.renderer.$keepTextAreaAtCursor&&(c.renderer.$keepTextAreaAtCursor=null),clearTimeout(G),v.isWin&&l.capture(c.container,Z,o))},this.onContextMenuClose=o;var G,J=function(M){c.textInput.onContextMenu(M),o()};l.addListener(u,"mouseup",J),l.addListener(u,"mousedown",function(M){M.preventDefault(),o()}),l.addListener(c.renderer.scroller,"contextmenu",J),l.addListener(u,"contextmenu",J)}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(A,S,b){"use strict";function l(n){n.$clickSelection=null;var e=n.editor;e.setDefaultHandler("mousedown",this.onMouseDown.bind(n)),e.setDefaultHandler("dblclick",this.onDoubleClick.bind(n)),e.setDefaultHandler("tripleclick",this.onTripleClick.bind(n)),e.setDefaultHandler("quadclick",this.onQuadClick.bind(n)),e.setDefaultHandler("mousewheel",this.onMouseWheel.bind(n)),e.setDefaultHandler("touchmove",this.onTouchMove.bind(n)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(t){n[t]=this[t]},this),n.selectByLines=this.extendSelectionBy.bind(n,"getLineRange"),n.selectByWords=this.extendSelectionBy.bind(n,"getWordRange")}function h(n,e){if(n.start.row==n.end.row)var t=2*e.column-n.start.column-n.end.column;else t=n.start.row!=n.end.row-1||n.start.column||n.end.column?2*e.row-n.start.row-n.end.row:e.column-4;return t<0?{cursor:n.start,anchor:n.end}:{cursor:n.end,anchor:n.start}}var f=(A("../lib/dom"),A("../lib/event"),A("../lib/useragent"));(function(){this.onMouseDown=function(n){var e=n.inSelection(),t=n.getDocumentPosition();this.mousedownEvent=n;var i=this.editor,s=n.getButton();if(0!==s){var r=i.getSelectionRange().isEmpty();return i.$blockScrolling++,(r||1==s)&&i.selection.moveToPosition(t),i.$blockScrolling--,void(2==s&&(i.textInput.onContextMenu(n.domEvent),f.isMozilla||n.preventDefault()))}return this.mousedownEvent.time=Date.now(),!e||i.isFocused()||(i.focus(),!this.$focusTimout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(n),this.startSelect(t,n.domEvent._clicks>1),n.preventDefault()):(this.setState("focusWait"),void this.captureMouse(n))},this.startSelect=function(n,e){n=n||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var t=this.editor;t.$blockScrolling++,this.mousedownEvent.getShiftKey()?t.selection.selectToPosition(n):e||t.selection.moveToPosition(n),e||this.select(),t.renderer.scroller.setCapture&&t.renderer.scroller.setCapture(),t.setStyle("ace_selecting"),this.setState("select"),t.$blockScrolling--},this.select=function(){var n,e=this.editor,t=e.renderer.screenToTextCoordinates(this.x,this.y);if(e.$blockScrolling++,this.$clickSelection){var i=this.$clickSelection.comparePoint(t);if(-1==i)n=this.$clickSelection.end;else if(1==i)n=this.$clickSelection.start;else{var s=h(this.$clickSelection,t);t=s.cursor,n=s.anchor}e.selection.setSelectionAnchor(n.row,n.column)}e.selection.selectToPosition(t),e.$blockScrolling--,e.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(n){var e,t=this.editor,i=t.renderer.screenToTextCoordinates(this.x,this.y),s=t.selection[n](i.row,i.column);if(t.$blockScrolling++,this.$clickSelection){var c=this.$clickSelection.comparePoint(s.start),r=this.$clickSelection.comparePoint(s.end);if(-1==c&&r<=0)e=this.$clickSelection.end,s.end.row==i.row&&s.end.column==i.column||(i=s.start);else if(1==r&&c>=0)e=this.$clickSelection.start,s.start.row==i.row&&s.start.column==i.column||(i=s.end);else if(-1==c&&1==r)i=s.end,e=s.start;else{var p=h(this.$clickSelection,i);i=p.cursor,e=p.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(i),t.$blockScrolling--,t.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var n=function(n,e,t,i){return Math.sqrt(Math.pow(t-n,2)+Math.pow(i-e,2))}(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),e=Date.now();(n>0||e-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(n){var e=n.getDocumentPosition(),t=this.editor,s=t.session.getBracketRange(e);s?(s.isEmpty()&&(s.start.column--,s.end.column++),this.setState("select")):(s=t.selection.getWordRange(e.row,e.column),this.setState("selectByWords")),this.$clickSelection=s,this.select()},this.onTripleClick=function(n){var e=n.getDocumentPosition(),t=this.editor;this.setState("selectByLines");var i=t.getSelectionRange();i.isMultiLine()&&i.contains(e.row,e.column)?(this.$clickSelection=t.selection.getLineRange(i.start.row),this.$clickSelection.end=t.selection.getLineRange(i.end.row).end):this.$clickSelection=t.selection.getLineRange(e.row),this.select()},this.onQuadClick=function(n){var e=this.editor;e.selectAll(),this.$clickSelection=e.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(n){if(!n.getAccelKey()){n.getShiftKey()&&n.wheelY&&!n.wheelX&&(n.wheelX=n.wheelY,n.wheelY=0);var e=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var t=this.$lastScroll,i=n.domEvent.timeStamp,s=i-t.t,c=n.wheelX/s,r=n.wheelY/s;s<250&&(c=(c+t.vx)/2,r=(r+t.vy)/2);var p=Math.abs(c/r),o=!1;return p>=1&&e.renderer.isScrollableBy(n.wheelX*n.speed,0)&&(o=!0),p<=1&&e.renderer.isScrollableBy(0,n.wheelY*n.speed)&&(o=!0),o?t.allowed=i:i-t.allowed<250&&(Math.abs(c)<=1.1*Math.abs(t.vx)&&Math.abs(r)<=1.1*Math.abs(t.vy)?(o=!0,t.allowed=i):t.allowed=0),t.t=i,t.vx=c,t.vy=r,o?(e.renderer.scrollBy(n.wheelX*n.speed,n.wheelY*n.speed),n.stop()):void 0}},this.onTouchMove=function(n){this.editor._emit("mousewheel",n)}}).call(l.prototype),S.DefaultHandlers=l}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(A,S,b){"use strict";function l(h){this.isOpen=!1,this.$element=null,this.$parentNode=h}var v=(A("./lib/oop"),A("./lib/dom"));(function(){this.$init=function(){return this.$element=v.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(h){v.setInnerText(this.getElement(),h)},this.setHtml=function(h){this.getElement().innerHTML=h},this.setPosition=function(h,f){this.getElement().style.left=h+"px",this.getElement().style.top=f+"px"},this.setClassName=function(h){v.addCssClass(this.getElement(),h)},this.show=function(h,f,n){null!=h&&this.setText(h),null!=f&&null!=n&&this.setPosition(f,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(l.prototype),S.Tooltip=l}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(A,S,b){"use strict";function v(t){e.call(this,t)}var h=A("../lib/dom"),f=A("../lib/oop"),n=A("../lib/event"),e=A("../tooltip").Tooltip;f.inherits(v,e),function(){this.setPosition=function(t,i){var s=window.innerWidth||document.documentElement.clientWidth,c=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),p=this.getHeight();(t+=15)+r>s&&(t-=t+r-s),(i+=15)+p>c&&(i-=20+p),e.prototype.setPosition.call(this,t,i)}}.call(v.prototype),S.GutterHandler=function(t){function s(){u&&(u=clearTimeout(u)),y&&(o.hide(),y=null,r._signal("hideGutterTooltip",o),r.removeEventListener("mousewheel",s))}function c(C){o.setPosition(C.x,C.y)}var u,g,y,r=t.editor,p=r.renderer.$gutterLayer,o=new v(r.container);t.editor.setDefaultHandler("guttermousedown",function(C){if(r.isFocused()&&0==C.getButton()&&"foldWidgets"!=p.getRegion(C)){var d=C.getDocumentPosition().row,a=r.session.selection;if(C.getShiftKey())a.selectTo(d,0);else{if(2==C.domEvent.detail)return r.selectAll(),C.preventDefault();t.$clickSelection=r.selection.getLineRange(d)}return t.setState("selectByLines"),t.captureMouse(C),C.preventDefault()}}),t.editor.setDefaultHandler("guttermousemove",function(C){if(h.hasCssClass(C.domEvent.target||C.domEvent.srcElement,"ace_fold-widget"))return s();y&&t.$tooltipFollowsMouse&&c(C),g=C,u||(u=setTimeout(function(){u=null,g&&!t.isMousePressed?function(){var C=g.getDocumentPosition().row,d=p.$annotations[C];if(!d)return s();if(C==r.session.getLength()){var a=r.renderer.pixelToScreenCoordinates(0,g.y).row,w=g.$pos;if(a>r.session.documentToScreenRow(w.row,w.column))return s()}if(y!=d)if(y=d.text.join("<br/>"),o.setHtml(y),o.show(),r._signal("showGutterTooltip",o),r.on("mousewheel",s),t.$tooltipFollowsMouse)c(g);else{var F=g.domEvent.target.getBoundingClientRect(),_=o.getElement().style;_.left=F.right+"px",_.top=F.bottom+"px"}}():s()},50))}),n.addListener(r.renderer.$gutter,"mouseout",function(C){g=null,y&&!u&&(u=setTimeout(function(){u=null,s()},50))}),r.on("changeSession",s)}}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(A,S,b){"use strict";var l=A("../lib/event"),v=A("../lib/useragent"),h=S.MouseEvent=function(f,n){this.domEvent=f,this.editor=n,this.x=this.clientX=f.clientX,this.y=this.clientY=f.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){l.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){l.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var n=this.editor.getSelectionRange();if(n.isEmpty())this.$inSelection=!1;else{var e=this.getDocumentPosition();this.$inSelection=n.contains(e.row,e.column)}return this.$inSelection},this.getButton=function(){return l.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=v.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(h.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(A,S,b){"use strict";function l(s){function p(){var I=R;(function(I,j){var z=Date.now();T&&j&&I.row==j.row&&j&&I.column==j.column?v(k.x,k.y,E,F)>i?T=null:z-T>=t&&(d.renderer.scrollCursorIntoView(),T=null):(d.$blockScrolling+=1,d.moveCursorToPosition(I),d.$blockScrolling-=1,T=z,k={x:E,y:F})})(R=d.renderer.screenToTextCoordinates(E,F),I),function(I,j){var z=Date.now(),N=d.renderer.layerConfig.lineHeight,W=d.renderer.layerConfig.characterWidth,G=d.renderer.scroller.getBoundingClientRect(),J={x:{left:E-G.left,right:G.right-E},y:{top:F-G.top,bottom:G.bottom-F}},M=Math.min(J.x.left,J.x.right),H=Math.min(J.y.top,J.y.bottom),q={row:I.row,column:I.column};M/W<=2&&(q.column+=J.x.left<J.x.right?-3:2),H/N<=1&&(q.row+=J.y.top<J.y.bottom?-1:1),I.row!=q.row||I.column!=q.column&&j&&I.row==j.row?D?z-D>=e&&d.renderer.scrollCursorIntoView(q):D=z:D=null}(R,I)}function o(){B=d.selection.toOrientedRange(),w=d.session.addMarker(B,"ace_selection",d.getSelectionStyle()),d.clearSelection(),d.isFocused()&&d.renderer.$cursorLayer.setBlinking(!1),clearInterval(_),p(),_=setInterval(p,20),$=0,f.addListener(document,"mousemove",g)}function u(){clearInterval(_),d.session.removeMarker(w),w=null,d.$blockScrolling+=1,d.selection.fromOrientedRange(B),d.$blockScrolling-=1,d.isFocused()&&!x&&d.renderer.$cursorLayer.setBlinking(!d.getReadOnly()),B=null,R=null,$=0,D=null,T=null,f.removeListener(document,"mousemove",g)}function g(){null==O&&(O=setTimeout(function(){null!=O&&w&&u()},20))}function y(I){var j=I.types;return!j||Array.prototype.some.call(j,function(z){return"text/plain"==z||"Text"==z})}function C(I){var j=["copy","copymove","all","uninitialized"],N=n.isMac?I.altKey:I.ctrlKey,W="uninitialized";try{W=I.dataTransfer.effectAllowed.toLowerCase()}catch(J){}var G="none";return N&&j.indexOf(W)>=0?G="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(W)>=0?G="move":j.indexOf(W)>=0&&(G="copy"),G}var d=s.editor,a=h.createElement("img");a.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",n.isOpera&&(a.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"),["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(I){s[I]=this[I]},this),d.addEventListener("mousedown",this.onMouseDown.bind(s));var w,E,F,_,B,R,P,x,D,T,k,L=d.container,$=0;this.onDragStart=function(I){if(this.cancelDrag||!L.draggable){var j=this;return setTimeout(function(){j.startSelect(),j.captureMouse(I)},0),I.preventDefault()}B=d.getSelectionRange();var z=I.dataTransfer;z.effectAllowed=d.getReadOnly()?"copy":"copyMove",n.isOpera&&(d.container.appendChild(a),a.scrollTop=0),z.setDragImage&&z.setDragImage(a,0,0),n.isOpera&&d.container.removeChild(a),z.clearData(),z.setData("Text",d.session.getTextRange()),x=!0,this.setState("drag")},this.onDragEnd=function(I){L.draggable=!1,x=!1,this.setState(null),d.getReadOnly()||(P||"move"!=I.dataTransfer.dropEffect||d.session.remove(d.getSelectionRange()),d.renderer.$cursorLayer.setBlinking(!0)),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(I){if(!d.getReadOnly()&&y(I.dataTransfer))return E=I.clientX,F=I.clientY,w||o(),$++,I.dataTransfer.dropEffect=P=C(I),f.preventDefault(I)},this.onDragOver=function(I){if(!d.getReadOnly()&&y(I.dataTransfer))return E=I.clientX,F=I.clientY,w||(o(),$++),null!==O&&(O=null),I.dataTransfer.dropEffect=P=C(I),f.preventDefault(I)},this.onDragLeave=function(I){if(--$<=0&&w)return u(),P=null,f.preventDefault(I)},this.onDrop=function(I){if(R){var j=I.dataTransfer;if(x)switch(P){case"move":B=B.contains(R.row,R.column)?{start:R,end:R}:d.moveText(B,R);break;case"copy":B=d.moveText(B,R,!0)}else{var z=j.getData("Text");B={start:R,end:d.session.insert(R,z)},d.focus(),P=null}return u(),f.preventDefault(I)}},f.addListener(L,"dragstart",this.onDragStart.bind(s)),f.addListener(L,"dragend",this.onDragEnd.bind(s)),f.addListener(L,"dragenter",this.onDragEnter.bind(s)),f.addListener(L,"dragover",this.onDragOver.bind(s)),f.addListener(L,"dragleave",this.onDragLeave.bind(s)),f.addListener(L,"drop",this.onDrop.bind(s));var O=null}function v(s,c,r,p){return Math.sqrt(Math.pow(r-s,2)+Math.pow(p-c,2))}var h=A("../lib/dom"),f=A("../lib/event"),n=A("../lib/useragent"),e=200,t=200,i=5;(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(s){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var s=this.editor;s.container.draggable=!0,s.renderer.$cursorLayer.setBlinking(!1),s.setStyle("ace_dragging"),s.renderer.setCursorStyle(n.isWin?"default":"move"),this.setState("dragReady")},this.onMouseDrag=function(s){var c=this.editor.container;n.isIE&&"dragReady"==this.state&&v(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&c.dragDrop(),"dragWait"===this.state&&v(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(c.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(s){if(this.$dragEnabled){this.mousedownEvent=s;var c=this.editor,r=s.inSelection(),p=s.getButton();if(1===(s.domEvent.detail||1)&&0===p&&r){if(s.editor.inMultiSelectMode&&(s.getAccelKey()||s.getShiftKey()))return;this.mousedownEvent.time=Date.now();var o=s.domEvent.target||s.domEvent.srcElement;"unselectable"in o&&(o.unselectable="on"),c.getDragDelay()?(n.isWebKit&&(this.cancelDrag=!0,c.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(s,this.onMouseDrag.bind(this)),s.defaultPrevented=!0}}}}).call(l.prototype),S.DragdropHandler=l}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(A,S,b){"use strict";var l=A("./dom");S.get=function(v,h){var f=new XMLHttpRequest;f.open("GET",v,!0),f.onreadystatechange=function(){4===f.readyState&&h(f.responseText)},f.send(null)},S.loadScript=function(v,h){var f=l.getDocumentHead(),n=document.createElement("script");n.src=v,f.appendChild(n),n.onload=n.onreadystatechange=function(e,t){!t&&n.readyState&&"loaded"!=n.readyState&&"complete"!=n.readyState||(n=n.onload=n.onreadystatechange=null,t||h())}},S.qualifyURL=function(v){var h=document.createElement("a");return h.href=v,h.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(A,S,b){"use strict";var l={},v=function(){this.propagationStopped=!0},h=function(){this.defaultPrevented=!0};l._emit=l._dispatchEvent=function(f,n){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var e=this._eventRegistry[f]||[],t=this._defaultHandlers[f];if(e.length||t){"object"==typeof n&&n||(n={}),n.type||(n.type=f),n.stopPropagation||(n.stopPropagation=v),n.preventDefault||(n.preventDefault=h),e=e.slice();for(var i=0;i<e.length&&(e[i](n,this),!n.propagationStopped);i++);return t&&!n.defaultPrevented?t(n,this):void 0}},l._signal=function(f,n){var e=(this._eventRegistry||{})[f];if(e){e=e.slice();for(var t=0;t<e.length;t++)e[t](n,this)}},l.once=function(f,n){var e=this;n&&this.addEventListener(f,function t(){e.removeEventListener(f,t),n.apply(null,arguments)})},l.setDefaultHandler=function(f,n){var e=this._defaultHandlers;if(e||(e=this._defaultHandlers={_disabled_:{}}),e[f]){var t=e[f],i=e._disabled_[f];i||(e._disabled_[f]=i=[]),i.push(t);var s=i.indexOf(n);-1!=s&&i.splice(s,1)}e[f]=n},l.removeDefaultHandler=function(f,n){var e=this._defaultHandlers;if(e){var t=e._disabled_[f];if(e[f]==n)t&&this.setDefaultHandler(f,t.pop());else if(t){var i=t.indexOf(n);-1!=i&&t.splice(i,1)}}},l.on=l.addEventListener=function(f,n,e){this._eventRegistry=this._eventRegistry||{};var t=this._eventRegistry[f];return t||(t=this._eventRegistry[f]=[]),-1==t.indexOf(n)&&t[e?"unshift":"push"](n),n},l.off=l.removeListener=l.removeEventListener=function(f,n){this._eventRegistry=this._eventRegistry||{};var e=this._eventRegistry[f];if(e){var t=e.indexOf(n);-1!==t&&e.splice(t,1)}},l.removeAllListeners=function(f){this._eventRegistry&&(this._eventRegistry[f]=[])},S.EventEmitter=l}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(A,S,b){function l(t){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function v(t,i){var s=new Error(t);s.data=i,"object"==typeof console&&console.error&&console.error(s),setTimeout(function(){throw s})}var h=A("./oop"),f=A("./event_emitter").EventEmitter,n={setOptions:function(t){Object.keys(t).forEach(function(i){this.setOption(i,t[i])},this)},getOptions:function(t){var i={};return t?Array.isArray(t)||(i=t,t=Object.keys(i)):t=Object.keys(this.$options),t.forEach(function(s){i[s]=this.getOption(s)},this),i},setOption:function(t,i){if(this["$"+t]!==i){var s=this.$options[t];if(!s)return l('misspelled option "'+t+'"');if(s.forwardTo)return this[s.forwardTo]&&this[s.forwardTo].setOption(t,i);s.handlesSet||(this["$"+t]=i),s&&s.set&&s.set.call(this,i)}},getOption:function(t){var i=this.$options[t];return i?i.forwardTo?this[i.forwardTo]&&this[i.forwardTo].getOption(t):i&&i.get?i.get.call(this):this["$"+t]:l('misspelled option "'+t+'"')}},e=function(){this.$defaultOptions={}};(function(){h.implement(this,f),this.defineOptions=function(t,i,s){return t.$options||(this.$defaultOptions[i]=t.$options={}),Object.keys(s).forEach(function(c){var r=s[c];"string"==typeof r&&(r={forwardTo:r}),r.name||(r.name=c),t.$options[r.name]=r,"initialValue"in r&&(t["$"+r.name]=r.initialValue)}),h.implement(t,n),this},this.resetOptions=function(t){Object.keys(t.$options).forEach(function(i){var s=t.$options[i];"value"in s&&t.setOption(i,s.value)})},this.setDefaultValue=function(t,i,s){var c=this.$defaultOptions[t]||(this.$defaultOptions[t]={});c[i]&&(c.forwardTo?this.setDefaultValue(c.forwardTo,i,s):c[i].value=s)},this.setDefaultValues=function(t,i){Object.keys(i).forEach(function(s){this.setDefaultValue(t,s,i[s])},this)},this.warn=l,this.reportError=v}).call(e.prototype),S.AppConfig=e}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(A,S,b){function l(i){if(e&&e.document){t.packaged=i||A.packaged||b.packaged||e.define&&m(74).packaged;for(var s={},c="",r=document.currentScript||document._currentScript,o=(r&&r.ownerDocument||document).getElementsByTagName("script"),u=0;u<o.length;u++){var g=o[u],y=g.src||g.getAttribute("src");if(y){for(var C=g.attributes,d=0,a=C.length;d<a;d++){var w=C[d];0===w.name.indexOf("data-ace-")&&(s[v(w.name.replace(/^data-ace-/,""))]=w.value)}var E=y.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);E&&(c=E[1])}}for(var F in c&&(s.base=s.base||c,s.packaged=!0),s.basePath=s.base,s.workerPath=s.workerPath||s.base,s.modePath=s.modePath||s.base,s.themePath=s.themePath||s.base,delete s.base,s)void 0!==s[F]&&S.set(F,s[F])}}function v(i){return i.replace(/-(.)/g,function(s,c){return c.toUpperCase()})}var h=A("./lib/lang"),f=(A("./lib/oop"),A("./lib/net")),n=A("./lib/app_config").AppConfig;b.exports=S=new n;var e=function(){return this||"undefined"!=typeof window&&window}(),t={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};S.get=function(i){if(!t.hasOwnProperty(i))throw new Error("Unknown config key: "+i);return t[i]},S.set=function(i,s){if(!t.hasOwnProperty(i))throw new Error("Unknown config key: "+i);t[i]=s},S.all=function(){return h.copyObject(t)},S.moduleUrl=function(i,s){if(t.$moduleUrls[i])return t.$moduleUrls[i];var c=i.split("/"),r="snippets"==(s=s||c[c.length-2]||"")?"/":"-",p=c[c.length-1];if("worker"==s&&"-"==r){var o=new RegExp("^"+s+"[\\-_]|[\\-_]"+s+"$","g");p=p.replace(o,"")}(!p||p==s)&&c.length>1&&(p=c[c.length-2]);var u=t[s+"Path"];return null==u?u=t.basePath:"/"==r&&(s=r=""),u&&"/"!=u.slice(-1)&&(u+="/"),u+s+r+p+this.get("suffix")},S.setModuleUrl=function(i,s){return t.$moduleUrls[i]=s},S.$loading={},S.loadModule=function(i,s){var c,r;Array.isArray(i)&&(r=i[0],i=i[1]);try{c=A(i)}catch(o){}if(c&&!S.$loading[i])return s&&s(c);if(S.$loading[i]||(S.$loading[i]=[]),S.$loading[i].push(s),!(S.$loading[i].length>1)){var p=function(){A([i],function(o){S._emit("load.module",{name:i,module:o});var u=S.$loading[i];S.$loading[i]=null,u.forEach(function(g){g&&g(o)})})};if(!S.get("packaged"))return p();f.loadScript(S.moduleUrl(i,r),p)}},l(!0),S.init=l}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(A,S,b){"use strict";var l=A("../lib/event"),v=A("../lib/useragent"),h=A("./default_handlers").DefaultHandlers,f=A("./default_gutter_handler").GutterHandler,n=A("./mouse_event").MouseEvent,e=A("./dragdrop_handler").DragdropHandler,t=A("../config"),i=function(s){var c=this;this.editor=s,new h(this),new f(this),new e(this);var r=function(u){(!document.hasFocus||!document.hasFocus()||!s.isFocused()&&document.activeElement==(s.textInput&&s.textInput.getElement()))&&window.focus(),s.focus()},p=s.renderer.getMouseEventTarget();l.addListener(p,"click",this.onMouseEvent.bind(this,"click")),l.addListener(p,"mousemove",this.onMouseMove.bind(this,"mousemove")),l.addMultiMouseDownListener([p,s.renderer.scrollBarV&&s.renderer.scrollBarV.inner,s.renderer.scrollBarH&&s.renderer.scrollBarH.inner,s.textInput&&s.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),l.addMouseWheelListener(s.container,this.onMouseWheel.bind(this,"mousewheel")),l.addTouchMoveListener(s.container,this.onTouchMove.bind(this,"touchmove"));var o=s.renderer.$gutter;l.addListener(o,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),l.addListener(o,"click",this.onMouseEvent.bind(this,"gutterclick")),l.addListener(o,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),l.addListener(o,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),l.addListener(p,"mousedown",r),l.addListener(o,"mousedown",r),v.isIE&&s.renderer.scrollBarV&&(l.addListener(s.renderer.scrollBarV.element,"mousedown",r),l.addListener(s.renderer.scrollBarH.element,"mousedown",r)),s.on("mousemove",function(u){if(!c.state&&!c.$dragDelay&&c.$dragEnabled){var g=s.renderer.screenToTextCoordinates(u.x,u.y),y=s.session.selection.getRange(),C=s.renderer;!y.isEmpty()&&y.insideStart(g.row,g.column)?C.setCursorStyle("default"):C.setCursorStyle("")}})};(function(){this.onMouseEvent=function(s,c){this.editor._emit(s,new n(c,this.editor))},this.onMouseMove=function(s,c){var r=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;r&&r.length&&this.editor._emit(s,new n(c,this.editor))},this.onMouseWheel=function(s,c){var r=new n(c,this.editor);r.speed=2*this.$scrollSpeed,r.wheelX=c.wheelX,r.wheelY=c.wheelY,this.editor._emit(s,r)},this.onTouchMove=function(s,c){var r=new n(c,this.editor);r.speed=1,r.wheelX=c.wheelX,r.wheelY=c.wheelY,this.editor._emit(s,r)},this.setState=function(s){this.state=s},this.captureMouse=function(s,c){this.x=s.x,this.y=s.y,this.isMousePressed=!0;var r=this.editor.renderer;r.$keepTextAreaAtCursor&&(r.$keepTextAreaAtCursor=null);var p=this,o=function(C){if(C){if(v.isWebKit&&!C.which&&p.releaseMouse)return p.releaseMouse();p.x=C.clientX,p.y=C.clientY,c&&c(C),p.mouseEvent=new n(C,p.editor),p.$mouseMoved=!0}},u=function(C){clearInterval(y),g(),p[p.state+"End"]&&p[p.state+"End"](C),p.state="",null==r.$keepTextAreaAtCursor&&(r.$keepTextAreaAtCursor=!0,r.$moveTextAreaToCursor()),p.isMousePressed=!1,p.$onCaptureMouseMove=p.releaseMouse=null,C&&p.onMouseEvent("mouseup",C)},g=function(){p[p.state]&&p[p.state](),p.$mouseMoved=!1};if(v.isOldIE&&"dblclick"==s.domEvent.type)return setTimeout(function(){u(s)});p.$onCaptureMouseMove=o,p.releaseMouse=l.capture(this.editor.container,o,u);var y=setInterval(g,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var s=function(c){c&&c.domEvent&&"contextmenu"!=c.domEvent.type||(this.editor.off("nativecontextmenu",s),c&&c.domEvent&&l.stopEvent(c.domEvent))}.bind(this);setTimeout(s,10),this.editor.on("nativecontextmenu",s)}}).call(i.prototype),t.defineOptions(i.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:v.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),S.MouseHandler=i}),ace.define("ace/mouse/fold_handler",["require","exports","module"],function(A,S,b){"use strict";S.FoldHandler=function(v){v.on("click",function(h){var f=h.getDocumentPosition(),n=v.session,e=n.getFoldAt(f.row,f.column,1);e&&(h.getAccelKey()?n.removeFold(e):n.expandFold(e),h.stop())}),v.on("gutterclick",function(h){if("foldWidgets"==v.renderer.$gutterLayer.getRegion(h)){var f=h.getDocumentPosition().row,n=v.session;n.foldWidgets&&n.foldWidgets[f]&&v.session.onFoldWidgetClick(f,h),v.isFocused()||v.focus(),h.stop()}}),v.on("gutterdblclick",function(h){if("foldWidgets"==v.renderer.$gutterLayer.getRegion(h)){var f=h.getDocumentPosition().row,n=v.session,e=n.getParentFoldRangeData(f,!0),t=e.range||e.firstRange;if(t){var i=n.getFoldAt(f=t.start.row,n.getLine(f).length,1);i?n.removeFold(i):(n.addFold("...",t),v.renderer.scrollCursorIntoView({row:t.start.row,column:0}))}h.stop()}})}}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(A,S,b){"use strict";var l=A("../lib/keys"),v=A("../lib/event"),h=function(f){this.$editor=f,this.$data={editor:f},this.$handlers=[],this.setDefaultHandler(f.commands)};(function(){this.setDefaultHandler=function(f){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=f,this.addKeyboardHandler(f,0)},this.setKeyboardHandler=function(f){var n=this.$handlers;if(n[n.length-1]!=f){for(;n[n.length-1]&&n[n.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(n[n.length-1]);this.addKeyboardHandler(f,1)}},this.addKeyboardHandler=function(f,n){if(f){"function"!=typeof f||f.handleKeyboard||(f.handleKeyboard=f);var e=this.$handlers.indexOf(f);-1!=e&&this.$handlers.splice(e,1),null==n?this.$handlers.push(f):this.$handlers.splice(n,0,f),-1==e&&f.attach&&f.attach(this.$editor)}},this.removeKeyboardHandler=function(f){var n=this.$handlers.indexOf(f);return-1!=n&&(this.$handlers.splice(n,1),f.detach&&f.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var f=this.$data,n=f.editor;return this.$handlers.map(function(e){return e.getStatusText&&e.getStatusText(n,f)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(f,n,e,t){for(var i,s=!1,c=this.$editor.commands,r=this.$handlers.length;r--&&!((i=this.$handlers[r].handleKeyboard(this.$data,f,n,e,t))&&i.command&&(s="null"==i.command||c.exec(i.command,this.$editor,i.args,t),s&&t&&-1!=f&&1!=i.passEvent&&1!=i.command.passEvent&&v.stopEvent(t),s)););return s||-1!=f||(i={command:"insertstring"},s=c.exec("insertstring",this.$editor,n)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",i),s},this.onCommandKey=function(f,n,e){var t=l.keyCodeToString(e);this.$callKeyboardHandlers(n,t,e,f)},this.onTextInput=function(f){this.$callKeyboardHandlers(-1,f)}}).call(h.prototype),S.KeyBinding=h}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(A,S,b){"use strict";function v(j,z,N){if(!(e<j)){if(1==j&&n==o&&!s)return void N.reverse();for(var W,G,J,M,H=N.length,q=0;q<H;){if(z[q]>=j){for(W=q+1;W<H&&z[W]>=j;)W++;for(G=q,J=W-1;G<J;G++,J--)M=N[G],N[G]=N[J],N[J]=M;q=W}q++}}}function h(j,z,N,W){var G,J,M,H,q=z[W];switch(q){case u:case g:t=!1;case d:case C:return q;case y:return t?C:y;case E:return t=!0,g;case F:return d;case _:return W<1||W+1>=z.length||(G=N[W-1])!=y&&G!=C||(J=z[W+1])!=y&&J!=C?d:(t&&(J=C),J==G?J:d);case B:return(G=W>0?N[W-1]:a)==y&&W+1<z.length&&z[W+1]==y?y:d;case R:if(W>0&&N[W-1]==y)return y;if(t)return d;for(H=W+1,M=z.length;H<M&&z[H]==R;)H++;return H<M&&z[H]==y?y:d;case P:for(M=z.length,H=W+1;H<M&&z[H]==P;)H++;if(H<M){var Y=j[W];if(G=z[H],(Y>=1425&&Y<=2303||64286==Y)&&(G==g||G==E))return g}return W<1||(G=z[W-1])==a?d:N[W-1];case a:return t=!1,s=!0,n;case w:return c=!0,d;case x:case D:case k:case L:case T:t=!1;case $:return d}}function f(j){var z=j.charCodeAt(0),N=z>>8;return 0==N?z>191?u:O[z]:5==N?/[\u0591-\u05f4]/.test(j)?g:u:6==N?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(j)?P:/[\u0660-\u0669\u066b-\u066c]/.test(j)?C:1642==z?R:/[\u06f0-\u06f9]/.test(j)?y:E:32==N&&z<=8287?I[255&z]:254==N&&z>=65136?E:d}var n=0,e=0,t=!1,s=!1,c=!1,r=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],o=1,u=0,g=1,y=2,C=3,d=4,a=5,w=6,E=7,F=8,_=9,B=10,R=11,P=12,x=13,D=14,T=15,k=16,L=17,$=18,O=[$,$,$,$,$,$,$,$,$,w,a,w,F,a,$,$,$,$,$,$,$,$,$,$,$,$,$,$,a,a,a,w,F,d,d,R,R,R,d,d,d,d,d,B,_,B,_,_,y,y,y,y,y,y,y,y,y,y,_,d,d,d,d,d,d,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,d,d,d,d,d,d,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,d,d,d,d,$,$,$,$,$,$,a,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,_,d,R,R,R,R,d,d,d,d,u,d,d,$,d,d,R,R,y,y,d,u,d,d,d,y,u,d,d,d,d,d],I=[F,F,F,F,F,F,F,F,F,F,F,$,$,$,u,g,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,F,a,x,D,T,k,L,_,R,R,R,R,R,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,_,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,F];S.L=u,S.R=g,S.EN=y,S.ON_R=3,S.AN=4,S.R_H=5,S.B=6,S.DOT="\xb7",S.doBidiReorder=function(j,z,N){if(j.length<2)return{};var W=j.split(""),G=new Array(W.length),J=new Array(W.length),M=[];n=N?o:0,function(j,z,N,W){var G=n?p:r,J=null,M=null,H=null,q=0,Y=null,Q=-1,V=null,X=null,Z=[];if(!W)for(V=0,W=[];V<N;V++)W[V]=f(j[V]);for(e=n,t=!1,s=!1,c=!1,X=0;X<N;X++){if(J=q,Z[X]=M=h(j,W,Z,X),Y=240&(q=G[J][M]),z[X]=H=G[q&=15][5],Y>0)if(16==Y){for(V=Q;V<X;V++)z[V]=1;Q=-1}else Q=-1;if(G[q][6])-1==Q&&(Q=X);else if(Q>-1){for(V=Q;V<X;V++)z[V]=H;Q=-1}W[X]==a&&(z[X]=0),e|=H}if(c)for(V=0;V<N;V++)if(W[V]==w){z[V]=n;for(var tt=V-1;tt>=0&&W[tt]==F;tt--)z[tt]=n}}(W,M,W.length,z);for(var H=0;H<G.length;G[H]=H,H++);for(v(2,M,G),v(1,M,G),H=0;H<G.length-1;H++)z[H]===C?M[H]=S.AN:M[H]===g&&(z[H]>E&&z[H]<x||z[H]===d||z[H]===$)?M[H]=S.ON_R:H>0&&"\u0644"===W[H-1]&&/\u0622|\u0623|\u0625|\u0627/.test(W[H])&&(M[H-1]=M[H]=S.R_H,H++);for(W[W.length-1]===S.DOT&&(M[W.length-1]=S.B),H=0;H<G.length;H++)J[H]=M[G[H]];return{logicalFromVisual:G,bidiLevels:J}},S.hasBidiCharacters=function(j,z){for(var N=!1,W=0;W<j.length;W++)z[W]=f(j.charAt(W)),N||z[W]!=g&&z[W]!=E||(N=!0);return N},S.getVisualFromLogicalIdx=function(j,z){for(var N=0;N<z.logicalFromVisual.length;N++)if(z.logicalFromVisual[N]==j)return N;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang","ace/lib/useragent"],function(A,S,b){"use strict";var l=A("./lib/bidiutil"),v=A("./lib/lang"),h=A("./lib/useragent"),f=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,n=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=l,this.charWidths=[],this.EOL="\xac",this.showInvisibles=!0,this.isRtlDir=!1,this.line="",this.wrapIndent=0,this.isLastRow=!1,this.EOF="\xb6",this.seenBidi=!1};(function(){this.isBidiRow=function(e,t,i){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,i),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&f.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var i=this.session.$getRowCacheIndex(t,this.currentRow);i>=0&&(e=this.session.$docRowCache[i])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var i,s=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(i=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===s;)s=i,e++;return e},this.updateRowLine=function(e,t){if(void 0===e&&(e=this.getDocumentRow()),this.wrapIndent=0,this.isLastRow=e===this.session.getLength()-1,this.line=this.session.getLine(e),this.session.$useWrapMode){var i=this.session.$wrapData[e];i&&(void 0===t&&(t=this.getSplitIndex()),t>0&&i.length?(this.wrapIndent=i.indent,this.line=t<i.length?this.line.substring(i[t-1],i[i.length-1]):this.line.substring(i[i.length-1])):this.line=this.line.substring(0,i[t]))}var s,c=this.session,r=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(p,o){return"\t"===p||c.isFullWidth(p.charCodeAt(0))?(s="\t"===p?c.getScreenTabSize(o+r):2,r+=s-1,v.stringRepeat(l.DOT,s)):p})},this.updateBidiMap=function(){var e=[],i=this.line+(this.showInvisibles?this.isLastRow?this.EOF:this.EOL:l.DOT);this.bidiMap=l.hasBidiCharacters(i,e)?l.doBidiReorder(i,e,this.isRtlDir):{}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.seenBidi&&this.characterWidth!==e.$characterSize.width){var t=this.characterWidth=e.$characterSize.width,i=e.$measureCharWidth("\u05d4");this.charWidths[l.L]=this.charWidths[l.EN]=this.charWidths[l.ON_R]=t,this.charWidths[l.R]=this.charWidths[l.AN]=i,this.charWidths[l.R_H]=h.isChrome?i:.45*i,this.charWidths[l.B]=0,this.currentRow=null}},this.getShowInvisibles=function(){return this.showInvisibles},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setTextDir=function(e){this.isRtlDir=e},this.getPosLeft=function(e){var t=l.getVisualFromLogicalIdx((e-=this.wrapIndent)>0?e-1:0,this.bidiMap),i=this.bidiMap.bidiLevels,s=0;0===e&&i[t]%2!=0&&t++;for(var c=0;c<t;c++)s+=this.charWidths[i[c]];return 0!==e&&i[t]%2==0&&(s+=this.charWidths[i[t]]),this.wrapIndent&&(s+=this.wrapIndent*this.charWidths[l.L]),s},this.getSelections=function(e,t){for(var i,s,c=this.bidiMap,r=c.bidiLevels,p=this.wrapIndent*this.charWidths[l.L],o=[],u=Math.min(e,t)-this.wrapIndent,g=Math.max(e,t)-this.wrapIndent,y=!1,C=!1,d=0,a=0;a<r.length;a++)i=r[a],(y=(s=c.logicalFromVisual[a])>=u&&s<g)&&!C?d=p:!y&&C&&o.push({left:d,width:p-d}),p+=this.charWidths[i],C=y;return y&&a===r.length&&o.push({left:d,width:p-d}),o},this.offsetToCol=function(e){var t=0,i=(e=Math.max(e,0),0),s=0,c=this.bidiMap.bidiLevels,r=this.charWidths[c[s]];for(this.wrapIndent&&(e-=this.wrapIndent*this.charWidths[l.L]);e>i+r/2;){if(i+=r,s===c.length-1){r=0;break}r=this.charWidths[c[++s]]}return s>0&&c[s-1]%2!=0&&c[s]%2==0?(e<i&&s--,t=this.bidiMap.logicalFromVisual[s]):s>0&&c[s-1]%2==0&&c[s]%2!=0?t=1+(e>i?this.bidiMap.logicalFromVisual[s]:this.bidiMap.logicalFromVisual[s-1]):this.isRtlDir&&s===c.length-1&&0===r&&c[s-1]%2==0||!this.isRtlDir&&0===s&&c[s]%2!=0?t=1+this.bidiMap.logicalFromVisual[s]:(s>0&&c[s-1]%2!=0&&0!==r&&s--,t=this.bidiMap.logicalFromVisual[s]),t+this.wrapIndent}}).call(n.prototype),S.BidiHandler=n}),ace.define("ace/range",["require","exports","module"],function(A,S,b){"use strict";var v=function(h,f,n,e){this.start={row:h,column:f},this.end={row:n,column:e}};(function(){this.isEqual=function(h){return this.start.row===h.start.row&&this.end.row===h.end.row&&this.start.column===h.start.column&&this.end.column===h.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(h,f){return 0==this.compare(h,f)},this.compareRange=function(h){var f,n=h.end,e=h.start;return 1==(f=this.compare(n.row,n.column))?1==(f=this.compare(e.row,e.column))?2:0==f?1:0:-1==f?-2:-1==(f=this.compare(e.row,e.column))?-1:1==f?42:0},this.comparePoint=function(h){return this.compare(h.row,h.column)},this.containsRange=function(h){return 0==this.comparePoint(h.start)&&0==this.comparePoint(h.end)},this.intersects=function(h){var f=this.compareRange(h);return-1==f||0==f||1==f},this.isEnd=function(h,f){return this.end.row==h&&this.end.column==f},this.isStart=function(h,f){return this.start.row==h&&this.start.column==f},this.setStart=function(h,f){"object"==typeof h?(this.start.column=h.column,this.start.row=h.row):(this.start.row=h,this.start.column=f)},this.setEnd=function(h,f){"object"==typeof h?(this.end.column=h.column,this.end.row=h.row):(this.end.row=h,this.end.column=f)},this.inside=function(h,f){return 0==this.compare(h,f)&&!this.isEnd(h,f)&&!this.isStart(h,f)},this.insideStart=function(h,f){return 0==this.compare(h,f)&&!this.isEnd(h,f)},this.insideEnd=function(h,f){return 0==this.compare(h,f)&&!this.isStart(h,f)},this.compare=function(h,f){return this.isMultiLine()||h!==this.start.row?h<this.start.row?-1:h>this.end.row?1:this.start.row===h?f>=this.start.column?0:-1:this.end.row===h?f<=this.end.column?0:1:0:f<this.start.column?-1:f>this.end.column?1:0},this.compareStart=function(h,f){return this.start.row==h&&this.start.column==f?-1:this.compare(h,f)},this.compareEnd=function(h,f){return this.end.row==h&&this.end.column==f?1:this.compare(h,f)},this.compareInside=function(h,f){return this.end.row==h&&this.end.column==f?1:this.start.row==h&&this.start.column==f?-1:this.compare(h,f)},this.clipRows=function(h,f){if(this.end.row>f)var n={row:f+1,column:0};else this.end.row<h&&(n={row:h,column:0});if(this.start.row>f)var e={row:f+1,column:0};else this.start.row<h&&(e={row:h,column:0});return v.fromPoints(e||this.start,n||this.end)},this.extend=function(h,f){var n=this.compare(h,f);if(0==n)return this;if(-1==n)var e={row:h,column:f};else var t={row:h,column:f};return v.fromPoints(e||this.start,t||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return v.fromPoints(this.start,this.end)},this.collapseRows=function(){return new v(this.start.row,0,0==this.end.column?Math.max(this.start.row,this.end.row-1):this.end.row,0)},this.toScreenRange=function(h){var f=h.documentToScreenPosition(this.start),n=h.documentToScreenPosition(this.end);return new v(f.row,f.column,n.row,n.column)},this.moveBy=function(h,f){this.start.row+=h,this.start.column+=f,this.end.row+=h,this.end.column+=f}}).call(v.prototype),v.fromPoints=function(h,f){return new v(h.row,h.column,f.row,f.column)},v.comparePoints=function(h,f){return h.row-f.row||h.column-f.column},v.comparePoints=function(h,f){return h.row-f.row||h.column-f.column},S.Range=v}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(A,S,b){"use strict";var l=A("./lib/oop"),v=A("./lib/lang"),h=A("./lib/event_emitter").EventEmitter,f=A("./range").Range,n=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",function(i){t._emit("changeCursor"),t.$isEmpty||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||i.old.column==i.value.column||(t.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){t.$isEmpty||t._emit("changeSelection")})};(function(){l.implement(this,h),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.isEmpty()&&this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty)this.moveCursorTo(this.lead.row,this.lead.column+e);else{var t=this.getSelectionAnchor(),i=this.getSelectionLead(),s=this.isBackwards();s&&0===t.column||this.setSelectionAnchor(t.row,t.column+e),(s||0!==i.column)&&this.$moveSelection(function(){this.moveCursorTo(i.row,i.column+e)})}},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?f.fromPoints(t,t):this.isBackwards()?f.fromPoints(t,e):f.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(void 0===t){var i=e||this.lead;e=i.row,t=i.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var i,s="number"==typeof e?e:this.lead.row,c=this.session.getFoldLine(s);return c?(s=c.start.row,i=c.end.row):i=s,!0===t?new f(s,0,i,this.session.getLine(i).length):new f(s,0,i+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,i){var s=e.column,c=e.column+t;return i<0&&(s=e.column-t,c=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(s,c).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var i=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,i,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-i):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var i=this.session.getTabSize();this.wouldMoveIntoSoftTab(t=this.lead,i,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,i):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,i=this.session.documentToScreenRow(e,t),s=this.session.screenToDocumentPosition(i,0),r=this.session.getDisplayLine(e,null,s.row,s.column).match(/^\s*/);r[0].length==t||this.session.$useEmacsStyleLineStart||(s.column+=r[0].length),this.moveCursorToPosition(s)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var i=this.session.getLine(t.row);if(t.column==i.length){var s=i.search(/\s+$/);s>0&&(t.column=s)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),s=i.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var c=this.session.getFoldAt(e,t,1);return c?void this.moveCursorTo(c.end.row,c.end.column):(this.session.nonTokenRe.exec(s)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,s=i.substring(t)),t>=i.length?(this.moveCursorTo(e,i.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight())):(this.session.tokenRe.exec(s)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(e,t)))},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))this.moveCursorTo(e.start.row,e.start.column);else{var s=this.session.getFoldStringAt(t,i,-1);null==s&&(s=this.doc.getLine(t).substring(0,i));var c=v.stringReverse(s);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(c)&&(i-=this.session.nonTokenRe.lastIndex,c=c.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),i<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(c)&&(i-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,i)}},this.$shortWordEndIndex=function(e){var t,i=0,s=/\s/,c=this.session.tokenRe;if(c.lastIndex=0,this.session.tokenRe.exec(e))i=this.session.tokenRe.lastIndex;else{for(;(t=e[i])&&s.test(t);)i++;if(i<1)for(c.lastIndex=0;(t=e[i])&&!c.test(t);)if(c.lastIndex=0,i++,s.test(t)){if(i>2){i--;break}for(;(t=e[i])&&s.test(t);)i++;if(i>2)break}}return c.lastIndex=0,i},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),s=i.substring(t),c=this.session.getFoldAt(e,t,1);if(c)return this.moveCursorTo(c.end.row,c.end.column);if(t==i.length){var r=this.doc.getLength();do{e++,s=this.doc.getLine(e)}while(e<r&&/^\s*$/.test(s));/^\s+/.test(s)||(s=""),t=0}var p=this.$shortWordEndIndex(s);this.moveCursorTo(e,t+p)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))return this.moveCursorTo(e.start.row,e.start.column);var s=this.session.getLine(t).substring(0,i);if(0===i){do{t--,s=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(s));i=s.length,/\s+$/.test(s)||(s="")}var c=v.stringReverse(s),r=this.$shortWordEndIndex(c);return this.moveCursorTo(t,i-r)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var i,s=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(s.row,this.lead.row)?(i=this.session.$bidiHandler.getPosLeft(s.column),s.column=Math.round(i/this.session.$bidiHandler.charWidths[0])):i=s.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?s.column=this.$desiredColumn:this.$desiredColumn=s.column);var c=this.session.screenToDocumentPosition(s.row+e,s.column,i);0!==e&&0===t&&c.row===this.lead.row&&c.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[c.row]&&(c.row>0||e>0)&&c.row++,this.moveCursorTo(c.row,c.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,i){var s=this.session.getFoldAt(e,t,1);s&&(e=s.start.row,t=s.start.column),this.$keepDesiredColumnOnChange=!0;var c=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(c.charAt(t))&&c.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,i||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,i){var s=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(s.row,s.column,i)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var i=this.getCursor();return f.fromPoints(t,i)}catch(s){return f.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(t){var i=t.clone();return i.isBackwards=t.cursor==t.start,i});else(e=this.getRange()).isBackwards=this.isBackwards();return e},this.fromJSON=function(e){if(null==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var i=f.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(i.cursor=i.start),this.addRange(i,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(n.prototype),S.Selection=n}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(A,S,b){"use strict";var l=A("./config"),v=2e3,h=function(f){for(var n in this.states=f,this.regExps={},this.matchMappings={},this.states){for(var e=this.states[n],t=[],i=0,s=this.matchMappings[n]={defaultToken:"text"},c="g",r=[],p=0;p<e.length;p++){var o=e[p];if(o.defaultToken&&(s.defaultToken=o.defaultToken),o.caseInsensitive&&(c="gi"),null!=o.regex){o.regex instanceof RegExp&&(o.regex=o.regex.toString().slice(1,-1));var u=o.regex,g=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(o.token)?1==o.token.length||1==g?o.token=o.token[0]:g-1!=o.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:o,groupCount:g-1}),o.token=o.token[0]):(o.tokenArray=o.token,o.token=null,o.onMatch=this.$arrayTokens):"function"!=typeof o.token||o.onMatch||(o.onMatch=g>1?this.$applyToken:o.token),g>1&&(/\\\d/.test(o.regex)?u=o.regex.replace(/\\([0-9]+)/g,function(y,C){return"\\"+(parseInt(C,10)+i+1)}):(g=1,u=this.removeCapturingGroups(o.regex)),o.splitRegex||"string"==typeof o.token||r.push(o)),s[i]=p,i+=g,t.push(u),o.onMatch||(o.onMatch=null)}}t.length||(s[0]=0,t.push("$")),r.forEach(function(y){y.splitRegex=this.createSplitterRegexp(y.regex,c)},this),this.regExps[n]=new RegExp("("+t.join(")|(")+")|($)",c)}};(function(){this.$setMaxTokenCount=function(f){v=0|f},this.$applyToken=function(f){var n=this.splitRegex.exec(f).slice(1),e=this.token.apply(this,n);if("string"==typeof e)return[{type:e,value:f}];for(var t=[],i=0,s=e.length;i<s;i++)n[i]&&(t[t.length]={type:e[i],value:n[i]});return t},this.$arrayTokens=function(f){if(!f)return[];var n=this.splitRegex.exec(f);if(!n)return"text";for(var e=[],t=this.tokenArray,i=0,s=t.length;i<s;i++)n[i+1]&&(e[e.length]={type:t[i],value:n[i+1]});return e},this.removeCapturingGroups=function(f){return f.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(n,e){return e?"(?:":n})},this.createSplitterRegexp=function(f,n){if(-1!=f.indexOf("(?=")){var e=0,t=!1,i={};f.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(s,c,r,p,o,u){return t?t="]"!=o:o?t=!0:p?(e==i.stack&&(i.end=u+1,i.stack=-1),e--):r&&(e++,1!=r.length&&(i.stack=e,i.start=u)),s}),null!=i.end&&/^\)*$/.test(f.substr(i.end))&&(f=f.substring(0,i.start)+f.substr(i.end))}return"^"!=f.charAt(0)&&(f="^"+f),"$"!=f.charAt(f.length-1)&&(f+="$"),new RegExp(f,(n||"").replace("g",""))},this.getLineTokens=function(f,n){if(n&&"string"!=typeof n){var e=n.slice(0);"#tmp"===(n=e[0])&&(e.shift(),n=e.shift())}else e=[];var t=n||"start",i=this.states[t];i||(i=this.states[t="start"]);var s=this.matchMappings[t],c=this.regExps[t];c.lastIndex=0;for(var r,p=[],o=0,u=0,g={type:null,value:""};r=c.exec(f);){var y=s.defaultToken,C=null,d=r[0],a=c.lastIndex;if(a-d.length>o){var w=f.substring(o,a-d.length);g.type==y?g.value+=w:(g.type&&p.push(g),g={type:y,value:w})}for(var E=0;E<r.length-2;E++)if(void 0!==r[E+1]){y=(C=i[s[E]]).onMatch?C.onMatch(d,t,e,f):C.token,C.next&&(t="string"==typeof C.next?C.next:C.next(t,e),(i=this.states[t])||(this.reportError("state doesn't exist",t),i=this.states[t="start"]),s=this.matchMappings[t],o=a,(c=this.regExps[t]).lastIndex=a),C.consumeLineEnd&&(o=a);break}if(d)if("string"==typeof y)C&&!1===C.merge||g.type!==y?(g.type&&p.push(g),g={type:y,value:d}):g.value+=d;else if(y)for(g.type&&p.push(g),g={type:null,value:""},E=0;E<y.length;E++)p.push(y[E]);if(o==f.length)break;if(o=a,u++>v){for(u>2*f.length&&this.reportError("infinite loop with in ace tokenizer",{startState:n,line:f});o<f.length;)g.type&&p.push(g),g={value:f.substring(o,o+=2e3),type:"overflow"};t="start",e=[];break}}return g.type&&p.push(g),e.length>1&&e[0]!==t&&e.unshift("#tmp",t),{tokens:p,state:e.length?e:t}},this.reportError=l.reportError}).call(h.prototype),S.Tokenizer=h}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(A,S,b){"use strict";var l=A("../lib/lang"),v=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(n,e){if(e)for(var t in n){for(var i=n[t],s=0;s<i.length;s++){var c=i[s];(c.next||c.onMatch)&&("string"==typeof c.next&&0!==c.next.indexOf(e)&&(c.next=e+c.next),c.nextState&&0!==c.nextState.indexOf(e)&&(c.nextState=e+c.nextState))}this.$rules[e+t]=i}else for(var t in n)this.$rules[t]=n[t]},this.getRules=function(){return this.$rules},this.embedRules=function(n,e,t,i,s){var c="function"==typeof n?(new n).getRules():n;if(i)for(var r=0;r<i.length;r++)i[r]=e+i[r];else for(var p in i=[],c)i.push(e+p);if(this.addRules(c,e),t){var o=Array.prototype[s?"push":"unshift"];for(r=0;r<i.length;r++)o.apply(this.$rules[i[r]],l.deepCopy(t))}this.$embeds||(this.$embeds=[]),this.$embeds.push(e)},this.getEmbeds=function(){return this.$embeds};var h=function(n,e){return("start"!=n||e.length)&&e.unshift(this.nextState,n),this.nextState},f=function(n,e){return e.shift(),e.shift()||"start"};this.normalizeRules=function(){var e=0,t=this.$rules;Object.keys(t).forEach(function n(i){var s=t[i];s.processed=!0;for(var c=0;c<s.length;c++){var r=s[c],p=null;Array.isArray(r)&&(p=r,r={}),!r.regex&&r.start&&(r.regex=r.start,r.next||(r.next=[]),r.next.push({defaultToken:r.token},{token:r.token+".end",regex:r.end||r.start,next:"pop"}),r.token=r.token+".start",r.push=!0);var o=r.next||r.push;if(o&&Array.isArray(o)){var u=r.stateName;u||("string"!=typeof(u=r.token)&&(u=u[0]||""),t[u]&&(u+=e++)),t[u]=o,r.next=u,n(u)}else"pop"==o&&(r.next=f);if(r.push&&(r.nextState=r.next||r.push,r.next=h,delete r.push),r.rules)for(var g in r.rules)t[g]?t[g].push&&t[g].push.apply(t[g],r.rules[g]):t[g]=r.rules[g];var y="string"==typeof r?r:r.include;if(y&&(p=Array.isArray(y)?y.map(function(d){return t[d]}):t[y]),p){var C=[c,1].concat(p);r.noEscape&&(C=C.filter(function(d){return!d.next})),s.splice.apply(s,C),c--}r.keywordMap&&(r.token=this.createKeywordMapper(r.keywordMap,r.defaultToken||"text",r.caseInsensitive),delete r.defaultToken)}},this)},this.createKeywordMapper=function(n,e,t,i){var s=Object.create(null);return Object.keys(n).forEach(function(c){var r=n[c];t&&(r=r.toLowerCase());for(var p=r.split(i||"|"),o=p.length;o--;)s[p[o]]=c}),Object.getPrototypeOf(s)&&(s.__proto__=null),this.$keywordList=Object.keys(s),n=null,t?function(c){return s[c.toLowerCase()]||e}:function(c){return s[c]||e}},this.getKeywords=function(){return this.$keywords}}).call(v.prototype),S.TextHighlightRules=v}),ace.define("ace/mode/behaviour",["require","exports","module"],function(A,S,b){"use strict";var l=function(){this.$behaviours={}};(function(){this.add=function(v,h,f){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[v]:this.$behaviours[v]={}}this.$behaviours[v][h]=f},this.addBehaviours=function(v){for(var h in v)for(var f in v[h])this.add(h,f,v[h][f])},this.remove=function(v){this.$behaviours&&this.$behaviours[v]&&delete this.$behaviours[v]},this.inherit=function(v,h){if("function"==typeof v)var f=(new v).getBehaviours(h);else f=v.getBehaviours(h);this.addBehaviours(f)},this.getBehaviours=function(v){if(v){for(var h={},f=0;f<v.length;f++)this.$behaviours[v[f]]&&(h[v[f]]=this.$behaviours[v[f]]);return h}return this.$behaviours}}).call(l.prototype),S.Behaviour=l}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(A,S,b){"use strict";var l=A("./range").Range,v=function(h,f,n){this.$session=h,this.$row=f,this.$rowTokens=h.getTokens(f);var e=h.getTokenAt(f,n);this.$tokenIndex=e?e.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var h;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,h||(h=this.$session.getLength()),this.$row>=h)return this.$row=h-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var h=this.$rowTokens,f=this.$tokenIndex,n=h[f].start;if(void 0!==n)return n;for(n=0;f>0;)n+=h[f-=1].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var h=this.$rowTokens[this.$tokenIndex],f=this.getCurrentTokenColumn();return new l(this.$row,f,this.$row,f+h.value.length)}}).call(v.prototype),S.TokenIterator=v}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(A,S,b){"use strict";var l,v=A("../../lib/oop"),h=A("../behaviour").Behaviour,f=A("../../token_iterator").TokenIterator,n=A("../../lib/lang"),e=["text","paren.rparen","punctuation.operator"],t=["text","paren.rparen","punctuation.operator","comment"],i={},s={'"':'"',"'":"'"},c=function(o){var u=-1;if(o.multiSelect&&(u=o.selection.index,i.rangeCount!=o.multiSelect.rangeCount&&(i={rangeCount:o.multiSelect.rangeCount})),i[u])return l=i[u];l=i[u]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},r=function(o,u,g,y){var C=o.end.row-o.start.row;return{text:g+u+y,selection:[0,o.start.column+1,C,o.end.column+(C?0:1)]}},p=function(o){this.add("braces","insertion",function(u,g,y,C,d){var a=y.getCursorPosition(),w=C.doc.getLine(a.row);if("{"==d){c(y);var E=y.getSelectionRange(),F=C.doc.getTextRange(E);if(""!==F&&"{"!==F&&y.getWrapBehavioursEnabled())return r(E,F,"{","}");if(p.isSaneInsertion(y,C))return/[\]\}\)]/.test(w[a.column])||y.inMultiSelectMode||o&&o.braces?(p.recordAutoInsert(y,C,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(y,C,"{"),{text:"{",selection:[1,1]})}else if("}"==d){if(c(y),"}"==w.substring(a.column,a.column+1)&&null!==C.$findOpeningBracket("}",{column:a.column+1,row:a.row})&&p.isAutoInsertedClosing(a,w,d))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==d||"\r\n"==d){c(y);var R="";if(p.isMaybeInsertedClosing(a,w)&&(R=n.stringRepeat("}",l.maybeInsertedBrackets),p.clearMaybeInsertedClosing()),"}"===w.substring(a.column,a.column+1)){var P=C.findMatchingBracket({row:a.row,column:a.column+1},"}");if(!P)return null;var x=this.$getIndent(C.getLine(P.row))}else{if(!R)return void p.clearMaybeInsertedClosing();x=this.$getIndent(w)}var D=x+C.getTabString();return{text:"\n"+D+"\n"+x+R,selection:[1,D.length,1,D.length]}}p.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(u,g,y,C,d){var a=C.doc.getTextRange(d);if(!d.isMultiLine()&&"{"==a){if(c(y),"}"==C.doc.getLine(d.start.row).substring(d.end.column,d.end.column+1))return d.end.column++,d;l.maybeInsertedBrackets--}}),this.add("parens","insertion",function(u,g,y,C,d){if("("==d){c(y);var a=y.getSelectionRange(),w=C.doc.getTextRange(a);if(""!==w&&y.getWrapBehavioursEnabled())return r(a,w,"(",")");if(p.isSaneInsertion(y,C))return p.recordAutoInsert(y,C,")"),{text:"()",selection:[1,1]}}else if(")"==d){c(y);var E=y.getCursorPosition(),F=C.doc.getLine(E.row);if(")"==F.substring(E.column,E.column+1)&&null!==C.$findOpeningBracket(")",{column:E.column+1,row:E.row})&&p.isAutoInsertedClosing(E,F,d))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(u,g,y,C,d){var a=C.doc.getTextRange(d);if(!d.isMultiLine()&&"("==a&&(c(y),")"==C.doc.getLine(d.start.row).substring(d.start.column+1,d.start.column+2)))return d.end.column++,d}),this.add("brackets","insertion",function(u,g,y,C,d){if("["==d){c(y);var a=y.getSelectionRange(),w=C.doc.getTextRange(a);if(""!==w&&y.getWrapBehavioursEnabled())return r(a,w,"[","]");if(p.isSaneInsertion(y,C))return p.recordAutoInsert(y,C,"]"),{text:"[]",selection:[1,1]}}else if("]"==d){c(y);var E=y.getCursorPosition(),F=C.doc.getLine(E.row);if("]"==F.substring(E.column,E.column+1)&&null!==C.$findOpeningBracket("]",{column:E.column+1,row:E.row})&&p.isAutoInsertedClosing(E,F,d))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(u,g,y,C,d){var a=C.doc.getTextRange(d);if(!d.isMultiLine()&&"["==a&&(c(y),"]"==C.doc.getLine(d.start.row).substring(d.start.column+1,d.start.column+2)))return d.end.column++,d}),this.add("string_dquotes","insertion",function(u,g,y,C,d){var a=C.$mode.$quotes||s;if(1==d.length&&a[d]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(d))return;c(y);var w=d,E=y.getSelectionRange(),F=C.doc.getTextRange(E);if(!(""===F||1==F.length&&a[F])&&y.getWrapBehavioursEnabled())return r(E,F,w,w);if(!F){var _=y.getCursorPosition(),B=C.doc.getLine(_.row),R=B.substring(_.column-1,_.column),P=B.substring(_.column,_.column+1),x=C.getTokenAt(_.row,_.column),D=C.getTokenAt(_.row,_.column+1);if("\\"==R&&x&&/escape/.test(x.type))return null;var T,k=x&&/string|escape/.test(x.type),L=!D||/string|escape/.test(D.type);if(P==w)(T=k!==L)&&/string\.end/.test(D.type)&&(T=!1);else{if(k&&!L||k&&L)return null;var $=C.$mode.tokenRe;$.lastIndex=0;var O=$.test(R);$.lastIndex=0;var I=$.test(R);if(O||I||P&&!/[\s;,.})\]\\]/.test(P))return null;T=!0}return{text:T?w+w:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(u,g,y,C,d){var a=C.doc.getTextRange(d);if(!d.isMultiLine()&&('"'==a||"'"==a)&&(c(y),C.doc.getLine(d.start.row).substring(d.start.column+1,d.start.column+2)==a))return d.end.column++,d})};p.isSaneInsertion=function(o,u){var g=o.getCursorPosition(),y=new f(u,g.row,g.column);if(!this.$matchTokenType(y.getCurrentToken()||"text",e)){var C=new f(u,g.row,g.column+1);if(!this.$matchTokenType(C.getCurrentToken()||"text",e))return!1}return y.stepForward(),y.getCurrentTokenRow()!==g.row||this.$matchTokenType(y.getCurrentToken()||"text",t)},p.$matchTokenType=function(o,u){return u.indexOf(o.type||o)>-1},p.recordAutoInsert=function(o,u,g){var y=o.getCursorPosition(),C=u.doc.getLine(y.row);this.isAutoInsertedClosing(y,C,l.autoInsertedLineEnd[0])||(l.autoInsertedBrackets=0),l.autoInsertedRow=y.row,l.autoInsertedLineEnd=g+C.substr(y.column),l.autoInsertedBrackets++},p.recordMaybeInsert=function(o,u,g){var y=o.getCursorPosition(),C=u.doc.getLine(y.row);this.isMaybeInsertedClosing(y,C)||(l.maybeInsertedBrackets=0),l.maybeInsertedRow=y.row,l.maybeInsertedLineStart=C.substr(0,y.column)+g,l.maybeInsertedLineEnd=C.substr(y.column),l.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(o,u,g){return l.autoInsertedBrackets>0&&o.row===l.autoInsertedRow&&g===l.autoInsertedLineEnd[0]&&u.substr(o.column)===l.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(o,u){return l.maybeInsertedBrackets>0&&o.row===l.maybeInsertedRow&&u.substr(o.column)===l.maybeInsertedLineEnd&&u.substr(0,o.column)==l.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){l.autoInsertedLineEnd=l.autoInsertedLineEnd.substr(1),l.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){l&&(l.maybeInsertedBrackets=0,l.maybeInsertedRow=-1)},v.inherits(p,h),S.CstyleBehaviour=p}),ace.define("ace/unicode",["require","exports","module"],function(A,S,b){"use strict";S.packages={},function(l){for(var v in l)S.packages[v]=l[v].replace(/\w{4}/g,"\\u$&")}({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(A,S,b){"use strict";var l=A("../tokenizer").Tokenizer,v=A("./text_highlight_rules").TextHighlightRules,h=A("./behaviour/cstyle").CstyleBehaviour,f=A("../unicode"),n=A("../lib/lang"),e=A("../token_iterator").TokenIterator,t=A("../range").Range,i=function(){this.HighlightRules=v};(function(){this.$defaultBehaviour=new h,this.tokenRe=new RegExp("^["+f.packages.L+f.packages.Mn+f.packages.Mc+f.packages.Nd+f.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+f.packages.L+f.packages.Mn+f.packages.Mc+f.packages.Nd+f.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new l(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(s,c,r,p){function o(k){for(var L=r;L<=p;L++)k(u.getLine(L),L)}var u=c.doc,g=!0,y=!0,C=1/0,d=c.getTabSize(),a=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var w=this.lineCommentStart.map(n.escapeRegExp).join("|"),E=this.lineCommentStart[0];else w=n.escapeRegExp(this.lineCommentStart),E=this.lineCommentStart;w=new RegExp("^(\\s*)(?:"+w+") ?"),a=c.getUseSoftTabs();var F=function(k,L){var $=k.match(w);if($){var O=$[1].length,I=$[0].length;P(k,O,I)||" "!=$[0][I-1]||I--,u.removeInLine(L,O,I)}},_=E+" ",B=function(k,L){g&&!/\S/.test(k)||(P(k,C,C)?u.insertInLine({row:L,column:C},_):u.insertInLine({row:L,column:C},E))},R=function(k,L){return w.test(k)},P=function(k,L,$){for(var O=0;L--&&" "==k.charAt(L);)O++;if(O%d!=0)return!1;for(O=0;" "==k.charAt($++);)O++;return d>2?O%d!=d-1:O%d==0}}else{if(!this.blockComment)return!1;E=this.blockComment.start;var x=this.blockComment.end,D=(w=new RegExp("^(\\s*)(?:"+n.escapeRegExp(E)+")"),new RegExp("(?:"+n.escapeRegExp(x)+")\\s*$"));B=function(j,z){R(j,z)||g&&!/\S/.test(j)||(u.insertInLine({row:z,column:j.length},x),u.insertInLine({row:z,column:C},E))},F=function(j,z){var N;(N=j.match(D))&&u.removeInLine(z,j.length-N[0].length,j.length),(N=j.match(w))&&u.removeInLine(z,N[1].length,N[0].length)},R=function(j,z){if(w.test(j))return!0;for(var N=c.getTokens(z),W=0;W<N.length;W++)if("comment"===N[W].type)return!0}}var T=1/0;o(function(k,L){var $=k.search(/\S/);-1!==$?($<C&&(C=$),y&&!R(k,L)&&(y=!1)):T>k.length&&(T=k.length)}),C==1/0&&(C=T,g=!1,y=!1),a&&C%d!=0&&(C=Math.floor(C/d)*d),o(y?F:B)},this.toggleBlockComment=function(s,c,r,p){var o=this.blockComment;if(o){!o.start&&o[0]&&(o=o[0]);var u,g,C=(y=new e(c,p.row,p.column)).getCurrentToken(),d=c.selection.toOrientedRange();if(C&&/comment/.test(C.type)){for(var a,w;C&&/comment/.test(C.type);){if(-1!=(E=C.value.indexOf(o.start))){var F=y.getCurrentTokenRow(),_=y.getCurrentTokenColumn()+E;a=new t(F,_,F,_+o.start.length);break}C=y.stepBackward()}var y;for(C=(y=new e(c,p.row,p.column)).getCurrentToken();C&&/comment/.test(C.type);){var E;if(-1!=(E=C.value.indexOf(o.end))){F=y.getCurrentTokenRow(),_=y.getCurrentTokenColumn()+E,w=new t(F,_,F,_+o.end.length);break}C=y.stepForward()}w&&c.remove(w),a&&(c.remove(a),u=a.start.row,g=-o.start.length)}else g=o.start.length,u=r.start.row,c.insert(r.end,o.end),c.insert(r.start,o.start);d.start.row==u&&(d.start.column+=g),d.end.row==u&&(d.end.column+=g),c.selection.fromOrientedRange(d)}},this.getNextLineIndent=function(s,c,r){return this.$getIndent(c)},this.checkOutdent=function(s,c,r){return!1},this.autoOutdent=function(s,c,r){},this.$getIndent=function(s){return s.match(/^\s*/)[0]},this.createWorker=function(s){return null},this.createModeDelegates=function(s){for(var c in this.$embeds=[],this.$modes={},s)s[c]&&(this.$embeds.push(c),this.$modes[c]=new s[c]);var r=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(c=0;c<r.length;c++)!function(o){var u=r[c],g=o[u];o[r[c]]=function(){return this.$delegator(u,arguments,g)}}(this)},this.$delegator=function(s,c,r){var p=c[0];"string"!=typeof p&&(p=p[0]);for(var o=0;o<this.$embeds.length;o++)if(this.$modes[this.$embeds[o]]){var u=p.split(this.$embeds[o]);if(!u[0]&&u[1]){c[0]=u[1];var g=this.$modes[this.$embeds[o]];return g[s].apply(g,c)}}var y=r.apply(this,c);return r?y:void 0},this.transformAction=function(s,c,r,p,o){if(this.$behaviour){var u=this.$behaviour.getBehaviours();for(var g in u)if(u[g][c]){var y=u[g][c].apply(this,arguments);if(y)return y}}},this.getKeywords=function(s){if(!this.completionKeywords){var c=this.$tokenizer.rules,r=[];for(var p in c)for(var o=c[p],u=0,g=o.length;u<g;u++)if("string"==typeof o[u].token)/keyword|support|storage/.test(o[u].token)&&r.push(o[u].regex);else if("object"==typeof o[u].token)for(var y=0,C=o[u].token.length;y<C;y++)/keyword|support|storage/.test(o[u].token[y])&&(p=o[u].regex.match(/\(.+?\)/g)[y],r.push(p.substr(1,p.length-2)));this.completionKeywords=r}return s?r.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(s,c,r,p){return(this.$keywordList||this.$createKeywordList()).map(function(o){return{name:o,value:o,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(i.prototype),S.Mode=i}),ace.define("ace/apply_delta",["require","exports","module"],function(A,S,b){"use strict";S.applyDelta=function(l,v,h){var f=v.start.row,n=v.start.column,e=l[f]||"";switch(v.action){case"insert":if(1===v.lines.length)l[f]=e.substring(0,n)+v.lines[0]+e.substring(n);else{var t=[f,1].concat(v.lines);l.splice.apply(l,t),l[f]=e.substring(0,n)+l[f],l[f+v.lines.length-1]+=e.substring(n)}break;case"remove":var i=v.end.column,s=v.end.row;f===s?l[f]=e.substring(0,n)+e.substring(i):l.splice(f,s-f+1,e.substring(0,n)+l[s].substring(i))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(A,S,b){"use strict";var l=A("./lib/oop"),v=A("./lib/event_emitter").EventEmitter,h=S.Anchor=function(f,n,e){this.$onChange=this.onChange.bind(this),this.attach(f),void 0===e?this.setPosition(n.row,n.column):this.setPosition(n,e)};(function(){function f(e,t,i){return e.row<t.row||e.row==t.row&&(i?e.column<=t.column:e.column<t.column)}l.implement(this,v),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var t=function(e,t,i){var s="insert"==e.action,c=(s?1:-1)*(e.end.row-e.start.row),r=(s?1:-1)*(e.end.column-e.start.column),p=e.start,o=s?p:e.end;return f(t,p,i)?{row:t.row,column:t.column}:f(o,t,!i)?{row:t.row+c,column:t.column+(t.row==o.row?r:0)}:{row:p.row,column:p.column}}(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(t.row,t.column,!0)}},this.setPosition=function(e,t,i){var s;if(s=i?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=s.row||this.column!=s.column){var c={row:this.row,column:this.column};this.row=s.row,this.column=s.column,this._signal("change",{old:c,value:s})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var i={};return e>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):e<0?(i.row=0,i.column=0):(i.row=e,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,t))),t<0&&(i.column=0),i}}).call(h.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(A,S,b){"use strict";var l=A("./lib/oop"),v=A("./apply_delta").applyDelta,h=A("./lib/event_emitter").EventEmitter,f=A("./range").Range,n=A("./anchor").Anchor,e=function(t){this.$lines=[""],0===t.length?this.$lines=[""]:Array.isArray(t)?this.insertMergedLines({row:0,column:0},t):this.insert({row:0,column:0},t)};(function(){l.implement(this,h),this.setValue=function(t){var i=this.getLength()-1;this.remove(new f(0,0,i,this.getLine(i).length)),this.insert({row:0,column:0},t)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(t,i){return new n(this,t,i)},this.$split=0==="aaa".split(/a/).length?function(t){return t.replace(/\r\n|\r/g,"\n").split("\n")}:function(t){return t.split(/\r\n|\r|\n/)},this.$detectNewLine=function(t){var i=t.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=i?i[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(t){this.$newLineMode!==t&&(this.$newLineMode=t,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(t){return"\r\n"==t||"\r"==t||"\n"==t},this.getLine=function(t){return this.$lines[t]||""},this.getLines=function(t,i){return this.$lines.slice(t,i+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(t){return this.getLinesForRange(t).join(this.getNewLineCharacter())},this.getLinesForRange=function(t){var i;if(t.start.row===t.end.row)i=[this.getLine(t.start.row).substring(t.start.column,t.end.column)];else{(i=this.getLines(t.start.row,t.end.row))[0]=(i[0]||"").substring(t.start.column);var s=i.length-1;t.end.row-t.start.row==s&&(i[s]=i[s].substring(0,t.end.column))}return i},this.insertLines=function(t,i){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(t,i)},this.removeLines=function(t,i){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(t,i)},this.insertNewLine=function(t){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(t,["",""])},this.insert=function(t,i){return this.getLength()<=1&&this.$detectNewLine(i),this.insertMergedLines(t,this.$split(i))},this.insertInLine=function(t,i){var s=this.clippedPos(t.row,t.column),c=this.pos(t.row,t.column+i.length);return this.applyDelta({start:s,end:c,action:"insert",lines:[i]},!0),this.clonePos(c)},this.clippedPos=function(t,i){var s=this.getLength();void 0===t?t=s:t<0?t=0:t>=s&&(t=s-1,i=void 0);var c=this.getLine(t);return null==i&&(i=c.length),{row:t,column:i=Math.min(Math.max(i,0),c.length)}},this.clonePos=function(t){return{row:t.row,column:t.column}},this.pos=function(t,i){return{row:t,column:i}},this.$clipPosition=function(t){var i=this.getLength();return t.row>=i?(t.row=Math.max(0,i-1),t.column=this.getLine(i-1).length):(t.row=Math.max(0,t.row),t.column=Math.min(Math.max(t.column,0),this.getLine(t.row).length)),t},this.insertFullLines=function(t,i){var s=0;(t=Math.min(Math.max(t,0),this.getLength()))<this.getLength()?(i=i.concat([""]),s=0):(i=[""].concat(i),t--,s=this.$lines[t].length),this.insertMergedLines({row:t,column:s},i)},this.insertMergedLines=function(t,i){var s=this.clippedPos(t.row,t.column),c={row:s.row+i.length-1,column:(1==i.length?s.column:0)+i[i.length-1].length};return this.applyDelta({start:s,end:c,action:"insert",lines:i}),this.clonePos(c)},this.remove=function(t){var i=this.clippedPos(t.start.row,t.start.column),s=this.clippedPos(t.end.row,t.end.column);return this.applyDelta({start:i,end:s,action:"remove",lines:this.getLinesForRange({start:i,end:s})}),this.clonePos(i)},this.removeInLine=function(t,i,s){var c=this.clippedPos(t,i),r=this.clippedPos(t,s);return this.applyDelta({start:c,end:r,action:"remove",lines:this.getLinesForRange({start:c,end:r})},!0),this.clonePos(c)},this.removeFullLines=function(t,i){t=Math.min(Math.max(0,t),this.getLength()-1);var s=(i=Math.min(Math.max(0,i),this.getLength()-1))==this.getLength()-1&&t>0,c=i<this.getLength()-1,r=s?t-1:t,p=s?this.getLine(r).length:0,o=c?i+1:i,u=c?0:this.getLine(o).length,g=new f(r,p,o,u),y=this.$lines.slice(t,i+1);return this.applyDelta({start:g.start,end:g.end,action:"remove",lines:this.getLinesForRange(g)}),y},this.removeNewLine=function(t){t<this.getLength()-1&&t>=0&&this.applyDelta({start:this.pos(t,this.getLine(t).length),end:this.pos(t+1,0),action:"remove",lines:["",""]})},this.replace=function(t,i){return t instanceof f||(t=f.fromPoints(t.start,t.end)),0===i.length&&t.isEmpty()?t.start:i==this.getTextRange(t)?t.end:(this.remove(t),i?this.insert(t.start,i):t.start)},this.applyDeltas=function(t){for(var i=0;i<t.length;i++)this.applyDelta(t[i])},this.revertDeltas=function(t){for(var i=t.length-1;i>=0;i--)this.revertDelta(t[i])},this.applyDelta=function(t,i){var s="insert"==t.action;(s?t.lines.length<=1&&!t.lines[0]:!f.comparePoints(t.start,t.end))||(s&&t.lines.length>2e4&&this.$splitAndapplyLargeDelta(t,2e4),v(this.$lines,t,i),this._signal("change",t))},this.$splitAndapplyLargeDelta=function(t,i){for(var s=t.lines,c=s.length,r=t.start.row,p=t.start.column,o=0,u=0;;){var g=s.slice(o=u,u+=i-1);if(u>c){t.lines=g,t.start.row=r+o,t.start.column=p;break}g.push(""),this.applyDelta({start:this.pos(r+o,p),end:this.pos(r+u,p=0),action:t.action,lines:g},!0)}},this.revertDelta=function(t){this.applyDelta({start:this.clonePos(t.start),end:this.clonePos(t.end),action:"insert"==t.action?"remove":"insert",lines:t.lines.slice()})},this.indexToPosition=function(t,i){for(var s=this.$lines||this.getAllLines(),c=this.getNewLineCharacter().length,r=i||0,p=s.length;r<p;r++)if((t-=s[r].length+c)<0)return{row:r,column:t+s[r].length+c};return{row:p-1,column:s[p-1].length}},this.positionToIndex=function(t,i){for(var s=this.$lines||this.getAllLines(),c=this.getNewLineCharacter().length,r=0,p=Math.min(t.row,s.length),o=i||0;o<p;++o)r+=s[o].length+c;return r+t.column}}).call(e.prototype),S.Document=e}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(A,S,b){"use strict";var l=A("./lib/oop"),v=A("./lib/event_emitter").EventEmitter,h=function(f,n){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=f;var e=this;this.$worker=function(){if(e.running){for(var t=new Date,i=e.currentLine,s=-1,c=e.doc,r=i;e.lines[i];)i++;var p=c.getLength(),o=0;for(e.running=!1;i<p;){e.$tokenizeRow(i),s=i;do{i++}while(e.lines[i]);if(++o%5==0&&new Date-t>20){e.running=setTimeout(e.$worker,20);break}}e.currentLine=i,-1==s&&(s=i),r<=s&&e.fireUpdateEvent(r,s)}}};(function(){l.implement(this,v),this.setTokenizer=function(f){this.tokenizer=f,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(f){this.doc=f,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(f,n){this._signal("update",{data:{first:f,last:n}})},this.start=function(f){this.currentLine=Math.min(f||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(f){var n=f.start.row,e=f.end.row-n;if(0===e)this.lines[n]=null;else if("remove"==f.action)this.lines.splice(n,e+1,null),this.states.splice(n,e+1,null);else{var t=Array(e+1);t.unshift(n,1),this.lines.splice.apply(this.lines,t),this.states.splice.apply(this.states,t)}this.currentLine=Math.min(n,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(f){return this.lines[f]||this.$tokenizeRow(f)},this.getState=function(f){return this.currentLine==f&&this.$tokenizeRow(f),this.states[f]||"start"},this.$tokenizeRow=function(f){var n=this.doc.getLine(f),t=this.tokenizer.getLineTokens(n,this.states[f-1],f);return this.states[f]+""!=t.state+""?(this.states[f]=t.state,this.lines[f+1]=null,this.currentLine>f+1&&(this.currentLine=f+1)):this.currentLine==f&&(this.currentLine=f+1),this.lines[f]=t.tokens}}).call(h.prototype),S.BackgroundTokenizer=h}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(A,S,b){"use strict";var l=A("./lib/lang"),v=(A("./lib/oop"),A("./range").Range),h=function(f,n,e){this.setRegexp(f),this.clazz=n,this.type=e||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(f){this.regExp+""!=f+""&&(this.regExp=f,this.cache=[])},this.update=function(f,n,e,t){if(this.regExp)for(var s=t.lastRow,c=t.firstRow;c<=s;c++){var r=this.cache[c];null==r&&((r=l.getMatchOffsets(e.getLine(c),this.regExp)).length>this.MAX_RANGES&&(r=r.slice(0,this.MAX_RANGES)),r=r.map(function(o){return new v(c,o.offset,c,o.offset+o.length)}),this.cache[c]=r.length?r:"");for(var p=r.length;p--;)n.drawSingleLineMarker(f,r[p].toScreenRange(e),this.clazz,t)}}}).call(h.prototype),S.SearchHighlight=h}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(A,S,b){"use strict";function l(h,f){this.foldData=h,Array.isArray(f)?this.folds=f:f=this.folds=[f];var n=f[f.length-1];this.range=new v(f[0].start.row,f[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var v=A("../range").Range;(function(){this.shiftRow=function(h){this.start.row+=h,this.end.row+=h,this.folds.forEach(function(f){f.start.row+=h,f.end.row+=h})},this.addFold=function(h){if(h.sameRow){if(h.start.row<this.startRow||h.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(h),this.folds.sort(function(f,n){return-f.range.compareEnd(n.start.row,n.start.column)}),this.range.compareEnd(h.start.row,h.start.column)>0?(this.end.row=h.end.row,this.end.column=h.end.column):this.range.compareStart(h.end.row,h.end.column)<0&&(this.start.row=h.start.row,this.start.column=h.start.column)}else if(h.start.row==this.end.row)this.folds.push(h),this.end.row=h.end.row,this.end.column=h.end.column;else{if(h.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(h),this.start.row=h.start.row,this.start.column=h.start.column}h.foldLine=this},this.containsRow=function(h){return h>=this.start.row&&h<=this.end.row},this.walk=function(h,f,n){var e,t,s=0,c=this.folds,r=!0;null==f&&(f=this.end.row,n=this.end.column);for(var p=0;p<c.length;p++){if(-1==(t=(e=c[p]).range.compareStart(f,n)))return void h(null,f,n,s,r);if(!h(null,e.start.row,e.start.column,s,r)&&h(e.placeholder,e.start.row,e.start.column,s)||0===t)return;r=!e.sameRow,s=e.end.column}h(null,f,n,s,r)},this.getNextFoldTo=function(h,f){for(var n,e,t=0;t<this.folds.length;t++){if(-1==(e=(n=this.folds[t]).range.compareEnd(h,f)))return{fold:n,kind:"after"};if(0===e)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(h,f,n){var e,t,i=this.getNextFoldTo(h,f);if(i)if(e=i.fold,"inside"==i.kind&&e.start.column!=f&&e.start.row!=h)window.console&&window.console.log(h,f,e);else if(e.start.row==h){var s=(t=this.folds).indexOf(e);for(0===s&&(this.start.column+=n);s<t.length;s++){if((e=t[s]).start.column+=n,!e.sameRow)return;e.end.column+=n}this.end.column+=n}},this.split=function(h,f){var n=this.getNextFoldTo(h,f);if(!n||"inside"==n.kind)return null;var t=this.folds,i=this.foldData,s=t.indexOf(n.fold),c=t[s-1];this.end.row=c.end.row,this.end.column=c.end.column;var r=new l(i,t=t.splice(s,t.length-s));return i.splice(i.indexOf(this)+1,0,r),r},this.merge=function(h){for(var f=h.folds,n=0;n<f.length;n++)this.addFold(f[n]);var e=this.foldData;e.splice(e.indexOf(h),1)},this.toString=function(){var h=[this.range.toString()+": ["];return this.folds.forEach(function(f){h.push("  "+f.toString())}),h.push("]"),h.join("\n")},this.idxToPosition=function(h){for(var f=0,n=0;n<this.folds.length;n++){var e=this.folds[n];if((h-=e.start.column-f)<0)return{row:e.start.row,column:e.start.column+h};if((h-=e.placeholder.length)<0)return e.start;f=e.end.column}return{row:this.end.row,column:this.end.column+h}}}).call(l.prototype),S.FoldLine=l}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(A,S,b){"use strict";var v=A("./range").Range.comparePoints,h=function(){this.ranges=[]};(function(){this.comparePoints=v,this.pointIndex=function(f,n,e){for(var t=this.ranges,i=e||0;i<t.length;i++){var s=t[i],c=v(f,s.end);if(!(c>0)){var r=v(f,s.start);return 0===c?n&&0!==r?-i-2:i:r>0||0===r&&!n?i:-i-1}}return-i-1},this.add=function(f){var n=!f.isEmpty(),e=this.pointIndex(f.start,n);e<0&&(e=-e-1);var t=this.pointIndex(f.end,n,e);return t<0?t=-t-1:t++,this.ranges.splice(e,t-e,f)},this.addList=function(f){for(var n=[],e=f.length;e--;)n.push.apply(n,this.add(f[e]));return n},this.substractPoint=function(f){var n=this.pointIndex(f);if(n>=0)return this.ranges.splice(n,1)},this.merge=function(){for(var e,f=[],n=this.ranges,t=(n=n.sort(function(c,r){return v(c.start,r.start)}))[0],i=1;i<n.length;i++){var s=v((e=t).end,(t=n[i]).start);s<0||(0!=s||e.isEmpty()||t.isEmpty())&&(v(e.end,t.end)<0&&(e.end.row=t.end.row,e.end.column=t.end.column),n.splice(i,1),f.push(t),t=e,i--)}return this.ranges=n,f},this.contains=function(f,n){return this.pointIndex({row:f,column:n})>=0},this.containsPoint=function(f){return this.pointIndex(f)>=0},this.rangeAtPoint=function(f){var n=this.pointIndex(f);if(n>=0)return this.ranges[n]},this.clipRows=function(f,n){var e=this.ranges;if(e[0].start.row>n||e[e.length-1].start.row<f)return[];var t=this.pointIndex({row:f,column:0});t<0&&(t=-t-1);var i=this.pointIndex({row:n,column:0},t);i<0&&(i=-i-1);for(var s=[],c=t;c<i;c++)s.push(e[c]);return s},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(f){this.session&&this.detach(),this.session=f,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(f){if("insert"==f.action)var n=f.start,e=f.end;else e=f.start,n=f.end;for(var t=n.row,s=e.row-t,c=-n.column+e.column,r=this.ranges,p=0,o=r.length;p<o;p++)if(!((u=r[p]).end.row<t)){if(u.start.row>t)break;if(u.start.row==t&&u.start.column>=n.column&&(u.start.column==n.column&&this.$insertRight||(u.start.column+=c,u.start.row+=s)),u.end.row==t&&u.end.column>=n.column){if(u.end.column==n.column&&this.$insertRight)continue;u.end.column==n.column&&c>0&&p<o-1&&u.end.column>u.start.column&&u.end.column==r[p+1].start.column&&(u.end.column-=c),u.end.column+=c,u.end.row+=s}}if(0!=s&&p<o)for(;p<o;p++){var u;(u=r[p]).start.row+=s,u.end.row+=s}}}).call(h.prototype),S.RangeList=h}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(A,S,b){"use strict";function l(i,s){i.row-=s.row,0==i.row&&(i.column-=s.column)}function h(i,s){0==i.row&&(i.column+=s.column),i.row+=s.row}var n=(A("../range"),A("../range_list").RangeList),e=A("../lib/oop"),t=S.Fold=function(i,s){this.foldLine=null,this.placeholder=s,this.range=i,this.start=i.start,this.end=i.end,this.sameRow=i.start.row==i.end.row,this.subFolds=this.ranges=[]};e.inherits(t,n),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(i){this.foldLine=i,this.subFolds.forEach(function(s){s.setFoldLine(i)})},this.clone=function(){var i=this.range.clone(),s=new t(i,this.placeholder);return this.subFolds.forEach(function(c){s.subFolds.push(c.clone())}),s.collapseChildren=this.collapseChildren,s},this.addSubFold=function(i){if(!this.range.isEqual(i)){if(!this.range.containsRange(i))throw new Error("A fold can't intersect already existing fold"+i.range+this.range);!function(i,s){l(i.start,s),l(i.end,s)}(i,this.start);for(var s=i.start.row,c=i.start.column,r=0,p=-1;r<this.subFolds.length&&1==(p=this.subFolds[r].range.compare(s,c));r++);if(0==p)return this.subFolds[r].addSubFold(i);s=i.range.end.row,c=i.range.end.column;var u=r;for(p=-1;u<this.subFolds.length&&1==(p=this.subFolds[u].range.compare(s,c));u++);if(0==p)throw new Error("A fold can't intersect already existing fold"+i.range+this.range);return this.subFolds.splice(r,u-r,i),i.setFoldLine(this.foldLine),i}},this.restoreRange=function(i){return function(i,s){h(i.start,s),h(i.end,s)}(i,this.start)}}.call(t.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(A,S,b){"use strict";var v=A("../range").Range,h=A("./fold_line").FoldLine,f=A("./fold").Fold,n=A("../token_iterator").TokenIterator;S.Folding=function(){this.getFoldAt=function(e,t,i){var s=this.getFoldLine(e);if(!s)return null;for(var c=s.folds,r=0;r<c.length;r++){var p=c[r];if(p.range.contains(e,t)){if(1==i&&p.range.isEnd(e,t)||-1==i&&p.range.isStart(e,t))continue;return p}}},this.getFoldsInRange=function(e){var t=e.start,i=e.end,s=this.$foldData,c=[];t.column+=1,i.column-=1;for(var r=0;r<s.length;r++){var p=s[r].range.compareRange(e);if(2!=p){if(-2==p)break;for(var o=s[r].folds,u=0;u<o.length;u++){var g=o[u];if(-2==(p=g.range.compareRange(e)))break;if(2!=p){if(42==p)break;c.push(g)}}}}return t.column-=1,i.column+=1,c},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(s){t=t.concat(this.getFoldsInRange(s))},this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,i=0;i<t.length;i++)for(var s=0;s<t[i].folds.length;s++)e.push(t[i].folds[s]);return e},this.getFoldStringAt=function(e,t,i,s){if(!(s=s||this.getFoldLine(e)))return null;for(var c,r,p={end:{column:0}},o=0;o<s.folds.length;o++){var u=(r=s.folds[o]).range.compareEnd(e,t);if(-1==u){c=this.getLine(r.start.row).substring(p.end.column,r.start.column);break}if(0===u)return null;p=r}return c||(c=this.getLine(r.start.row).substring(p.end.column)),-1==i?c.substring(0,t-p.end.column):1==i?c.substring(t-p.end.column):c},this.getFoldLine=function(e,t){var i=this.$foldData,s=0;for(t&&(s=i.indexOf(t)),-1==s&&(s=0);s<i.length;s++){var c=i[s];if(c.start.row<=e&&c.end.row>=e)return c;if(c.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var i=this.$foldData,s=0;for(t&&(s=i.indexOf(t)),-1==s&&(s=0);s<i.length;s++){var c=i[s];if(c.end.row>=e)return c}return null},this.getFoldedRowCount=function(e,t){for(var i=this.$foldData,s=t-e+1,c=0;c<i.length;c++){var r=i[c],p=r.end.row,o=r.start.row;if(p>=t){o<t&&(o>=e?s-=t-o:s=0);break}p>=e&&(s-=o>=e?p-o:p-e+1)}return s},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(t,i){return t.start.row-i.start.row}),e},this.addFold=function(e,t){var i,s=this.$foldData,c=!1;e instanceof f?i=e:(i=new f(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(i.range);var r=i.start.row,p=i.start.column,o=i.end.row,u=i.end.column;if(!(r<o||r==o&&p<=u-2))throw new Error("The range has to be at least 2 characters width");var g=this.getFoldAt(r,p,1),y=this.getFoldAt(o,u,-1);if(g&&y==g)return g.addSubFold(i);g&&!g.range.isStart(r,p)&&this.removeFold(g),y&&!y.range.isEnd(o,u)&&this.removeFold(y);var C=this.getFoldsInRange(i.range);C.length>0&&(this.removeFolds(C),C.forEach(function(E){i.addSubFold(E)}));for(var d=0;d<s.length;d++){var a=s[d];if(o==a.start.row){a.addFold(i),c=!0;break}if(r==a.end.row){if(a.addFold(i),c=!0,!i.sameRow){var w=s[d+1];if(w&&w.start.row==o){a.merge(w);break}}break}if(o<=a.start.row)break}return c||(a=this.$addFoldLine(new h(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(a.start.row,a.start.row):this.$updateRowLengthCache(a.start.row,a.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i},this.addFolds=function(e){e.forEach(function(t){this.addFold(t)},this)},this.removeFold=function(e){var t=e.foldLine,i=t.start.row,s=t.end.row,c=this.$foldData,r=t.folds;if(1==r.length)c.splice(c.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))r.pop(),t.end.row=r[r.length-1].end.row,t.end.column=r[r.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))r.shift(),t.start.row=r[0].start.row,t.start.column=r[0].start.column;else if(e.sameRow)r.splice(r.indexOf(e),1);else{var p=t.split(e.start.row,e.start.column);(r=p.folds).shift(),p.start.row=r[0].start.row,p.start.column=r[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(i,s):this.$updateRowLengthCache(i,s)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i]);t.forEach(function(s){this.removeFold(s)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(t){this.expandFold(t)},this)},this.unfold=function(e,t){var i,s;if(null==e?(i=new v(0,0,this.getLength(),0),t=!0):i="number"==typeof e?new v(e,0,e,this.getLine(e).length):"row"in e?v.fromPoints(e,e):e,s=this.getFoldsInRangeList(i),t)this.removeFolds(s);else for(var c=s;c.length;)this.expandFolds(c),c=this.getFoldsInRangeList(i);if(s.length)return s},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var i=this.getFoldLine(e,t);return i?i.end.row:e},this.getRowFoldStart=function(e,t){var i=this.getFoldLine(e,t);return i?i.start.row:e},this.getFoldDisplayLine=function(e,t,i,s,c){null==s&&(s=e.start.row),null==c&&(c=0),null==t&&(t=e.end.row),null==i&&(i=this.getLine(t).length);var r=this.doc,p="";return e.walk(function(o,u,g,y){if(!(u<s)){if(u==s){if(g<c)return;y=Math.max(c,y)}p+=null!=o?o:r.getLine(u).substring(y,g)}},t,i),p},this.getDisplayLine=function(e,t,i,s){var r,c=this.getFoldLine(e);return c?this.getFoldDisplayLine(c,e,t,i,s):(r=this.doc.getLine(e)).substring(s||0,t||r.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var i=t.folds.map(function(s){return s.clone()});return new h(e,i)})},this.toggleFold=function(e){var t,i,c=this.selection.getRange();if(c.isEmpty()){var r=c.start;if(t=this.getFoldAt(r.row,r.column))return void this.expandFold(t);(i=this.findMatchingBracket(r))?1==c.comparePoint(i)?c.end=i:(c.start=i,c.start.column++,c.end.column--):(i=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==c.comparePoint(i)?c.end=i:c.start=i,c.start.column++):c=this.getCommentFoldRange(r.row,r.column)||c}else{var p=this.getFoldsInRange(c);if(e&&p.length)return void this.expandFolds(p);1==p.length&&(t=p[0])}if(t||(t=this.getFoldAt(c.start.row,c.start.column)),t&&t.range.toString()==c.toString())this.expandFold(t);else{var o="...";if(!c.isMultiLine()){if((o=this.getTextRange(c)).length<4)return;o=o.trim().substring(0,2)+".."}this.addFold(o,c)}},this.getCommentFoldRange=function(e,t,i){var s=new n(this,e,t),c=s.getCurrentToken(),r=c.type;if(c&&/^comment|string/.test(r)){"comment"==(r=r.match(/comment|string/)[0])&&(r+="|doc-start");var p=new RegExp(r),o=new v;if(1!=i){do{c=s.stepBackward()}while(c&&p.test(c.type));s.stepForward()}if(o.start.row=s.getCurrentTokenRow(),o.start.column=s.getCurrentTokenColumn()+2,s=new n(this,e,t),-1!=i){var u=-1;do{if(c=s.stepForward(),-1==u){var g=this.getState(s.$row);p.test(g)||(u=s.$row)}else if(s.$row>u)break}while(c&&p.test(c.type));c=s.stepBackward()}else c=s.getCurrentToken();return o.end.row=s.getCurrentTokenRow(),o.end.column=s.getCurrentTokenColumn()+c.value.length-2,o}},this.foldAll=function(e,t,i){null==i&&(i=1e5);var s=this.foldWidgets;if(s){t=t||this.getLength();for(var c=e=e||0;c<t;c++)if(null==s[c]&&(s[c]=this.getFoldWidget(c)),"start"==s[c]){var r=this.getFoldWidgetRange(c);if(r&&r.isMultiLine()&&r.end.row<=t&&r.start.row>=e){c=r.end.row;try{var p=this.addFold("...",r);p&&(p.collapseChildren=i)}catch(o){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){if(this.$foldMode!=e){if(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!e||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(e,t){var i=this.foldWidgets;if(!i||t&&i[e])return{};for(var s,c=e-1;c>=0;){var r=i[c];if(null==r&&(r=i[c]=this.getFoldWidget(c)),"start"==r){var p=this.getFoldWidgetRange(c);if(s||(s=p),p&&p.end.row>=e)break}c--}return{range:-1!==c&&p,firstRange:s}},this.onFoldWidgetClick=function(e,t){if(!this.$toggleFoldWidget(e,{children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey})){var s=t.target||t.srcElement;s&&/ace_fold-widget/.test(s.className)&&(s.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var i=this.getFoldWidget(e),s=this.getLine(e),c="end"===i?-1:1,r=this.getFoldAt(e,-1===c?0:s.length,c);if(r)return t.children||t.all?this.removeFold(r):this.expandFold(r),r;var p=this.getFoldWidgetRange(e,!0);if(p&&!p.isMultiLine()&&(r=this.getFoldAt(p.start.row,p.start.column,1))&&p.isEqual(r.range))return this.removeFold(r),r;if(t.siblings){var o=this.getParentFoldRangeData(e);if(o.range)var u=o.range.start.row+1,g=o.range.end.row;this.foldAll(u,g,t.all?1e4:0)}else t.children?(g=p?p.end.row:this.getLength(),this.foldAll(e+1,g,t.all?1e4:0)):p&&(t.all&&(p.collapseChildren=1e4),this.addFold("...",p));return p}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var i=this.$toggleFoldWidget(t,{});if(!i){var s=this.getParentFoldRangeData(t,!0);if(i=s.range||s.firstRange){var c=this.getFoldAt(t=i.start.row,this.getLine(t).length,1);c?this.removeFold(c):this.addFold("...",i)}}},this.updateFoldWidgets=function(e){var t=e.start.row,i=e.end.row-t;if(0===i)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,i+1,null);else{var s=Array(i+1);s.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,s)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(A,S,b){"use strict";var v=A("../token_iterator").TokenIterator,h=A("../range").Range;S.BracketMatch=function(){this.findMatchingBracket=function(f,n){if(0==f.column)return null;var e=n||this.getLine(f.row).charAt(f.column-1);if(""==e)return null;var t=e.match(/([\(\[\{])|([\)\]\}])/);return t?t[1]?this.$findClosingBracket(t[1],f):this.$findOpeningBracket(t[2],f):null},this.getBracketRange=function(f){var n,e=this.getLine(f.row),t=!0,i=e.charAt(f.column-1),s=i&&i.match(/([\(\[\{])|([\)\]\}])/);if(s||(i=e.charAt(f.column),f={row:f.row,column:f.column+1},s=i&&i.match(/([\(\[\{])|([\)\]\}])/),t=!1),!s)return null;if(s[1]){if(!(c=this.$findClosingBracket(s[1],f)))return null;n=h.fromPoints(f,c),t||(n.end.column++,n.start.column--),n.cursor=n.end}else{var c;if(!(c=this.$findOpeningBracket(s[2],f)))return null;n=h.fromPoints(c,f),t||(n.start.column++,n.end.column--),n.cursor=n.start}return n},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(f,n,e){var t=this.$brackets[f],i=1,s=new v(this,n.row,n.column),c=s.getCurrentToken();if(c||(c=s.stepForward()),c){e||(e=new RegExp("(\\.?"+c.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var r=n.column-s.getCurrentTokenColumn()-2,p=c.value;;){for(;r>=0;){var o=p.charAt(r);if(o==t){if(0==(i-=1))return{row:s.getCurrentTokenRow(),column:r+s.getCurrentTokenColumn()}}else o==f&&(i+=1);r-=1}do{c=s.stepBackward()}while(c&&!e.test(c.type));if(null==c)break;r=(p=c.value).length-1}return null}},this.$findClosingBracket=function(f,n,e){var t=this.$brackets[f],i=1,s=new v(this,n.row,n.column),c=s.getCurrentToken();if(c||(c=s.stepForward()),c){e||(e=new RegExp("(\\.?"+c.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var r=n.column-s.getCurrentTokenColumn();;){for(var p=c.value,o=p.length;r<o;){var u=p.charAt(r);if(u==t){if(0==(i-=1))return{row:s.getCurrentTokenRow(),column:r+s.getCurrentTokenColumn()}}else u==f&&(i+=1);r+=1}do{c=s.stepForward()}while(c&&!e.test(c.type));if(null==c)break;r=0}return null}}}}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(A,S,b){"use strict";var l=A("./lib/oop"),v=A("./lib/lang"),h=A("./bidihandler").BidiHandler,f=A("./config"),n=A("./lib/event_emitter").EventEmitter,e=A("./selection").Selection,t=A("./mode/text").Mode,i=A("./range").Range,s=A("./document").Document,c=A("./background_tokenizer").BackgroundTokenizer,r=A("./search_highlight").SearchHighlight,p=function(o,u){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++p.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof o&&o.getLine||(o=new s(o)),this.$bidiHandler=new h(this),this.setDocument(o),this.selection=new e(this),f.resetOptions(this),this.setMode(u),f._signal("session",this)};p.$uid=0,function(){function o(a){return!(a<4352)&&(a>=4352&&a<=4447||a>=4515&&a<=4519||a>=4602&&a<=4607||a>=9001&&a<=9002||a>=11904&&a<=11929||a>=11931&&a<=12019||a>=12032&&a<=12245||a>=12272&&a<=12283||a>=12288&&a<=12350||a>=12353&&a<=12438||a>=12441&&a<=12543||a>=12549&&a<=12589||a>=12593&&a<=12686||a>=12688&&a<=12730||a>=12736&&a<=12771||a>=12784&&a<=12830||a>=12832&&a<=12871||a>=12880&&a<=13054||a>=13056&&a<=19903||a>=19968&&a<=42124||a>=42128&&a<=42182||a>=43360&&a<=43388||a>=44032&&a<=55203||a>=55216&&a<=55238||a>=55243&&a<=55291||a>=63744&&a<=64255||a>=65040&&a<=65049||a>=65072&&a<=65106||a>=65108&&a<=65126||a>=65128&&a<=65131||a>=65281&&a<=65376||a>=65504&&a<=65510)}l.implement(this,n),this.setDocument=function(a){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=a,a.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(a){if(!a)return this.$docRowCache=[],void(this.$screenRowCache=[]);var w=this.$docRowCache.length,E=this.$getRowCacheIndex(this.$docRowCache,a)+1;w>E&&(this.$docRowCache.splice(E,w),this.$screenRowCache.splice(E,w))},this.$getRowCacheIndex=function(a,w){for(var E=0,F=a.length-1;E<=F;){var _=E+F>>1,B=a[_];if(w>B)E=_+1;else{if(!(w<B))return _;F=_-1}}return E-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(a){this.$resetRowCache(a.data.start.row)},this.onChange=function(a){this.$modified=!0,this.$bidiHandler.onChange(a),this.$resetRowCache(a.start.row);var w=this.$updateInternalDataOnChange(a);this.$fromUndo||!this.$undoManager||a.ignore||(this.$deltasDoc.push(a),w&&0!=w.length&&this.$deltasFold.push({action:"removeFolds",folds:w}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(a),this._signal("change",a)},this.setValue=function(a){this.doc.setValue(a),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(a){return this.bgTokenizer.getState(a)},this.getTokens=function(a){return this.bgTokenizer.getTokens(a)},this.getTokenAt=function(a,w){var E,F=this.bgTokenizer.getTokens(a),_=0;if(null==w){var B=F.length-1;_=this.getLine(a).length}else for(B=0;B<F.length&&!((_+=F[B].value.length)>=w);B++);return(E=F[B])?(E.index=B,E.start=_-E.value.length,E):null},this.setUndoManager=function(a){if(this.$undoManager=a,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),a){var w=this;this.$syncInformUndoManager=function(){w.$informUndoManager.cancel(),w.$deltasFold.length&&(w.$deltas.push({group:"fold",deltas:w.$deltasFold}),w.$deltasFold=[]),w.$deltasDoc.length&&(w.$deltas.push({group:"doc",deltas:w.$deltasDoc}),w.$deltasDoc=[]),w.$deltas.length>0&&a.execute({action:"aceupdate",args:[w.$deltas,w],merge:w.mergeUndoDeltas}),w.mergeUndoDeltas=!1,w.$deltas=[]},this.$informUndoManager=v.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?v.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(a){this.setOption("useSoftTabs",a)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(a){this.setOption("tabSize",a)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(a){return this.$useSoftTabs&&a.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(a){this.setOption("navigateWithinSoftTabs",a)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(a){this.setOption("overwrite",a)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(a,w){this.$decorations[a]||(this.$decorations[a]=""),this.$decorations[a]+=" "+w,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(a,w){this.$decorations[a]=(this.$decorations[a]||"").replace(" "+w,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(a){this.$breakpoints=[];for(var w=0;w<a.length;w++)this.$breakpoints[a[w]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(a,w){void 0===w&&(w="ace_breakpoint"),w?this.$breakpoints[a]=w:delete this.$breakpoints[a],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(a){delete this.$breakpoints[a],this._signal("changeBreakpoint",{})},this.addMarker=function(a,w,E,F){var _=this.$markerId++,B={range:a,type:E||"line",renderer:"function"==typeof E?E:null,clazz:w,inFront:!!F,id:_};return F?(this.$frontMarkers[_]=B,this._signal("changeFrontMarker")):(this.$backMarkers[_]=B,this._signal("changeBackMarker")),_},this.addDynamicMarker=function(a,w){if(a.update){var E=this.$markerId++;return a.id=E,a.inFront=!!w,w?(this.$frontMarkers[E]=a,this._signal("changeFrontMarker")):(this.$backMarkers[E]=a,this._signal("changeBackMarker")),a}},this.removeMarker=function(a){var w=this.$frontMarkers[a]||this.$backMarkers[a];w&&w&&(delete(w.inFront?this.$frontMarkers:this.$backMarkers)[a],this._signal(w.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(a){return a?this.$frontMarkers:this.$backMarkers},this.highlight=function(a){if(!this.$searchHighlight){var w=new r(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(w)}this.$searchHighlight.setRegexp(a)},this.highlightLines=function(a,w,E,F){"number"!=typeof w&&(E=w,w=a),E||(E="ace_step");var _=new i(a,0,w,1/0);return _.id=this.addMarker(_,E,"fullLine",F),_},this.setAnnotations=function(a){this.$annotations=a,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(a){var w=a.match(/^.*?(\r?\n)/m);this.$autoNewLine=w?w[1]:"\n"},this.getWordRange=function(a,w){var E=this.getLine(a),F=!1;if(w>0&&(F=!!E.charAt(w-1).match(this.tokenRe)),F||(F=!!E.charAt(w).match(this.tokenRe)),F)var _=this.tokenRe;else _=/^\s+$/.test(E.slice(w-1,w+1))?/\s/:this.nonTokenRe;var B=w;if(B>0){do{B--}while(B>=0&&E.charAt(B).match(_));B++}for(var R=w;R<E.length&&E.charAt(R).match(_);)R++;return new i(a,B,a,R)},this.getAWordRange=function(a,w){for(var E=this.getWordRange(a,w),F=this.getLine(E.end.row);F.charAt(E.end.column).match(/[ \t]/);)E.end.column+=1;return E},this.setNewLineMode=function(a){this.doc.setNewLineMode(a)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(a){this.setOption("useWorker",a)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(a){this.bgTokenizer.start(a.data.first),this._signal("tokenizerUpdate",a)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(a,w){if(a&&"object"==typeof a){if(a.getTokenizer)return this.$onChangeMode(a);var E=a,F=a.path}else F=a||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new t),this.$modes[F]&&!E)return this.$onChangeMode(this.$modes[F]),void(w&&w());this.$modeId=F,f.loadModule(["mode",F],function(_){if(this.$modeId!==F)return w&&w();this.$modes[F]&&!E?this.$onChangeMode(this.$modes[F]):_&&_.Mode&&(_=new _.Mode(E),E||(this.$modes[F]=_,_.$id=F),this.$onChangeMode(_)),w&&w()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(a,w){if(w||(this.$modeId=a.$id),this.$mode!==a){this.$mode=a,this.$stopWorker(),this.$useWorker&&this.$startWorker();var E=a.getTokenizer();if(void 0!==E.addEventListener){var F=this.onReloadTokenizer.bind(this);E.addEventListener("update",F)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(E);else{this.bgTokenizer=new c(E);var _=this;this.bgTokenizer.addEventListener("update",function(B){_._signal("tokenizerUpdate",B)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=a.tokenRe,this.nonTokenRe=a.nonTokenRe,w||(a.attachToSession&&a.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(a.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(a){f.warn("Could not load worker",a),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(a){this.$scrollTop===a||isNaN(a)||(this.$scrollTop=a,this._signal("changeScrollTop",a))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(a){this.$scrollLeft===a||isNaN(a)||(this.$scrollLeft=a,this._signal("changeScrollLeft",a))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var a=0;return this.lineWidgets.forEach(function(w){w&&w.screenWidth>a&&(a=w.screenWidth)}),this.lineWidgetWidth=a},this.$computeWidth=function(a){if(this.$modified||a){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var w=this.doc.getAllLines(),E=this.$rowLengthCache,F=0,_=0,B=this.$foldData[_],R=B?B.start.row:1/0,P=w.length,x=0;x<P;x++){if(x>R){if((x=B.end.row+1)>=P)break;R=(B=this.$foldData[_++])?B.start.row:1/0}null==E[x]&&(E[x]=this.$getStringScreenWidth(w[x])[0]),E[x]>F&&(F=E[x])}this.screenWidth=F}},this.getLine=function(a){return this.doc.getLine(a)},this.getLines=function(a,w){return this.doc.getLines(a,w)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(a){return this.doc.getTextRange(a||this.selection.getRange())},this.insert=function(a,w){return this.doc.insert(a,w)},this.remove=function(a){return this.doc.remove(a)},this.removeFullLines=function(a,w){return this.doc.removeFullLines(a,w)},this.undoChanges=function(a,w){if(a.length){this.$fromUndo=!0;for(var E=null,F=a.length-1;-1!=F;F--){var _=a[F];"doc"==_.group?(this.doc.revertDeltas(_.deltas),E=this.$getUndoSelection(_.deltas,!0,E)):_.deltas.forEach(function(B){this.addFolds(B.folds)},this)}return this.$fromUndo=!1,E&&this.$undoSelect&&!w&&this.selection.setSelectionRange(E),E}},this.redoChanges=function(a,w){if(a.length){this.$fromUndo=!0;for(var E=null,F=0;F<a.length;F++){var _=a[F];"doc"==_.group&&(this.doc.applyDeltas(_.deltas),E=this.$getUndoSelection(_.deltas,!1,E))}return this.$fromUndo=!1,E&&this.$undoSelect&&!w&&this.selection.setSelectionRange(E),E}},this.setUndoSelect=function(a){this.$undoSelect=a},this.$getUndoSelection=function(a,w,E){function F(D){return w?"insert"!==D.action:"insert"===D.action}var _,B,R=a[0];_=F(R)?i.fromPoints(R.start,R.end):i.fromPoints(R.start,R.start);for(var P=1;P<a.length;P++)F(R=a[P])?(-1==_.compare((B=R.start).row,B.column)&&_.setStart(B),1==_.compare((B=R.end).row,B.column)&&_.setEnd(B)):-1==_.compare((B=R.start).row,B.column)&&(_=i.fromPoints(R.start,R.start));if(null!=E){0===i.comparePoints(E.start,_.start)&&(E.start.column+=_.end.column-_.start.column,E.end.column+=_.end.column-_.start.column);var x=E.compareRange(_);1==x?_.setStart(E.start):-1==x&&_.setEnd(E.end)}return _},this.replace=function(a,w){return this.doc.replace(a,w)},this.moveText=function(a,w,E){var F=this.getTextRange(a),_=this.getFoldsInRange(a),B=i.fromPoints(w,w);if(E||(this.remove(a),(P=(R=a.start.row-a.end.row)?-a.end.column:a.start.column-a.end.column)&&(B.start.row==a.end.row&&B.start.column>a.end.column&&(B.start.column+=P),B.end.row==a.end.row&&B.end.column>a.end.column&&(B.end.column+=P)),R&&B.start.row>=a.end.row&&(B.start.row+=R,B.end.row+=R)),B.end=this.insert(B.start,F),_.length){var x=a.start,D=B.start,R=D.row-x.row,P=D.column-x.column;this.addFolds(_.map(function(L){return(L=L.clone()).start.row==x.row&&(L.start.column+=P),L.end.row==x.row&&(L.end.column+=P),L.start.row+=R,L.end.row+=R,L}))}return B},this.indentRows=function(a,w,E){E=E.replace(/\t/g,this.getTabString());for(var F=a;F<=w;F++)this.doc.insertInLine({row:F,column:0},E)},this.outdentRows=function(a){for(var w=a.collapseRows(),E=new i(0,0,0,0),F=this.getTabSize(),_=w.start.row;_<=w.end.row;++_){var B=this.getLine(_);E.start.row=_,E.end.row=_;for(var R=0;R<F&&" "==B.charAt(R);++R);R<F&&"\t"==B.charAt(R)?(E.start.column=R,E.end.column=R+1):(E.start.column=0,E.end.column=R),this.remove(E)}},this.$moveLines=function(a,w,E){if(a=this.getRowFoldStart(a),w=this.getRowFoldEnd(w),E<0){if((F=this.getRowFoldStart(a+E))<0)return 0;var _=F-a}else if(E>0){var F;if((F=this.getRowFoldEnd(w+E))>this.doc.getLength()-1)return 0;_=F-w}else a=this.$clipRowToDocument(a),_=(w=this.$clipRowToDocument(w))-a+1;var B=new i(a,0,w,Number.MAX_VALUE),R=this.getFoldsInRange(B).map(function(x){return(x=x.clone()).start.row+=_,x.end.row+=_,x}),P=0==E?this.doc.getLines(a,w):this.doc.removeFullLines(a,w);return this.doc.insertFullLines(a+_,P),R.length&&this.addFolds(R),_},this.moveLinesUp=function(a,w){return this.$moveLines(a,w,-1)},this.moveLinesDown=function(a,w){return this.$moveLines(a,w,1)},this.duplicateLines=function(a,w){return this.$moveLines(a,w,0)},this.$clipRowToDocument=function(a){return Math.max(0,Math.min(a,this.doc.getLength()-1))},this.$clipColumnToRow=function(a,w){return w<0?0:Math.min(this.doc.getLine(a).length,w)},this.$clipPositionToDocument=function(a,w){if(w=Math.max(0,w),a<0)a=0,w=0;else{var E=this.doc.getLength();a>=E?(a=E-1,w=this.doc.getLine(E-1).length):w=Math.min(this.doc.getLine(a).length,w)}return{row:a,column:w}},this.$clipRangeToDocument=function(a){a.start.row<0?(a.start.row=0,a.start.column=0):a.start.column=this.$clipColumnToRow(a.start.row,a.start.column);var w=this.doc.getLength()-1;return a.end.row>w?(a.end.row=w,a.end.column=this.doc.getLine(w).length):a.end.column=this.$clipColumnToRow(a.end.row,a.end.column),a},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(a){if(a!=this.$useWrapMode){if(this.$useWrapMode=a,this.$modified=!0,this.$resetRowCache(0),a){var w=this.getLength();this.$wrapData=Array(w),this.$updateWrapData(0,w-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(a,w){this.$wrapLimitRange.min===a&&this.$wrapLimitRange.max===w||(this.$wrapLimitRange={min:a,max:w},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(a,w){var E=this.$wrapLimitRange;E.max<0&&(E={min:w,max:w});var F=this.$constrainWrapLimit(a,E.min,E.max);return F!=this.$wrapLimit&&F>1&&(this.$wrapLimit=F,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(a,w,E){return w&&(a=Math.max(w,a)),E&&(a=Math.min(E,a)),a},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(a){this.setWrapLimitRange(a,a)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(a){var w=this.$useWrapMode,E=a.action,F=a.start,_=a.end,B=F.row,R=_.row,P=R-B,x=null;if(this.$updating=!0,0!=P)if("remove"===E){this[w?"$wrapData":"$rowLengthCache"].splice(B,P);var D=this.$foldData;x=this.getFoldsInRange(a),this.removeFolds(x);var k=0;if(T=this.getFoldLine(_.row)){T.addRemoveChars(_.row,_.column,F.column-_.column),T.shiftRow(-P);var L=this.getFoldLine(B);L&&L!==T&&(L.merge(T),T=L),k=D.indexOf(T)+1}for(;k<D.length;k++)(T=D[k]).start.row>=_.row&&T.shiftRow(-P);R=B}else{var $=Array(P);$.unshift(B,0);var O=w?this.$wrapData:this.$rowLengthCache;if(O.splice.apply(O,$),D=this.$foldData,k=0,T=this.getFoldLine(B)){var I=T.range.compareInside(F.row,F.column);0==I?(T=T.split(F.row,F.column))&&(T.shiftRow(P),T.addRemoveChars(R,0,_.column-F.column)):-1==I&&(T.addRemoveChars(B,0,_.column-F.column),T.shiftRow(P)),k=D.indexOf(T)+1}for(;k<D.length;k++){var T;(T=D[k]).start.row>=B&&T.shiftRow(P)}}else P=Math.abs(a.start.column-a.end.column),"remove"===E&&(x=this.getFoldsInRange(a),this.removeFolds(x),P=-P),(T=this.getFoldLine(B))&&T.addRemoveChars(B,F.column,P);return w&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,w?this.$updateWrapData(B,R):this.$updateRowLengthCache(B,R),x},this.$updateRowLengthCache=function(a,w,E){this.$rowLengthCache[a]=null,this.$rowLengthCache[w]=null},this.$updateWrapData=function(a,w){var E,F,_=this.doc.getAllLines(),B=this.getTabSize(),R=this.$wrapData,P=this.$wrapLimit,x=a;for(w=Math.min(w,_.length-1);x<=w;)(F=this.getFoldLine(x,F))?(E=[],F.walk(function(D,T,k,L){var $;if(null!=D){($=this.$getDisplayTokens(D,E.length))[0]=u;for(var O=1;O<$.length;O++)$[O]=g}else $=this.$getDisplayTokens(_[T].substring(L,k),E.length);E=E.concat($)}.bind(this),F.end.row,_[F.end.row].length+1),R[F.start.row]=this.$computeWrapSplits(E,P,B),x=F.end.row+1):(E=this.$getDisplayTokens(_[x]),R[x]=this.$computeWrapSplits(E,P,B),x++)};var u=3,g=4;this.$computeWrapSplits=function(a,w,E){function _(I){var j=a.slice(P,I),z=j.length;j.join("").replace(/12/g,function(){z-=1}).replace(/2/g,function(){z-=1}),B.length||(L=function(){var I=0;if(0===k)return I;if(T)for(var j=0;j<a.length;j++){var z=a[j];if(10==z)I+=1;else{if(11!=z){if(12==z)continue;break}I+=E}}return D&&!1!==T&&(I+=E),Math.min(I,k)}(),B.indent=L),B.push(x+=z),P=I}if(0==a.length)return[];for(var B=[],R=a.length,P=0,x=0,D=this.$wrapAsCode,T=this.$indentedSoftWrap,k=w<=Math.max(2*E,8)||!1===T?0:Math.floor(w/2),L=0;R-P>w-L;){var $=P+w-L;if(a[$-1]>=10&&a[$]>=10)_($);else if(a[$]!=u&&a[$]!=g){for(var O=Math.max($-(w-(w>>2)),P-1);$>O&&a[$]<u;)$--;if(D){for(;$>O&&a[$]<u;)$--;for(;$>O&&9==a[$];)$--}else for(;$>O&&a[$]<10;)$--;$>O?_(++$):(2==a[$=P+w]&&$--,_($-L))}else{for(;$!=P-1&&a[$]!=u;$--);if($>P){_($);continue}for($=P+w;$<a.length&&a[$]==g;$++);if($==a.length)break;_($)}}return B},this.$getDisplayTokens=function(a,w){var E,F=[];w=w||0;for(var _=0;_<a.length;_++){var B=a.charCodeAt(_);if(9==B){E=this.getScreenTabSize(F.length+w),F.push(11);for(var R=1;R<E;R++)F.push(12)}else 32==B?F.push(10):B>39&&B<48||B>57&&B<64?F.push(9):B>=4352&&o(B)?F.push(1,2):F.push(1)}return F},this.$getStringScreenWidth=function(a,w,E){if(0==w)return[0,0];var F,_;for(null==w&&(w=1/0),E=E||0,_=0;_<a.length&&(9==(F=a.charCodeAt(_))?E+=this.getScreenTabSize(E):F>=4352&&o(F)?E+=2:E+=1,!(E>w));_++);return[E,_]},this.lineWidgets=null,this.getRowLength=function(a){if(this.lineWidgets)var w=this.lineWidgets[a]&&this.lineWidgets[a].rowCount||0;else w=0;return this.$useWrapMode&&this.$wrapData[a]?this.$wrapData[a].length+1+w:1+w},this.getRowLineCount=function(a){return this.$useWrapMode&&this.$wrapData[a]?this.$wrapData[a].length+1:1},this.getRowWrapIndent=function(a){if(this.$useWrapMode){var w=this.screenToDocumentPosition(a,Number.MAX_VALUE),E=this.$wrapData[w.row];return E.length&&E[0]<w.column?E.indent:0}return 0},this.getScreenLastRowColumn=function(a){var w=this.screenToDocumentPosition(a,Number.MAX_VALUE);return this.documentToScreenColumn(w.row,w.column)},this.getDocumentLastRowColumn=function(a,w){var E=this.documentToScreenRow(a,w);return this.getScreenLastRowColumn(E)},this.getDocumentLastRowColumnPosition=function(a,w){var E=this.documentToScreenRow(a,w);return this.screenToDocumentPosition(E,Number.MAX_VALUE/10)},this.getRowSplitData=function(a){return this.$useWrapMode?this.$wrapData[a]:void 0},this.getScreenTabSize=function(a){return this.$tabSize-a%this.$tabSize},this.screenToDocumentRow=function(a,w){return this.screenToDocumentPosition(a,w).row},this.screenToDocumentColumn=function(a,w){return this.screenToDocumentPosition(a,w).column},this.screenToDocumentPosition=function(a,w,E){if(a<0)return{row:0,column:0};var F,_,B=0,R=0,P=0,x=0,D=this.$screenRowCache,T=this.$getRowCacheIndex(D,a),k=D.length;if(k&&T>=0){P=D[T],B=this.$docRowCache[T];var L=a>D[k-1]}else L=!k;for(var $=this.getLength()-1,O=this.getNextFoldLine(B),I=O?O.start.row:1/0;P<=a&&!(P+(x=this.getRowLength(B))>a||B>=$);)P+=x,++B>I&&(I=(O=this.getNextFoldLine(B=O.end.row+1,O))?O.start.row:1/0),L&&(this.$docRowCache.push(B),this.$screenRowCache.push(P));if(O&&O.start.row<=B)F=this.getFoldDisplayLine(O),B=O.start.row;else{if(P+x<=a||B>$)return{row:$,column:this.getLine($).length};F=this.getLine(B),O=null}var j=0,z=Math.floor(a-P);if(this.$useWrapMode){var N=this.$wrapData[B];N&&(_=N[z],z>0&&N.length&&(j=N.indent,F=F.substring(R=N[z-1]||N[N.length-1])))}return void 0!==E&&this.$bidiHandler.isBidiRow(P+z,B,z)&&(w=this.$bidiHandler.offsetToCol(E)),R+=this.$getStringScreenWidth(F,w-j)[1],this.$useWrapMode&&R>=_&&(R=_-1),O?O.idxToPosition(R):{row:B,column:R}},this.documentToScreenPosition=function(a,w){if(void 0===w)var E=this.$clipPositionToDocument(a.row,a.column);else E=this.$clipPositionToDocument(a,w);var B,F=0,_=null;(B=this.getFoldAt(a=E.row,w=E.column,1))&&(a=B.start.row,w=B.start.column);var R,P=0,x=this.$docRowCache,D=this.$getRowCacheIndex(x,a),T=x.length;if(T&&D>=0){P=x[D],F=this.$screenRowCache[D];var k=a>x[T-1]}else k=!T;for(var L=this.getNextFoldLine(P),$=L?L.start.row:1/0;P<a;){if(P>=$){if((R=L.end.row+1)>a)break;$=(L=this.getNextFoldLine(R,L))?L.start.row:1/0}else R=P+1;F+=this.getRowLength(P),P=R,k&&(this.$docRowCache.push(P),this.$screenRowCache.push(F))}var O="";L&&P>=$?(O=this.getFoldDisplayLine(L,a,w),_=L.start.row):(O=this.getLine(a).substring(0,w),_=a);var I=0;if(this.$useWrapMode){var j=this.$wrapData[_];if(j){for(var z=0;O.length>=j[z];)F++,z++;O=O.substring(j[z-1]||0,O.length),I=z>0?j.indent:0}}return{row:F,column:I+this.$getStringScreenWidth(O)[0]}},this.documentToScreenColumn=function(a,w){return this.documentToScreenPosition(a,w).column},this.documentToScreenRow=function(a,w){return this.documentToScreenPosition(a,w).row},this.getScreenLength=function(){var a=0,w=null;if(this.$useWrapMode)for(var E=this.$wrapData.length,F=0,_=0,B=(w=this.$foldData[_++])?w.start.row:1/0;F<E;){var R=this.$wrapData[F];a+=R?R.length+1:1,++F>B&&(F=w.end.row+1,B=(w=this.$foldData[_++])?w.start.row:1/0)}else{a=this.getLength();var P=this.$foldData;for(_=0;_<P.length;_++)a-=(w=P[_]).end.row-w.start.row}return this.lineWidgets&&(a+=this.$getWidgetScreenLength()),a},this.$setFontMetrics=function(a){this.$enableVarChar&&(this.$getStringScreenWidth=function(w,E,F){if(0===E)return[0,0];var _,B;for(E||(E=1/0),F=F||0,B=0;B<w.length&&!((F+="\t"===(_=w.charAt(B))?this.getScreenTabSize(F):a.getCharacterWidth(_))>E);B++);return[F,B]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()},this.isFullWidth=o}.call(p.prototype),A("./edit_session/folding").Folding.call(p.prototype),A("./edit_session/bracket_match").BracketMatch.call(p.prototype),f.defineOptions(p.prototype,"session",{wrap:{set:function(o){if(o&&"off"!=o?"free"==o?o=!0:"printMargin"==o?o=-1:"string"==typeof o&&(o=parseInt(o,10)||!1):o=!1,this.$wrap!=o)if(this.$wrap=o,o){var u="number"==typeof o?o:null;this.setWrapLimitRange(u,u),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(o){(o="auto"==o?"text"!=this.$mode.type:"text"!=o)!=this.$wrapAsCode&&(this.$wrapAsCode=o,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(o){this.$useWorker=o,this.$stopWorker(),o&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(o){isNaN(o)||this.$tabSize===o||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=o,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},overwrite:{set:function(o){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(o){this.doc.setNewLineMode(o)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(o){this.setMode(o)},get:function(){return this.$modeId}}}),S.EditSession=p}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(A,S,b){"use strict";var v=A("./lib/lang"),h=A("./lib/oop"),f=A("./range").Range,n=function(){this.$options={}};(function(){this.set=function(e){return h.mixin(this.$options,e),this},this.getOptions=function(){return v.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,i=this.$matchIterator(e,t);if(!i)return!1;var s=null;return i.forEach(function(c,r,p,o){return s=new f(c,r,p,o),!(r==o&&t.start&&t.start.start&&0!=t.skipCurrent&&s.isEqual(t.start)&&(s=null,1))}),s},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var i=t.range,s=i?e.getLines(i.start.row,i.end.row):e.doc.getAllLines(),c=[],r=t.re;if(t.$isMultiLine){var p,o=r.length,u=s.length-o;t:for(var g=r.offset||0;g<=u;g++){for(var y=0;y<o;y++)if(-1==s[g+y].search(r[y]))continue t;var C=s[g],d=s[g+o-1],a=C.length-C.match(r[0])[0].length,w=d.match(r[o-1])[0].length;p&&p.end.row===g&&p.end.column>a||(c.push(p=new f(g,a,g+o-1,w)),o>2&&(g=g+o-2))}}else for(var E=0;E<s.length;E++){var F=v.getMatchOffsets(s[E],r);for(y=0;y<F.length;y++){var _=F[y];c.push(new f(E,_.offset,E,_.offset+_.length))}}if(i){var B=i.start.column,R=i.start.column;for(E=0,y=c.length-1;E<y&&c[E].start.column<B&&c[E].start.row==i.start.row;)E++;for(;E<y&&c[y].end.column>R&&c[y].end.row==i.end.row;)y--;for(c=c.slice(E,y+1),E=0,y=c.length;E<y;E++)c[E].start.row+=i.start.row,c[E].end.row+=i.start.row}return c},this.replace=function(e,t){var i=this.$options,s=this.$assembleRegExp(i);if(i.$isMultiLine)return t;if(s){var c=s.exec(e);if(!c||c[0].length!=e.length)return null;if(t=e.replace(s,t),i.preserveCase){t=t.split("");for(var r=Math.min(e.length,e.length);r--;){var p=e[r];t[r]=p&&p.toLowerCase()!=p?t[r].toUpperCase():t[r].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var i=e.needle;if(!e.needle)return e.re=!1;e.regExp||(i=v.escapeRegExp(i)),e.wholeWord&&(i=function(e,t){function i(s){return/\w/.test(s)||t.regExp?"\\b":""}return i(e[0])+e+i(e[e.length-1])}(i,e));var s=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(i),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(i,s);try{var c=new RegExp(i,s)}catch(r){c=!1}return e.re=c},this.$assembleMultilineRegExp=function(e,t){for(var i=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),s=[],c=0;c<i.length;c++)try{s.push(new RegExp(i[c],t))}catch(r){return!1}return s},this.$matchIterator=function(e,t){var i=this.$assembleRegExp(t);if(!i)return!1;var s=1==t.backwards,c=0!=t.skipCurrent,r=t.range,p=t.start;p||(p=r?r[s?"end":"start"]:e.selection.getRange()),p.start&&(p=p[c!=s?"end":"start"]);var o=r?r.start.row:0,u=r?r.end.row:e.getLength()-1;if(s)var g=function(d){var a=p.row;if(!C(a,p.column,d)){for(a--;a>=o;a--)if(C(a,Number.MAX_VALUE,d))return;if(0!=t.wrap)for(a=u,o=p.row;a>=o;a--)if(C(a,Number.MAX_VALUE,d))return}};else g=function(d){var a=p.row;if(!C(a,p.column,d)){for(a+=1;a<=u;a++)if(C(a,0,d))return;if(0!=t.wrap)for(a=o,u=p.row;a<=u;a++)if(C(a,0,d))return}};if(t.$isMultiLine)var y=i.length,C=function(d,a,w){var E=s?d-y+1:d;if(!(E<0)){var F=e.getLine(E),_=F.search(i[0]);if(!(!s&&_<a||-1===_)){for(var B=1;B<y;B++)if(-1==(F=e.getLine(E+B)).search(i[B]))return;var R=F.match(i[y-1])[0].length;if(!(s&&R>a))return!!w(E,_,E+y-1,R)||void 0}}};else C=s?function(d,a,w){var E,F=e.getLine(d),_=[],B=0;for(i.lastIndex=0;E=i.exec(F);){if(B=E.index,!(R=E[0].length)){if(B>=F.length)break;i.lastIndex=B+=1}if(E.index+R>a)break;_.push(E.index,R)}for(var P=_.length-1;P>=0;P-=2){var R,x=_[P-1];if(w(d,x,d,x+(R=_[P])))return!0}}:function(d,a,w){var E,F=e.getLine(d),_=a;for(i.lastIndex=a;E=i.exec(F);){var B=E[0].length;if(w(d,_=E.index,d,_+B))return!0;if(!B&&(i.lastIndex=_+=1,_>=F.length))return!1}};return{forEach:g}}}).call(n.prototype),S.Search=n}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(A,S,b){"use strict";function l(e,t){this.platform=t||(f.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function v(e,t){l.call(this,e,t),this.$singleCommand=!1}var h=A("../lib/keys"),f=A("../lib/useragent"),n=h.KEY_MODS;v.prototype=l.prototype,function(){function e(t){return"object"==typeof t&&t.bindKey&&t.bindKey.position||(t.isDefault?-100:0)}this.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),this.commands[t.name]=t,t.bindKey&&this._buildKeyHash(t)},this.removeCommand=function(t,i){var s=t&&("string"==typeof t?t:t.name);t=this.commands[s],i||delete this.commands[s];var c=this.commandKeyBinding;for(var r in c){var p=c[r];if(p==t)delete c[r];else if(Array.isArray(p)){var o=p.indexOf(t);-1!=o&&(p.splice(o,1),1==p.length&&(c[r]=p[0]))}}},this.bindKey=function(t,i,s){if("object"==typeof t&&t&&(null==s&&(s=t.position),t=t[this.platform]),t)return"function"==typeof i?this.addCommand({exec:i,bindKey:t,name:i.name||t}):void t.split("|").forEach(function(c){var r="";if(-1!=c.indexOf(" ")){var p=c.split(/\s+/);c=p.pop(),p.forEach(function(g){var y=this.parseKeys(g);this._addCommandToBinding(r+=(r?" ":"")+(n[y.hashId]+y.key),"chainKeys")},this),r+=" "}var o=this.parseKeys(c);this._addCommandToBinding(r+(n[o.hashId]+o.key),i,s)},this)},this._addCommandToBinding=function(t,i,s){var c,r=this.commandKeyBinding;if(i)if(!r[t]||this.$singleCommand)r[t]=i;else{Array.isArray(r[t])?-1!=(c=r[t].indexOf(i))&&r[t].splice(c,1):r[t]=[r[t]],"number"!=typeof s&&(s=e(i));var p=r[t];for(c=0;c<p.length&&!(e(p[c])>s);c++);p.splice(c,0,i)}else delete r[t]},this.addCommands=function(t){t&&Object.keys(t).forEach(function(i){var s=t[i];if(s){if("string"==typeof s)return this.bindKey(s,i);"function"==typeof s&&(s={exec:s}),"object"==typeof s&&(s.name||(s.name=i),this.addCommand(s))}},this)},this.removeCommands=function(t){Object.keys(t).forEach(function(i){this.removeCommand(t[i])},this)},this.bindKeys=function(t){Object.keys(t).forEach(function(i){this.bindKey(i,t[i])},this)},this._buildKeyHash=function(t){this.bindKey(t.bindKey,t)},this.parseKeys=function(t){var i=t.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(u){return u}),s=i.pop(),c=h[s];if(h.FUNCTION_KEYS[c])s=h.FUNCTION_KEYS[c].toLowerCase();else{if(!i.length)return{key:s,hashId:-1};if(1==i.length&&"shift"==i[0])return{key:s.toUpperCase(),hashId:-1}}for(var r=0,p=i.length;p--;){var o=h.KEY_MODS[i[p]];if(null==o)return"undefined"!=typeof console&&console.error("invalid modifier "+i[p]+" in "+t),!1;r|=o}return{key:s,hashId:r}},this.findKeyCommand=function(t,i){return this.commandKeyBinding[n[t]+i]},this.handleKeyboard=function(t,i,s,c){if(!(c<0)){var r=n[i]+s,p=this.commandKeyBinding[r];return t.$keyChain&&(t.$keyChain+=" "+r,p=this.commandKeyBinding[t.$keyChain]||p),!p||"chainKeys"!=p&&"chainKeys"!=p[p.length-1]?(t.$keyChain&&(i&&4!=i||1!=s.length?(-1==i||c>0)&&(t.$keyChain=""):t.$keyChain=t.$keyChain.slice(0,-r.length-1)),{command:p}):(t.$keyChain=t.$keyChain||r,{command:"null"})}},this.getStatusText=function(t,i){return i.$keyChain||""}}.call(l.prototype),S.HashHandler=l,S.MultiHashHandler=v}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(A,S,b){"use strict";var l=A("../lib/oop"),v=A("../keyboard/hash_handler").MultiHashHandler,h=A("../lib/event_emitter").EventEmitter,f=function(n,e){v.call(this,e,n),this.byName=this.commands,this.setDefaultHandler("exec",function(t){return t.command.exec(t.editor,t.args||{})})};l.inherits(f,v),function(){l.implement(this,h),this.exec=function(n,e,t){if(Array.isArray(n)){for(var i=n.length;i--;)if(this.exec(n[i],e,t))return!0;return!1}if("string"==typeof n&&(n=this.commands[n]),!n||e&&e.$readOnly&&!n.readOnly||n.isAvailable&&!n.isAvailable(e))return!1;var s={editor:e,command:n,args:t};return s.returnValue=this._emit("exec",s),this._signal("afterExec",s),!1!==s.returnValue},this.toggleRecording=function(n){if(!this.$inReplay)return n&&n._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(n){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(n);try{this.$inReplay=!0,this.macro.forEach(function(e){"string"==typeof e?this.exec(e,n):this.exec(e[0],n,e[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(n){return n.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(f.prototype),S.CommandManager=f}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(A,S,b){"use strict";function l(n,e){return{win:n,mac:e}}var v=A("../lib/lang"),h=A("../config"),f=A("../range").Range;S.commands=[{name:"showSettingsMenu",bindKey:l("Ctrl-,","Command-,"),exec:function(n){h.loadModule("ace/ext/settings_menu",function(e){e.init(n),n.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:l("Alt-E","F4"),exec:function(n){h.loadModule("ace/ext/error_marker",function(e){e.showErrorMarker(n,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:l("Alt-Shift-E","Shift-F4"),exec:function(n){h.loadModule("ace/ext/error_marker",function(e){e.showErrorMarker(n,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:l("Ctrl-A","Command-A"),exec:function(n){n.selectAll()},readOnly:!0},{name:"centerselection",bindKey:l(null,"Ctrl-L"),exec:function(n){n.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:l("Ctrl-L","Command-L"),exec:function(n){var e=parseInt(prompt("Enter line number:"),10);isNaN(e)||n.gotoLine(e)},readOnly:!0},{name:"fold",bindKey:l("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(n){n.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:l("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(n){n.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:l("F2","F2"),exec:function(n){n.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:l("Alt-F2","Alt-F2"),exec:function(n){n.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:l(null,"Ctrl-Command-Option-0"),exec:function(n){n.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:l("Alt-0","Command-Option-0"),exec:function(n){n.session.foldAll(),n.session.unfold(n.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:l("Alt-Shift-0","Command-Option-Shift-0"),exec:function(n){n.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:l("Ctrl-K","Command-G"),exec:function(n){n.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:l("Ctrl-Shift-K","Command-Shift-G"),exec:function(n){n.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:l("Alt-K","Ctrl-G"),exec:function(n){n.selection.isEmpty()?n.selection.selectWord():n.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:l("Alt-Shift-K","Ctrl-Shift-G"),exec:function(n){n.selection.isEmpty()?n.selection.selectWord():n.findPrevious()},readOnly:!0},{name:"find",bindKey:l("Ctrl-F","Command-F"),exec:function(n){h.loadModule("ace/ext/searchbox",function(e){e.Search(n)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(n){n.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:l("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(n){n.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:l("Ctrl-Home","Command-Home|Command-Up"),exec:function(n){n.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:l("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(n){n.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:l("Up","Up|Ctrl-P"),exec:function(n,e){n.navigateUp(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:l("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(n){n.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:l("Ctrl-End","Command-End|Command-Down"),exec:function(n){n.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:l("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(n){n.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:l("Down","Down|Ctrl-N"),exec:function(n,e){n.navigateDown(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:l("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(n){n.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:l("Ctrl-Left","Option-Left"),exec:function(n){n.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:l("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(n){n.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:l("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(n){n.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:l("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(n){n.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:l("Left","Left|Ctrl-B"),exec:function(n,e){n.navigateLeft(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:l("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(n){n.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:l("Ctrl-Right","Option-Right"),exec:function(n){n.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:l("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(n){n.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:l("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(n){n.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:l("Shift-Right","Shift-Right"),exec:function(n){n.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:l("Right","Right|Ctrl-F"),exec:function(n,e){n.navigateRight(e.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(n){n.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:l(null,"Option-PageDown"),exec:function(n){n.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:l("PageDown","PageDown|Ctrl-V"),exec:function(n){n.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(n){n.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:l(null,"Option-PageUp"),exec:function(n){n.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(n){n.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:l("Ctrl-Up",null),exec:function(n){n.renderer.scrollBy(0,-2*n.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:l("Ctrl-Down",null),exec:function(n){n.renderer.scrollBy(0,2*n.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(n){n.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(n){n.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:l("Ctrl-Alt-E","Command-Option-E"),exec:function(n){n.commands.toggleRecording(n)},readOnly:!0},{name:"replaymacro",bindKey:l("Ctrl-Shift-E","Command-Shift-E"),exec:function(n){n.commands.replay(n)},readOnly:!0},{name:"jumptomatching",bindKey:l("Ctrl-P","Ctrl-P"),exec:function(n){n.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:l("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(n){n.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:l("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(n){n.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:l(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(n){},readOnly:!0},{name:"cut",exec:function(n){var e=n.getSelectionRange();n._emit("cut",e),n.selection.isEmpty()||(n.session.remove(e),n.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(n,e){n.$handlePaste(e)},scrollIntoView:"cursor"},{name:"removeline",bindKey:l("Ctrl-D","Command-D"),exec:function(n){n.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:l("Ctrl-Shift-D","Command-Shift-D"),exec:function(n){n.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:l("Ctrl-Alt-S","Command-Alt-S"),exec:function(n){n.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:l("Ctrl-/","Command-/"),exec:function(n){n.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:l("Ctrl-Shift-/","Command-Shift-/"),exec:function(n){n.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:l("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(n){n.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:l("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(n){n.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:l("Ctrl-H","Command-Option-F"),exec:function(n){h.loadModule("ace/ext/searchbox",function(e){e.Search(n,!0)})}},{name:"undo",bindKey:l("Ctrl-Z","Command-Z"),exec:function(n){n.undo()}},{name:"redo",bindKey:l("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(n){n.redo()}},{name:"copylinesup",bindKey:l("Alt-Shift-Up","Command-Option-Up"),exec:function(n){n.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:l("Alt-Up","Option-Up"),exec:function(n){n.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:l("Alt-Shift-Down","Command-Option-Down"),exec:function(n){n.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:l("Alt-Down","Option-Down"),exec:function(n){n.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:l("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(n){n.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:l("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(n){n.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:l("Shift-Delete",null),exec:function(n){if(!n.selection.isEmpty())return!1;n.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:l("Alt-Backspace","Command-Backspace"),exec:function(n){n.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:l("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(n){n.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:l("Ctrl-Shift-Backspace",null),exec:function(n){var e=n.selection.getRange();e.start.column=0,n.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:l("Ctrl-Shift-Delete",null),exec:function(n){var e=n.selection.getRange();e.end.column=Number.MAX_VALUE,n.session.remove(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:l("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(n){n.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:l("Ctrl-Delete","Alt-Delete"),exec:function(n){n.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:l("Shift-Tab","Shift-Tab"),exec:function(n){n.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:l("Tab","Tab"),exec:function(n){n.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:l("Ctrl-[","Ctrl-["),exec:function(n){n.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:l("Ctrl-]","Ctrl-]"),exec:function(n){n.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(n,e){n.insert(e)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(n,e){n.insert(v.stringRepeat(e.text||"",e.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:l(null,"Ctrl-O"),exec:function(n){n.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:l("Alt-Shift-X","Ctrl-T"),exec:function(n){n.transposeLetters()},multiSelectAction:function(n){n.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:l("Ctrl-U","Ctrl-U"),exec:function(n){n.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:l("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(n){n.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:l("Ctrl-Shift-L","Command-Shift-L"),exec:function(n){var e=n.selection.getRange();e.start.column=e.end.column=0,e.end.row++,n.selection.setRange(e,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:l(null,null),exec:function(n){for(var e=n.selection.isBackwards(),t=e?n.selection.getSelectionLead():n.selection.getSelectionAnchor(),i=e?n.selection.getSelectionAnchor():n.selection.getSelectionLead(),s=n.session.doc.getLine(t.row).length,r=n.session.doc.getTextRange(n.selection.getRange()).replace(/\n\s*/," ").length,p=n.session.doc.getLine(t.row),o=t.row+1;o<=i.row+1;o++){var u=v.stringTrimLeft(v.stringTrimRight(n.session.doc.getLine(o)));0!==u.length&&(u=" "+u),p+=u}i.row+1<n.session.doc.getLength()-1&&(p+=n.session.doc.getNewLineCharacter()),n.clearSelection(),n.session.doc.replace(new f(t.row,0,i.row+2,0),p),r>0?(n.selection.moveCursorTo(t.row,t.column),n.selection.selectTo(t.row,t.column+r)):(s=n.session.doc.getLine(t.row).length>s?s+1:s,n.selection.moveCursorTo(t.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:l(null,null),exec:function(n){var e=n.session.doc.getLength()-1,t=n.session.doc.getLine(e).length,i=n.selection.rangeList.ranges,s=[];i.length<1&&(i=[n.selection.getRange()]);for(var c=0;c<i.length;c++)c==i.length-1&&(i[c].end.row===e&&i[c].end.column===t||s.push(new f(i[c].end.row,i[c].end.column,e,t))),0===c?0===i[c].start.row&&0===i[c].start.column||s.push(new f(0,0,i[c].start.row,i[c].start.column)):s.push(new f(i[c-1].end.row,i[c-1].end.column,i[c].start.row,i[c].start.column));for(n.exitMultiSelectMode(),n.clearSelection(),c=0;c<s.length;c++)n.selection.addRange(s[c],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(A,S,b){"use strict";A("./lib/fixoldbrowsers");var l=A("./lib/oop"),v=A("./lib/dom"),h=A("./lib/lang"),f=A("./lib/useragent"),n=A("./keyboard/textinput").TextInput,e=A("./mouse/mouse_handler").MouseHandler,t=A("./mouse/fold_handler").FoldHandler,i=A("./keyboard/keybinding").KeyBinding,s=A("./edit_session").EditSession,c=A("./search").Search,r=A("./range").Range,p=A("./lib/event_emitter").EventEmitter,o=A("./commands/command_manager").CommandManager,u=A("./commands/default_commands").commands,g=A("./config"),y=A("./token_iterator").TokenIterator,C=function(d,a){var w=d.getContainerElement();this.container=w,this.renderer=d,this.id="editor"+ ++C.$uid,this.commands=new o(f.isMac?"mac":"win",u),"object"==typeof document&&(this.textInput=new n(d.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new e(this),new t(this)),this.keyBinding=new i(this),this.$blockScrolling=0,this.$search=(new c).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=h.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(E,F){F._$emitInputEvent.schedule(31)}),this.setSession(a||new s("")),g.resetOptions(this),g._signal("editor",this)};C.$uid=0,function(){l.implement(this,p),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=h.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(d){if(this.curOp){if(!d||this.curOp.command)return;this.prevOp=this.curOp}d||(this.previousCommand=null,d={}),this.$opResetTimer.schedule(),this.curOp={command:d.command||{},args:d.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(d){if(this.curOp){if(d&&!1===d.returnValue)return this.curOp=null;this._signal("beforeEndOperation");var a=this.curOp.command;a.name&&this.$blockScrolling>0&&this.$blockScrolling--;var w=a&&a.scrollIntoView;if(w){switch(w){case"center-animate":w="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var E=this.selection.getRange(),F=this.renderer.layerConfig;(E.start.row>=F.lastRow||E.end.row<=F.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==w&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(d){if(this.$mergeUndoDeltas){var a=this.prevOp,w=this.$mergeableCommands,E=a.command&&d.command.name==a.command.name;if("insertstring"==d.command.name){var F=d.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),E=E&&this.mergeNextCommand&&(!/\s/.test(F)||/\s/.test(a.args)),this.mergeNextCommand=!0}else E=E&&-1!==w.indexOf(d.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(E=!1),E?this.session.mergeUndoDeltas=!0:-1!==w.indexOf(d.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(d,a){if(d&&"string"==typeof d){this.$keybindingId=d;var w=this;g.loadModule(["keybinding",d],function(E){w.$keybindingId==d&&w.keyBinding.setKeyboardHandler(E&&E.handler),a&&a()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(d),a&&a()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(d){if(this.session!=d){this.curOp&&this.endOperation(),this.curOp={};var a=this.session;if(a){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var w=this.session.getSelection();w.off("changeCursor",this.$onCursorChange),w.off("changeSelection",this.$onSelectionChange)}this.session=d,d?(this.$onDocumentChange=this.onDocumentChange.bind(this),d.on("change",this.$onDocumentChange),this.renderer.setSession(d),this.$onChangeMode=this.onChangeMode.bind(this),d.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),d.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),d.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),d.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),d.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),d.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=d.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(d)),this._signal("changeSession",{session:d,oldSession:a}),this.curOp=null,a&&a._signal("changeEditor",{oldEditor:this}),d&&d._signal("changeEditor",{editor:this}),d&&d.bgTokenizer&&d.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(d,a){return this.session.doc.setValue(d),a?1==a?this.navigateFileEnd():-1==a&&this.navigateFileStart():this.selectAll(),d},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(d){this.renderer.onResize(d)},this.setTheme=function(d,a){this.renderer.setTheme(d,a)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(d){this.renderer.setStyle(d)},this.unsetStyle=function(d){this.renderer.unsetStyle(d)},this.getFontSize=function(){return this.getOption("fontSize")||v.computedStyle(this.container,"fontSize")},this.setFontSize=function(d){this.setOption("fontSize",d)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var d=this;this.$highlightPending=!0,setTimeout(function(){d.$highlightPending=!1;var a=d.session;if(a&&a.bgTokenizer){var w=a.findMatchingBracket(d.getCursorPosition());if(w)var E=new r(w.row,w.column,w.row,w.column+1);else a.$mode.getMatching&&(E=a.$mode.getMatching(d.session));E&&(a.$bracketHighlight=a.addMarker(E,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var d=this;this.$highlightTagPending=!0,setTimeout(function(){d.$highlightTagPending=!1;var a=d.session;if(a&&a.bgTokenizer){var w=d.getCursorPosition(),E=new y(d.session,w.row,w.column),F=E.getCurrentToken();if(!F||!/\b(?:tag-open|tag-name)/.test(F.type))return a.removeMarker(a.$tagHighlight),void(a.$tagHighlight=null);if(-1==F.type.indexOf("tag-open")||(F=E.stepForward())){var _=F.value,B=0,R=E.stepBackward();if("<"==R.value)do{R=F,(F=E.stepForward())&&F.value===_&&-1!==F.type.indexOf("tag-name")&&("<"===R.value?B++:"</"===R.value&&B--)}while(F&&B>=0);else{do{F=R,R=E.stepBackward(),F&&F.value===_&&-1!==F.type.indexOf("tag-name")&&("<"===R.value?B++:"</"===R.value&&B--)}while(R&&B<=0);E.stepForward()}if(!F)return a.removeMarker(a.$tagHighlight),void(a.$tagHighlight=null);var P=E.getCurrentTokenRow(),x=E.getCurrentTokenColumn(),D=new r(P,x,P,x+F.value.length),T=a.$backMarkers[a.$tagHighlight];a.$tagHighlight&&null!=T&&0!==D.compareRange(T.range)&&(a.removeMarker(a.$tagHighlight),a.$tagHighlight=null),D&&!a.$tagHighlight&&(a.$tagHighlight=a.addMarker(D,"ace_bracket","text"))}}},50)}},this.focus=function(){var d=this;setTimeout(function(){d.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(d){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",d))},this.onBlur=function(d){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",d))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(d){this.renderer.updateLines(d.start.row,d.start.row==d.end.row?d.end.row:1/0,this.session.$useWrapMode),this._signal("change",d),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(d){var a=d.data;this.renderer.updateLines(a.first,a.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(g.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var d,a=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(d=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(d=!1)),a.$highlightLineMarker&&!d)a.removeMarker(a.$highlightLineMarker.id),a.$highlightLineMarker=null;else if(!a.$highlightLineMarker&&d){var w=new r(d.row,d.column,d.row,1/0);w.id=a.addMarker(w,"ace_active-line","screenLine"),a.$highlightLineMarker=w}else d&&(a.$highlightLineMarker.start.row=d.row,a.$highlightLineMarker.end.row=d.row,a.$highlightLineMarker.start.column=d.column,a._signal("changeBackMarker"))},this.onSelectionChange=function(d){var a=this.session;if(a.$selectionMarker&&a.removeMarker(a.$selectionMarker),a.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var w=this.selection.getRange(),E=this.getSelectionStyle();a.$selectionMarker=a.addMarker(w,"ace_selection",E)}var F=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(F),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var d=this.session,a=this.getSelectionRange();if(!a.isEmpty()&&!a.isMultiLine()){var w=a.start.column-1,E=a.end.column+1,F=d.getLine(a.start.row),_=F.length,B=F.substring(Math.max(w,0),Math.min(E,_));if(!(w>=0&&/^[\w\d]/.test(B)||E<=_&&/[\w\d]$/.test(B))&&(B=F.substring(a.start.column,a.end.column),/^[\w\d]+$/.test(B)))return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:B})}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(d){this.renderer.updateText(),this._emit("changeMode",d)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var d=this.getSelectedText();return this._signal("copy",d),d},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(d,a){this.commands.exec("paste",this,{text:d,event:a})},this.$handlePaste=function(d){"string"==typeof d&&(d={text:d}),this._signal("paste",d);var a=d.text;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(a);else{var w=a.split(/\r\n|\r|\n/),E=this.selection.rangeList.ranges;if(w.length>E.length||w.length<2||!w[1])return this.commands.exec("insertstring",this,a);for(var F=E.length;F--;){var _=E[F];_.isEmpty()||this.session.remove(_),this.session.insert(_.start,w[F])}}},this.execCommand=function(d,a){return this.commands.exec(d,this,a)},this.insert=function(d,a){var w=this.session,E=w.getMode(),F=this.getCursorPosition();if(this.getBehavioursEnabled()&&!a){var _=E.transformAction(w.getState(F.row),"insertion",this,w,d);_&&(d!==_.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),d=_.text)}if("\t"==d&&(d=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&-1==d.indexOf("\n")&&((B=new r.fromPoints(F,F)).end.column+=d.length,this.session.remove(B));else{var B=this.getSelectionRange();F=this.session.remove(B),this.clearSelection()}if("\n"==d||"\r\n"==d){var D=w.getLine(F.row);if(F.column>D.search(/\S|$/)){var R=D.substr(F.column).search(/\S|$/);w.doc.removeInLine(F.row,F.column,F.column+R)}}this.clearSelection();var P=F.column,x=w.getState(F.row),T=(D=w.getLine(F.row),E.checkOutdent(x,D,d));if(w.insert(F,d),_&&_.selection&&this.selection.setSelectionRange(2==_.selection.length?new r(F.row,P+_.selection[0],F.row,P+_.selection[1]):new r(F.row+_.selection[0],_.selection[1],F.row+_.selection[2],_.selection[3])),w.getDocument().isNewLine(d)){var k=E.getNextLineIndent(x,D.slice(0,F.column),w.getTabString());w.insert({row:F.row+1,column:0},k)}T&&E.autoOutdent(x,w,F.row)},this.onTextInput=function(d){this.keyBinding.onTextInput(d)},this.onCommandKey=function(d,a,w){this.keyBinding.onCommandKey(d,a,w)},this.setOverwrite=function(d){this.session.setOverwrite(d)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(d){this.setOption("scrollSpeed",d)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(d){this.setOption("dragDelay",d)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(d){this.setOption("selectionStyle",d)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(d){this.setOption("highlightActiveLine",d)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(d){this.setOption("highlightGutterLine",d)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(d){this.setOption("highlightSelectedWord",d)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(d){this.renderer.setAnimatedScroll(d)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(d){this.renderer.setShowInvisibles(d)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(d){this.renderer.setDisplayIndentGuides(d)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(d){this.renderer.setShowPrintMargin(d)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(d){this.renderer.setPrintMarginColumn(d)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(d){this.setOption("readOnly",d)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(d){this.setOption("behavioursEnabled",d)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(d){this.setOption("wrapBehavioursEnabled",d)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(d){this.setOption("showFoldWidgets",d)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(d){this.setOption("fadeFoldWidgets",d)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(d){this.selection.isEmpty()&&("left"==d?this.selection.selectLeft():this.selection.selectRight());var a=this.getSelectionRange();if(this.getBehavioursEnabled()){var w=this.session,E=w.getState(a.start.row),F=w.getMode().transformAction(E,"deletion",this,w,a);if(0===a.end.column){var _=w.getTextRange(a);if("\n"==_[_.length-1]){var B=w.getLine(a.end.row);/^\s+$/.test(B)&&(a.end.column=B.length)}}F&&(a=F)}this.session.remove(a),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var d=this.getSelectionRange();d.start.column==d.end.column&&d.start.row==d.end.row&&(d.end.column=0,d.end.row++),this.session.remove(d),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var d=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(d)},this.transposeLetters=function(){if(this.selection.isEmpty()){var d=this.getCursorPosition(),a=d.column;if(0!==a){var w,E,F=this.session.getLine(d.row);a<F.length?(w=F.charAt(a)+F.charAt(a-1),E=new r(d.row,a-1,d.row,a+1)):(w=F.charAt(a-1)+F.charAt(a-2),E=new r(d.row,a-2,d.row,a)),this.session.replace(E,w),this.session.selection.moveToPosition(E.end)}}},this.toLowerCase=function(){var d=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var a=this.getSelectionRange(),w=this.session.getTextRange(a);this.session.replace(a,w.toLowerCase()),this.selection.setSelectionRange(d)},this.toUpperCase=function(){var d=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var a=this.getSelectionRange(),w=this.session.getTextRange(a);this.session.replace(a,w.toUpperCase()),this.selection.setSelectionRange(d)},this.indent=function(){var d=this.session,a=this.getSelectionRange();if(a.start.row<a.end.row){var w=this.$getSelectedRows();d.indentRows(w.first,w.last,"\t")}else{if(!(a.start.column<a.end.column)||/^\s+$/.test(d.getTextRange(a))){var E=d.getLine(a.start.row),F=a.start,_=d.getTabSize(),B=d.documentToScreenColumn(F.row,F.column);if(this.session.getUseSoftTabs())var P=h.stringRepeat(" ",R=_-B%_);else{for(var R=B%_;" "==E[a.start.column-1]&&R;)a.start.column--,R--;this.selection.setSelectionRange(a),P="\t"}return this.insert(P)}w=this.$getSelectedRows(),d.indentRows(w.first,w.last,"\t")}},this.blockIndent=function(){var d=this.$getSelectedRows();this.session.indentRows(d.first,d.last,"\t")},this.blockOutdent=function(){var d=this.session.getSelection();this.session.outdentRows(d.getRange())},this.sortLines=function(){for(var d=this.$getSelectedRows(),a=this.session,w=[],E=d.first;E<=d.last;E++)w.push(a.getLine(E));w.sort(function(B,R){return B.toLowerCase()<R.toLowerCase()?-1:B.toLowerCase()>R.toLowerCase()?1:0});var F=new r(0,0,0,0);for(E=d.first;E<=d.last;E++){var _=a.getLine(E);F.start.row=E,F.end.row=E,F.end.column=_.length,a.replace(F,w[E-d.first])}},this.toggleCommentLines=function(){var d=this.session.getState(this.getCursorPosition().row),a=this.$getSelectedRows();this.session.getMode().toggleCommentLines(d,this.session,a.first,a.last)},this.toggleBlockComment=function(){var d=this.getCursorPosition(),a=this.session.getState(d.row),w=this.getSelectionRange();this.session.getMode().toggleBlockComment(a,this.session,w,d)},this.getNumberAt=function(d,a){var w=/[\-]?[0-9]+(?:\.[0-9]+)?/g;w.lastIndex=0;for(var E=this.session.getLine(d);w.lastIndex<a;){var F=w.exec(E);if(F.index<=a&&F.index+F[0].length>=a)return{value:F[0],start:F.index,end:F.index+F[0].length}}return null},this.modifyNumber=function(d){var a=this.selection.getCursor().row,w=this.selection.getCursor().column,E=new r(a,w-1,a,w),F=this.session.getTextRange(E);if(!isNaN(parseFloat(F))&&isFinite(F)){var _=this.getNumberAt(a,w);if(_){var B=_.value.indexOf(".")>=0?_.start+_.value.indexOf(".")+1:_.end,R=_.start+_.value.length-B,P=parseFloat(_.value);P*=Math.pow(10,R),P+=d*=B!==_.end&&w<B?Math.pow(10,_.end-w-1):Math.pow(10,_.end-w);var x=(P/=Math.pow(10,R)).toFixed(R),D=new r(a,_.start,a,_.end);this.session.replace(D,x),this.moveCursorTo(a,Math.max(_.start+1,w+x.length-_.value.length))}}},this.removeLines=function(){var d=this.$getSelectedRows();this.session.removeFullLines(d.first,d.last),this.clearSelection()},this.duplicateSelection=function(){var d=this.selection,a=this.session,w=d.getRange(),E=d.isBackwards();if(w.isEmpty()){var F=w.start.row;a.duplicateLines(F,F)}else{var _=E?w.start:w.end,B=a.insert(_,a.getTextRange(w),!1);w.start=_,w.end=B,d.setSelectionRange(w,E)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(d,a,w){return this.session.moveText(d,a,w)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(d,a){var w,E,F=this.selection;if(!F.inMultiSelectMode||this.inVirtualSelectionMode){var _=F.toOrientedRange();w=this.$getSelectedRows(_),E=this.session.$moveLines(w.first,w.last,a?0:d),a&&-1==d&&(E=0),_.moveBy(E,0),F.fromOrientedRange(_)}else{var B=F.rangeList.ranges;F.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var R=0,P=0,x=B.length,D=0;D<x;D++){var T=D;B[D].moveBy(R,0);for(var k=(w=this.$getSelectedRows(B[D])).first,L=w.last;++D<x;){P&&B[D].moveBy(P,0);var $=this.$getSelectedRows(B[D]);if(a&&$.first!=L||!a&&$.first>L+1)break;L=$.last}for(D--,R=this.session.$moveLines(k,L,a?0:d),a&&-1==d&&(T=D+1);T<=D;)B[T].moveBy(R,0),T++;a||(R=0),P+=R}F.fromOrientedRange(F.ranges[0]),F.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(d){return d=(d||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(d.start.row),last:this.session.getRowFoldEnd(d.end.row)}},this.onCompositionStart=function(d){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(d){this.renderer.setCompositionText(d)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(d){return d>=this.getFirstVisibleRow()&&d<=this.getLastVisibleRow()},this.isRowFullyVisible=function(d){return d>=this.renderer.getFirstFullyVisibleRow()&&d<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(d,a){var w=this.renderer,E=this.renderer.layerConfig,F=d*Math.floor(E.height/E.lineHeight);this.$blockScrolling++,!0===a?this.selection.$moveSelection(function(){this.moveCursorBy(F,0)}):!1===a&&(this.selection.moveCursorBy(F,0),this.selection.clearSelection()),this.$blockScrolling--;var _=w.scrollTop;w.scrollBy(0,F*E.lineHeight),null!=a&&w.scrollCursorIntoView(null,.5),w.animateScrolling(_)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(d){this.renderer.scrollToRow(d)},this.scrollToLine=function(d,a,w,E){this.renderer.scrollToLine(d,a,w,E)},this.centerSelection=function(){var d=this.getSelectionRange(),a={row:Math.floor(d.start.row+(d.end.row-d.start.row)/2),column:Math.floor(d.start.column+(d.end.column-d.start.column)/2)};this.renderer.alignCursor(a,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(d,a){this.selection.moveCursorTo(d,a)},this.moveCursorToPosition=function(d){this.selection.moveCursorToPosition(d)},this.jumpToMatching=function(d,a){var w=this.getCursorPosition(),E=new y(this.session,w.row,w.column),F=E.getCurrentToken(),_=F||E.stepForward();if(_){var B,R,P=!1,x={},D=w.column-_.start,T={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(_.value.match(/[{}()\[\]]/g)){for(;D<_.value.length&&!P;D++)if(T[_.value[D]])switch(R=T[_.value[D]]+"."+_.type.replace("rparen","lparen"),isNaN(x[R])&&(x[R]=0),_.value[D]){case"(":case"[":case"{":x[R]++;break;case")":case"]":case"}":x[R]--,-1===x[R]&&(B="bracket",P=!0)}}else _&&-1!==_.type.indexOf("tag-name")&&(isNaN(x[_.value])&&(x[_.value]=0),"<"===F.value?x[_.value]++:"</"===F.value&&x[_.value]--,-1===x[_.value]&&(B="tag",P=!0));P||(F=_,_=E.stepForward(),D=0)}while(_&&!P);if(B){var k,L;if("bracket"===B)(k=this.session.getBracketRange(w))||(L=(k=new r(E.getCurrentTokenRow(),E.getCurrentTokenColumn()+D-1,E.getCurrentTokenRow(),E.getCurrentTokenColumn()+D-1)).start,(a||L.row===w.row&&Math.abs(L.column-w.column)<2)&&(k=this.session.getBracketRange(L)));else if("tag"===B){if(!_||-1===_.type.indexOf("tag-name"))return;var $=_.value;if(0===(k=new r(E.getCurrentTokenRow(),E.getCurrentTokenColumn()-2,E.getCurrentTokenRow(),E.getCurrentTokenColumn()-2)).compare(w.row,w.column)){P=!1;do{_=F,(F=E.stepBackward())&&(-1!==F.type.indexOf("tag-close")&&k.setEnd(E.getCurrentTokenRow(),E.getCurrentTokenColumn()+1),_.value===$&&-1!==_.type.indexOf("tag-name")&&("<"===F.value?x[$]++:"</"===F.value&&x[$]--,0===x[$]&&(P=!0)))}while(F&&!P)}_&&_.type.indexOf("tag-name")&&(L=k.start).row==w.row&&Math.abs(L.column-w.column)<2&&(L=k.end)}(L=k&&k.cursor||L)&&(d?k&&a?this.selection.setRange(k):k&&k.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(L.row,L.column):this.selection.moveTo(L.row,L.column))}}},this.gotoLine=function(d,a,w){this.selection.clearSelection(),this.session.unfold({row:d-1,column:a||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(d-1,a||0),this.$blockScrolling-=1,this.isRowFullyVisible(d-1)||this.scrollToLine(d-1,!0,w)},this.navigateTo=function(d,a){this.selection.moveTo(d,a)},this.navigateUp=function(d){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var a=this.selection.anchor.getPosition();return this.moveCursorToPosition(a)}this.selection.clearSelection(),this.selection.moveCursorBy(-d||-1,0)},this.navigateDown=function(d){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var a=this.selection.anchor.getPosition();return this.moveCursorToPosition(a)}this.selection.clearSelection(),this.selection.moveCursorBy(d||1,0)},this.navigateLeft=function(d){if(this.selection.isEmpty())for(d=d||1;d--;)this.selection.moveCursorLeft();else{var a=this.getSelectionRange().start;this.moveCursorToPosition(a)}this.clearSelection()},this.navigateRight=function(d){if(this.selection.isEmpty())for(d=d||1;d--;)this.selection.moveCursorRight();else{var a=this.getSelectionRange().end;this.moveCursorToPosition(a)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(d,a){a&&this.$search.set(a);var w=this.$search.find(this.session),E=0;return w&&(this.$tryReplace(w,d)&&(E=1),null!==w&&(this.selection.setSelectionRange(w),this.renderer.scrollSelectionIntoView(w.start,w.end))),E},this.replaceAll=function(d,a){a&&this.$search.set(a);var w=this.$search.findAll(this.session),E=0;if(!w.length)return E;this.$blockScrolling+=1;var F=this.getSelectionRange();this.selection.moveTo(0,0);for(var _=w.length-1;_>=0;--_)this.$tryReplace(w[_],d)&&E++;return this.selection.setSelectionRange(F),this.$blockScrolling-=1,E},this.$tryReplace=function(d,a){var w=this.session.getTextRange(d);return null!==(a=this.$search.replace(w,a))?(d.end=this.session.replace(d,a),d):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(d,a,w){a||(a={}),"string"==typeof d||d instanceof RegExp?a.needle=d:"object"==typeof d&&l.mixin(a,d);var E=this.selection.getRange();null==a.needle&&((d=this.session.getTextRange(E)||this.$search.$options.needle)||(E=this.session.getWordRange(E.start.row,E.start.column),d=this.session.getTextRange(E)),this.$search.set({needle:d})),this.$search.set(a),a.start||this.$search.set({start:E});var F=this.$search.find(this.session);return a.preventScroll?F:F?(this.revealRange(F,w),F):(a.backwards?E.start=E.end:E.end=E.start,void this.selection.setRange(E))},this.findNext=function(d,a){this.find({skipCurrent:!0,backwards:!1},d,a)},this.findPrevious=function(d,a){this.find(d,{skipCurrent:!0,backwards:!0},a)},this.revealRange=function(d,a){this.$blockScrolling+=1,this.session.unfold(d),this.selection.setSelectionRange(d),this.$blockScrolling-=1;var w=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(d.start,d.end,.5),!1!==a&&this.renderer.animateScrolling(w)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(d){if(d){var a,w=this,E=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var F=this.$scrollAnchor;F.style.cssText="position:absolute",this.container.insertBefore(F,this.container.firstChild);var _=this.on("changeSelection",function(){E=!0}),B=this.renderer.on("beforeRender",function(){E&&(a=w.renderer.container.getBoundingClientRect())}),R=this.renderer.on("afterRender",function(){if(E&&a&&(w.isFocused()||w.searchBox&&w.searchBox.isFocused())){var P=w.renderer,x=P.$cursorLayer.$pixelPos,D=P.layerConfig,T=x.top-D.offset;null!=(E=x.top>=0&&T+a.top<0||!(x.top<D.height&&x.top+a.top+D.lineHeight>window.innerHeight)&&null)&&(F.style.top=T+"px",F.style.left=x.left+"px",F.style.height=D.lineHeight+"px",F.scrollIntoView(E)),E=a=null}});this.setAutoScrollEditorIntoView=function(P){P||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",_),this.renderer.off("afterRender",R),this.renderer.off("beforeRender",B))}}},this.$resetCursorStyle=function(){var d=this.$cursorStyle||"ace",a=this.renderer.$cursorLayer;a&&(a.setSmoothBlinking(/smooth/.test(d)),a.isBlinking=!this.$readOnly&&"wide"!=d,v.setCssClass(a.element,"ace_slim-cursors",/slim/.test(d)))}}.call(C.prototype),g.defineOptions(C.prototype,"editor",{selectionStyle:{set:function(d){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:d})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(d){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(d){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(d){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(d){this.setAutoScrollEditorIntoView(d)}},keyboardHandler:{set:function(d){this.setKeyboardHandler(d)},get:function(){return this.keybindingId},handlesSet:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),S.Editor=C}),ace.define("ace/undomanager",["require","exports","module"],function(A,S,b){"use strict";var l=function(){this.reset()};(function(){function v(n){return{action:n.action,start:n.start,end:n.end,lines:1==n.lines.length?null:n.lines,text:1==n.lines.length?n.lines[0]:null}}function h(n){return{action:n.action,start:n.start,end:n.end,lines:n.lines||[n.text]}}function f(n,e){for(var t=new Array(n.length),i=0;i<n.length;i++){for(var s=n[i],c={group:s.group,deltas:new Array(s.length)},r=0;r<s.deltas.length;r++)c.deltas[r]=e(s.deltas[r]);t[i]=c}return t}this.execute=function(n){var e=n.args[0];this.$doc=n.args[1],n.merge&&this.hasUndo()&&(this.dirtyCounter--,e=this.$undoStack.pop().concat(e)),this.$undoStack.push(e),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(n){var e=this.$undoStack.pop(),t=null;return e&&(t=this.$doc.undoChanges(e,n),this.$redoStack.push(e),this.dirtyCounter--),t},this.redo=function(n){var e=this.$redoStack.pop(),t=null;return e&&(t=this.$doc.redoChanges(this.$deserializeDeltas(e),n),this.$undoStack.push(e),this.dirtyCounter++),t},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter},this.$serializeDeltas=function(n){return f(n,v)},this.$deserializeDeltas=function(n){return f(n,h)}}).call(l.prototype),S.UndoManager=l}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(A,S,b){"use strict";var l=A("../lib/dom"),v=A("../lib/oop"),h=A("../lib/lang"),f=A("../lib/event_emitter").EventEmitter,n=function(e){this.element=l.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){v.implement(this,f),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var i=e[t],s=i.row,c=this.$annotations[s];c||(c=this.$annotations[s]={text:[]});var r=i.text;r=r?h.escapeHTML(r):i.html||"",-1===c.text.indexOf(r)&&c.text.push(r);var p=i.type;"error"==p?c.className=" ace_error":"warning"==p&&" ace_error"!=c.className?c.className=" ace_warning":"info"!=p||c.className||(c.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,i=e.end.row-t;if(0!==i)if("remove"==e.action)this.$annotations.splice(t,i+1,null);else{var s=new Array(i+1);s.unshift(t,1),this.$annotations.splice.apply(this.$annotations,s)}}},this.update=function(e){for(var t=this.session,i=e.firstRow,s=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1),c=t.getNextFoldLine(i),r=c?c.start.row:1/0,p=this.$showFoldWidgets&&t.foldWidgets,o=t.$breakpoints,u=t.$decorations,g=t.$firstLineNumber,y=0,C=t.gutterRenderer||this.$renderer,d=null,a=-1,w=i;;){if(w>r&&(r=(c=t.getNextFoldLine(w=c.end.row+1,c))?c.start.row:1/0),w>s){for(;this.$cells.length>a+1;)d=this.$cells.pop(),this.element.removeChild(d.element);break}(d=this.$cells[++a])||((d={element:null,textNode:null,foldWidget:null}).element=l.createElement("div"),d.textNode=document.createTextNode(""),d.element.appendChild(d.textNode),this.element.appendChild(d.element),this.$cells[a]=d);var F,E="ace_gutter-cell ";if(o[w]&&(E+=o[w]),u[w]&&(E+=u[w]),this.$annotations[w]&&(E+=this.$annotations[w].className),d.element.className!=E&&(d.element.className=E),(F=t.getRowLength(w)*e.lineHeight+"px")!=d.element.style.height&&(d.element.style.height=F),p){var _=p[w];null==_&&(_=p[w]=t.getFoldWidget(w))}if(_)d.foldWidget||(d.foldWidget=l.createElement("span"),d.element.appendChild(d.foldWidget)),E="ace_fold-widget ace_"+_,d.foldWidget.className!=(E+="start"==_&&w==r&&w<c.end.row?" ace_closed":" ace_open")&&(d.foldWidget.className=E),d.foldWidget.style.height!=(F=e.lineHeight+"px")&&(d.foldWidget.style.height=F);else d.foldWidget&&(d.element.removeChild(d.foldWidget),d.foldWidget=null);var B=y=C?C.getText(t,w):w+g;B!==d.textNode.data&&(d.textNode.data=B),w++}this.element.style.height=e.minHeight+"px",(this.$fixedWidth||t.$useWrapMode)&&(y=t.getLength()+g);var R=C?C.getWidth(t,y,e):y.toString().length*e.characterWidth,P=this.$padding||this.$computePadding();(R+=P.left+P.right)===this.gutterWidth||isNaN(R)||(this.gutterWidth=R,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",R))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?l.addCssClass(this.element,"ace_folding-enabled"):l.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=l.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();return e.x<t.left+i.left?"markers":this.$showFoldWidgets&&e.x>i.right-t.right?"foldWidgets":void 0}}).call(n.prototype),S.Gutter=n}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(A,S,b){"use strict";var l=A("../range").Range,v=A("../lib/dom"),h=function(f){this.element=v.createElement("div"),this.element.className="ace_layer ace_marker-layer",f.appendChild(this.element)};(function(){function f(n,e,t,i){return(n?1:0)|(e?2:0)|(t?4:0)|(i?8:0)}this.$padding=0,this.setPadding=function(n){this.$padding=n},this.setSession=function(n){this.session=n},this.setMarkers=function(n){this.markers=n},this.update=function(n){if(n){this.config=n;var e=[];for(var t in this.markers){var i=this.markers[t];if(i.range){var s=i.range.clipRows(n.firstRow,n.lastRow);if(!s.isEmpty())if(s=s.toScreenRange(this.session),i.renderer){var c=this.$getTop(s.start.row,n),r=this.$padding+(this.session.$bidiHandler.isBidiRow(s.start.row)?this.session.$bidiHandler.getPosLeft(s.start.column):s.start.column*n.characterWidth);i.renderer(e,s,r,c,n)}else"fullLine"==i.type?this.drawFullLineMarker(e,s,i.clazz,n):"screenLine"==i.type?this.drawScreenLineMarker(e,s,i.clazz,n):s.isMultiLine()?"text"==i.type?this.drawTextMarker(e,s,i.clazz,n):this.drawMultiLineMarker(e,s,i.clazz,n):this.session.$bidiHandler.isBidiRow(s.start.row)?this.drawBidiSingleLineMarker(e,s,i.clazz+" ace_start ace_br15",n):this.drawSingleLineMarker(e,s,i.clazz+" ace_start ace_br15",n)}else i.update(e,this,this.session,n)}this.element.innerHTML=e.join("")}},this.$getTop=function(n,e){return(n-e.firstRowScreen)*e.lineHeight},this.drawTextMarker=function(n,e,t,i,s){for(var c=this.session,r=e.start.row,p=e.end.row,o=r,u=0,g=0,y=c.getScreenLastRowColumn(o),C=null,d=new l(o,e.start.column,o,g);o<=p;o++)d.start.row=d.end.row=o,d.start.column=o==r?e.start.column:c.getRowWrapIndent(o),d.end.column=y,u=g,g=y,y=o+1<p?c.getScreenLastRowColumn(o+1):o==p?0:e.end.column,C=t+(o==r?" ace_start":"")+" ace_br"+f(o==r||o==r+1&&e.start.column,u<g,g>y,o==p),this.session.$bidiHandler.isBidiRow(o)?this.drawBidiSingleLineMarker(n,d,C,i,o==p?0:1,s):this.drawSingleLineMarker(n,d,C,i,o==p?0:1,s)},this.drawMultiLineMarker=function(n,e,t,i,s){var c,r,o=this.$padding;if(s=s||"",this.session.$bidiHandler.isBidiRow(e.start.row)?((u=e.clone()).end.row=u.start.row,u.end.column=this.session.getLine(u.start.row).length,this.drawBidiSingleLineMarker(n,u,t+" ace_br1 ace_start",i,null,s)):(c=i.lineHeight,r=this.$getTop(e.start.row,i),n.push("<div class='",t," ace_br1 ace_start' style='","height:",c,"px;","right:0;","top:",r,"px;","left:",o+e.start.column*i.characterWidth,"px;",s,"'></div>")),this.session.$bidiHandler.isBidiRow(e.end.row)){var u;(u=e.clone()).start.row=u.end.row,u.start.column=0,this.drawBidiSingleLineMarker(n,u,t+" ace_br12",i,null,s)}else{var g=e.end.column*i.characterWidth;c=i.lineHeight,r=this.$getTop(e.end.row,i),n.push("<div class='",t," ace_br12' style='","height:",c,"px;","width:",g,"px;","top:",r,"px;","left:",o,"px;",s,"'></div>")}if(!((c=(e.end.row-e.start.row-1)*i.lineHeight)<=0)){r=this.$getTop(e.start.row+1,i);var y=(e.start.column?1:0)|(e.end.column?0:8);n.push("<div class='",t,y?" ace_br"+y:"","' style='","height:",c,"px;","right:0;","top:",r,"px;","left:",o,"px;",s,"'></div>")}},this.drawSingleLineMarker=function(n,e,t,i,s,c){var r=i.lineHeight,p=(e.end.column+(s||0)-e.start.column)*i.characterWidth,o=this.$getTop(e.start.row,i);n.push("<div class='",t,"' style='","height:",r,"px;","width:",p,"px;","top:",o,"px;","left:",this.$padding+e.start.column*i.characterWidth,"px;",c||"","'></div>")},this.drawBidiSingleLineMarker=function(n,e,t,i,s,c){var r=i.lineHeight,p=this.$getTop(e.start.row,i),o=this.$padding;this.session.$bidiHandler.getSelections(e.start.column,e.end.column).forEach(function(u){n.push("<div class='",t,"' style='","height:",r,"px;","width:",u.width+(s||0),"px;","top:",p,"px;","left:",o+u.left,"px;",c||"","'></div>")})},this.drawFullLineMarker=function(n,e,t,i,s){var c=this.$getTop(e.start.row,i),r=i.lineHeight;e.start.row!=e.end.row&&(r+=this.$getTop(e.end.row,i)-c),n.push("<div class='",t,"' style='","height:",r,"px;","top:",c,"px;","left:0;right:0;",s||"","'></div>")},this.drawScreenLineMarker=function(n,e,t,i,s){var c=this.$getTop(e.start.row,i);n.push("<div class='",t,"' style='","height:",i.lineHeight,"px;","top:",c,"px;","left:0;right:0;",s||"","'></div>")}}).call(h.prototype),S.Marker=h}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(A,S,b){"use strict";var l=A("../lib/oop"),v=A("../lib/dom"),h=A("../lib/lang"),f=(A("../lib/useragent"),A("../lib/event_emitter").EventEmitter),n=function(e){this.element=v.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){l.implement(this,f),this.EOF_CHAR="\xb6",this.EOL_CHAR_LF="\xac",this.EOL_CHAR_CRLF="\xa4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xb7",this.$padding=0,this.$updateEolChar=function(){var e="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0},this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(t){this._signal("changeCharacterSize",t)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],i=1;i<e+1;i++)t.push(this.showInvisibles?"<span class='ace_invisible ace_invisible_tab'>"+h.stringRepeat(this.TAB_CHAR,i)+"</span>":h.stringRepeat(" ",i));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var s="ace_indent-guide",c="",r="";if(this.showInvisibles){s+=" ace_invisible",c=" ace_invisible_space",r=" ace_invisible_tab";var p=h.stringRepeat(this.SPACE_CHAR,this.tabSize),o=h.stringRepeat(this.TAB_CHAR,this.tabSize)}else o=p=h.stringRepeat(" ",this.tabSize);this.$tabStrings[" "]="<span class='"+s+c+"'>"+p+"</span>",this.$tabStrings["\t"]="<span class='"+s+r+"'>"+o+"</span>"}},this.updateLines=function(e,t,i){this.config.lastRow==e.lastRow&&this.config.firstRow==e.firstRow||this.scrollLines(e),this.config=e;for(var s=Math.max(t,e.firstRow),c=Math.min(i,e.lastRow),r=this.element.childNodes,p=0,o=e.firstRow;o<s;o++){if(u=this.session.getFoldLine(o)){if(u.containsRow(s)){s=u.start.row;break}o=u.end.row}p++}for(var u,g=(u=this.session.getNextFoldLine(o=s))?u.start.row:1/0;o>g&&(g=(u=this.session.getNextFoldLine(o=u.end.row+1,u))?u.start.row:1/0),!(o>c);){var y=r[p++];if(y){var C=[];this.$renderLine(C,o,!this.$useLineGroups(),o==g&&u),y.style.height=e.lineHeight*this.session.getRowLength(o)+"px",y.innerHTML=C.join("")}o++}},this.scrollLines=function(e){var t=this.config;if(this.config=e,!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var i=this.element;if(t.firstRow<e.firstRow)for(var s=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);s>0;s--)i.removeChild(i.firstChild);if(t.lastRow>e.lastRow)for(s=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);s>0;s--)i.removeChild(i.lastChild);if(e.firstRow<t.firstRow){var c=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);i.firstChild?i.insertBefore(c,i.firstChild):i.appendChild(c)}e.lastRow>t.lastRow&&(c=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow),i.appendChild(c))},this.$renderLinesFragment=function(e,t,i){for(var s=this.element.ownerDocument.createDocumentFragment(),c=t,r=this.session.getNextFoldLine(c),p=r?r.start.row:1/0;c>p&&(p=(r=this.session.getNextFoldLine(c=r.end.row+1,r))?r.start.row:1/0),!(c>i);){var o=v.createElement("div"),u=[];if(this.$renderLine(u,c,!1,c==p&&r),o.innerHTML=u.join(""),this.$useLineGroups())o.className="ace_line_group",s.appendChild(o),o.style.height=e.lineHeight*this.session.getRowLength(c)+"px";else for(;o.firstChild;)s.appendChild(o.firstChild);c++}return s},this.update=function(e){this.config=e;for(var t=[],s=e.lastRow,c=e.firstRow,r=this.session.getNextFoldLine(c),p=r?r.start.row:1/0;c>p&&(p=(r=this.session.getNextFoldLine(c=r.end.row+1,r))?r.start.row:1/0),!(c>s);)this.$useLineGroups()&&t.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(c),"px'>"),this.$renderLine(t,c,!1,c==p&&r),this.$useLineGroups()&&t.push("</div>"),c++;this.element.innerHTML=t.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,i,s){var c=this,p=s.replace(/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,function(g,y,C,d,a){if(y)return c.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+h.stringRepeat(c.SPACE_CHAR,g.length)+"</span>":g;if("&"==g)return"&#38;";if("<"==g)return"&#60;";if(">"==g)return"&#62;";if("\t"==g){var w=c.session.getScreenTabSize(t+d);return t+=w-1,c.$tabStrings[w]}return"\u3000"==g?(t+=1,"<span class='"+(c.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk")+"' style='width:"+2*c.config.characterWidth+"px'>"+(c.showInvisibles?c.SPACE_CHAR:"")+"</span>"):C?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+c.SPACE_CHAR+"</span>":(t+=1,"<span class='ace_cjk' style='width:"+2*c.config.characterWidth+"px'>"+g+"</span>")});if(this.$textToken[i.type])e.push(p);else{var o="ace_"+i.type.replace(/\./g," ace_"),u="";"fold"==i.type&&(u=" style='width:"+i.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",o,"'",u,">",p,"</span>")}return t+s.length},this.renderIndentGuide=function(e,t,i){var s=t.search(this.$indentGuideRe);return s<=0||s>=i?t:" "==t[0]?(e.push(h.stringRepeat(this.$tabStrings[" "],(s-=s%this.tabSize)/this.tabSize)),t.substr(s)):"\t"==t[0]?(e.push(h.stringRepeat(this.$tabStrings["\t"],s)),t.substr(s)):t},this.$renderWrappedLine=function(e,t,i,s){for(var c=0,r=0,p=i[0],o=0,u=0;u<t.length;u++){var g=t[u],y=g.value;if(0==u&&this.displayIndentGuides){if(c=y.length,!(y=this.renderIndentGuide(e,y,p)))continue;c-=y.length}if(c+y.length<p)o=this.$renderToken(e,o,g,y),c+=y.length;else{for(;c+y.length>=p;)o=this.$renderToken(e,o,g,y.substring(0,p-c)),y=y.substring(p-c),c=p,s||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),e.push(h.stringRepeat("\xa0",i.indent)),o=0,p=i[++r]||Number.MAX_VALUE;0!=y.length&&(c+=y.length,o=this.$renderToken(e,o,g,y))}}},this.$renderSimpleLine=function(e,t){var i=0,s=t[0],c=s.value;this.displayIndentGuides&&(c=this.renderIndentGuide(e,c)),c&&(i=this.$renderToken(e,i,s,c));for(var r=1;r<t.length;r++)i=this.$renderToken(e,i,s=t[r],c=s.value)},this.$renderLine=function(e,t,i,s){if(s||0==s||(s=this.session.getFoldLine(t)),s)var c=this.$getFoldLineTokens(t,s);else c=this.session.getTokens(t);if(i||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>"),c.length){var r=this.session.getRowSplitData(t);r&&r.length?this.$renderWrappedLine(e,c,r,i):this.$renderSimpleLine(e,c)}this.showInvisibles&&(s&&(t=s.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),i||e.push("</div>")},this.$getFoldLineTokens=function(e,t){var s=this.session,c=[],r=s.getTokens(e);return t.walk(function(p,o,u,g,y){null!=p?c.push({type:"fold",value:p}):(y&&(r=s.getTokens(o)),r.length&&function(p,o,u){for(var g=0,y=0;y+p[g].value.length<o;)if(y+=p[g].value.length,++g==p.length)return;for(y!=o&&((C=p[g].value.substring(o-y)).length>u-o&&(C=C.substring(0,u-o)),c.push({type:p[g].type,value:C}),y=o+C.length,g+=1);y<u&&g<p.length;){var C;c.push((C=p[g].value).length+y>u?{type:p[g].type,value:C.substring(0,u-y)}:p[g]),y+=C.length,g+=1}}(r,g,u))},t.end.row,this.session.getLine(t.end.row).length),c},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(n.prototype),S.Text=n}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(A,S,b){"use strict";var l,v=A("../lib/dom"),h=function(f){this.element=v.createElement("div"),this.element.className="ace_layer ace_cursor-layer",f.appendChild(this.element),void 0===l&&(l=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),v.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(l?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(f){for(var n=this.cursors,e=n.length;e--;)n[e].style.visibility=f?"":"hidden"},this.$updateOpacity=function(f){for(var n=this.cursors,e=n.length;e--;)n[e].style.opacity=f?"":"0"},this.$padding=0,this.setPadding=function(f){this.$padding=f},this.setSession=function(f){this.session=f},this.setBlinking=function(f){f!=this.isBlinking&&(this.isBlinking=f,this.restartTimer())},this.setBlinkInterval=function(f){f!=this.blinkInterval&&(this.blinkInterval=f,this.restartTimer())},this.setSmoothBlinking=function(f){f==this.smoothBlinking||l||(this.smoothBlinking=f,v.setCssClass(this.element,"ace_smooth-blinking",f),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var f=v.createElement("div");return f.className="ace_cursor",this.element.appendChild(f),this.cursors.push(f),f},this.removeCursor=function(){if(this.cursors.length>1){var f=this.cursors.pop();return f.parentNode.removeChild(f),f}},this.hideCursor=function(){this.isVisible=!1,v.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,v.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var f=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&v.removeCssClass(this.element,"ace_smooth-blinking"),f(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){v.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var n=function(){this.timeoutId=setTimeout(function(){f(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){f(!0),n()},this.blinkInterval),n()}},this.getPixelPosition=function(f,n){if(!this.config||!this.session)return{left:0,top:0};f||(f=this.session.selection.getCursor());var e=this.session.documentToScreenPosition(f);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(e.row,f.row)?this.session.$bidiHandler.getPosLeft(e.column):e.column*this.config.characterWidth),top:(e.row-(n?this.config.firstRowScreen:0))*this.config.lineHeight}},this.update=function(f){this.config=f;var n=this.session.$selectionMarkers,e=0,t=0;void 0!==n&&0!==n.length||(n=[{cursor:null}]),e=0;for(var i=n.length;e<i;e++){var s=this.getPixelPosition(n[e].cursor,!0);if(!((s.top>f.height+f.offset||s.top<0)&&e>1)){var c=(this.cursors[t++]||this.addCursor()).style;this.drawCursor?this.drawCursor(c,s,f,n[e],this.session):(c.left=s.left+"px",c.top=s.top+"px",c.width=f.characterWidth+"px",c.height=f.lineHeight+"px")}}for(;this.cursors.length>t;)this.removeCursor();var r=this.session.getOverwrite();this.$setOverwrite(r),this.$pixelPos=s,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(f){f!=this.overwrite&&(this.overwrite=f,f?v.addCssClass(this.element,"ace_overwrite-cursors"):v.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(h.prototype),S.Cursor=h}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(A,S,b){"use strict";var l=A("./lib/oop"),v=A("./lib/dom"),h=A("./lib/event"),f=A("./lib/event_emitter").EventEmitter,n=function(i){this.element=v.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=v.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),i.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,h.addListener(this.element,"scroll",this.onScroll.bind(this)),h.addListener(this.element,"mousedown",h.preventDefault)};(function(){l.implement(this,f),this.setVisible=function(i){this.element.style.display=i?"":"none",this.isVisible=i,this.coeff=1}}).call(n.prototype);var e=function(i,s){n.call(this,i),this.scrollTop=0,this.scrollHeight=0,s.$scrollbarWidth=this.width=v.scrollbarWidth(i.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};l.inherits(e,n),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var i=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-i)/(this.coeff-i)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(i){this.element.style.height=i+"px"},this.setInnerHeight=this.setScrollHeight=function(i){this.scrollHeight=i,i>32768?(this.coeff=32768/i,i=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=i+"px"},this.setScrollTop=function(i){this.scrollTop!=i&&(this.skipEvent=!0,this.scrollTop=i,this.element.scrollTop=i*this.coeff)}}.call(e.prototype);var t=function(i,s){n.call(this,i),this.scrollLeft=0,this.height=s.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};l.inherits(t,n),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(i){this.element.style.width=i+"px"},this.setInnerWidth=function(i){this.inner.style.width=i+"px"},this.setScrollWidth=function(i){this.inner.style.width=i+"px"},this.setScrollLeft=function(i){this.scrollLeft!=i&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=i)}}.call(t.prototype),S.ScrollBar=e,S.ScrollBarV=e,S.ScrollBarH=t,S.VScrollBar=e,S.HScrollBar=t}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(A,S,b){"use strict";var l=A("./lib/event"),v=function(h,f){this.onRender=h,this.pending=!1,this.changes=0,this.window=f||window};(function(){this.schedule=function(h){if(this.changes=this.changes|h,!this.pending&&this.changes){this.pending=!0;var f=this;l.nextFrame(function(){f.pending=!1;for(var n;n=f.changes;)f.changes=0,f.onRender(n)},this.window)}}}).call(v.prototype),S.RenderLoop=v}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(A,S,b){var l=A("../lib/oop"),v=A("../lib/dom"),h=A("../lib/lang"),f=A("../lib/useragent"),n=A("../lib/event_emitter").EventEmitter,e=0,t=S.FontMetrics=function(i){this.el=v.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=v.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=v.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),i.appendChild(this.el),e||this.$testFractionalRect(),this.$measureNode.innerHTML=h.stringRepeat("X",e),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){l.implement(this,n),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var i=v.createElement("div");this.$setMeasureNodeStyles(i.style),i.style.width="0.2px",document.documentElement.appendChild(i);var s=i.getBoundingClientRect().width;e=s>0&&s<1?50:100,i.parentNode.removeChild(i)},this.$setMeasureNodeStyles=function(i,s){i.width=i.height="auto",i.left=i.top="0px",i.visibility="hidden",i.position="absolute",i.whiteSpace="pre",f.isIE<8?i["font-family"]="inherit":i.font="inherit",i.overflow=s?"hidden":"visible"},this.checkForSizeChanges=function(){var i=this.$measureSizes();if(i&&(this.$characterSize.width!==i.width||this.$characterSize.height!==i.height)){this.$measureNode.style.fontWeight="bold";var s=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=i,this.charSizes=Object.create(null),this.allowBoldFonts=s&&s.width===i.width&&s.height===i.height,this._emit("changeCharacterSize",{data:i})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var i=this;return this.$pollSizeChangesTimer=setInterval(function(){i.checkForSizeChanges()},500)},this.setPolling=function(i){i?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===e){var i=null;try{i=this.$measureNode.getBoundingClientRect()}catch(r){i={width:0,height:0}}var s={height:i.height,width:i.width/e}}else s={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/e};return 0===s.width||0===s.height?null:s},this.$measureCharWidth=function(i){return this.$main.innerHTML=h.stringRepeat(i,e),this.$main.getBoundingClientRect().width/e},this.getCharacterWidth=function(i){var s=this.charSizes[i];return void 0===s&&(s=this.charSizes[i]=this.$measureCharWidth(i)/this.$characterSize.width),s},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(t.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(A,S,b){"use strict";var l=A("./lib/oop"),v=A("./lib/dom"),h=A("./config"),f=A("./lib/useragent"),n=A("./layer/gutter").Gutter,e=A("./layer/marker").Marker,t=A("./layer/text").Text,i=A("./layer/cursor").Cursor,s=A("./scrollbar").HScrollBar,c=A("./scrollbar").VScrollBar,r=A("./renderloop").RenderLoop,p=A("./layer/font_metrics").FontMetrics,o=A("./lib/event_emitter").EventEmitter;v.importCssString('.ace_editor {\tposition: relative;\toverflow: hidden;\tfont: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;\tdirection: ltr;\ttext-align: left;\t-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\t}\t.ace_scroller {\tposition: absolute;\toverflow: hidden;\ttop: 0;\tbottom: 0;\tbackground-color: inherit;\t-ms-user-select: none;\t-moz-user-select: none;\t-webkit-user-select: none;\tuser-select: none;\tcursor: text;\t}\t.ace_content {\tposition: absolute;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tmin-width: 100%;\t}\t.ace_dragging .ace_scroller:before{\tposition: absolute;\ttop: 0;\tleft: 0;\tright: 0;\tbottom: 0;\tcontent: \'\';\tbackground: rgba(250, 250, 250, 0.01);\tz-index: 1000;\t}\t.ace_dragging.ace_dark .ace_scroller:before{\tbackground: rgba(0, 0, 0, 0.01);\t}\t.ace_selecting, .ace_selecting * {\tcursor: text !important;\t}\t.ace_gutter {\tposition: absolute;\toverflow : hidden;\twidth: auto;\ttop: 0;\tbottom: 0;\tleft: 0;\tcursor: default;\tz-index: 4;\t-ms-user-select: none;\t-moz-user-select: none;\t-webkit-user-select: none;\tuser-select: none;\t}\t.ace_gutter-active-line {\tposition: absolute;\tleft: 0;\tright: 0;\t}\t.ace_scroller.ace_scroll-left {\tbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\t}\t.ace_gutter-cell {\tpadding-left: 19px;\tpadding-right: 6px;\tbackground-repeat: no-repeat;\t}\t.ace_gutter-cell.ace_error {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\tbackground-repeat: no-repeat;\tbackground-position: 2px center;\t}\t.ace_gutter-cell.ace_warning {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\tbackground-position: 2px center;\t}\t.ace_gutter-cell.ace_info {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\tbackground-position: 2px center;\t}\t.ace_dark .ace_gutter-cell.ace_info {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\t}\t.ace_scrollbar {\tposition: absolute;\tright: 0;\tbottom: 0;\tz-index: 6;\t}\t.ace_scrollbar-inner {\tposition: absolute;\tcursor: text;\tleft: 0;\ttop: 0;\t}\t.ace_scrollbar-v{\toverflow-x: hidden;\toverflow-y: scroll;\ttop: 0;\t}\t.ace_scrollbar-h {\toverflow-x: scroll;\toverflow-y: hidden;\tleft: 0;\t}\t.ace_print-margin {\tposition: absolute;\theight: 100%;\t}\t.ace_text-input {\tposition: absolute;\tz-index: 0;\twidth: 0.5em;\theight: 1em;\topacity: 0;\tbackground: transparent;\t-moz-appearance: none;\tappearance: none;\tborder: none;\tresize: none;\toutline: none;\toverflow: hidden;\tfont: inherit;\tpadding: 0 1px;\tmargin: 0 -1px;\ttext-indent: -1em;\t-ms-user-select: text;\t-moz-user-select: text;\t-webkit-user-select: text;\tuser-select: text;\twhite-space: pre!important;\t}\t.ace_text-input.ace_composition {\tbackground: inherit;\tcolor: inherit;\tz-index: 1000;\topacity: 1;\ttext-indent: 0;\t}\t.ace_layer {\tz-index: 1;\tposition: absolute;\toverflow: hidden;\tword-wrap: normal;\twhite-space: pre;\theight: 100%;\twidth: 100%;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tpointer-events: none;\t}\t.ace_gutter-layer {\tposition: relative;\twidth: auto;\ttext-align: right;\tpointer-events: auto;\t}\t.ace_text-layer {\tfont: inherit !important;\t}\t.ace_cjk {\tdisplay: inline-block;\ttext-align: center;\t}\t.ace_cursor-layer {\tz-index: 4;\t}\t.ace_cursor {\tz-index: 4;\tposition: absolute;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tborder-left: 2px solid;\ttransform: translatez(0);\t}\t.ace_multiselect .ace_cursor {\tborder-left-width: 1px;\t}\t.ace_slim-cursors .ace_cursor {\tborder-left-width: 1px;\t}\t.ace_overwrite-cursors .ace_cursor {\tborder-left-width: 0;\tborder-bottom: 1px solid;\t}\t.ace_hidden-cursors .ace_cursor {\topacity: 0.2;\t}\t.ace_smooth-blinking .ace_cursor {\t-webkit-transition: opacity 0.18s;\ttransition: opacity 0.18s;\t}\t.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\tposition: absolute;\tz-index: 3;\t}\t.ace_marker-layer .ace_selection {\tposition: absolute;\tz-index: 5;\t}\t.ace_marker-layer .ace_bracket {\tposition: absolute;\tz-index: 6;\t}\t.ace_marker-layer .ace_active-line {\tposition: absolute;\tz-index: 2;\t}\t.ace_marker-layer .ace_selected-word {\tposition: absolute;\tz-index: 4;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\t}\t.ace_line .ace_fold {\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tdisplay: inline-block;\theight: 11px;\tmargin-top: -2px;\tvertical-align: middle;\tbackground-image:\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\tbackground-repeat: no-repeat, repeat-x;\tbackground-position: center center, top left;\tcolor: transparent;\tborder: 1px solid black;\tborder-radius: 2px;\tcursor: pointer;\tpointer-events: auto;\t}\t.ace_dark .ace_fold {\t}\t.ace_fold:hover{\tbackground-image:\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\t}\t.ace_tooltip {\tbackground-color: #FFF;\tbackground-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));\tbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\tborder: 1px solid gray;\tborder-radius: 1px;\tbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\tcolor: black;\tmax-width: 100%;\tpadding: 3px 4px;\tposition: fixed;\tz-index: 999999;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tcursor: default;\twhite-space: pre;\tword-wrap: break-word;\tline-height: normal;\tfont-style: normal;\tfont-weight: normal;\tletter-spacing: normal;\tpointer-events: none;\t}\t.ace_folding-enabled > .ace_gutter-cell {\tpadding-right: 13px;\t}\t.ace_fold-widget {\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tmargin: 0 -12px 0 1px;\tdisplay: none;\twidth: 11px;\tvertical-align: top;\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\tbackground-repeat: no-repeat;\tbackground-position: center;\tborder-radius: 3px;\tborder: 1px solid transparent;\tcursor: pointer;\t}\t.ace_folding-enabled .ace_fold-widget {\tdisplay: inline-block;   \t}\t.ace_fold-widget.ace_end {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\t}\t.ace_fold-widget.ace_closed {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\t}\t.ace_fold-widget:hover {\tborder: 1px solid rgba(0, 0, 0, 0.3);\tbackground-color: rgba(255, 255, 255, 0.2);\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\t}\t.ace_fold-widget:active {\tborder: 1px solid rgba(0, 0, 0, 0.4);\tbackground-color: rgba(0, 0, 0, 0.05);\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\t}\t.ace_dark .ace_fold-widget {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\t}\t.ace_dark .ace_fold-widget.ace_end {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\t}\t.ace_dark .ace_fold-widget.ace_closed {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\t}\t.ace_dark .ace_fold-widget:hover {\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\tbackground-color: rgba(255, 255, 255, 0.1);\t}\t.ace_dark .ace_fold-widget:active {\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\t}\t.ace_fold-widget.ace_invalid {\tbackground-color: #FFB4B4;\tborder-color: #DE5555;\t}\t.ace_fade-fold-widgets .ace_fold-widget {\t-webkit-transition: opacity 0.4s ease 0.05s;\ttransition: opacity 0.4s ease 0.05s;\topacity: 0;\t}\t.ace_fade-fold-widgets:hover .ace_fold-widget {\t-webkit-transition: opacity 0.05s ease 0.05s;\ttransition: opacity 0.05s ease 0.05s;\topacity:1;\t}\t.ace_underline {\ttext-decoration: underline;\t}\t.ace_bold {\tfont-weight: bold;\t}\t.ace_nobold .ace_bold {\tfont-weight: normal;\t}\t.ace_italic {\tfont-style: italic;\t}\t.ace_error-marker {\tbackground-color: rgba(255, 0, 0,0.2);\tposition: absolute;\tz-index: 9;\t}\t.ace_highlight-marker {\tbackground-color: rgba(255, 255, 0,0.2);\tposition: absolute;\tz-index: 8;\t}\t.ace_br1 {border-top-left-radius    : 3px;}\t.ace_br2 {border-top-right-radius   : 3px;}\t.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\t.ace_br4 {border-bottom-right-radius: 3px;}\t.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\t.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\t.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\t.ace_br8 {border-bottom-left-radius : 3px;}\t.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\t.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\t.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\t.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\t.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\t.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\t.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\t.ace_text-input-ios {\tposition: absolute !important;\ttop: -100000px !important;\tleft: -100000px !important;\t}\t',"ace_editor.css");var u=function(g,y){var C=this;this.container=g||v.createElement("div"),this.$keepTextAreaAtCursor=!f.isOldIE,v.addCssClass(this.container,"ace_editor"),this.setTheme(y),this.$gutter=v.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=v.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=v.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new n(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new e(this.content);var d=this.$textLayer=new t(this.content);this.canvas=d.element,this.$markerFront=new e(this.content),this.$cursorLayer=new i(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new c(this.container,this),this.scrollBarH=new s(this.container,this),this.scrollBarV.addEventListener("scroll",function(a){C.$scrollAnimation||C.session.setScrollTop(a.data-C.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(a){C.$scrollAnimation||C.session.setScrollLeft(a.data-C.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(a){C.updateCharacterSize(),C.onResize(!0,C.gutterWidth,C.$size.width,C.$size.height),C._signal("changeCharacterSize",a)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new r(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),h.resetOptions(this),h._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,l.implement(this,o),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(g){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=g,g&&this.scrollMargin.top&&g.getScrollTop()<=0&&g.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(g),this.$markerBack.setSession(g),this.$markerFront.setSession(g),this.$gutterLayer.setSession(g),this.$textLayer.setSession(g),g&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(g,y,C){if(void 0===y&&(y=1/0),this.$changedLines?(this.$changedLines.firstRow>g&&(this.$changedLines.firstRow=g),this.$changedLines.lastRow<y&&(this.$changedLines.lastRow=y)):this.$changedLines={firstRow:g,lastRow:y},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!C)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(g){g?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(g,y,C,d){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=g?1:0;var a=this.container;d||(d=a.clientHeight||a.scrollHeight),C||(C=a.clientWidth||a.scrollWidth);var w=this.$updateCachedSize(g,y,C,d);if(!this.$size.scrollerHeight||!C&&!d)return this.resizing=0;g&&(this.$gutterLayer.$padding=null),g?this.$renderChanges(w|this.$changes,!0):this.$loop.schedule(w|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(g,y,C,d){var a=0,w=this.$size,E={width:w.width,height:w.height,scrollerHeight:w.scrollerHeight,scrollerWidth:w.scrollerWidth};return(d-=this.$extraHeight||0)&&(g||w.height!=d)&&(w.height=d,a|=this.CHANGE_SIZE,w.scrollerHeight=w.height,this.$horizScroll&&(w.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",a|=this.CHANGE_SCROLL),C&&(g||w.width!=C)&&(a|=this.CHANGE_SIZE,w.width=C,null==y&&(y=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=y,this.scrollBarH.element.style.left=this.scroller.style.left=y+"px",w.scrollerWidth=Math.max(0,C-y-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||g)&&(a|=this.CHANGE_FULL)),w.$dirty=!C||!d,a&&this._signal("resize",E),a},this.onGutterResize=function(){var g=this.$showGutter?this.$gutter.offsetWidth:0;g!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,g,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var y=Math.floor((this.$size.scrollerWidth-2*this.$padding)/this.characterWidth);return this.session.adjustWrapLimit(y,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(g){this.setOption("animatedScroll",g)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(g){this.setOption("showInvisibles",g),this.session.$bidiHandler.setShowInvisibles(g)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(g){this.setOption("displayIndentGuides",g)},this.setShowPrintMargin=function(g){this.setOption("showPrintMargin",g)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(g){this.setOption("printMarginColumn",g)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(g){return this.setOption("showGutter",g)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(g){this.setOption("fadeFoldWidgets",g)},this.setHighlightGutterLine=function(g){this.setOption("highlightGutterLine",g)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var g=this.$cursorLayer.$pixelPos,y=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var C=this.session.selection.getCursor();C.column=0,g=this.$cursorLayer.getPixelPosition(C,!0),y*=this.session.getRowLength(C.row)}this.$gutterLineHighlight.style.top=g.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=y+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var g=v.createElement("div");g.className="ace_layer ace_print-margin-layer",this.$printMarginEl=v.createElement("div"),this.$printMarginEl.className="ace_print-margin",g.appendChild(this.$printMarginEl),this.content.insertBefore(g,this.content.firstChild)}var y=this.$printMarginEl.style;y.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",y.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var g=this.layerConfig,y=this.$cursorLayer.$pixelPos.top,C=this.$cursorLayer.$pixelPos.left,d=this.textarea.style,a=this.lineHeight;if((y-=g.offset)<0||y>g.height-a)return void(d.top=d.left="0");var w=this.characterWidth;if(this.$composition){var E=this.textarea.value.replace(/^\x01+/,"");w*=this.session.$getStringScreenWidth(E)[0]+2,a+=2}(C-=this.scrollLeft)>this.$size.scrollerWidth-w&&(C=this.$size.scrollerWidth-w),C+=this.gutterWidth,d.height=a+"px",d.width=w+"px",d.left=Math.min(C,this.$size.scrollerWidth-w)+"px",d.top=Math.min(y,this.$size.height-a)+"px"}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var g=this.layerConfig,y=g.lastRow;return this.session.documentToScreenRow(y,0)*g.lineHeight-this.session.getScrollTop()>g.height-g.lineHeight?y-1:y},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(g){this.$padding=g,this.$textLayer.setPadding(g),this.$cursorLayer.setPadding(g),this.$markerFront.setPadding(g),this.$markerBack.setPadding(g),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(g,y,C,d){var a=this.scrollMargin;a.top=0|g,a.bottom=0|y,a.right=0|d,a.left=0|C,a.v=a.top+a.bottom,a.h=a.left+a.right,a.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-a.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(g){this.setOption("hScrollBarAlwaysVisible",g)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(g){this.setOption("vScrollBarAlwaysVisible",g)},this.$updateScrollBarV=function(){var g=this.layerConfig.maxHeight,y=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&this.scrollTop>(g-=(y-this.lineHeight)*this.$scrollPastEnd)-y&&(g=this.scrollTop+y,this.scrollBarV.scrollTop=null),this.scrollBarV.setScrollHeight(g+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(g,y){if(this.$changes&&(g|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(g||y)){if(this.$size.$dirty)return this.$changes|=g,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender"),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var C=this.layerConfig;if(g&this.CHANGE_FULL||g&this.CHANGE_SIZE||g&this.CHANGE_TEXT||g&this.CHANGE_LINES||g&this.CHANGE_SCROLL||g&this.CHANGE_H_SCROLL){if(g|=this.$computeLayerConfig(),C.firstRow!=this.layerConfig.firstRow&&C.firstRowScreen==this.layerConfig.firstRowScreen){var d=this.scrollTop+(C.firstRow-this.layerConfig.firstRow)*this.lineHeight;d>0&&(this.scrollTop=d,g|=this.CHANGE_SCROLL,g|=this.$computeLayerConfig())}C=this.layerConfig,this.$updateScrollBarV(),g&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-C.offset+"px",this.content.style.marginTop=-C.offset+"px",this.content.style.width=C.width+2*this.$padding+"px",this.content.style.height=C.minHeight+"px"}return g&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),g&this.CHANGE_FULL?(this.$textLayer.update(C),this.$showGutter&&this.$gutterLayer.update(C),this.$markerBack.update(C),this.$markerFront.update(C),this.$cursorLayer.update(C),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender")):g&this.CHANGE_SCROLL?(g&this.CHANGE_TEXT||g&this.CHANGE_LINES?this.$textLayer.update(C):this.$textLayer.scrollLines(C),this.$showGutter&&this.$gutterLayer.update(C),this.$markerBack.update(C),this.$markerFront.update(C),this.$cursorLayer.update(C),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender")):(g&this.CHANGE_TEXT?(this.$textLayer.update(C),this.$showGutter&&this.$gutterLayer.update(C)):g&this.CHANGE_LINES?(this.$updateLines()||g&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(C):(g&this.CHANGE_TEXT||g&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(C),g&this.CHANGE_CURSOR&&(this.$cursorLayer.update(C),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),g&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(C),g&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(C),void this._signal("afterRender"))}this.$changes|=g},this.$autosize=function(){var g=this.session.getScreenLength()*this.lineHeight,y=this.$maxLines*this.lineHeight,C=Math.min(y,Math.max((this.$minLines||1)*this.lineHeight,g))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(C+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&C>this.$maxPixelHeight&&(C=this.$maxPixelHeight);var d=g>y;if(C!=this.desiredHeight||this.$size.height!=this.desiredHeight||d!=this.$vScroll){d!=this.$vScroll&&(this.$vScroll=d,this.scrollBarV.setVisible(d));var a=this.container.clientWidth;this.container.style.height=C+"px",this.$updateCachedSize(!0,this.$gutterWidth,a,C),this.desiredHeight=C,this._signal("autosize")}},this.$computeLayerConfig=function(){var g=this.session,y=this.$size,C=y.height<=2*this.lineHeight,a=this.session.getScreenLength()*this.lineHeight,w=this.$getLongestLine(),E=!C&&(this.$hScrollBarAlwaysVisible||y.scrollerWidth-w-2*this.$padding<0),F=this.$horizScroll!==E;F&&(this.$horizScroll=E,this.scrollBarH.setVisible(E));var _=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var B=this.scrollTop%this.lineHeight,R=y.scrollerHeight+this.lineHeight,P=!this.$maxLines&&this.$scrollPastEnd?(y.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;a+=P;var x=this.scrollMargin;this.session.setScrollTop(Math.max(-x.top,Math.min(this.scrollTop,a-y.scrollerHeight+x.bottom))),this.session.setScrollLeft(Math.max(-x.left,Math.min(this.scrollLeft,w+2*this.$padding-y.scrollerWidth+x.right)));var D=!C&&(this.$vScrollBarAlwaysVisible||y.scrollerHeight-a+P<0||this.scrollTop>x.top),T=_!==D;T&&(this.$vScroll=D,this.scrollBarV.setVisible(D));var k,L,$=Math.ceil(R/this.lineHeight)-1,O=Math.max(0,Math.round((this.scrollTop-B)/this.lineHeight)),I=O+$,j=this.lineHeight;O=g.screenToDocumentRow(O,0);var z=g.getFoldLine(O);z&&(O=z.start.row),k=g.documentToScreenRow(O,0),L=g.getRowLength(O)*j,I=Math.min(g.screenToDocumentRow(I,0),g.getLength()-1),R=y.scrollerHeight+g.getRowLength(I)*j+L,B=this.scrollTop-k*j;var N=0;return this.layerConfig.width!=w&&(N=this.CHANGE_H_SCROLL),(F||T)&&(N=this.$updateCachedSize(!0,this.gutterWidth,y.width,y.height),this._signal("scrollbarVisibilityChanged"),T&&(w=this.$getLongestLine())),this.layerConfig={width:w,padding:this.$padding,firstRow:O,firstRowScreen:k,lastRow:I,lineHeight:j,characterWidth:this.characterWidth,minHeight:R,maxHeight:a,offset:B,gutterOffset:j?Math.max(0,Math.ceil((B+y.height-y.scrollerHeight)/j)):0,height:this.$size.scrollerHeight},N},this.$updateLines=function(){if(this.$changedLines){var g=this.$changedLines.firstRow,y=this.$changedLines.lastRow;this.$changedLines=null;var C=this.layerConfig;if(!(g>C.lastRow+1||y<C.firstRow))return y===1/0?(this.$showGutter&&this.$gutterLayer.update(C),void this.$textLayer.update(C)):(this.$textLayer.updateLines(C,g,y),!0)}},this.$getLongestLine=function(){var g=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(g+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(g*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(g,y){this.$gutterLayer.addGutterDecoration(g,y)},this.removeGutterDecoration=function(g,y){this.$gutterLayer.removeGutterDecoration(g,y)},this.updateBreakpoints=function(g){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(g){this.$gutterLayer.setAnnotations(g),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(g,y,C){this.scrollCursorIntoView(g,C),this.scrollCursorIntoView(y,C)},this.scrollCursorIntoView=function(g,y,C){if(0!==this.$size.scrollerHeight){var d=this.$cursorLayer.getPixelPosition(g),a=d.left,w=d.top,E=C&&C.top||0,F=C&&C.bottom||0,_=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;_+E>w?(y&&_+E>w+this.lineHeight&&(w-=y*this.$size.scrollerHeight),0===w&&(w=-this.scrollMargin.top),this.session.setScrollTop(w)):_+this.$size.scrollerHeight-F<w+this.lineHeight&&(y&&_+this.$size.scrollerHeight-F<w-this.lineHeight&&(w+=y*this.$size.scrollerHeight),this.session.setScrollTop(w+this.lineHeight-this.$size.scrollerHeight));var B=this.scrollLeft;B>a?(a<this.$padding+2*this.layerConfig.characterWidth&&(a=-this.scrollMargin.left),this.session.setScrollLeft(a)):B+this.$size.scrollerWidth<a+this.characterWidth?this.session.setScrollLeft(Math.round(a+this.characterWidth-this.$size.scrollerWidth)):B<=this.$padding&&a-B<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(g){this.session.setScrollTop(g*this.lineHeight)},this.alignCursor=function(g,y){"number"==typeof g&&(g={row:g,column:0});var a=this.$cursorLayer.getPixelPosition(g).top-(this.$size.scrollerHeight-this.lineHeight)*(y||0);return this.session.setScrollTop(a),a},this.STEPS=8,this.$calcSteps=function(g,y){var E,C=0,d=this.STEPS,a=[];for(C=0;C<d;++C)a.push((E=g,(y-g)*(Math.pow(C/this.STEPS-1,3)+1)+E));return a},this.scrollToLine=function(g,y,C,d){var w=this.$cursorLayer.getPixelPosition({row:g,column:0}).top;y&&(w-=this.$size.scrollerHeight/2);var E=this.scrollTop;this.session.setScrollTop(w),!1!==C&&this.animateScrolling(E,d)},this.animateScrolling=function(g,y){var C=this.scrollTop;if(this.$animatedScroll){var d=this;if(g!=C){if(this.$scrollAnimation){var a=this.$scrollAnimation.steps;if(a.length&&(g=a[0])==C)return}var w=d.$calcSteps(g,C);this.$scrollAnimation={from:g,to:C,steps:w},clearInterval(this.$timer),d.session.setScrollTop(w.shift()),d.session.$scrollTop=C,this.$timer=setInterval(function(){w.length?(d.session.setScrollTop(w.shift()),d.session.$scrollTop=C):null!=C?(d.session.$scrollTop=-1,d.session.setScrollTop(C),C=null):(d.$timer=clearInterval(d.$timer),d.$scrollAnimation=null,y&&y())},10)}}},this.scrollToY=function(g){this.scrollTop!==g&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=g)},this.scrollToX=function(g){this.scrollLeft!==g&&(this.scrollLeft=g),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(g,y){this.session.setScrollTop(y),this.session.setScrollLeft(y)},this.scrollBy=function(g,y){y&&this.session.setScrollTop(this.session.getScrollTop()+y),g&&this.session.setScrollLeft(this.session.getScrollLeft()+g)},this.isScrollableBy=function(g,y){return y<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||y>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||g<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||g>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},this.pixelToScreenCoordinates=function(g,y){var C=this.scroller.getBoundingClientRect(),d=g+this.scrollLeft-C.left-this.$padding,a=d/this.characterWidth,w=Math.floor((y+this.scrollTop-C.top)/this.lineHeight),E=Math.round(a);return{row:w,column:E,side:a-E>0?1:-1,offsetX:d}},this.screenToTextCoordinates=function(g,y){var C=this.scroller.getBoundingClientRect(),d=g+this.scrollLeft-C.left-this.$padding,a=Math.round(d/this.characterWidth);return this.session.screenToDocumentPosition((y+this.scrollTop-C.top)/this.lineHeight,Math.max(a,0),d)},this.textToScreenCoordinates=function(g,y){var C=this.scroller.getBoundingClientRect(),d=this.session.documentToScreenPosition(g,y),a=this.$padding+(this.session.$bidiHandler.isBidiRow(d.row,g)?this.session.$bidiHandler.getPosLeft(d.column):Math.round(d.column*this.characterWidth));return{pageX:C.left+a-this.scrollLeft,pageY:C.top+d.row*this.lineHeight-this.scrollTop}},this.visualizeFocus=function(){v.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){v.removeCssClass(this.container,"ace_focus")},this.showComposition=function(g){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,v.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(g){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(v.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(g,y){function C(w){if(d.$themeId!=g)return y&&y();if(!w||!w.cssClass)throw new Error("couldn't load module "+g+" or it didn't call define");v.importCssString(w.cssText,w.cssClass,d.container.ownerDocument),d.theme&&v.removeCssClass(d.container,d.theme.cssClass);var E="padding"in w?w.padding:"padding"in(d.theme||{})?4:d.$padding;d.$padding&&E!=d.$padding&&d.setPadding(E),d.$theme=w.cssClass,d.theme=w,v.addCssClass(d.container,w.cssClass),v.setCssClass(d.container,"ace_dark",w.isDark),d.$size&&(d.$size.width=0,d.$updateSizeAsync()),d._dispatchEvent("themeLoaded",{theme:w}),y&&y()}var d=this;this.$themeId=g,d._dispatchEvent("themeChange",{theme:g}),g&&"string"!=typeof g?C(g):h.loadModule(["theme",g||this.$options.theme.initialValue],C)},this.getTheme=function(){return this.$themeId},this.setStyle=function(g,y){v.setCssClass(this.container,g,!1!==y)},this.unsetStyle=function(g){v.removeCssClass(this.container,g)},this.setCursorStyle=function(g){this.scroller.style.cursor!=g&&(this.scroller.style.cursor=g)},this.setMouseCursor=function(g){this.scroller.style.cursor=g},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(u.prototype),h.defineOptions(u.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(g){this.$textLayer.setShowInvisibles(g)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(g){"number"==typeof g&&(this.$printMarginColumn=g),this.$showPrintMargin=!!g,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(g){this.$gutter.style.display=g?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(g){v.setCssClass(this.$gutter,"ace_fade-fold-widgets",g)},initialValue:!1},showFoldWidgets:{set:function(g){this.$gutterLayer.setShowFoldWidgets(g)},initialValue:!0},showLineNumbers:{set:function(g){this.$gutterLayer.setShowLineNumbers(g),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(g){this.$textLayer.setDisplayIndentGuides(g)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(g){if(!this.$gutterLineHighlight)return this.$gutterLineHighlight=v.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight);this.$gutterLineHighlight.style.display=g?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(g){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(g){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(g){"number"==typeof g&&(g+="px"),this.container.style.fontSize=g,this.updateFontSize()},initialValue:12},fontFamily:{set:function(g){this.container.style.fontFamily=g,this.updateFontSize()}},maxLines:{set:function(g){this.updateFull()}},minLines:{set:function(g){this.updateFull()}},maxPixelHeight:{set:function(g){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(g){this.$scrollPastEnd!=(g=+g||0)&&(this.$scrollPastEnd=g,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(g){this.$gutterLayer.$fixedWidth=!!g,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(g){this.setTheme(g)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),S.VirtualRenderer=u}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(A,S,b){"use strict";function v(s,c){var r=function(s,c){var r=c.src;f.qualifyURL(s);try{return new Blob([r],{type:"application/javascript"})}catch(u){var o=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return o.append(r),o.getBlob("application/javascript")}}(s,c),o=(window.URL||window.webkitURL).createObjectURL(r);return new Worker(o)}var h=A("../lib/oop"),f=A("../lib/net"),n=A("../lib/event_emitter").EventEmitter,e=A("../config"),t=function(s,c,r,p,o){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),A.nameToUrl&&!A.toUrl&&(A.toUrl=A.nameToUrl),e.get("packaged")||!A.toUrl)p=p||e.moduleUrl(c.id,"worker");else{var u=this.$normalizePath;p=p||u(A.toUrl("ace/worker/worker.js",null,"_"));var g={};s.forEach(function(y){g[y]=u(A.toUrl(y,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}this.$worker=v(p,c),o&&this.send("importScripts",o),this.$worker.postMessage({init:!0,tlns:g,module:c.id,classname:r}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){h.implement(this,n),this.onMessage=function(s){var c=s.data;switch(c.type){case"event":this._signal(c.name,{data:c.data});break;case"call":var r=this.callbacks[c.id];r&&(r(c.data),delete this.callbacks[c.id]);break;case"error":this.reportError(c.data);break;case"log":window.console&&console.log&&console.log.apply(console,c.data)}},this.reportError=function(s){window.console&&console.error&&console.error(s)},this.$normalizePath=function(s){return f.qualifyURL(s)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(s,c){this.$worker.postMessage({command:s,args:c})},this.call=function(s,c,r){if(r){var p=this.callbackId++;this.callbacks[p]=r,c.push(p)}this.send(s,c)},this.emit=function(s,c){try{this.$worker.postMessage({event:s,data:{data:c.data}})}catch(r){console.error(r.stack)}},this.attachToDocument=function(s){this.$doc&&this.terminate(),this.$doc=s,this.call("setValue",[s.getValue()]),s.on("change",this.changeListener)},this.changeListener=function(s){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),this.deltaQueue.push(s.start,"insert"==s.action?s.lines:s.end)},this.$sendDeltaQueue=function(){var s=this.deltaQueue;s&&(this.deltaQueue=null,s.length>50&&s.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:s}))}}).call(t.prototype);var i=function(s,c,r){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var p=null,o=!1,u=Object.create(n),g=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(C){g.messageBuffer.push(C),p&&(o?setTimeout(y):y())},this.setEmitSync=function(C){o=C};var y=function(){var C=g.messageBuffer.shift();C.command?p[C.command].apply(p,C.args):C.event&&u._signal(C.event,C.data)};u.postMessage=function(C){g.onMessage({data:C})},u.callback=function(C,d){this.postMessage({type:"call",id:d,data:C})},u.emit=function(C,d){this.postMessage({type:"event",name:C,data:d})},e.loadModule(["worker",c],function(C){for(p=new C[r](u);g.messageBuffer.length;)y()})};i.prototype=t.prototype,S.UIWorkerClient=i,S.WorkerClient=t,S.createWorker=v}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(A,S,b){"use strict";var l=A("./range").Range,v=A("./lib/event_emitter").EventEmitter,h=A("./lib/oop"),f=function(n,e,t,i,s,c){var r=this;this.length=e,this.session=n,this.doc=n.getDocument(),this.mainClass=s,this.othersClass=c,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=i,this.$onCursorChange=function(){setTimeout(function(){r.onCursorChange()})},this.$pos=t;var p=n.getUndoManager().$undoStack||n.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=p.length,this.setup(),n.selection.on("changeCursor",this.$onCursorChange)};(function(){h.implement(this,v),this.setup=function(){var n=this,e=this.doc,t=this.session;this.selectionBefore=t.selection.toJSON(),t.selection.inMultiSelectMode&&t.selection.toSingleRange(),this.pos=e.createAnchor(this.$pos.row,this.$pos.column);var i=this.pos;i.$insertRight=!0,i.detach(),i.markerId=t.addMarker(new l(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(s){var c=e.createAnchor(s.row,s.column);c.$insertRight=!0,c.detach(),n.others.push(c)}),t.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var n=this.session,e=this;this.othersActive=!0,this.others.forEach(function(t){t.markerId=n.addMarker(new l(t.row,t.column,t.row,t.column+e.length),e.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var n=0;n<this.others.length;n++)this.session.removeMarker(this.others[n].markerId)}},this.onUpdate=function(n){if(this.$updating)return this.updateAnchors(n);var e=n;if(e.start.row===e.end.row&&e.start.row===this.pos.row){this.$updating=!0;var t="insert"===n.action?e.end.column-e.start.column:e.start.column-e.end.column,i=e.start.column>=this.pos.column&&e.start.column<=this.pos.column+this.length+1,s=e.start.column-this.pos.column;if(this.updateAnchors(n),i&&(this.length+=t),i&&!this.session.$fromUndo)if("insert"===n.action)for(var c=this.others.length-1;c>=0;c--)this.doc.insertMergedLines(p={row:(r=this.others[c]).row,column:r.column+s},n.lines);else if("remove"===n.action)for(c=this.others.length-1;c>=0;c--){var r,p;this.doc.remove(new l((p={row:(r=this.others[c]).row,column:r.column+s}).row,p.column,p.row,p.column-t))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(n){this.pos.onChange(n);for(var e=this.others.length;e--;)this.others[e].onChange(n);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var n=this,e=this.session,t=function(s,c){e.removeMarker(s.markerId),s.markerId=e.addMarker(new l(s.row,s.column,s.row,s.column+n.length),c,null,!1)};t(this.pos,this.mainClass);for(var i=this.others.length;i--;)t(this.others[i],this.othersClass)}},this.onCursorChange=function(n){if(!this.$updating&&this.session){var e=this.session.selection.getCursor();e.row===this.pos.row&&e.column>=this.pos.column&&e.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",n)):(this.hideOtherMarkers(),this._emit("cursorLeave",n))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var n=this.session.getUndoManager(),e=(n.$undoStack||n.$undostack).length-this.$undoStackDepth,t=0;t<e;t++)n.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(f.prototype),S.PlaceHolder=f}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(A,S,b){function l(n,e){return n.row==e.row&&n.column==e.column}var h=A("../lib/event"),f=A("../lib/useragent");S.onMouseDown=function(n){var e=n.domEvent,t=e.altKey,i=e.shiftKey,s=e.ctrlKey,c=n.getAccelKey(),r=n.getButton();if(s&&f.isMac&&(r=e.button),n.editor.inMultiSelectMode&&2==r)n.editor.textInput.onContextMenu(n.domEvent);else if(s||t||c){if(0===r){var p,o=n.editor,u=o.selection,g=o.inMultiSelectMode,y=n.getDocumentPosition(),C=u.getCursor(),d=n.inSelection()||u.isEmpty()&&l(y,C),a=n.x,w=n.y,F=o.session,_=o.renderer.pixelToScreenCoordinates(a,w),B=_;if(o.$mouseHandler.$enableJumpToDef)s&&t||c&&t?p=i?"block":"add":t&&o.$blockSelectEnabled&&(p="block");else if(c&&!t){if(p="add",!g&&i)return}else t&&o.$blockSelectEnabled&&(p="block");if(p&&f.isMac&&e.ctrlKey&&o.$mouseHandler.cancelContextMenu(),"add"==p){if(!g&&d)return;if(!g){var R=u.toOrientedRange();o.addSelectionMarker(R)}var P=u.rangeList.rangeAtPoint(y);o.$blockScrolling++,o.inVirtualSelectionMode=!0,i&&(P=null,o.removeSelectionMarker(R=u.ranges[0]||R)),o.once("mouseup",function(){var O=u.toOrientedRange();P&&O.isEmpty()&&l(P.cursor,O.cursor)?u.substractPoint(O.cursor):(i?u.substractPoint(R.cursor):R&&(o.removeSelectionMarker(R),u.addRange(R)),u.addRange(O)),o.$blockScrolling--,o.inVirtualSelectionMode=!1})}else if("block"==p){n.stop(),o.inVirtualSelectionMode=!0;var x,D=[];o.$blockScrolling++,g&&!c?u.toSingleRange():!g&&c&&(x=u.toOrientedRange(),o.addSelectionMarker(x)),i?_=F.documentToScreenPosition(u.lead):u.moveToPosition(y),o.$blockScrolling--,B={row:-1,column:-1};h.capture(o.container,function(O){a=O.clientX,w=O.clientY},function(O){clearInterval($),o.removeSelectionMarkers(D),D.length||(D=[u.toOrientedRange()]),o.$blockScrolling++,x&&(o.removeSelectionMarker(x),u.toSingleRange(x));for(var I=0;I<D.length;I++)u.addRange(D[I]);o.inVirtualSelectionMode=!1,o.$mouseHandler.$clickSelection=null,o.$blockScrolling--});var $=setInterval(function(){var O,I;O=o.renderer.pixelToScreenCoordinates(a,w),I=F.screenToDocumentPosition(O.row,O.column,O.offsetX),l(B,O)&&l(I,u.lead)||(B=O,o.$blockScrolling++,o.selection.moveToPosition(I),o.renderer.scrollCursorIntoView(),o.removeSelectionMarkers(D),D=u.rectangularRangeBlock(B,_),o.$mouseHandler.$clickSelection&&1==D.length&&D[0].isEmpty()&&(D[0]=o.$mouseHandler.$clickSelection.clone()),D.forEach(o.addSelectionMarker,o),o.updateSelectionMarkers(),o.$blockScrolling--)},20);return n.preventDefault()}}}else 0===r&&n.editor.inMultiSelectMode&&n.editor.exitMultiSelectMode()}}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(A,S,b){S.defaultCommands=[{name:"addCursorAbove",exec:function(v){v.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(v){v.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(v){v.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(v){v.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(v){v.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(v){v.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(v){v.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(v){v.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(v){v.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(v){v.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(v){v.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],S.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(v){v.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(v){return v&&v.inMultiSelectMode}}];var l=A("../keyboard/hash_handler").HashHandler;S.keyboardHandler=new l(S.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(A,S,b){function v(y,C){return y.row==C.row&&y.column==C.column}function h(y){y.$multiselectOnSessionChange||(y.$onAddRange=y.$onAddRange.bind(y),y.$onRemoveRange=y.$onRemoveRange.bind(y),y.$onMultiSelect=y.$onMultiSelect.bind(y),y.$onSingleSelect=y.$onSingleSelect.bind(y),y.$multiselectOnSessionChange=S.onSessionChange.bind(y),y.$checkMultiselectChange=y.$checkMultiselectChange.bind(y),y.$multiselectOnSessionChange(y),y.on("changeSession",y.$multiselectOnSessionChange),y.on("mousedown",i),y.commands.addCommands(r.defaultCommands),function(y){function C(w){a&&(y.renderer.setMouseCursor(""),a=!1)}var d=y.textInput.getElement(),a=!1;s.addListener(d,"keydown",function(w){y.$blockSelectEnabled&&18==w.keyCode&&!(w.ctrlKey||w.shiftKey||w.metaKey)?a||(y.renderer.setMouseCursor("crosshair"),a=!0):a&&C()}),s.addListener(d,"keyup",C),s.addListener(d,"blur",C)}(y))}var n=A("./range_list").RangeList,e=A("./range").Range,t=A("./selection").Selection,i=A("./mouse/multi_select_handler").onMouseDown,s=A("./lib/event"),c=A("./lib/lang"),r=A("./commands/multi_select_commands");S.commands=r.defaultCommands.concat(r.multiSelectCommands);var o=new(0,A("./search").Search),u=A("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(u.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(y,C){if(y){if(!this.inMultiSelectMode&&0===this.rangeCount){var d=this.toOrientedRange();if(this.rangeList.add(d),this.rangeList.add(y),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),C||this.fromOrientedRange(y);this.rangeList.removeAll(),this.rangeList.add(d),this.$onAddRange(d)}y.cursor||(y.cursor=y.end);var a=this.rangeList.add(y);return this.$onAddRange(y),a.length&&this.$onRemoveRange(a),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),C||this.fromOrientedRange(y)}},this.toSingleRange=function(y){y=y||this.ranges[0];var C=this.rangeList.removeAll();C.length&&this.$onRemoveRange(C),y&&this.fromOrientedRange(y)},this.substractPoint=function(y){var C=this.rangeList.substractPoint(y);if(C)return this.$onRemoveRange(C),C[0]},this.mergeOverlappingRanges=function(){var y=this.rangeList.merge();y.length?this.$onRemoveRange(y):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(y){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(y),this._signal("addRange",{range:y})},this.$onRemoveRange=function(y){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var C=this.rangeList.ranges.pop();y.push(C),this.rangeCount=0}for(var d=y.length;d--;){var a=this.ranges.indexOf(y[d]);this.ranges.splice(a,1)}this._signal("removeRange",{ranges:y}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(C=C||this.ranges[0])&&!C.isEqual(this.getRange())&&this.fromOrientedRange(C)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new n,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var y=this.rangeList.ranges,C=y[y.length-1],d=e.fromPoints(y[0].start,C.end);this.toSingleRange(),this.setSelectionRange(d,C.cursor==C.start)}else{d=this.getRange();var a=this.isBackwards(),w=d.start.row,E=d.end.row;if(w==E){if(a)var F=d.end,_=d.start;else F=d.start,_=d.end;return this.addRange(e.fromPoints(_,_)),void this.addRange(e.fromPoints(F,F))}var B=[],R=this.getLineRange(w,!0);R.start.column=d.start.column,B.push(R);for(var P=w+1;P<E;P++)B.push(this.getLineRange(P,!0));(R=this.getLineRange(E,!0)).end.column=d.end.column,B.push(R),B.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var y=this.rangeList.ranges,C=y[y.length-1],d=e.fromPoints(y[0].start,C.end);this.toSingleRange(),this.setSelectionRange(d,C.cursor==C.start)}else{var a=this.session.documentToScreenPosition(this.selectionLead),w=this.session.documentToScreenPosition(this.selectionAnchor);this.rectangularRangeBlock(a,w).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(y,C,d){var a=[],w=y.column<C.column;if(w)var E=y.column,F=C.column,_=y.offsetX,B=C.offsetX;else E=C.column,F=y.column,_=C.offsetX,B=y.offsetX;var R=y.row<C.row;if(R)var P=y.row,x=C.row;else P=C.row,x=y.row;E<0&&(E=0),P<0&&(P=0),P==x&&(d=!0);for(var D=P;D<=x;D++){var T=e.fromPoints(this.session.screenToDocumentPosition(D,E,_),this.session.screenToDocumentPosition(D,F,B));if(T.isEmpty()){if(k&&v(T.end,k))break;var k=T.end}T.cursor=w?T.start:T.end,a.push(T)}if(R&&a.reverse(),!d){for(var L=a.length-1;a[L].isEmpty()&&L>0;)L--;if(L>0)for(var $=0;a[$].isEmpty();)$++;for(var O=L;O>=$;O--)a[O].isEmpty()&&a.splice(O,1)}return a}}.call(t.prototype);var g=A("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(y){y.cursor||(y.cursor=y.end);var C=this.getSelectionStyle();return y.marker=this.session.addMarker(y,"ace_selection",C),this.session.$selectionMarkers.push(y),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,y},this.removeSelectionMarker=function(y){if(y.marker){this.session.removeMarker(y.marker);var C=this.session.$selectionMarkers.indexOf(y);-1!=C&&this.session.$selectionMarkers.splice(C,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(y){for(var C=this.session.$selectionMarkers,d=y.length;d--;){var a=y[d];if(a.marker){this.session.removeMarker(a.marker);var w=C.indexOf(a);-1!=w&&C.splice(w,1)}}this.session.selectionMarkerCount=C.length},this.$onAddRange=function(y){this.addSelectionMarker(y.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(y){this.removeSelectionMarkers(y.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(y){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(r.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(y){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(r.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(y){var C=y.command,d=y.editor;if(d.multiSelect){if(C.multiSelectAction)"forEach"==C.multiSelectAction?a=d.forEachSelection(C,y.args):"forEachLine"==C.multiSelectAction?a=d.forEachSelection(C,y.args,!0):"single"==C.multiSelectAction?(d.exitMultiSelectMode(),a=C.exec(d,y.args||{})):a=C.multiSelectAction(d,y.args||{});else{var a=C.exec(d,y.args||{});d.multiSelect.addRange(d.multiSelect.toOrientedRange()),d.multiSelect.mergeOverlappingRanges()}return a}},this.forEachSelection=function(y,C,d){if(!this.inVirtualSelectionMode){var a,E=1==d||d&&d.$byLines,F=this.session,_=this.selection,R=(d&&d.keepOrder?_:_.rangeList).ranges;if(!R.length)return y.exec?y.exec(this,C||{}):y(this,C||{});var P=_._eventRegistry;_._eventRegistry={};var x=new t(F);this.inVirtualSelectionMode=!0;for(var D=R.length;D--;){if(E)for(;D>0&&R[D].start.row==R[D-1].end.row;)D--;x.fromOrientedRange(R[D]),x.index=D,this.selection=F.selection=x;var T=y.exec?y.exec(this,C||{}):y(this,C||{});a||void 0===T||(a=T),x.toOrientedRange(R[D])}x.detach(),this.selection=F.selection=_,this.inVirtualSelectionMode=!1,_._eventRegistry=P,_.mergeOverlappingRanges();var k=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),k&&k.from==k.to&&this.renderer.animateScrolling(k.from),a}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var y="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var C=this.multiSelect.rangeList.ranges,d=[],a=0;a<C.length;a++)d.push(this.session.getTextRange(C[a]));var w=this.session.getDocument().getNewLineCharacter();(y=d.join(w)).length==(d.length-1)*w.length&&(y="")}else this.selection.isEmpty()||(y=this.session.getTextRange(this.getSelectionRange()));return y},this.$checkMultiselectChange=function(y,C){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var d=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&C==this.multiSelect.anchor)return;var a=C==this.multiSelect.anchor?d.cursor==d.start?d.end:d.start:d.cursor;a.row==C.row&&this.session.$clipPositionToDocument(a.row,a.column).column==C.column||this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(y,C,d){if((C=C||{}).needle=y||C.needle,null==C.needle){var a=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();C.needle=this.session.getTextRange(a)}this.$search.set(C);var w=this.$search.findAll(this.session);if(!w.length)return 0;this.$blockScrolling+=1;var E=this.multiSelect;d||E.toSingleRange(w[0]);for(var F=w.length;F--;)E.addRange(w[F],!0);return a&&E.rangeList.rangeAtPoint(a.start)&&E.addRange(a,!0),this.$blockScrolling-=1,w.length},this.selectMoreLines=function(y,C){var d=this.selection.toOrientedRange(),a=d.cursor==d.end,w=this.session.documentToScreenPosition(d.cursor);this.selection.$desiredColumn&&(w.column=this.selection.$desiredColumn);var B,E=this.session.screenToDocumentPosition(w.row+y,w.column);if(d.isEmpty())var F=E;else{var _=this.session.documentToScreenPosition(a?d.end:d.start);F=this.session.screenToDocumentPosition(_.row+y,_.column)}if(a?(B=e.fromPoints(E,F)).cursor=B.start:(B=e.fromPoints(F,E)).cursor=B.end,B.desiredColumn=w.column,this.selection.inMultiSelectMode){if(C)var R=d.cursor}else this.selection.addRange(d);this.selection.addRange(B),R&&this.selection.substractPoint(R)},this.transposeSelections=function(y){for(var C=this.session,d=C.multiSelect,a=d.ranges,w=a.length;w--;)if((E=a[w]).isEmpty()){var F=C.getWordRange(E.start.row,E.start.column);E.start.row=F.start.row,E.start.column=F.start.column,E.end.row=F.end.row,E.end.column=F.end.column}d.mergeOverlappingRanges();var _=[];for(w=a.length;w--;)_.unshift(C.getTextRange(E=a[w]));for(y<0?_.unshift(_.pop()):_.push(_.shift()),w=a.length;w--;){var E;F=(E=a[w]).clone(),C.replace(E,_[w]),E.start.row=F.start.row,E.start.column=F.start.column}},this.selectMore=function(y,C,d){var a=this.session,E=a.multiSelect.toOrientedRange();if(!E.isEmpty()||((E=a.getWordRange(E.start.row,E.start.column)).cursor=-1==y?E.start:E.end,this.multiSelect.addRange(E),!d)){var F=a.getTextRange(E),_=function(y,C,d){return o.$options.wrap=!0,o.$options.needle=C,o.$options.backwards=-1==d,o.find(y)}(a,F,y);_&&(_.cursor=-1==y?_.start:_.end,this.$blockScrolling+=1,this.session.unfold(_),this.multiSelect.addRange(_),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),C&&this.multiSelect.substractPoint(E.cursor)}},this.alignCursors=function(){var y=this.session,C=y.multiSelect,d=C.ranges,a=-1,w=d.filter(function(L){if(L.cursor.row==a)return!0;a=L.cursor.row});if(d.length&&w.length!=d.length-1){w.forEach(function(L){C.substractPoint(L.cursor)});var E=0,F=1/0,_=d.map(function(L){var $=L.cursor,I=y.getLine($.row).substr($.column).search(/\S/g);return-1==I&&(I=0),$.column>E&&(E=$.column),I<F&&(F=I),I});d.forEach(function(L,$){var O=L.cursor,I=E-O.column,j=_[$]-F;I>j?y.insert(O,c.stringRepeat(" ",I-j)):y.remove(new e(O.row,O.column,O.row,O.column-I+j)),L.start.column=L.end.column=E,L.start.row=L.end.row=O.row,L.cursor=L.end}),C.fromOrientedRange(d[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var B=this.selection.getRange(),R=B.start.row,P=B.end.row,x=R==P;if(x){var D,T=this.session.getLength();do{D=this.session.getLine(P)}while(/[=:]/.test(D)&&++P<T);do{D=this.session.getLine(R)}while(/[=:]/.test(D)&&--R>0);R<0&&(R=0),P>=T&&(P=T-1)}var k=this.session.removeFullLines(R,P);k=this.$reAlignText(k,x),this.session.insert({row:R,column:0},k.join("\n")+"\n"),x||(B.start.column=0,B.end.column=k[k.length-1].length),this.selection.setRange(B)}},this.$reAlignText=function(y,C){function d(x){return c.stringRepeat(" ",x)}function a(x){return x[2]?d(F)+x[2]+d(_-x[2].length+B)+x[4].replace(/^([=:])\s+/,"$1 "):x[0]}var F,_,B,R=!0,P=!0;return y.map(function(x){var D=x.match(/(\s*)(.*?)(\s*)([=:].*)/);return D?null==F?(F=D[1].length,_=D[2].length,B=D[3].length,D):(F+_+B!=D[1].length+D[2].length+D[3].length&&(P=!1),F!=D[1].length&&(R=!1),F>D[1].length&&(F=D[1].length),_<D[2].length&&(_=D[2].length),B>D[3].length&&(B=D[3].length),D):[x]}).map(C?a:R?P?function(x){return x[2]?d(F+_-x[2].length)+x[2]+d(B)+x[4].replace(/^([=:])\s+/,"$1 "):x[0]}:a:function(x){return x[2]?d(F)+x[2]+d(B)+x[4].replace(/^([=:])\s+/,"$1 "):x[0]})}}).call(g.prototype),S.onSessionChange=function(y){var C=y.session;C&&!C.multiSelect&&(C.$selectionMarkers=[],C.selection.$initRangeList(),C.multiSelect=C.selection),this.multiSelect=C&&C.multiSelect;var d=y.oldSession;d&&(d.multiSelect.off("addRange",this.$onAddRange),d.multiSelect.off("removeRange",this.$onRemoveRange),d.multiSelect.off("multiSelect",this.$onMultiSelect),d.multiSelect.off("singleSelect",this.$onSingleSelect),d.multiSelect.lead.off("change",this.$checkMultiselectChange),d.multiSelect.anchor.off("change",this.$checkMultiselectChange)),C&&(C.multiSelect.on("addRange",this.$onAddRange),C.multiSelect.on("removeRange",this.$onRemoveRange),C.multiSelect.on("multiSelect",this.$onMultiSelect),C.multiSelect.on("singleSelect",this.$onSingleSelect),C.multiSelect.lead.on("change",this.$checkMultiselectChange),C.multiSelect.anchor.on("change",this.$checkMultiselectChange)),C&&this.inMultiSelectMode!=C.selection.inMultiSelectMode&&(C.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},S.MultiSelect=h,A("./config").defineOptions(g.prototype,"editor",{enableMultiselect:{set:function(y){h(this),y?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",i)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",i))},value:!0},enableBlockSelect:{set:function(y){this.$blockSelectEnabled=y},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(A,S,b){"use strict";var l=A("../../range").Range,v=S.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(h,f,n){var e=h.getLine(n);return this.foldingStartMarker.test(e)?"start":"markbeginend"==f&&this.foldingStopMarker&&this.foldingStopMarker.test(e)?"end":""},this.getFoldWidgetRange=function(h,f,n){return null},this.indentationBlock=function(h,f,n){var e=h.getLine(f),t=e.search(/\S/);if(-1!=t){for(var i=n||e.length,s=h.getLength(),c=f,r=f;++f<s;){var p=h.getLine(f).search(/\S/);if(-1!=p){if(p<=t)break;r=f}}if(r>c){var o=h.getLine(r).length;return new l(c,i,r,o)}}},this.openingBracketBlock=function(h,f,n,e,t){var i={row:n,column:e+1},s=h.$findClosingBracket(f,i,t);if(s){var c=h.foldWidgets[s.row];return null==c&&(c=h.getFoldWidget(s.row)),"start"==c&&s.row>i.row&&(s.row--,s.column=h.getLine(s.row).length),l.fromPoints(i,s)}},this.closingBracketBlock=function(h,f,n,e,t){var i={row:n,column:e},s=h.$findOpeningBracket(f,i);if(s)return s.column++,i.column--,l.fromPoints(s,i)}}).call(v.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(A,S,b){"use strict";S.isDark=!1,S.cssClass="ace-tm",S.cssText='.ace-tm .ace_gutter {\tbackground: #f0f0f0;\tcolor: #333;\t}\t.ace-tm .ace_print-margin {\twidth: 1px;\tbackground: #e8e8e8;\t}\t.ace-tm .ace_fold {\tbackground-color: #6B72E6;\t}\t.ace-tm {\tbackground-color: #FFFFFF;\tcolor: black;\t}\t.ace-tm .ace_cursor {\tcolor: black;\t}\t.ace-tm .ace_invisible {\tcolor: rgb(191, 191, 191);\t}\t.ace-tm .ace_storage,\t.ace-tm .ace_keyword {\tcolor: blue;\t}\t.ace-tm .ace_constant {\tcolor: rgb(197, 6, 11);\t}\t.ace-tm .ace_constant.ace_buildin {\tcolor: rgb(88, 72, 246);\t}\t.ace-tm .ace_constant.ace_language {\tcolor: rgb(88, 92, 246);\t}\t.ace-tm .ace_constant.ace_library {\tcolor: rgb(6, 150, 14);\t}\t.ace-tm .ace_invalid {\tbackground-color: rgba(255, 0, 0, 0.1);\tcolor: red;\t}\t.ace-tm .ace_support.ace_function {\tcolor: rgb(60, 76, 114);\t}\t.ace-tm .ace_support.ace_constant {\tcolor: rgb(6, 150, 14);\t}\t.ace-tm .ace_support.ace_type,\t.ace-tm .ace_support.ace_class {\tcolor: rgb(109, 121, 222);\t}\t.ace-tm .ace_keyword.ace_operator {\tcolor: rgb(104, 118, 135);\t}\t.ace-tm .ace_string {\tcolor: rgb(3, 106, 7);\t}\t.ace-tm .ace_comment {\tcolor: rgb(76, 136, 107);\t}\t.ace-tm .ace_comment.ace_doc {\tcolor: rgb(0, 102, 255);\t}\t.ace-tm .ace_comment.ace_doc.ace_tag {\tcolor: rgb(128, 159, 191);\t}\t.ace-tm .ace_constant.ace_numeric {\tcolor: rgb(0, 0, 205);\t}\t.ace-tm .ace_variable {\tcolor: rgb(49, 132, 149);\t}\t.ace-tm .ace_xml-pe {\tcolor: rgb(104, 104, 91);\t}\t.ace-tm .ace_entity.ace_name.ace_function {\tcolor: #0000A2;\t}\t.ace-tm .ace_heading {\tcolor: rgb(12, 7, 255);\t}\t.ace-tm .ace_list {\tcolor:rgb(185, 6, 144);\t}\t.ace-tm .ace_meta.ace_tag {\tcolor:rgb(0, 22, 142);\t}\t.ace-tm .ace_string.ace_regex {\tcolor: rgb(255, 0, 0)\t}\t.ace-tm .ace_marker-layer .ace_selection {\tbackground: rgb(181, 213, 255);\t}\t.ace-tm.ace_multiselect .ace_selection.ace_start {\tbox-shadow: 0 0 3px 0px white;\t}\t.ace-tm .ace_marker-layer .ace_step {\tbackground: rgb(252, 255, 0);\t}\t.ace-tm .ace_marker-layer .ace_stack {\tbackground: rgb(164, 229, 101);\t}\t.ace-tm .ace_marker-layer .ace_bracket {\tmargin: -1px 0 0 -1px;\tborder: 1px solid rgb(192, 192, 192);\t}\t.ace-tm .ace_marker-layer .ace_active-line {\tbackground: rgba(0, 0, 0, 0.07);\t}\t.ace-tm .ace_gutter-active-line {\tbackground-color : #dcdcdc;\t}\t.ace-tm .ace_marker-layer .ace_selected-word {\tbackground: rgb(250, 250, 255);\tborder: 1px solid rgb(200, 200, 250);\t}\t.ace-tm .ace_indent-guide {\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\t}\t',A("../lib/dom").importCssString(S.cssText,S.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(A,S,b){"use strict";function l(h){this.session=h,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var v=(A("./lib/oop"),A("./lib/dom"));A("./range"),function(){this.getRowLength=function(h){var f;return f=this.lineWidgets&&this.lineWidgets[h]&&this.lineWidgets[h].rowCount||0,this.$useWrapMode&&this.$wrapData[h]?this.$wrapData[h].length+1+f:1+f},this.$getWidgetScreenLength=function(){var h=0;return this.lineWidgets.forEach(function(f){f&&f.rowCount&&!f.hidden&&(h+=f.rowCount)}),h},this.$onChangeEditor=function(h){this.attach(h.editor)},this.attach=function(h){h&&h.widgetManager&&h.widgetManager!=this&&h.widgetManager.detach(),this.editor!=h&&(this.detach(),this.editor=h,h&&(h.widgetManager=this,h.renderer.on("beforeRender",this.measureWidgets),h.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(h){var f=this.editor;if(f){this.editor=null,f.widgetManager=null,f.renderer.off("beforeRender",this.measureWidgets),f.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})}},this.updateOnFold=function(h,f){var n=f.lineWidgets;if(n&&h.action){for(var e=h.data,t=e.start.row,i=e.end.row,s="add"==h.action,c=t+1;c<i;c++)n[c]&&(n[c].hidden=s);n[i]&&(s?n[t]?n[i].hidden=s:n[t]=n[i]:(n[t]==n[i]&&(n[t]=void 0),n[i].hidden=s))}},this.updateOnChange=function(h){var f=this.session.lineWidgets;if(f){var n=h.start.row,e=h.end.row-n;if(0!==e)if("remove"==h.action)f.splice(n+1,e).forEach(function(s){s&&this.removeLineWidget(s)},this),this.$updateRows();else{var i=new Array(e);i.unshift(n,0),f.splice.apply(f,i),this.$updateRows()}}},this.$updateRows=function(){var h=this.session.lineWidgets;if(h){var f=!0;h.forEach(function(n,e){if(n)for(f=!1,n.row=e;n.$oldWidget;)n.$oldWidget.row=e,n=n.$oldWidget}),f&&(this.session.lineWidgets=null)}},this.addLineWidget=function(h){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var f=this.session.lineWidgets[h.row];f&&(h.$oldWidget=f,f.el&&f.el.parentNode&&(f.el.parentNode.removeChild(f.el),f._inDocument=!1)),this.session.lineWidgets[h.row]=h,h.session=this.session;var n=this.editor.renderer;h.html&&!h.el&&(h.el=v.createElement("div"),h.el.innerHTML=h.html),h.el&&(v.addCssClass(h.el,"ace_lineWidgetContainer"),h.el.style.position="absolute",h.el.style.zIndex=5,n.container.appendChild(h.el),h._inDocument=!0),h.coverGutter||(h.el.style.zIndex=3),null==h.pixelHeight&&(h.pixelHeight=h.el.offsetHeight),null==h.rowCount&&(h.rowCount=h.pixelHeight/n.layerConfig.lineHeight);var e=this.session.getFoldAt(h.row,0);if(h.$fold=e,e){var t=this.session.lineWidgets;h.row!=e.end.row||t[e.start.row]?h.hidden=!0:t[e.start.row]=h}return this.session._emit("changeFold",{data:{start:{row:h.row}}}),this.$updateRows(),this.renderWidgets(null,n),this.onWidgetChanged(h),h},this.removeLineWidget=function(h){if(h._inDocument=!1,h.session=null,h.el&&h.el.parentNode&&h.el.parentNode.removeChild(h.el),h.editor&&h.editor.destroy)try{h.editor.destroy()}catch(n){}if(this.session.lineWidgets){var f=this.session.lineWidgets[h.row];if(f==h)this.session.lineWidgets[h.row]=h.$oldWidget,h.$oldWidget&&this.onWidgetChanged(h.$oldWidget);else for(;f;){if(f.$oldWidget==h){f.$oldWidget=h.$oldWidget;break}f=f.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:h.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(h){for(var f=this.session.lineWidgets,n=f&&f[h],e=[];n;)e.push(n),n=n.$oldWidget;return e},this.onWidgetChanged=function(h){this.session._changedWidgets.push(h),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(h,f){var n=this.session._changedWidgets,e=f.layerConfig;if(n&&n.length){for(var t=1/0,i=0;i<n.length;i++){var s=n[i];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,f.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/e.characterWidth));var c=s.h/e.lineHeight;s.coverLine&&(c-=this.session.getRowLineCount(s.row))<0&&(c=0),s.rowCount!=c&&(s.rowCount=c,s.row<t&&(t=s.row))}}t!=1/0&&(this.session._emit("changeFold",{data:{start:{row:t}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(h,f){var n=f.layerConfig,e=this.session.lineWidgets;if(e){for(var t=Math.min(this.firstRow,n.firstRow),i=Math.max(this.lastRow,n.lastRow,e.length);t>0&&!e[t];)t--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,f.$cursorLayer.config=n;for(var s=t;s<=i;s++){var c=e[s];if(c&&c.el)if(c.hidden)c.el.style.top=-100-(c.pixelHeight||0)+"px";else{c._inDocument||(c._inDocument=!0,f.container.appendChild(c.el));var r=f.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;c.coverLine||(r+=n.lineHeight*this.session.getRowLineCount(c.row)),c.el.style.top=r-n.offset+"px";var p=c.coverGutter?0:f.gutterWidth;c.fixedWidth||(p-=f.scrollLeft),c.el.style.left=p+"px",c.fullWidth&&c.screenWidth&&(c.el.style.minWidth=n.width+2*n.padding+"px"),c.el.style.right=c.fixedWidth?f.scrollBar.getWidth()+"px":""}}}}}.call(l.prototype),S.LineWidgets=l}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(A,S,b){"use strict";var h=A("../line_widgets").LineWidgets,f=A("../lib/dom"),n=A("../range").Range;S.showErrorMarker=function(e,t){var i=e.session;i.widgetManager||(i.widgetManager=new h(i),i.widgetManager.attach(e));var s=e.getCursorPosition(),c=s.row,r=i.widgetManager.getWidgetsAtRow(c).filter(function(w){return"errorMarker"==w.type})[0];r?r.destroy():c-=t;var p,o=function(e,t,i){var s=e.getAnnotations().sort(n.comparePoints);if(s.length){var c=function(e,t,i){for(var s=0,c=e.length-1;s<=c;){var r=s+c>>1,p=i(t,e[r]);if(p>0)s=r+1;else{if(!(p<0))return r;c=r-1}}return-(s+1)}(s,{row:t,column:-1},n.comparePoints);c<0&&(c=-c-1),c>=s.length?c=i>0?0:s.length-1:0===c&&i<0&&(c=s.length-1);var r=s[c];if(r&&i){if(r.row===t){do{r=s[c+=i]}while(r&&r.row===t);if(!r)return s.slice()}var p=[];t=r.row;do{p[i<0?"unshift":"push"](r),r=s[c+=i]}while(r&&r.row==t);return p.length&&p}}}(i,c,t);if(o){var u=o[0];s.column=(u.pos&&"number"!=typeof u.column?u.pos.sc:u.column)||0,s.row=u.row,p=e.renderer.$gutterLayer.$annotations[s.row]}else{if(r)return;p={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(s.row),e.selection.moveToPosition(s);var g={row:s.row,fixedWidth:!0,coverGutter:!0,el:f.createElement("div"),type:"errorMarker"},y=g.el.appendChild(f.createElement("div")),C=g.el.appendChild(f.createElement("div"));C.className="error_widget_arrow "+p.className;var d=e.renderer.$cursorLayer.getPixelPosition(s).left;C.style.left=d+e.renderer.gutterWidth-5+"px",g.el.className="error_widget_wrapper",y.className="error_widget "+p.className,y.innerHTML=p.text.join("<br>"),y.appendChild(f.createElement("div"));var a=function(w,E,F){if(0===E&&("esc"===F||"return"===F))return g.destroy(),{command:"null"}};g.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(a),i.widgetManager.removeLineWidget(g),e.off("changeSelection",g.destroy),e.off("changeSession",g.destroy),e.off("mouseup",g.destroy),e.off("change",g.destroy))},e.keyBinding.addKeyboardHandler(a),e.on("changeSelection",g.destroy),e.on("changeSession",g.destroy),e.on("mouseup",g.destroy),e.on("change",g.destroy),e.session.widgetManager.addLineWidget(g),g.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:g.el.offsetHeight})},f.importCssString("\t    .error_widget_wrapper {\t        background: inherit;\t        color: inherit;\t        border:none\t    }\t    .error_widget {\t        border-top: solid 2px;\t        border-bottom: solid 2px;\t        margin: 5px 0;\t        padding: 10px 40px;\t        white-space: pre-wrap;\t    }\t    .error_widget.ace_error, .error_widget_arrow.ace_error{\t        border-color: #ff5a5a\t    }\t    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\t        border-color: #F1D817\t    }\t    .error_widget.ace_info, .error_widget_arrow.ace_info{\t        border-color: #5a5a5a\t    }\t    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\t        border-color: #5aaa5a\t    }\t    .error_widget_arrow {\t        position: absolute;\t        border: solid 5px;\t        border-top-color: transparent!important;\t        border-right-color: transparent!important;\t        border-left-color: transparent!important;\t        top: -5px;\t    }\t","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(A,S,b){"use strict";A("./lib/fixoldbrowsers");var l=A("./lib/dom"),v=A("./lib/event"),h=A("./editor").Editor,f=A("./edit_session").EditSession,n=A("./undomanager").UndoManager,e=A("./virtual_renderer").VirtualRenderer;A("./worker/worker_client"),A("./keyboard/hash_handler"),A("./placeholder"),A("./multi_select"),A("./mode/folding/fold_mode"),A("./theme/textmate"),A("./ext/error_marker"),S.config=A("./config"),S.acequire=A,S.define=m(74),S.edit=function(t){if("string"==typeof t){var i=t;if(!(t=document.getElementById(i)))throw new Error("ace.edit can't find div #"+i)}if(t&&t.env&&t.env.editor instanceof h)return t.env.editor;var s="";if(t&&/input|textarea/i.test(t.tagName)){var c=t;s=c.value,t=l.createElement("pre"),c.parentNode.replaceChild(t,c)}else t&&(s=l.getInnerText(t),t.innerHTML="");var r=S.createEditSession(s),p=new h(new e(t));p.setSession(r);var o={document:r,editor:p,onResize:p.resize.bind(p,null)};return c&&(o.textarea=c),v.addListener(window,"resize",o.onResize),p.on("destroy",function(){v.removeListener(window,"resize",o.onResize),o.editor.container.env=null}),p.container.env=p.env=o,p},S.createEditSession=function(t,i){var s=new f(t,i);return s.setUndoManager(new n),s},S.EditSession=f,S.UndoManager=n,S.version="1.2.9"}),ace.acequire(["ace/ace"],function(A){for(var S in A&&(A.config.init(!0),A.define=ace.define),window.ace||(window.ace=A),A)A.hasOwnProperty(S)&&(window.ace[S]=A[S])}),U.exports=window.ace.acequire("ace/ace")},function(U,K){U.exports=function(){throw new Error("define cannot be used indirect")}},function(U,K,m){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(A,S,b){"use strict";var l=A("../lib/oop"),v=A("./text_highlight_rules").TextHighlightRules,h=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};l.inherits(h,v),S.JsonHighlightRules=h}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(A,S,b){"use strict";var l=A("../range").Range,v=function(){};(function(){this.checkOutdent=function(h,f){return!!/^\s+$/.test(h)&&/^\s*\}/.test(f)},this.autoOutdent=function(h,f){var e=h.getLine(f).match(/^(\s*\})/);if(!e)return 0;var t=e[1].length,i=h.findMatchingBracket({row:f,column:t});if(!i||i.row==f)return 0;var s=this.$getIndent(h.getLine(i.row));h.replace(new l(f,0,f,t-1),s)},this.$getIndent=function(h){return h.match(/^\s*/)[0]}}).call(v.prototype),S.MatchingBraceOutdent=v}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(A,S,b){"use strict";var l=A("../../lib/oop"),v=A("../../range").Range,h=A("./fold_mode").FoldMode,f=S.FoldMode=function(n){n&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+n.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+n.end)))};l.inherits(f,h),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(n,e,t){var i=n.getLine(t);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var s=this._getFoldWidgetBase(n,e,t);return!s&&this.startRegionRe.test(i)?"start":s},this.getFoldWidgetRange=function(n,e,t,i){var c,s=n.getLine(t);if(this.startRegionRe.test(s))return this.getCommentRegionBlock(n,s,t);if(c=s.match(this.foldingStartMarker)){var r=c.index;if(c[1])return this.openingBracketBlock(n,c[1],t,r);var p=n.getCommentFoldRange(t,r+c[0].length,1);return p&&!p.isMultiLine()&&(i?p=this.getSectionRange(n,t):"all"!=e&&(p=null)),p}return"markbegin"!==e&&(c=s.match(this.foldingStopMarker))?(r=c.index+c[0].length,c[1]?this.closingBracketBlock(n,c[1],t,r):n.getCommentFoldRange(t,r,-1)):void 0},this.getSectionRange=function(n,e){for(var t=n.getLine(e),i=t.search(/\S/),s=e,c=t.length,r=e+=1,p=n.getLength();++e<p;){var o=(t=n.getLine(e)).search(/\S/);if(-1!==o){if(i>o)break;var u=this.getFoldWidgetRange(n,"all",e);if(u){if(u.start.row<=s)break;if(u.isMultiLine())e=u.end.row;else if(i==o)break}r=e}}return new v(s,c,r,n.getLine(r).length)},this.getCommentRegionBlock=function(n,e,t){for(var i=e.search(/\s*$/),s=n.getLength(),c=t,r=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,p=1;++t<s;){e=n.getLine(t);var o=r.exec(e);if(o&&(o[1]?p--:p++,!p))break}if(t>c)return new v(c,i,t,e.length)}}.call(f.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(A,S,b){"use strict";var l=A("../lib/oop"),v=A("./text").Mode,h=A("./json_highlight_rules").JsonHighlightRules,f=A("./matching_brace_outdent").MatchingBraceOutdent,n=A("./behaviour/cstyle").CstyleBehaviour,e=A("./folding/cstyle").FoldMode,t=A("../worker/worker_client").WorkerClient,i=function(){this.HighlightRules=h,this.$outdent=new f,this.$behaviour=new n,this.foldingRules=new e};l.inherits(i,v),function(){this.getNextLineIndent=function(s,c,r){var p=this.$getIndent(c);return"start"==s&&c.match(/^.*[\{\(\[]\s*$/)&&(p+=r),p},this.checkOutdent=function(s,c,r){return this.$outdent.checkOutdent(c,r)},this.autoOutdent=function(s,c,r){this.$outdent.autoOutdent(c,r)},this.createWorker=function(s){var c=new t(["ace"],m(76),"JsonWorker");return c.attachToDocument(s.getDocument()),c.on("annotate",function(r){s.setAnnotations(r.data)}),c.on("terminate",function(){s.clearAnnotations()}),c},this.$id="ace/mode/json"}.call(i.prototype),S.Mode=i})},function(U,K){U.exports.id="ace/mode/json_worker",U.exports.src='"no use strict";!function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}}(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/json/json_parse",["require","exports","module"],function(){"use strict";var at,ch,text,value,escapee={\'"\':\'"\',"\\\\":"\\\\","/":"/",b:"\\b",f:"\\f",n:"\\n",r:"\\r",t:"\t"},error=function(m){throw{name:"SyntaxError",message:m,at:at,text:text}},next=function(c){return c&&c!==ch&&error("Expected \'"+c+"\' instead of \'"+ch+"\'"),ch=text.charAt(at),at+=1,ch},number=function(){var number,string="";for("-"===ch&&(string="-",next("-"));ch>="0"&&"9">=ch;)string+=ch,next();if("."===ch)for(string+=".";next()&&ch>="0"&&"9">=ch;)string+=ch;if("e"===ch||"E"===ch)for(string+=ch,next(),("-"===ch||"+"===ch)&&(string+=ch,next());ch>="0"&&"9">=ch;)string+=ch,next();return number=+string,isNaN(number)?(error("Bad number"),void 0):number},string=function(){var hex,i,uffff,string="";if(\'"\'===ch)for(;next();){if(\'"\'===ch)return next(),string;if("\\\\"===ch)if(next(),"u"===ch){for(uffff=0,i=0;4>i&&(hex=parseInt(next(),16),isFinite(hex));i+=1)uffff=16*uffff+hex;string+=String.fromCharCode(uffff)}else{if("string"!=typeof escapee[ch])break;string+=escapee[ch]}else string+=ch}error("Bad string")},white=function(){for(;ch&&" ">=ch;)next()},word=function(){switch(ch){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error("Unexpected \'"+ch+"\'")},array=function(){var array=[];if("["===ch){if(next("["),white(),"]"===ch)return next("]"),array;for(;ch;){if(array.push(value()),white(),"]"===ch)return next("]"),array;next(","),white()}}error("Bad array")},object=function(){var key,object={};if("{"===ch){if(next("{"),white(),"}"===ch)return next("}"),object;for(;ch;){if(key=string(),white(),next(":"),Object.hasOwnProperty.call(object,key)&&error(\'Duplicate key "\'+key+\'"\'),object[key]=value(),white(),"}"===ch)return next("}"),object;next(","),white()}}error("Bad object")};return value=function(){switch(white(),ch){case"{":return object();case"[":return array();case\'"\':return string();case"-":return number();default:return ch>="0"&&"9">=ch?number():word()}},function(source,reviver){var result;return text=source,at=0,ch=" ",result=value(),white(),ch&&error("Syntax error"),"function"==typeof reviver?function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}({"":result},""):result}}),ace.define("ace/mode/json_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/json/json_parse"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),Mirror=acequire("../worker/mirror").Mirror,parse=acequire("./json/json_parse"),JsonWorker=exports.JsonWorker=function(sender){Mirror.call(this,sender),this.setTimeout(200)};oop.inherits(JsonWorker,Mirror),function(){this.onUpdate=function(){var value=this.doc.getValue(),errors=[];try{value&&parse(value)}catch(e){var pos=this.doc.indexToPosition(e.at-1);errors.push({row:pos.row,column:pos.column,text:e.message,type:"error"})}this.sender.emit("annotate",errors)}}.call(JsonWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0\n}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'},function(U,K){ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],function(m,A,S){"use strict";var b=m("../lib/dom"),l=m("../lib/lang"),v=m("../lib/event"),h=m("../keyboard/hash_handler").HashHandler,f=m("../lib/keys");b.importCssString('\t.ace_search {\tbackground-color: #ddd;\tcolor: #666;\tborder: 1px solid #cbcbcb;\tborder-top: 0 none;\toverflow: hidden;\tmargin: 0;\tpadding: 4px 6px 0 4px;\tposition: absolute;\ttop: 0;\tz-index: 99;\twhite-space: normal;\t}\t.ace_search.left {\tborder-left: 0 none;\tborder-radius: 0px 0px 5px 0px;\tleft: 0;\t}\t.ace_search.right {\tborder-radius: 0px 0px 0px 5px;\tborder-right: 0 none;\tright: 0;\t}\t.ace_search_form, .ace_replace_form {\tmargin: 0 20px 4px 0;\toverflow: hidden;\tline-height: 1.9;\t}\t.ace_replace_form {\tmargin-right: 0;\t}\t.ace_search_form.ace_nomatch {\toutline: 1px solid red;\t}\t.ace_search_field {\tborder-radius: 3px 0 0 3px;\tbackground-color: white;\tcolor: black;\tborder: 1px solid #cbcbcb;\tborder-right: 0 none;\tbox-sizing: border-box!important;\toutline: 0;\tpadding: 0;\tfont-size: inherit;\tmargin: 0;\tline-height: inherit;\tpadding: 0 6px;\tmin-width: 17em;\tvertical-align: top;\t}\t.ace_searchbtn {\tborder: 1px solid #cbcbcb;\tline-height: inherit;\tdisplay: inline-block;\tpadding: 0 6px;\tbackground: #fff;\tborder-right: 0 none;\tborder-left: 1px solid #dcdcdc;\tcursor: pointer;\tmargin: 0;\tposition: relative;\tbox-sizing: content-box!important;\tcolor: #666;\t}\t.ace_searchbtn:last-child {\tborder-radius: 0 3px 3px 0;\tborder-right: 1px solid #cbcbcb;\t}\t.ace_searchbtn:disabled {\tbackground: none;\tcursor: default;\t}\t.ace_searchbtn:hover {\tbackground-color: #eef1f6;\t}\t.ace_searchbtn.prev, .ace_searchbtn.next {\tpadding: 0px 0.7em\t}\t.ace_searchbtn.prev:after, .ace_searchbtn.next:after {\tcontent: "";\tborder: solid 2px #888;\twidth: 0.5em;\theight: 0.5em;\tborder-width:  2px 0 0 2px;\tdisplay:inline-block;\ttransform: rotate(-45deg);\t}\t.ace_searchbtn.next:after {\tborder-width: 0 2px 2px 0 ;\t}\t.ace_searchbtn_close {\tbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;\tborder-radius: 50%;\tborder: 0 none;\tcolor: #656565;\tcursor: pointer;\tfont: 16px/16px Arial;\tpadding: 0;\theight: 14px;\twidth: 14px;\ttop: 9px;\tright: 7px;\tposition: absolute;\t}\t.ace_searchbtn_close:hover {\tbackground-color: #656565;\tbackground-position: 50% 100%;\tcolor: white;\t}\t.ace_button {\tmargin-left: 2px;\tcursor: pointer;\t-webkit-user-select: none;\t-moz-user-select: none;\t-o-user-select: none;\t-ms-user-select: none;\tuser-select: none;\toverflow: hidden;\topacity: 0.7;\tborder: 1px solid rgba(100,100,100,0.23);\tpadding: 1px;\tbox-sizing:    border-box!important;\tcolor: black;\t}\t.ace_button:hover {\tbackground-color: #eee;\topacity:1;\t}\t.ace_button:active {\tbackground-color: #ddd;\t}\t.ace_button.checked {\tborder-color: #3399ff;\topacity:1;\t}\t.ace_search_options{\tmargin-bottom: 3px;\ttext-align: right;\t-webkit-user-select: none;\t-moz-user-select: none;\t-o-user-select: none;\t-ms-user-select: none;\tuser-select: none;\tclear: both;\t}\t.ace_search_counter {\tfloat: left;\tfont-family: arial;\tpadding: 0 8px;\t}',"ace_searchbox");var n='<div class="ace_search right">\t    <span action="hide" class="ace_searchbtn_close"></span>\t    <div class="ace_search_form">\t        <input class="ace_search_field" placeholder="Search for" spellcheck="false"></input>\t        <span action="findPrev" class="ace_searchbtn prev"></span>\t        <span action="findNext" class="ace_searchbtn next"></span>\t        <span action="findAll" class="ace_searchbtn" title="Alt-Enter">All</span>\t    </div>\t    <div class="ace_replace_form">\t        <input class="ace_search_field" placeholder="Replace with" spellcheck="false"></input>\t        <span action="replaceAndFindNext" class="ace_searchbtn">Replace</span>\t        <span action="replaceAll" class="ace_searchbtn">All</span>\t    </div>\t    <div class="ace_search_options">\t        <span action="toggleReplace" class="ace_button" title="Toggel Replace mode"\t            style="float:left;margin-top:-2px;padding:0 5px;">+</span>\t        <span class="ace_search_counter"></span>\t        <span action="toggleRegexpMode" class="ace_button" title="RegExp Search">.*</span>\t        <span action="toggleCaseSensitive" class="ace_button" title="CaseSensitive Search">Aa</span>\t        <span action="toggleWholeWords" class="ace_button" title="Whole Word Search">\\b</span>\t        <span action="searchInSelection" class="ace_button" title="Search In Selection">S</span>\t    </div>\t</div>'.replace(/> +/g,">"),e=function(t,i,s){var c=b.createElement("div");c.innerHTML=n,this.element=c.firstChild,this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(t)};(function(){this.setEditor=function(t){t.searchBox=this,t.renderer.scroller.appendChild(this.element),this.editor=t},this.setSession=function(t){this.searchRange=null,this.$syncOptions(!0)},this.$initElements=function(t){this.searchBox=t.querySelector(".ace_search_form"),this.replaceBox=t.querySelector(".ace_replace_form"),this.searchOption=t.querySelector("[action=searchInSelection]"),this.replaceOption=t.querySelector("[action=toggleReplace]"),this.regExpOption=t.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=t.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=t.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=t.querySelector(".ace_search_counter")},this.$init=function(){var t=this.element;this.$initElements(t);var i=this;v.addListener(t,"mousedown",function(s){setTimeout(function(){i.activeInput.focus()},0),v.stopPropagation(s)}),v.addListener(t,"click",function(s){var r=(s.target||s.srcElement).getAttribute("action");r&&i[r]?i[r]():i.$searchBarKb.commands[r]&&i.$searchBarKb.commands[r].exec(i),v.stopPropagation(s)}),v.addCommandKeyListener(t,function(s,c,r){var p=f.keyCodeToString(r),o=i.$searchBarKb.findKeyCommand(c,p);o&&o.exec&&(o.exec(i),v.stopEvent(s))}),this.$onChange=l.delayedCall(function(){i.find(!1,!1)}),v.addListener(this.searchInput,"input",function(){i.$onChange.schedule(20)}),v.addListener(this.searchInput,"focus",function(){i.activeInput=i.searchInput,i.searchInput.value&&i.highlight()}),v.addListener(this.replaceInput,"focus",function(){i.activeInput=i.replaceInput,i.searchInput.value&&i.highlight()})},this.$closeSearchBarKb=new h([{bindKey:"Esc",name:"closeSearchBar",exec:function(t){t.searchBox.hide()}}]),this.$searchBarKb=new h,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(t){var i=t.isReplace=!t.isReplace;t.replaceBox.style.display=i?"":"none",t.replaceOption.checked=!1,t.$syncOptions(),t.searchInput.focus()},"Ctrl-H|Command-Option-F":function(t){t.replaceOption.checked=!0,t.$syncOptions(),t.replaceInput.focus()},"Ctrl-G|Command-G":function(t){t.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(t){t.findPrev()},esc:function(t){setTimeout(function(){t.hide()})},Return:function(t){t.activeInput==t.replaceInput&&t.replace(),t.findNext()},"Shift-Return":function(t){t.activeInput==t.replaceInput&&t.replace(),t.findPrev()},"Alt-Return":function(t){t.activeInput==t.replaceInput&&t.replaceAll(),t.findAll()},Tab:function(t){(t.activeInput==t.replaceInput?t.searchInput:t.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(t){t.regExpOption.checked=!t.regExpOption.checked,t.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(t){t.caseSensitiveOption.checked=!t.caseSensitiveOption.checked,t.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(t){t.wholeWordOption.checked=!t.wholeWordOption.checked,t.$syncOptions()}},{name:"toggleReplace",exec:function(t){t.replaceOption.checked=!t.replaceOption.checked,t.$syncOptions()}},{name:"searchInSelection",exec:function(t){t.searchOption.checked=!t.searchRange,t.setSearchRange(t.searchOption.checked&&t.editor.getSelectionRange()),t.$syncOptions()}}]),this.setSearchRange=function(t){this.searchRange=t,t?this.searchRangeMarker=this.editor.session.addMarker(t,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},this.$syncOptions=function(t){b.setCssClass(this.replaceOption,"checked",this.searchRange),b.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",b.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),b.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),b.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked),this.replaceBox.style.display=this.replaceOption.checked?"":"none",this.find(!1,!1,t)},this.highlight=function(t){this.editor.session.highlight(t||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(t,i,s){var r=!this.editor.find(this.searchInput.value,{skipCurrent:t,backwards:i,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:s,range:this.searchRange})&&this.searchInput.value;b.setCssClass(this.searchBox,"ace_nomatch",r),this.editor._emit("findSearchBox",{match:!r}),this.highlight(),this.updateCounter()},this.updateCounter=function(){var t=this.editor,i=t.$search.$options.re,s=0,c=0;if(i){var r=this.searchRange?t.session.getTextRange(this.searchRange):t.getValue(),p=t.session.doc.positionToIndex(t.selection.anchor);this.searchRange&&(p-=t.session.doc.positionToIndex(this.searchRange.start));for(var o,u=i.lastIndex=0;(o=i.exec(r))&&(s++,(u=o.index)<=p&&c++,!(s>999))&&(o[0]||(i.lastIndex=u+=1,!(u>=r.length))););}this.searchCounter.textContent=c+" of "+(s>999?"999+":s)},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.findAll=function(){var i=!this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked})&&this.searchInput.value;b.setCssClass(this.searchBox,"ace_nomatch",i),this.editor._emit("findSearchBox",{match:!i}),this.highlight(),this.hide()},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},this.show=function(t,i){this.active=!0,this.editor.on("changeSession",this.setSession),this.element.style.display="",this.replaceOption.checked=i,t&&(this.searchInput.value=t),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},this.isFocused=function(){var t=document.activeElement;return t==this.searchInput||t==this.replaceInput}}).call(e.prototype),A.SearchBox=e,A.Search=function(t,i){(t.searchBox||new e(t)).show(t.session.getTextRange(),i)}}),ace.acequire(["ace/ext/searchbox"],function(){})},function(U,K){ace.define("ace/theme/jsoneditor",["require","exports","module","ace/lib/dom"],function(m,A,S){A.isDark=!1,A.cssClass="ace-jsoneditor",A.cssText='.ace-jsoneditor .ace_gutter {\tbackground: #ebebeb;\tcolor: #333\t}\t\t.ace-jsoneditor.ace_editor {\tfont-family: "dejavu sans mono", "droid sans mono", consolas, monaco, "lucida console", "courier new", courier, monospace, sans-serif;\tline-height: 1.3;\tbackground-color: #fff;\t}\t.ace-jsoneditor .ace_print-margin {\twidth: 1px;\tbackground: #e8e8e8\t}\t.ace-jsoneditor .ace_scroller {\tbackground-color: #FFFFFF\t}\t.ace-jsoneditor .ace_text-layer {\tcolor: gray\t}\t.ace-jsoneditor .ace_variable {\tcolor: #1a1a1a\t}\t.ace-jsoneditor .ace_cursor {\tborder-left: 2px solid #000000\t}\t.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {\tborder-left: 0px;\tborder-bottom: 1px solid #000000\t}\t.ace-jsoneditor .ace_marker-layer .ace_selection {\tbackground: lightgray\t}\t.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {\tbox-shadow: 0 0 3px 0px #FFFFFF;\tborder-radius: 2px\t}\t.ace-jsoneditor .ace_marker-layer .ace_step {\tbackground: rgb(255, 255, 0)\t}\t.ace-jsoneditor .ace_marker-layer .ace_bracket {\tmargin: -1px 0 0 -1px;\tborder: 1px solid #BFBFBF\t}\t.ace-jsoneditor .ace_marker-layer .ace_active-line {\tbackground: #FFFBD1\t}\t.ace-jsoneditor .ace_gutter-active-line {\tbackground-color : #dcdcdc\t}\t.ace-jsoneditor .ace_marker-layer .ace_selected-word {\tborder: 1px solid lightgray\t}\t.ace-jsoneditor .ace_invisible {\tcolor: #BFBFBF\t}\t.ace-jsoneditor .ace_keyword,\t.ace-jsoneditor .ace_meta,\t.ace-jsoneditor .ace_support.ace_constant.ace_property-value {\tcolor: #AF956F\t}\t.ace-jsoneditor .ace_keyword.ace_operator {\tcolor: #484848\t}\t.ace-jsoneditor .ace_keyword.ace_other.ace_unit {\tcolor: #96DC5F\t}\t.ace-jsoneditor .ace_constant.ace_language {\tcolor: darkorange\t}\t.ace-jsoneditor .ace_constant.ace_numeric {\tcolor: red\t}\t.ace-jsoneditor .ace_constant.ace_character.ace_entity {\tcolor: #BF78CC\t}\t.ace-jsoneditor .ace_invalid {\tcolor: #FFFFFF;\tbackground-color: #FF002A;\t}\t.ace-jsoneditor .ace_fold {\tbackground-color: #AF956F;\tborder-color: #000000\t}\t.ace-jsoneditor .ace_storage,\t.ace-jsoneditor .ace_support.ace_class,\t.ace-jsoneditor .ace_support.ace_function,\t.ace-jsoneditor .ace_support.ace_other,\t.ace-jsoneditor .ace_support.ace_type {\tcolor: #C52727\t}\t.ace-jsoneditor .ace_string {\tcolor: green\t}\t.ace-jsoneditor .ace_comment {\tcolor: #BCC8BA\t}\t.ace-jsoneditor .ace_entity.ace_name.ace_tag,\t.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {\tcolor: #606060\t}\t.ace-jsoneditor .ace_markup.ace_underline {\ttext-decoration: underline\t}\t.ace-jsoneditor .ace_indent-guide {\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y\t}',m("../lib/dom").importCssString(A.cssText,A.cssClass)})}])});